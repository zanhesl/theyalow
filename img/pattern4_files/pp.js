(function(){function MX(){this.uK={};this.Oi={}}MX.fB=[];MX.UL=function(S){var G=MX.fB;if(G.length!=0){var j=new L(E.E.sF);
for(var z=0;z<G.length;z++)G[z].D(j)}window.requestAnimationFrame(MX.UL)};window.requestAnimationFrame(MX.UL);
MX.prototype.UF=function(S){var G=this.uK[S];if(G==null)return!1;return G.length>0};MX.prototype.addEventListener=function(S,G){this.n(S,G,null)};
MX.prototype.n=function(S,G,j){if(this.uK[S]==null){this.uK[S]=[];this.Oi[S]=[]}this.uK[S].push(G);this.Oi[S].push(j);
if(S==E.E.sF){var z=MX.fB;if(z.indexOf(this)==-1)z.push(this)}};MX.prototype.removeEventListener=function(S,G){var j=this.uK[S];
if(j==null)return;var z=j.indexOf(G);if(z<0)return;var O=this.Oi[S];j.splice(z,1);O.splice(z,1);if(S==E.E.sF&&j.length==0){var i=MX.fB;
i.splice(i.indexOf(this),1)}};MX.prototype.D=function(S){S.currentTarget=this;if(S.target==null)S.target=this;
var G=this.uK[S.type];if(G==null)return;var j=this.Oi[S.type];for(var z=0;z<G.length;z++){if(j[z]==null)G[z](S);
else G[z].call(j[z],S)}};function YH(){MX.call(this);this.JB={};this.uR={};this.fPQ={};YH.FO=this}YH.prototype=new MX;
YH.fmQ=function(S,G){var j=0,z=YH.Dl;while(j<z.length){if((G>>>j&1)==1)break;j++}if(G==0||z[j][1]==""){if((G&15)!=0&&YH.xM(S,[33,126])>.7)j=0;
else if(G==0)j=0;else{j=0}}return z[j][1]};YH.fD=120;YH.iF=20;YH.cols=16;YH.XA=function(S){var G=S.name.postScriptName;
if(G==null)return null;return G.replace(/ /g,"-")};YH.Ut=function(S){var G=S.name,j=G.typoFamilyName?G.typoFamilyName:G.fontFamily,z=G.typoSubfamilyName?G.typoSubfamilyName:G.fontSubfamily,O=YH.fTX,i=j.toLowerCase();
for(var C=0;C<O.length;C++){if(O[C]=="roman")continue;if(i.endsWith(" "+O[C])||i.endsWith("-"+O[C])){var M=j.length-O[C].length,D=j.slice(M);
j=j.slice(0,M-1);if(D!=""){if(z=="Regular"||z==j+" Regular")z=D;else z=D+" "+z}break}}var X="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var C=0;C<X.length;C++)if(j.startsWith(X[C])){var D=j.slice(X[C].length);j=X[C];if(D.startsWith(" ")||D.startsWith("-"))D=D.slice(1);
if(D!=""){if(z=="Regular")z=D;else z=D+" "+z}break}var l={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},f=l[YH.XA(S)];
if(f)z=f;return[j,z]};YH.prototype.dP=function(S,G){if(this.JB[S])return this.JB[S];if(this.uR[S])return null;
var j=null,z=this.Xe();if(z[S]!=null)j=z[S][5];if(j==null){var O=YH.fQP[S];if(O==null){var i="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),C=S.toLowerCase(),M=0;
if(C.indexOf("sans")!=-1)M=0;else if(C.indexOf("serif")!=-1)M=4;var D=C.indexOf("bold")!=-1||C.indexOf("-black")!=-1,X=C.indexOf("italic")!=-1||C.indexOf("oblique")!=-1||C.endsWith("-it");
if(D&&X)M+=3;else if(X)M+=2;else if(D)M+=1;O=i[M]}if(G!=null&&G>128)O=this.xX(G,O);if(this.fPQ[O]==null)alert(YP.get([22,6,0])+" "+S+" "+YP.get([22,6,1])+". "+YP.get([22,6,2])+" "+O+".");
this.fPQ[O]=!0;return this.dP(O,G)}this.uR[S]="a";var l=new L(E.E.e,!0);l.data={r:E.a.mH,zC:{url:"rsrc/fonts/"+j}};
this.D(l)};YH.prototype.xX=function(S,G,j){var z=this.Xe(),O=YH.fml(S),i=O[0];if(z[G]&&(z[G][3]&i)==0){if(j)for(var C=0;
C<j.length;C++){var M=j[C].Name,D=z[M];if(D&&(D[3]&i)!=0)return M}var M=YH.Dl[O[1]][4];if(z[M])return M}return G};
YH.fml=function(S){var G=YH.Dl,j=[0];for(var z=0;z<G.length;z++){var O=G[z][2];for(var i=0;i<O.length;
i+=2)if(O[i]<=S&&S<=O[i+1]){j[0]+=1<<z;j.push(z)}}if(j.length==1)j.push(0);return j};YH.prototype.fQY=function(S,G){if(G!=!0)alert(YP.get([22,6,0])+" "+S.name.fullName+" "+YP.get([23,0])+".");
var j=YH.XA(S),z=this.Xe(),O=z[j],i=YH.fQC(S);if(O==null){var C=document.createElement("canvas"),M=C.getContext("2d");
C.width=YH.fD;C.height=YH.iF;var D=YH.iF*1.2/S.head.unitsPerEm;M.translate(4,YH.iF*.9);M.scale(D,-D);
M.fillStyle="#000000";var X=Typr.U.shape(S,YH.fmQ(S,i[3]),!0);Typr.U.pathToContext(Typr.U.shapeToPath(S,X),M);
M.fill();i.fWr=C.toDataURL();this.xo(i)}delete this.uR[j];this.JB[j]=S};YH.foD=function(){var S=YH.Dl,G=[];
for(var j=0;j<S.length;j++)G.push(S[j][0]);return G};YH.Dl=[["Latin-1","Preview",[160,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
YH.fQC=function(S,G,j){var z=S.name,X=0;if(YH.XA(S)==null){console.log(S);throw"No postScriptName!"}var O=YH.Dl,i=[];
for(var C=0;C<O.length;C++){var M=O[C][2],D=O[C][3];i[C]=YH.xM(S,M)>D?1:0}for(var C=0;C<i.length;C++)X+=i[C]<<C;
var l=YH.Ut(S);return[l[0],l[1],YH.XA(S),X,j,G]};YH.xM=function(S,G){var j=0,z=0;for(var O=0;O<G.length;
O+=2){for(var i=G[O];i<=G[O+1];i++){var C=Typr.U.codeToGlyph(S,i);if(C==0)z++;else j++}}return j/(j+z)};
YH.foq=function(S,G){if(S[2]<G[2])return-1;if(S[2]>G[2])return 1;return 0};YH.foh=function(S,G){if(S[5]=="fs/"+S[2]+".otf")S[5]="";
else if(S[5]=="gf/"+S[2]+".otf")S[5]="a";if(S[2]==(S[0]+"-"+S[1]).replace(/\s/g,"")){S[2]=""}else if(S[2]==S[0].replace(/\s/g,"")){S[2]="a"}if(G){if(S[0]==G[0])S[0]="";
if(S[1]==G[1])S[1]="";if(S[3]==G[3])S[3]="";if(S[4]==G[4])S[4]=""}return S.join(",")};YH.fQS=function(S,G){S=S.split(",");
if(S[0]=="")S[0]=G[0];if(S[1]=="")S[1]=G[1];if(S[3]=="")S[3]=G[3];else S[3]=parseInt(S[3]);if(S[4]=="")S[4]=G[4];
else S[4]=parseInt(S[4]);if(S[2]=="")S[2]=(S[0]+"-"+S[1]).replace(/\s/g,"");else if(S[2]=="a")S[2]=S[0].replace(/\s/g,"");
if(S[5]=="")S[5]="fs/"+S[2]+".otf";else if(S[5]=="a")S[5]="gf/"+S[2]+".otf";return S};YH.fQP={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
YH.prototype.Xe=function(){if(FNTS.map==null){var S=FNTS.list,G=[];for(var j=0;j<S.length;j++){G[j]=YH.fQS(S[j],G[j-1]);
G[j].Qf=j;this.xo(G[j])}}return FNTS.map};YH.prototype.xo=function(S){var G=S[0],j=S[1],z=S[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[S[2]]=S;if(FNTS.mapFS==null)FNTS.mapFS={};var O=FNTS.mapFS[G+"---"+j];FNTS.mapFS[G+"---"+j]=S;
if(FNTS.mapSub==null)FNTS.mapSub={};var i=FNTS.mapSub[G];if(i==null)i=FNTS.mapSub[G]=[];var C=i.indexOf(j);
if(C==-1)i.push(j);else i[C]=j};YH.fQz=function(S,G){return YH.dQ(S)-YH.dQ(G)};YH.dQ=function(S){S=S.toLowerCase();
var G=YH.fQx(S)+(YH.fTn(S)<<1);if(S.indexOf("cond")==-1)G+=1<<25;return G};YH.fQx=function(S){return S.indexOf("italic")!=-1||S.indexOf("oblique")!=-1?1:0};
YH.fTX="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
YH.fTu=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
YH.fTn=function(S){var G=YH.fTu,j=-1,z=-1;for(var O=0;O<G.length;O++){var i=G[O];if(i instanceof Array)for(var C=0;
C<i.length;C++){var M=i[C];if(S.indexOf(M)!=-1&&(j==-1||z<M.length)){j=O;z=M.length}}else if(S.indexOf(i)!=-1&&(j==-1||z<i.length)){j=O;
z=i.length}}if(j==-1)j=8;return j};YH.xC=function(S,G){var j=1e9,z=null,O=YH.dQ(G);for(var i=0;i<S.length;
i++){var C=Math.abs(YH.dQ(S[i])-O);if(C<j){j=C;z=S[i]}}return z};YH.prototype.fj=function(S,G){this.Xe();
return FNTS.mapFS[S+"---"+G]};YH.prototype.xS=function(S){this.Xe();return FNTS.mapSub[S]};YH.prototype.fTy=function(){this.Xe();
return FNTS.mapSub};var YW={rg:0,Xi:null,DI:null,xP:null,xv:null,fq:null,xa:!0,xW:0,fe:!1},Cf=0;YW.de=function(){return YW.dL()!=null&&YW.dL()[E.l$("!&|'&50")]*200>Date.now()/5};
YW.rt=function(){return YW.fZH()!=null};YW.dL=function(){return YW.fq};YW.Yk=function(S){window.addEventListener("message",YW.fZu,!1);
setInterval(YW.xs,5e3);if(YW.rt()){YW.Xi=S;YW.dw()}else setTimeout(S,1)};YW.xs=function(){if(YW.rt()&&YW.fe){YW.xm(YW.XM());
YW.fe=!1}};YW.fL=function(S){YW.Xi=S;var G="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
YW.xP=window.open(G,"_blank")};YW.fTL=function(){localStorage.removeItem(YW.rg+"_uid");localStorage.removeItem(YW.rg+"_provider");
localStorage.removeItem(YW.rg+"_token");YW.fq=null};YW.fZu=function(S){if(S.data instanceof ArrayBuffer||S.data instanceof Object)return;
if(S.data.charAt(0)!="{")return;var G=JSON.parse(S.data);if(G.prms==null)return;var j=G.prms.split(",");
if(j[0]=="papi_logged_in"){localStorage[YW.rg+"_uid"]=j[1];YW.dZ(j[2]);localStorage[YW.rg+"_provider"]=j[3];
YW.xP.close();YW.dw()}if(j[0]=="payment_complete"){YW.xv.close();YW.dw()}};YW.fZH=function(){var S=localStorage[YW.rg+"_token"];
if(S!=null&&Date.now()*.001+10<parseInt(S.split("-")[0]))return S;return null};YW.dZ=function(S){var G=localStorage[YW.rg+"_token"];
if(G!=null&&parseInt(S.split("-")[0])<parseInt(G.split("-")[0]))return;localStorage[YW.rg+"_token"]=S;
clearTimeout(YW.xW);YW.xW=setTimeout(YW.fZF,Math.min(1e9,parseInt(S.split("-")[0])*1e3-Date.now()-20*1e3))};
YW.fZF=function(){var S=new XMLHttpRequest;S.open("POST","https://www.photopea.com/papi/record_new.php",!0);
S.onload=YW.fuu;var G=YW.ft()+"&read=2";S.setRequestHeader("Content-type","application/x-www-form-urlencoded");
S.send(G)};YW.dw=function(){var S=new XMLHttpRequest;S.open("POST","https://www.photopea.com/papi/record_new.php",!0);
S.onload=YW.fuC;var G=YW.ft()+"&read=1";S.setRequestHeader("Content-type","application/x-www-form-urlencoded");
S.send(G)};YW.xm=function(S){var G=new XMLHttpRequest;G.open("POST","https://www.photopea.com/papi/record_new.php",!0);
G.onload=YW.fu$;var j=YW.ft()+"&read=0&score=0&spublic="+YW.xa+"&record="+encodeURIComponent(JSON.stringify(S));
G.setRequestHeader("Content-type","application/x-www-form-urlencoded");G.send(j)};YW.fuC=function(S){var G=JSON.parse(S.target.response);
if(G.error){}else{YW.fq=G.user;var j=YW.XM(),z=G.record;if(G.record){YW.xa=G.spublic;YW.xZ(z)}else if(j)YW.xm(j)}YW.dZ(G.token);
if(YW.Xi){YW.Xi();YW.Xi=null}if(YW.DI){YW.DI();YW.DI=null}};YW.fuu=function(S){var G=JSON.parse(S.target.response);
YW.dZ(G.token)};YW.fu$=function(S){var G=JSON.parse(S.target.response);YW.dZ(G.token);if(YW.DI)YW.dw()};
YW.ft=function(){return"app="+YW.rg+"&uid="+localStorage[YW.rg+"_uid"]+"&token="+localStorage[YW.rg+"_token"]};
YW.X$=function(){return YW.XM()};YW.XX=function(S,G){YW.xZ(S);YW.fe=!0;if(G){YW.DI=G;YW.xs()}};YW.XM=function(){var S=localStorage[YW.rg+"_stateLocal"],G;
if(S==null)return null;try{G=JSON.parse(S)}catch(fI){return null}return G};YW.xZ=function(S){var G=JSON.stringify(S);
localStorage[YW.rg+"_stateLocal"]=G};YW.order=function(S,G,j){YW.Xi=j;var z="https://www.photopea.com/papi/order.php?ptype="+G+"&param="+S+"&uid="+localStorage[YW.rg+"_uid"]+"&token="+localStorage[YW.rg+"_token"];
YW.xv=window.open(z,"_blank")};var YP={};YP.dd=0;YP.XY={};YP.xw=function(S){var G=LNG.tables,j=G[S];
if(typeof j=="string"){j=G[S]=YP.Wl(j)}return j};YP.Wl=function(S){var G=[],j=0,z=0,O=[],i=S.length;
while(z!=i){var C=S[z];if(C=="["){G.push(O);O=[];z=j=z+1}else if(C=="]"){O.push(j==z?null:S.substring(j,z));
var M=O;O=G.pop();O.push(M);z=j=z+1}else if(C==";"){if(S[z-1]!="]")O.push(j==z?null:S.substring(j,z));
z=j=z+1}else z++}return O};YP.get=function(S){if(typeof S=="string")return S;var G=JSON.stringify(S),i=0;
if(YP.XY[G]!=null)return YP.XY[G];var j=YP.xw(0),z=YP.xw(YP.dd),O=YP.xd(S,z);if(O==null)O=YP.xd(S,j);
for(var C=0;C<S.length;C++){var M=S[C];if(typeof M!="number"){var D=YP.get(M),X=O.indexOf("VAR"+i);O=O.slice(0,X)+D+O.slice(X+4);
i++}}return O};YP.xd=function(S,G){for(var j=0;j<S.length;j++){G=G[S[j]];if(G==null)return null;else if(typeof G=="string")break}return G.split("::")[0]};
YP.fwv=function(){var S=function(j,z){var O=j.code,i=z.code;if(O=="en")return-1;if(i=="en")return 1;
var C=navigator.languages,M=C.indexOf(O)!=-1,D=C.indexOf(i)!=-1;if(M&&D)return O>i?1:-1;if(M)return-1;
if(D)return 1;return O>i?1:-1},G=LNG.langs.slice(0);G.sort(S);return G};YP.fwV=function(S){YP.dd=S};
YP.XC=function(S){for(var G=0;G<LNG.langs.length;G++)if(LNG.langs[G].code==S)YP.dd=G};YP.xl=function(){return LNG.langs[YP.dd].code};
YP.fwb=function(S){for(var G=0;G<S.length;G+=2)YP.XY[JSON.stringify(S[G])]=S[G+1]};YP.xI=function(S){var G=-1,j=LNG.langs;
for(var z=0;z<j.length;z++)if(j[z].code==S)G=z;return G};var oq={Di:!1};oq.dB=function(){return E.JO[E.Ai("vrt",2)]!=E.JO[E.Ai("xksn",5)]};
oq.xk=function(){var S=E.l$,G=E.JO[S("u#z/*%1:")],j=G[S("s#{3")],z=S("t&|{1%h2.94@I"),O=S("xy+_)%0+7@qK~<"),i=S("r$'\x7F+$f.283"),C=S("#y$)3%f.283"),M=0,D=S("$y+[145/+AC7"),X=S("rx*\x7F+3("),l=E.DO("Y_5UDDB>&\x7F");
if(E.JO[l]!=!0){M=1}var f=G[z](S("u}-"));f[D](S("zx"),X);f[D](S("$(0&\""),S("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
j[i](f);f=G[O](X);if(f==null){M=2}else{if(!j[S("t#%.~)19")](f)){M=3}else if(Math.round(f[S("xy+\\,51*2:6uAA@LU6LMa")]()[S("(}{.%")]-500)>5){M=4}j[C](f)}return M};
oq.fdQ=function(){var S=E.JO[E.l$("t#% &20")],G=E.JO[E.l$("$y+n&-(5>@")],j="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\";
S(E.DO(j));if(!YW.de())G(oq.fdQ,Math.round(Math.PI*1e4))};oq.fdn=function(S,G,j,z,O){E.Vk(j);var i=E.l$,C=i("r$'\x7F+$f.283"),M=i("$y+[145/+AC7"),D=i("rx{_3%1:u5BF:F@P"),X=i("#y'&~#("),l=i("$(0&\""),f=i("$&z"),F=i("r'0( "),$=i("%y/.`/1:.:C"),_=i("u}-"),P=E.JO[i("u#z/*%1:")],k=i("t&|{1%h2.94@I"),H=i("$w)#-4"),q=P[k](i("z!~")),R="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN";
q[M](l,i("t))-,2]685=F:Jv"));q[D](i("t  }("),z,!1);if(!oq.dB()&&!oq.xk()){var I=E.JO[i("[gfh")][i("!u)-\"")](E.fXi(R)),m=!1;
if(!oq.Di){oq.Di=!0;var b=P[i("xy+_)%0+7@BtN,<E/ETO")](i("yyx~"))[0],Y=P[k](H);Y[M](f,I[1]);b[C](Y);
var Y=P[k](H);Y[M](F,F);Y[M](f,I[2]);b[C](Y);var Y=P[k](H);Y[$]=I[3];b[C](Y)}var h=I[0],e=[h[O]],s=h[5];
if(O==2){e=[h[3],h[4]];if(G>=3*260+20)e=[h[3],h[4],h[5]];if(G>=4*260+20)e=[h[3],h[4],h[5],h[6]]}for(var y=0;
y<e.length;y++){var T=e[y],K=P[k](_);K[M](i("zx"),T[1]);K[M](l,i("~u)!&.P(8@CABrlnQ\\"));j[C](K);var Y=P[k](H);
Y[$]=T[0];K[C](Y)}if(O!=0){var B=P[k](_);B[M](l,i("~u)!&.]]9DOb"));B[M](i("zx"),i("$$&(0/59"));j[C](B)}if(m){var K=P[k](_);
K[M](i("zx"),s[1]);K[M](l,i("yy !%4]_Y<Gm"));var Y=P[k](H);Y[$]=s[0];return[K,Y,C]}}else{q[M](f,i("z!~I-0\":*8;`EFB"));
j[C](q)}};var Xd={cM:0,dR:{expires_at:0},XS:[]};Xd.di=function(S){if(S)Xd.XS.splice(0,0,S);if(Xd.cM==1)return;
if(Xd.dR.expires_at>Date.now()*.001+30){while(Xd.XS.length>0)Xd.XS.pop()()}else{if(Xd.cM==0)Xd.cM=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:Xd.cM==2?!1:!0},Xd.fdB)}};
Xd.fdB=function(S){if(S&&!S.error){Xd.dR=S;Xd.cM=!1;Xd.di()}else if(Xd.cM==1){Xd.cM=2;Xd.di()}else alert("Error: "+S.error)};
Xd.xi=function(){return"access_token="+Xd.dR.access_token+"&token_type="+Xd.dR.token_type};function ot(){}ot.xb={fdj:["PNG","JPG","SVG","GIF","PDF"],fdq:"EMF WEBP BMP PPM TIFF ICO DDS".split(" ")};
ot.AM=function(S){if(!(S instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var G=new Uint8Array(S),j=ot.fdh,z,O=0;
while(O<G.length&&(G[O]==9||G[O]==10||G[O]==13||G[O]==32))O++;if(j(G,[56,66,80,83]))z="psd";if(j(G,[120,218,236]))z="pxd";
if(j(G,[103,105,109,112,32,120,99,102,32]))z="xcf";if(j(G,[137,80,78,71,13,10,26,10]))z="png";if(j(G,[87,76]))z="cdr";
if(j(G,[82,73,70,70])){var i=Mw.wD(G),C=i.iX;if(C=="WEBP")z="webp";else if(C.slice(0,3)=="CDR")z="cdr";
else z=C}if(j(G,[70,79,82,77])||j(G,[76,73,83,84])||j(G,[67,65,84,32])){var i=Xf.wD(G),C=i.iX;if(C=="ILBM")z="ilbm";
else z=C}if(j(G,[255,216,255]))z="jpg";if(j(G,[0,0,0,12,106,80,32,32]))z="jpg";if(j(G,[48,0,1,0],4))z="jpg";
if(j(G,[71,73,70,56]))z="gif";if(j(G,[0,0,0,2,121,102,113,76]))z="msh";if(j(G,[0,0,0,3,121,102,113,76]))z="msh";
if(j(G,[0,0,0,16]))z="atn";if(j(G,[0,1]))z="aco";if(j(G,[0,2]))z="aco";if([0,1].indexOf(G[1])!=-1&&[1,2,3,9,10,11].indexOf(G[2])!=-1&&[0,16,24,32].indexOf(G[7])!=-1)z="tga";
if(j(G,[0,2,56,66,83,76]))z="asl";if(j(G,[0,2,0,-1,0,2,0]))z="abr";if(j(G,[0,6,0,1]))z="abr";if(j(G,[0,6,0,2]))z="abr";
if(j(G,[0,9,0,2]))z="abr";if(j(G,[0,10,0,2]))z="abr";if(j(G,[56,66,70,83]))z="shc";if(j(G,[56,66,80,84]))z="pat";
if(j(G,[56,66,71,82]))z="grd";if(j(G,[56,66,84,80]))z="tpl";if(j(G,[0,4,0,5]))z="acv";if(j(G,[99,117,115,104]))z="csh";
if(j(G,[0,1,0,0,0]))z="otf";if(j(G,[79,84,84,79]))z="otf";if(j(G,[116,116,99,102]))z="otf";if(j(G,[68,68,83,32]))z="dds";
if(j(G,[80,86,82,3]))z="pvr";if(j(G,[0,0,1,0]))z="ico";if(j(G,[66,77]))z="bmp";if(j(G,[80,49]))z="ppm";
if(j(G,[80,50]))z="ppm";if(j(G,[80,51]))z="ppm";if(j(G,[80,52]))z="ppm";if(j(G,[80,53]))z="ppm";if(j(G,[80,54]))z="ppm";
if(j(G,[73,73,42,0]))z="tiff";if(j(G,[77,77,0,42]))z="tiff";if(j(G,[70,85,74,73,70,73,76,77]))z="raf";
if(j(G,[112]))z="lif";if(j(G,[73,73,26,0]))z="ciff";if(j(G,[83,81,76,105]))z="sketch";if(j(G,[80,75])){var M=UZIP.parse(S,!0);
if(M["document.json"])z="sketch";else if(M.manifest)z="xd";else z="zip"}if(j(G,[123]))z="json";if(W.O(G,0)==G.length)z="icc";
if(j(G,[35]))z="icc";if(j(G,[84,73,84,76]))z="icc";if(j(G,[60,63,120,109],O)){if(W.Nq(G,"<look>")!=-1)z="icc";
else z="svg"}if(j(G,[60,115,118,103],O))z="svg";if(j(G,[60,33,100,111],O))z="html";if(j(G,[60,33,68,79],O))z="html";
if(j(G,[37,33])||j(G,[197,208,211,198])){z="eps"}if(j(G,[37,80,68,70],O))z="pdf";if(j(G,[215,205,198,154]))z="wmf";
if(j(G,[1,0,0,0]))z="emf";if(j(G,[239,187,191]))z="jsx";if(j(G,[10,10,10,10]))z="jsx";if(z==null&&x.raw.CE(G.length)!=null)return"tiff";
return z};ot.fdh=function(S,G,j){if(j==null)j=0;for(var z=0;z<G.length;z++)if(G[z]!=-1&&S[j+z]!=G[z])return!1;
return!0};ot.Lc=function(S){return ot[S.toUpperCase()]};ot.Wy=function(S){var G=ot.xb.fdj,j=ot.xb.fdq,z,O=[];
if(S==null)z=G.concat(j);else z=S==0?G:j;for(var S=0;S<z.length;S++)if(ot[z[S]].tu)O.push(z[S]);return O};
ot.Xv=function(S,G,j,z,O){var i=ot.Db(S,G,j,z,O),C=ot.xe(i);return C.buffer};ot.xe=function(S){var G=atob(S.split(",").pop()),j=new Uint8Array(G.length);
for(var z=0;z<G.length;z++)j[z]=G.charCodeAt(z);return j};ot.Db=function(S,G,j,z,O,i){if(!(S instanceof ArrayBuffer))throw"e";
if(z==null)z="png";if(z=="png"&&i==!0){var C=ot.PNG.tu([[S,0]],G,j);return"data:image/png;base64,"+ot.co(C)}var M=new Uint8Array(S),D=ot.ui;
if(D==null)D=ot.ui=E._("canvas");if(D.width!=G||D.height!=j){D.width=G;D.height=j}var X=D.getContext("2d"),l=new ImageData(new Uint8ClampedArray(S,0,G*j*4),G,j);
X.putImageData(l,0,0);return D.toDataURL("image/"+z,O)};ot.fcY=function(S,G,j,z,O){if(O==null)O=0;var i="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",C="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+i+"<g transform=\"translate(64 64) scale("+.25*Math.round(E.V())+")\">";
if(S==1)C+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
C+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+O+")\" xlink:href=\""+G+"\" x=\""+80*j+"\" y=\""+80*z+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var M=new Uint8Array(C.length);W.CN(C,M,0);var D="data:image/svg+xml;base64,"+ot.co(M.buffer);return{Hc:D,L:new Q(0,0,128,128),Bm:new A(64,64)}};
ot.co=function(S){var G=new Uint8Array(S),j="";for(var z=0;z<G.length;z++)j+=String.fromCharCode(G[z]);
return btoa(j)};ot.x$=function(S){var G=[],j=[];for(var z=0;z<S.d.length;z++){var O=S.d[z];if(O.getName().slice(0,3)=="_a_"){G.push(z);
j.push(O.Gg())}}return[G,j]};ot.D$=function(S,G,j,z,O,i){if(j==null)j=S.o;if(z==null)z=S.i;G=G.toUpperCase();
var C=ot[G],M;if(C.CP){M=C.tu(S,j,z,O,i)}else{var D=ot.x$(S),X=D[0],l=D[1];if(X.length<2){var f;if(j==S.o&&z==S.i)f=S.yA().buffer;
else{var F=t.Gh.vh([S.yA(),new Q(0,0,S.o,S.i)],new Ym(j/(S.o+.001),0,0,z/(S.i+.001),0,0));f=F.buffer.buffer}M=C.tu([[f,0,S.bY]],j,z,O)}else{var $=[];
for(var _=0;_<X.length;_++){var P=X[_],f;for(var k=0;k<X.length;k++)S.d[X[k]].aA(X[k]==P);S.C$();S.I();
S.qE();if(j==S.o&&z==S.i)f=S.yA().buffer.slice(0);else{var F=t.Gh.vh([S.yA(),new Q(0,0,S.o,S.i)],new Ym(j/(S.o+.001),0,0,z/(S.i+.001),0,0));
f=F.buffer}var H=S.d[P].getName().split(",");$.push([f,H[1]?parseInt(H[1]):50,S.bY])}for(var _=0;_<X.length;
_++)S.d[X[_]].aA(l[_]);S.I();S.qE();if(O[O.length-1])$.reverse();M=C.tu($,j,z,O)}}return M};ot.PNG={};
ot.PNG.tu=function(S,G,j,z){if(z==null)z=[100,!1,0];var O={sRGB:1,loop:z[2]};if(S[0][2]!=null){var i=Math.round(S[0][2]*(1e4/254));
O.pHYs=[i,i,1]}var C=z[0],M=C==100?0:Math.max(2,Math.floor(C*5));if(M==5)M=4;var D=[],X=[];for(var l=0;
l<S.length;l++){D.push(S[l][0]);X.push(S[l][1])}var f=UPNG.encode(D,G,j,M,X,O,z[1]);return f};ot.PNG.fVA=function(S,G,j){return UPNG.encodeLL([S],G,j,3,1,8)};
ot.PNG.Uf=function(S){var G=Date.now(),j=UPNG.decode(S),z=UPNG.toRGBA8(j),O=j.width,i=j.height,C=0;if(j.tabs.pHYs)C=Math.round(j.tabs.pHYs[0]*254/1e4);
if(z.length==1)return[{tv:new Q(0,0,O,i),data:z[0],bY:C}];var M=[];for(var D=0;D<z.length;D++){M.push({QH:"_a_frm"+D+","+j.frames[D].delay,tv:new Q(0,0,O,i),data:z[D],bY:C})}return M};
ot.PPM={};ot.PPM.tu=function(S,G,j,z){var O=new Uint8Array(S[0][0]),i=G*j,C=i*3,M="P6\n"+G+" "+j+"\n255\n",D=M.length,X=x.S(D+C,!0);
for(var l=0;l<D;l++)X[l]=M.charCodeAt(l);for(var l=0;l<i;l++){var f=l*4,F=l*3+D;X[F]=O[f];X[F+1]=O[f+1];
X[F+2]=O[f+2]}return X.buffer};ot.PPM.Uf=function(S){S=new Uint8Array(S);var G=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],j=0,z=String.fromCharCode(S[0])+String.fromCharCode(S[1]),O=[],i=0,C=z=="P1"||z=="P4"?2:3;
for(j=2;j<S.length;j++){var M=S[j],D=String.fromCharCode(M);if(M=="#".charCodeAt(0)){while(S[j]!="\n".charCodeAt(0))j++;
continue}var X=G.indexOf(M)!=-1;if(i==0&&!X){O.push(D);i=1;continue}if(i==1&&!X){O[O.length-1]+=D;continue}if(i==1&&X){i=0;
if(O.length==C)break;continue}}var l=parseInt(O[0]),f=parseInt(O[1]),F=l*f*4,$=z=="P1"||z=="P4"?1:255/parseInt(O[2]),_=x.S(F);
if(z=="P1"||z=="P2"||z=="P3"){var P="",k=0,i=0,H="#".charCodeAt(0);for(var q=j;q<S.length;q++){var M=S[q],D=String.fromCharCode(M),X=G.indexOf(M)!=-1;
if(M==H){while(S[q]!="\n".charCodeAt(0))q++}else if(i==0&&!X){P=D;i=1}else if(i==1){if(X){i=0;var R=parseInt(P);
P="";if(z=="P1"){_[k]=_[k+1]=_[k+2]=(1-R)*255;_[k+3]=255;k+=4}if(z=="P2"){_[k]=_[k+1]=_[k+2]=Math.round(R*$);
_[k+3]=255;k+=4}if(z=="P3"){_[k]=Math.round(R*$);k++;if((k&3)==3){_[k]=255;k++}}}else P+=D}}}var I=l*f;
if(z=="P4")for(var b=0;b<f;b++){var Y=b*8*Math.ceil(l/8);for(var m=0;m<l;m++){var q=Y+m,h=S[j+1+(q>>3)];
h=h>>7-(q&7)&1;var e=b*l+m<<2;_[e]=_[e+1]=_[e+2]=(1-h)*255;_[e+3]=255}}if(z=="P5")for(var q=0;q<I;q++){var e=4*q;
_[e]=_[e+1]=_[e+2]=Math.round(S[j+1+q]*$);_[e+3]=255}if(z=="P6")for(var q=0;q<I;q++){var e=4*q,s=j+1+3*q;
_[e]=Math.round(S[s]*$);_[e+1]=Math.round(S[s+1]*$);_[e+2]=Math.round(S[s+2]*$);_[e+3]=255}return[{tv:new Q(0,0,l,f),data:_.buffer}]};
ot.DDS={};ot.DDS.tu=function(S,G,j,z){var O=new Uint8Array(S[0][0]);if((G&3)!=0||(j&3)!=0){var i=G+(4-(G&3)),C=j+(4-(j&3)),M=new Uint8Array(i*C*4);
x.GC(M,4278190080);x.yF(O,new Q(0,0,G,j),M,new Q(0,0,i,C));O=M;G=i;j=C}return UTEX.DDS.encode(O.buffer,G,j)};
ot.DDS.Uf=function(S){var G=UTEX.DDS.decode(S)[0];return[{tv:new Q(0,0,G.width,G.height),data:G.image}]};
ot.JPG={};ot.JPG.tu=function(S,G,j,z){if(z==null)z=[70];var O=new Uint8Array(S[0][0]),i=255,C=O.length,M;
for(var D=0;D<C;D+=4)i=i&O[D+3];if(i==255)M=O;else{M=new Uint8Array(O.length);var X=new Q(0,0,G,j);x.GC(M,4294967295);
x.k.me("norm",O,X,M,X,X,1)}var l=new Uint8Array(ot.Xv(M.buffer,G,j,"jpeg",z[0]/100));if(S[0][2]!=null){var f=ot.JPG.Xp(l)[224][0]+2;
f+=9;l[f]=1;W.iD(l,f+1,S[0][2]);W.iD(l,f+3,S[0][2])}return l.buffer};ot.JPG.Xp=function(S){var G=0,j=[];
while(G<S.length){while(S[G]==255)G++;var z=S[G];G++;if(j[z]==null)j[z]=[];j[z].push(G-2);if(z==216)continue;
if(z==217)break;if(224<=z&&z<=239||z==218||z==219||z==192||z==194||z==196||z==221||z==254){var O=W.GP(S,G);
G+=O;if(z==218)while(S[G]!=255||(S[G+1]==0||208<=S[G+1]&&S[G+1]<=215))G++;continue}console.log("unknown marker ",z.toString(16),G)}return j};
ot.JPG.fnP=function(S){S=new Uint8Array(S);if(S[0]!=255)return S.buffer;var G=ot.JPG.x_(S,ot.JPG.Xp(S));
if(G.numComponents!=4)return S.buffer;var j=G.width,z=G.height,O=ot.JPG.xL(G,!0);return ot.JPG.tu([[O[0].data]],j,z,[85])};
ot.JPG.x_=function(S,G){var j=new PDFJS.JpegImage;j.parse(S);var z=G[225];if(z){z=z[0]+2;var O="";while(!0){var i=z,C=W.GP(S,i);
i+=2;var M=W.PP(S,i,4);if(M=="Exif"){i+=6;var D=S.slice(i,i+C-8);j.exif=UTIF.decode(D.buffer,{parseMN:!1,debug:!1})}else if(M=="http"){var X=0;
while(S[i+X]!=0)X++;var l=W.PP(S,i,X);i+=X+1;if(l=="http://ns.adobe.com/xmp/extension/"){var f=W.PP(S,i,32);
i+=32;i+=8;var F=z+C-i;while(S[i+F-1]==0)F--;O+=W.X_(S,i,F)}}else break;z+=C+2}if(O!="")j.xmp_extn=O}var $=G[217][0]+2;
if($!=S.length)j.suffix=S.slice($);return j};ot.JPG.xL=function(S,G){var j=S.width,z=S.height,O=j*z,i=S.getData({width:j,height:z,forceRGB:!0,isSourcePDF:G}),C=x.S(O*4),l=72;
for(var M=0;M<O;M++){var D=M<<2,X=D-M;C[D]=i[X+0];C[D+1]=i[X+1];C[D+2]=i[X+2];C[D+3]=255}if(S.jfif&&S.jfif.densityUnits!=0)l=Math.round([72,1,2.54][S.jfif.densityUnits]*S.jfif.xDensity);
else if(S.exif&&S.exif[0].t282!=null)l=S.exif[0].t282[0];var f=[{tv:new Q(0,0,j,z),data:C.buffer,bY:l}],F=S.xmp_extn;
if(F){var $=new DOMParser,_=$.parseFromString(F,"image/svg+xml").firstChild.children[0].children[0],P=[_.getAttribute("GImage:Data"),_.getAttribute("GDepth:Data")];
for(var M=0;M<P.length;M++)if(P[M]){var k=atob(P[M]),H=new Uint8Array(k.length);W.CL(H,0,k);H=H.buffer;
var q=ot.AM(H),R=ot.Lc(q).Uf(H);f.push(R[0])}}if(S.suffix){var I=S.suffix,q=ot.AM(I.buffer);if(q=="jpg"){var R=ot.Lc(q).Uf(I.buffer);
for(var M=0;M<R.length;M++)f.push(R[M])}else if(W.PP(I,4,4)=="edof"){var b=8+16,Y=W.V$(I,b),m=W.V$(I,b+2),O=Y*m,h=new Q(0,0,Y,m);
b+=4;b+=32+16;var e=x.S(O*4);for(var M=0;M<O;M++){var D=M<<2;e[D]=e[D+1]=e[D+2]=I[b+M];e[D+3]=255}f.push({tv:h,data:e.buffer})}}if(f.length>1){var s=f[0].tv;
f[0].QH="Main";for(var M=1;M<f.length;M++){var y=f[M].tv;if(!y.Xs(s)){var T=new Ym(s.o/y.o,0,0,s.i/y.i,0,0),K=t.Gh.oh([new Uint8Array(f[M].data),y],!1,x.Z.BS(T));
f[M]={tv:K.rect,data:K.buffer}}f[M].QH=M==1&&f.length==3?"Original":"Depth Map"}}return f};ot.JPG.Uf=function(S,G,j){S=new Uint8Array(S);
if(S[0]==255){var z=ot.JPG.Xp(S);if(z[195]==null){var O=ot.JPG.x_(S,z),i=ot.JPG.xL(O,!1);return i}var C=W.GP(S,z[195][0]+5),M=W.GP(S,z[195][0]+7),D=UTIF.LosslessJpegDecode(S),X=M*C,l=x.S(X*4);
for(var f=0;f<X;f++){var F=f<<2,$=F-f;l[F]=D[$];l[F+1]=D[$+1];l[F+2]=D[$+2];l[F+3]=255}return[{tv:new Q(0,0,M,C),data:l.buffer}]}else if(S[0]==0&&S[4]==48&&S[6]==1){var _=S,O=new PDFJS.Jbig2Image,P=[];
if(G)P.push({data:G,start:0,end:G.length});P.push({data:_,start:0,end:_.length});var D=O.parseChunks(P);
if(!j)for(var f=0;f<D.length;f++)D[f]=~D[f];var M=W.O(S,11),C=W.O(S,15),k=Math.ceil(M/8),H=x.S(M*C*4);
for(var q=0;q<C;q++){var R=q*k;for(var I=0;I<M;I++){var F=(q*M+I)*4,b=D[R+(I>>>3)]>>>7-(I&7)&1,Y=b*255;
H[F]=Y;H[F+1]=Y;H[F+2]=Y;H[F+3]=255}}return[{tv:new Q(0,0,M,C),data:H.buffer}]}else{var O=new PDFJS.JpxImage;
O.parse(S);var M=O.width,C=O.height,m=O.tiles,h=O.componentsCount,e=new Uint8Array(M*C*4),s=new Q(0,0,M,C);
for(var O=0;O<m.length;O++){var y=m[O],T=y.width,K=y.height,B=T*K,Cf=y.items,a=new Q(y.left,y.top,T,K),u=new Uint8Array(B*4);
if(h==1)for(var f=0;f<B;f++){var r=Cf[f],F=f*4;u[F]=r;u[F+1]=r;u[F+2]=r;u[F+3]=255}else if(h==3)for(var f=0;
f<B;f++){var $=f*3,F=f*4;u[F]=Cf[$];u[F+1]=Cf[$+1];u[F+2]=Cf[$+2];u[F+3]=255}else console.log("Unknown number of components: "+h);
x.yF(u,a,e,s)}return[{tv:s,data:e.buffer}]}};ot.WEBP={};ot.WEBP.tu=function(S,G,j,z){if(z==null)z=[70,0];
var O=z[0]/100,D=0;if(S.length==1)return ot.Xv(S[0][0],G,j,"webp",O);var i=W.cZ,C=W.fI,M=new Ck;i(M,D,"RIFF    WEBPVP8X");
D+=16;C(M,D,10);D+=4;C(M,D,18);D+=4;C(M,D,G-1);D+=3;C(M,D,j-1);D+=3;i(M,D,"ANIM");D+=4;C(M,D,6);D+=4;
M.nv(D,4);M.data[D+3]=255;W.CF(M,D+4,z[1]);D+=6;var X=[];for(var l=0;l<S.length;l++){X.push(S[l][0])}var f=UPNG.encode.compress(X,G,j,O==1?0:Math.max(2,Math.floor(O*500)),[!1,!0,!0,0,!0]).frames,F=new WebPDecoder;
for(var l=0;l<S.length;l++){i(M,D,"ANMF");D+=4;var $=D;D+=4;var _=f[l],P=_.rect,k=[P.x>>>1,P.y>>>1,P.width-1,P.height-1,S[l][1]];
for(var H=0;H<5;H++)C(M,D+3*H,k[H]);D+=15;M.nv(D,1);M.data[D]=1-_.blend<<1|_.dispose;D++;var q=new Uint8Array(ot.Xv(_.img.buffer,P.width,P.height,"webp",1)),R=Mw.wD(q.buffer).sub,I=W.PP(q,12,4);
if(I!="VP8L"&&I!="VP8 "&&I!="VP8X")throw"e";var b=I=="VP8 "?0:I=="VP8L"?12:30,Y=q.length-b;M.nv(D,Y);
for(var H=0;H<Y;H++)M.data[D+H]=q[b+H];D+=Y;var m=D-$-4;C(M,$,m);if((m&1)==1){M.nv(D,1);D++}}C(M,4,D-8);
return M.data.slice(0,D).buffer};ot.WEBP.Uf=function(S){var G=new Uint8Array(S),j=ot.WEBP.fAc(G),z=ot.WEBP.fAS,O=new WebPDecoder,i=Mw.wD(S).sub;
if(i[0].Pq!="VP8X")return[z(O,j,i[0])];var C={};for(var M=0;M<i.length;M++)C[i[M].Pq]=i[M];if(C.ANIM==null){var D=C.ALPH?"ALPH":"VP8 ";
return[z(O,j,{c:C[D].c-8})]}var X=C.VP8X.c,l=1+(W.zx(G,X+4)&16777215),f=1+(W.zx(G,X+7)&16777215),F=[],$=new Q(0,0,l,f),_=x.S(l*f*4);
for(var M=0;M<i.length;M++){var P=i[M];if(P.Pq!="ANMF")continue;var k=[];for(var H=0;H<5;H++)k.push(W.zx(G,P.c+H*3)&16777215);
var q=new Q(k[0]*2,k[1]*2,k[2]+1,k[3]+1),R=k[4],I=z(O,j,{c:P.c+16}),b=new Uint8Array(I.data),Y=G[P.c+15];
if(Y>>>1==0)x.k.me("norm",b,q,_,$,q,1);else x.yF(b,q,_,$);F.push({QH:"_a_"+F.length+","+R,tv:$.clone(),data:_.buffer.slice(0)});
if((Y&1)==1){x.GC(b,0);x.yF(b,q,_,$)}}return F};ot.WEBP.fAS=function(S,G,j){var z=[0],O=[0],i=S.WebPDecodeRGBA(G,j.c,G.length-j.c,z,O),C=i.length,M=new Uint8Array(C);
for(var D=0;D<C;D++)M[D]=i[D];return{tv:new Q(0,0,z[0],O[0]),data:M.buffer}};ot.WEBP.fAc=function(S){var G=[],j=S.length;
for(var z=0;z<j;z++)G.push(S[z]);return G};ot.BMP={};ot.BMP.tu=function(S,G,j,z){var O=new Uint8Array(S[0][0]),i=!1,C={YC:G,QM:j,OO:1,lD:i?32:24,Co:i?3:0,fso:0},M=4*Math.floor((C.lD*C.YC+31)/32),X=0;
C.size=M*C.QM+2;var D=new Ck;W.cZ(D,X,"BM");X+=2;W.fI(D,X,M*j+16+40);X+=4;W.fI(D,X,0);X+=4;W.fI(D,X,54);
X+=4;D.nv(X,40);W.fI(D,X,40);X+=4;ot.BMP.fAr(D.data,X,C,M);X+=36;D.nv(X,M*j);for(var l=0;l<j;l++){var f=X+(j-1-l)*M;
for(var F=0;F<G;F++){var $=(l*G+F)*4,_=O[$+3]*(1/255);if(i){D.data[f+F*4+2]=O[$];D.data[f+F*4+1]=O[$+1];
D.data[f+F*4+0]=O[$+2];D.data[f+F*4+3]=O[$+3]}else{D.data[f+F*3+2]=O[$];D.data[f+F*3+1]=O[$+1];D.data[f+F*3+0]=O[$+2]}}}X+=M*j+2;
return D.data.slice(0,X).buffer};ot.BMP.Uf=function(S){S=new Uint8Array(S);var G=0,j=W.PP(S,G,2);G+=2;
if(j!="BM"){alert("Unsupported BMP format: "+j);return}var z=W.zx(S,G);G+=4;G+=4;var O=W.zx(S,G);G+=4;
return[ot.BMP.xG(S.buffer,G)]};ot.BMP.xG=function(S,G){S=new Uint8Array(S);var j=W.zx(S,G);G+=4;var z=ot.BMP.fAU(S,G);
if(z.OO!=1)alert("unsupported number of color planes: "+z.OO);if(z.Co!=0&&z.Co!=3){alert("Unsupported BMP compression: "+z.Co);
return}G+=j-4;var O=G,i=4*Math.floor((z.lD*z.YC+31)/32),C=z.YC,M=Math.abs(z.QM),D=new Uint8Array(C*M*4);
x.set(D,255);var X=G;if(z.lD<24)X+=4*Math.pow(2,z.lD);if(z.lD==32)for(var l=0;l<M;l++){var f=X+(M-1-l)*i;
for(var F=0;F<C;F++){var $=(l*C+F)*4;D[$]=S[f+F*4+2];D[$+1]=S[f+F*4+1];D[$+2]=S[f+F*4+0];D[$+3]=S[f+F*4+3]}}else if(z.lD==24)for(var l=0;
l<M;l++){var f=X+(M-1-l)*i;for(var F=0;F<C;F++){var $=(l*C+F)*4;D[$]=S[f+F*3+2];D[$+1]=S[f+F*3+1];D[$+2]=S[f+F*3+0]}}else if(z.lD==8)for(var l=0;
l<M;l++){var f=X+(M-1-l)*i;for(var F=0;F<C;F++){var $=(l*C+F)*4,_=S[f+F];D[$]=S[O+4*_+2];D[$+1]=S[O+4*_+1];
D[$+2]=S[O+4*_+0]}}else if(z.lD==4)for(var l=0;l<M;l++){var f=X+(M-1-l)*i;for(var F=0;F<C;F++){var $=(l*C+F)*4,_=S[f+(F>>1)];
_=_>>4-4*(F&1);_=_&15;D[$]=S[O+4*_+2];D[$+1]=S[O+4*_+1];D[$+2]=S[O+4*_+0]}}else if(z.lD==1)for(var l=0;
l<M;l++){var f=X+(M-1-l)*i;for(var F=0;F<C;F++){var $=(l*C+F)*4,P=S[f+(F>>3)];P=P>>7-(F&7);P=P&1;D[$]=S[O+4*P+2];
D[$+1]=S[O+4*P+1];D[$+2]=S[O+4*P+0]}}else throw"Unknown bit depth "+z.lD;if(z.QM<0){var k=new Uint32Array(D.buffer),H=M>>>1;
for(var l=0;l<H;l++){var q=l*C,R=(M-l-1)*C;for(var F=0;F<C;F++){var I=k[q+F];k[q+F]=k[R+F];k[R+F]=I}}}return{tv:new Q(0,0,C,M),data:D.buffer}};
ot.BMP.fAU=function(S,G){var j=W.rC,z=W.zx,O=W.V$,i={};i.YC=j(S,G);G+=4;i.QM=j(S,G);G+=4;i.OO=O(S,G);
G+=2;i.lD=O(S,G);G+=2;i.Co=z(S,G);G+=4;i.size=z(S,G);G+=4;var C=j(S,G);G+=4;var M=j(S,G);G+=4;i.fso=z(S,G);
G+=4;G+=4;return i};ot.BMP.fAr=function(S,G,j,z){W.Wu(S,G,j.YC);G+=4;W.Wu(S,G,j.QM);G+=4;W.AW(S,G,j.OO);
G+=2;W.AW(S,G,j.lD);G+=2;W.Wu(S,G,j.Co);G+=4;W.Wu(S,G,j.size);G+=4;W.Wu(S,G,2834);G+=4;W.Wu(S,G,2834);
G+=4;W.Wu(S,G,j.fso);G+=4;G+=4};ot.GIF={};ot.GIF.tu=function(S,G,j,z){if(z==null)z=[100,0];var O=[],i=[],C=G*j*4,k=null;
for(var M=0;M<S.length;M++){var D=new Uint8Array(S[M][0].slice(0));for(var X=0;X<C;X+=4){var l=D[X+3]=D[X+3]>127?255:0;
if(l==0)D[X]=D[X+1]=D[X+2]=0}O.push(D.buffer);i.push(S[M][1])}var f=Math.round(2+254*z[0]/100),F=UPNG.encode.compress(O,G,j,f,[!0,!1,!1,8,!1]),$=F.plte,_=new Uint8Array(4),P=new Uint32Array(_.buffer);
for(var X=0;X<$.length;X++){P[0]=$[X];var H=_[0];_[0]=_[2];_[2]=H;$[X]=P[0];if(P[0]==0)k=X}while($.length<256)$.push(0);
var q=new Uint8Array(2e3+G*j*S.length),R=z[1],I={palette:$};if(R!=1)I.loop=R==0?0:R-1;var b=new GifWriter(q,G,j,I);
for(var X=0;X<S.length;X++){var Y=F.frames[X],m=Y.rect,h=Y.blend,e=Y.dispose;b.addFrame(m.x,m.y,m.width,m.height,Y.img,{transparent:k,disposal:e+1,delay:Math.round(i[X]/10)})}return q.slice(0,b.end()).buffer};
ot.GIF.Uf=function(S){var G=new Uint8Array(S),j=new GifReader(G),z=[],O=j.numFrames(),i=j.width,C=j.height,M=x.S(i*C*4),D=new Q(0,0,i,C);
for(var X=0;X<O;X++){var l=j.frameInfo(X),f=l.disposal,F=f==3?M.slice(0):null;j.decodeAndBlitFrameRGBA(X,M);
z.push({tv:D.clone(),QH:"_a_frm"+X+","+l.delay*10,data:M.slice(0).buffer});if(l.disposal==2){var $=x.S(l.width*l.height*4);
x.yF($,new Q(l.x,l.y,l.width,l.height),M,D)}if(f==3){for(var _=0;_<M.length;_++)M[_]=F[_]}}return z};
ot.ICO={};ot.ICO.tu=function(S,G,j,z){console.log(S);if(G>256||j>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var O=Math.min(G,256),i=Math.min(j,256),C=new Q(0,0,O,i),M=x.S(C.h()*4),D=new Q(0,0,G,j),X=new Uint8Array(S[0][0]);
x.yF(X,D,M,C);S[0][0]=M.buffer;G=O;j=i}var l=new Ck,f=0,F=z&&z[0]==!0;W.CF(l,f,0);f+=2;W.CF(l,f,F?2:1);
f+=2;W.CF(l,f,1);f+=2;var $=new Uint8Array(ot.PNG.tu(S,G,j));l.nv(f,16);l.data[f]=G==256?0:G;f++;l.data[f]=j==256?0:j;
f++;f+=2;W.CF(l,f,F?Math.round(G/2):1);f+=2;W.CF(l,f,F?Math.round(j/2):32);f+=2;W.fI(l,f,$.length);f+=4;
W.fI(l,f,6+16);f+=4;l.nv(f,$.length);for(var _=0;_<$.length;_++)l.data[f+_]=$[_];f+=$.length;var P=new Uint8Array(f);
for(var _=0;_<f;_++)P[_]=l.data[_];return P.buffer};ot.ICO.Uf=function(S){S=new Uint8Array(S);var G=4,j=W.V$(S,G);
G+=2;var z=[];for(var O=0;O<j;O++){var i=ot.ICO.fJy(S,G+O*16),C=S.buffer.slice(i.offset,i.offset+i.size),M=ot.AM(C);
M=M?M:"bmp";if(M=="png"){var D=ot.Lc(M);return D.Uf(C)}else{var X=ot.BMP.xG(C,0),C=x.S(i.YC*i.QM*4);
x.yF(new Uint8Array(X.data),new Q(0,0,X.tv.o,X.tv.i),C,new Q(0,i.QM,i.YC,i.QM));X.data=C.buffer;X.tv.i=i.QM;
i.uD=X;z.push(i)}}z.sort(function(l,f){if(l.YC!=f.YC)return l.YC-f.YC;return l.fmv-f.fmv});return[z.pop().uD]};
ot.ICO.fJy=function(S,G){var j={};j.YC=S[G];G++;if(j.YC==0)j.YC=256;j.QM=S[G];G++;if(j.QM==0)j.QM=256;
j.fyK=S[G];G++;G++;j.fyZ=W.V$(S,G);G+=2;j.fmv=W.V$(S,G);G+=2;j.size=W.zx(S,G);G+=4;j.offset=W.zx(S,G);
G+=4;return j};ot.TIFF={};ot.TIFF.Uf=function(S){var G=Date.now(),z;if(x.raw.CE(S.byteLength))return[x.raw.fQI(S)];
var j=UTIF.decode(S);if(j[0].t33421)z=j[0];else if(j[0].subIFD&&j[0].subIFD[0].t33421){z=j[0].subIFD[0];
if(z.t50706==null){if(z.t258[0]==8)z.t258[0]=12}}else if(j[0].subIFD&&j[0].subIFD[0]&&j[0].subIFD[0].t262&&j[0].subIFD[0].t262[0]==34892)z=j[0].subIFD[0];
else if(j[0].subIFD&&j[0].subIFD[1]&&j[0].subIFD[1].t33421)z=j[0].subIFD[1];else if(j[0].subIFD&&j[0].subIFD[2]&&j[0].subIFD[2].t33421)z=j[0].subIFD[2];
else if(j[3]&&j[3].t50648){var O=j[0].exifIFD,i=O.makerNote;z=j[3];var C=i.t224[1],M=i.t224[2];z.t256=[C];
z.t257=[M];z.t258=[16];z.t259=[7];z.t262=[32803];z.t277=[1];z.t33421=[2,2];var D=z.t50656[0],X=x.raw._y[D];
if(X==null)throw"e";z.t33422=X}if(z){UTIF.decodeImage(S,z,j);for(var l in j[0])if((l[0]=="t"||l[0]=="e"||l[0]=="d")&&z[l]==null)z[l]=j[0][l];
z.Ca=j[0].t274?j[0].t274[0]:1;return[z]}var f=[];for(var F=0;F<j.length;F++){var $=j[F],_=72;UTIF.decodeImage(S,$,j);
var P=$.t282,k=$.t296;if(P!=null&&k!=null){_=P[0];if(k[0]==3)_=Math.round(_/2.54)}if($.width==null)continue;
var H=UTIF.toRGBA8($).buffer;f.push({tv:new Q(0,0,$.width,$.height),data:H,bY:_})}return f};ot.TIFF.tu=function(S,G,j,z){var O={};
if(S[0][2]!=null){O.t282=O.t283=[S[0][2]];O.t296=[2]}return UTIF.encodeImage(S[0][0],G,j,O)};ot.PSD={};
ot.PSD.CP=!0;ot.PSD.Uf=function(S,G){fo.wD(S,G)};ot.PSD.fJE=function(S,G,j,z){if(z==null)z=[!1,!1];if(!z[0])S.yA();
var O=new Ck,i=fo.Rk(S,O,z);return[O.data.buffer,i]};ot.PSD.tu=function(S,G,j,z){var O=ot.PSD.fJE(S,G,j,z),i=O[0],C=O[1];
return i.byteLength==C?i:i.slice(0,C)};ot.PXD={};ot.PXD.CP=!0;ot.PXD.Uf=function(S,G){var j=pako.inflate(new Uint8Array(S)),z=4;
G.o=W.O(j,z);z+=4;G.i=W.O(j,z);z+=4;var O=W.GP(j,z);z+=2;z+=4;for(var i=0;i<O;i++){var C=G.YJ();G.d.push(C);
var M=W.O(j,z),D=z+4,X=W.GP(j,D);D+=2;var l=W.X_(j,D,X);D+=X;C.lX(l);D++;C.rect.x=W.SM(j,D);D+=4;C.rect.y=W.SM(j,D);
D+=4;C.rect.o=W.O(j,D);D+=4;C.rect.i=W.O(j,D);D+=4;C.opacity=Math.round(255*j[D]/100);D++;C.aA(j[D]!=0);
D++;C.eD="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[j[D]];D++;
D++;var f=W.O(j,D);D+=4;if(f!=C.rect.h()*4)throw"e";C.buffer=x.S(f);for(var F=0;F<f;F+=4){C.buffer[F]=j[D+F+1];
C.buffer[F+1]=j[D+F+2];C.buffer[F+2]=j[D+F+3];C.buffer[F+3]=j[D+F+0]}D+=f;var $=W.O(j,D);D+=4;var _=j[D];
D++;var P=W.GP(j,D);D+=2;if($!=0){C.q=new g.QS;C.q.rect=C.rect.clone();C.q.channel=x.S(C.rect.h());for(var F=0;
F<$;F+=4)C.q.channel[F>>>2]=j[D+F+1];D+=$}if(_!=0){var k=JSON.parse(n.default);C.add.lmfx=k;for(var F=0;
F<n.order.length;F++)k[n.lH[F]]={t:"VlLs",v:[]};var H={"102":9,"101":2,"103":0,"104":3,"105":8};for(var F=0;
F<_;F++){var q=W.GP(j,D),R=D+q+4,I=j.slice(D,R),b=j[D+2];D+=3;var Y=H[b+""],m=JSON.parse(n.s_[Y]);k[n.lH[Y]].v.push({t:"Objc",v:m});
if(Y!=0){m.Md.v.BlnM=YR.Lj("norm");m.Opct.v.val=j[D];D++;if(Y==9||Y==2){m.Dstn.v.val=j[D+1];D+=2}else D+=2;
m.blur.v.val=Math.round(j[D]*1.2);D++;if(Y==9||Y==2){m.uglg.v=!1;m.lagl.v.val=180-W.GP(j,D);D+=2}m.Clr.v=x.T.qL({H:j[D+1],X:j[D+2],C:j[D+3]})}else{m.hglM.v.BlnM=m.sdwM.v.BlnM=YR.Lj("norm");
D+=2;var h=j[D++],e=j[D++];m.blur.v.val=Math.round(Math.sqrt(e*h)*1.3);m.srgR.v.val=Math.round(100*h/e);
m.uglg.v=!1;m.lagl.v.val=180-W.GP(j,D);D+=2;m.hglO.v.val=j[D++];m.hglC.v=x.T.qL({H:j[D+1],X:j[D+2],C:j[D+3]});
D+=4;m.sdwO.v.val=j[D++];m.sdwC.v=x.T.qL({H:j[D+1],X:j[D+2],C:j[D+3]});D+=4}D=R}}if(D!=z+4+M){var s=W.O(j,D),u=0;
D+=4;D++;var X=W.GP(j,D);D+=2;var y=W.X_(j,D,X);D+=X;y=y.replace(/\r/g,"\n");var X=W.GP(j,D);D+=2;var T=W.X_(j,D,X);
D+=X;var K=W.GP(j,D);D+=2;var B=C.rect.x,a=C.rect.o;if(s&4)u=1;if(s&2)u=2;var r=Math.round(K*.4);if(u==0||u==2)a+=r;
if(u==1||u==2){a+=r;B-=r}C.add.lnsr="rend";C.add.TySh=o_.lR(0,0);C.add.TySh.Aw=new Q(0,0,100,100);C.add.TySh.GY=new Ym(1,0,0,1,B,C.rect.y+K*.25);
var v=C.add.TySh.Nv;o_.cn(v,1);o_.xg(v,[0,0,a,C.rect.i]);o_.bs(v,0,y);var o=o_.KT(v,0,1);o.Ed.FontSize=K;
o.Ed.FillColor={Type:1,Values:[1,j[D+1]/255,j[D+2]/255,j[D+3]/255]};D+=4;if(j[D+5])T+="-Bold";if(j[D+6])T+="-Italic";
o_.cf(o,T);o.HJ.Justification=u;D+=8;o_.QN(v,0,y.length,o)}z+=4+M}};ot.SKETCH={};ot.SKETCH.CP=!0;ot.SKETCH.Uf=function(S,G){fy.wD(S,G)};
ot.XD={};ot.XD.CP=!0;ot.XD.Uf=function(S,G){XM.wD(S,G)};ot.XCF={};ot.XCF.CP=!0;ot.XCF.Uf=function(S,G){MS.wD(S,G)};
ot.SVG={};ot.SVG.CP=!0;ot.SVG.tu=function(S,G,j,z,O){if(z==null)z=[!0,!1,!1,!1,!0,!0];var i=YA.CS(S,{fWm:z[0],hidden:z[1],fWw:z[2],fWA:z[3],names:z[4],fmy:z[5],fWH:G,fWL:j},O.UW);
return i};ot.SVG.Uf=function(S,G){YA.wD(S,G)};ot.EPS={};ot.EPS.CP=!0;ot.EPS.Uf=function(S,G){var j=150,z=new Ym(1,0,0,-1,0,0);
z.scale(j/72,j/72);G.bY=j;var O=new Ye(G,z,!0);FromPS.Parse(S,O)};ot.PDF={};ot.PDF.CP=!0;ot.PDF.tu=function(S,G,j,z,O){if(z==null)z=["",!1,!1,!1];
z[4]=["jpg"];var i=new ToPDF;Pn.CS(S,z,i,O.UW);return i.buffer};ot.PDF.Uf=function(S,G,j){var z=(j?2:1)*72,O=new Ym(1,0,0,-1,0,0);
O.scale(z/72,z/72);G.bY=z;var i=new Ye(G,O,!0);FromPDF.Parse(S,i)};ot.WMF={};ot.WMF.CP=!0;ot.WMF.Uf=function(S,G){var j=72,z=new Ym(1,0,0,1,0,0);
z.scale(j/72,j/72);G.bY=j;var O=new Ye(G,z,!1);FromWMF.Parse(S,O)};ot.EMF={};ot.EMF.cw=!0;ot.EMF.CP=!0;
ot.EMF.tu=function(S,G,j,z,O){if(z==null)z=["",!1,!1,!1];z[4]=[];var i=new ToEMF;Pn.CS(S,z,i,O.UW);return i.buffer};
ot.EMF.Uf=function(S,G){var j=72,z=new Ym(1,0,0,1,0,0);z.scale(j/72,j/72);G.bY=j;var O=new Ye(G,z,!1);
FromEMF.Parse(S,O)};ot.CDR={};ot.CDR.CP=!0;ot.CDR.Uf=function(S,G){return Yj.wD(S,G)};ot.ILBM={};ot.ILBM.Uf=function(S,G){var j=Xf.wD(S),z=new Uint8Array(S),O=0,i,C,M,D,X,l,f,F,$=0,_=0,P=0,k=0,H=0;
for(var q=0;q<j.sub.length;q++){var R=j.sub[q],O=R.c;if(R.Pq=="BMHD"){var I=[];for(var b=0;b<4;b++)I[b]=W.GP(z,O+2*b);
O+=8;D=I[2];X=I[3];C=I[0];M=I[1];i=x.S(C*M*4);l=z[O++];f=z[O++];F=z[O++]}else if(R.Pq=="CMAP")$=O;else if(R.Pq=="CAMG"){var Y=W.O(z,O);
_=Y&32768,P=Y&4,k=Y&2048;H=Y&128}else if(R.Pq=="BODY"){var m=C+15>>>4<<1,h=l+f,e=x.S(m*M*h),K,B,a;MY.SG(z,O,R.size,e,0,e.length);
var s=l-2,y=(1<<s)-1,T=Math.round(255/y);for(var X=0;X<M;X++)for(var D=0;D<C;D++){var u=0;for(var r=0;
r<h;r++){var v=(X*h+r)*m*8+D,o=e[v>>>3]>>>7-(v&7)&1;u|=o<<r}var V=u>>>l,u=u&(1<<l)-1,b=X*C+D,J=b<<2;
if($!=0){if(k!=0&&u>>>s!=0){var d=u>>>s,oU=(u&y)*T;if(d==1)a=oU;else if(d==2)K=oU;else if(d==3)B=oU}else{var oU=$+u*3;
K=z[oU+0];B=z[oU+1];a=z[oU+2]}}else{K=u>>>0&255;B=u>>>8&255;a=u>>>16&255}i[J+0]=K;i[J+1]=B;i[J+2]=a;
i[J+3]=255}}}return[{tv:new Q(0,0,C,M),data:i.buffer}]};ot.TGA={};ot.TGA.CP=!1;ot.TGA.Uf=function(S){var G=new Uint8Array(S),j=0,z=G[0],O=G[1],i=G[2],C=G[4]*256+G[3],M=G[6]*256+G[5],D=G[7],X=G[9]*256+G[8],l=G[11]*256+G[10],f=G[13]*256+G[12],F=G[15]*256+G[14],$=G[16],_=G[17],P=_>>>4,k=W.PP(G,18,z),H=x.S(f*F*4),j=18+z+(M*D>>>3),q=new Uint8Array(G.buffer,j);
if(i>3){var R=G,I=new Uint8Array(f*F*$>>>3),b=j,Y=0,m=G.length-j,h=$>>>3;while(b<m){var e=R[b];b++;if(e<128)for(var s=0;
s<e+1;s++){for(var y=0;y<h;y++){I[Y]=R[b];Y++;b++}}else{for(var s=0;s<e-127;s++){for(var y=0;y<h;y++){I[Y]=R[b+y];
Y++}}b+=h}}i-=8;q=I}var T=new Uint8Array(4),K=ot.TGA.fJr;for(var B=0;B<F;B++)for(var a=0;a<f;a++){var u=(P&2)==0?(F-B-1)*f+a:B*f+a,r=B*f+a,v,o,V,J=255,d=u*$>>>3;
if(i==1){var oU=0;if($==8)oU=q[d];else throw"e";K(G,18+z+C+(oU*D>>>3),D,T);v=T[0];o=T[1];V=T[2];J=T[3]}else if(i==2){K(q,d,$,T);
v=T[0];o=T[1];V=T[2];J=T[3]}else if(i==3){if($==8)v=o=V=q[d];else throw"e"}var p=r*4;H[p]=v;H[p+1]=o;
H[p+2]=V;H[p+3]=J}return[{tv:new Q(0,0,f,F),data:H.buffer,QH:k}]};ot.TGA.fJr=function(S,G,j,z){var O,i,C,M=255;
if(j==24||j==32){C=S[G];i=S[G+1];O=S[G+2];if(j==32)M=S[G+3]}else if(j==16){var D=S[G+1]<<8|S[G+0];O=D>>>10&31;
i=D>>>5&31;C=D>>>0&31;O=Math.round(O*(255/31));i=Math.round(i*(255/31));C=Math.round(C*(255/31))}else throw"e";
z[0]=O;z[1]=i;z[2]=C;z[3]=M};ot.LIF={};ot.LIF.Uf=function(S){var G=new Uint8Array(S),j=0,z=112,O=42,i=W.zx,l;
j+=8;var C=G[j];j++;if(C!=O)throw"e";var M=i(G,j);j+=4;var D=W.N$(G,j,M);j+=M*2;var X=[];while(j<G.length){l=i(G,j);
j+=4;if(l!=z)throw l;j+=4;l=G[j];j++;if(l!=O)throw l;var f=i(G,j);j+=4;var F=G[j];j++;if(F!=O){j-=5;
f=i(G,j);j+=8;l=G[j];j++;if(l!=O)throw l}var $=i(G,j)*2;j+=4;if(f>0)X.push(j+$);j+=$+f}var _=new DOMParser,P=_.parseFromString(D,"image/svg+xml").firstChild.firstChild,k=[];
ot.LIF.bS(P,G,X,k);return k};ot.LIF.bS=function(S,G,j,z){var O=S.firstChild.firstChild;if(O.tagName=="Image"){var i=O.getElementsByTagName("ImageDescription")[0],C=i.children[0].children,M=i.children[1].children,D=j.shift(),X=[];
for(var l=0;l<M.length;l++)X.push(parseInt(M[l].getAttribute("NumberOfElements")));while(X.length>3)X[2]*=X.pop();
var f=C.length,F=X[0],$=X[1],_=X[2],P=parseInt(M[0].getAttribute("BytesInc"));for(var k=0;k<_;k++){var H=x.S(F*$*4);
x.GC(H,4278190080);for(var q=0;q<f;q++){var R=x.S(F*$);if(P==1)for(var I=0;I<R.length;I++)R[I]=G[D+I];
else if(P==2)for(var I=0;I<R.length;I++)R[I]=Math.min(255,(G[D+I*2+1]<<8|G[D+I*2])>>>2);else throw P;
if(q!=3)x.Cy(R,H,q);if(f==1){x.Cy(R,H,1);x.Cy(R,H,2)}D+=F*$*P}z.push({tv:new Q(0,0,F,$),data:H.buffer})}}else{var b=S.children,Y=0;
while(Y<b.length&&b[Y].tagName!="Children")Y++;if(Y==b.length)throw"e";b=b[Y].children;for(var m=0;m<b.length;
m++)ot.LIF.bS(b[m],G,j,z)}};ot.RAF={};ot.RAF.Uf=function(S){var G=new Uint8Array(S),j=16,z=W.PP(G,j,4),_=0,P=0,k=!1,u;
j+=4;var O=W.PP(G,j,8);j+=8;var i=W.PP(G,j,31);j+=32;var C=W.PP(G,j,4);j+=4;j+=20;var M=W.O(G,j);j+=4;
var D=W.O(G,j);j+=4;var X=W.O(G,j);j+=4;var l=W.O(G,j);j+=4;var f=W.O(G,j);j+=4;var F=W.O(G,j);j+=4;
var $={t271:["FujiFilm"],t272:["FujiFilm "+i],t277:[1],t33421:[2,2],t33422:[0,1,1,2],Ca:1};j=X;var H=[],q=W.GP,R=W.O(G,j);
j+=4;for(var I=0;I<R;I++){var b=q(G,j);j+=2;var Y=q(G,j);j+=2;if(b==256){P=q(G,j);_=q(G,j+2)}else if(b==272){H=[q(G,j),q(G,j+2)]}else if(b==273){H.push(q(G,j),q(G,j+2))}else if(b==304){k=!(G[j]>>>7)}else if(b==305){var m=Math.round(Math.sqrt(Y)),h=[];
for(var e=0;e<Y;e++)h.push(G[j+e]);h.reverse();$.t33421=[m,m];$.t33422=h}else if(b==12272){var s=q(G,j),y=q(G,j+2),T=q(G,j+6);
$.t50728=[s/y,1,s/T]}j+=Y}var K=_<P,B=G.slice(f,f+F),a=Math.round(F*8/(_*P));if(B[0]==73&&B[1]==73&&B[2]==42){u=UTIF.decode(B.buffer)[0].fujiIFD;
a=u.t61443[0];var r=u.t61454;$.t50728=[r[0]/r[1],1,r[0]/r[2]];var v=u.t61447[0];B=B.slice(v,v+u.t61448[0])}var F=B.length,o=F*8<_*P*a;
if(o)alert("Compressed RAF is not supported yet :(");function V(N,ob,oe){oe=oe<<8-(ob&7);var oF=ob>>>3;
N[oF]|=oe>>>16;N[oF+1]|=oe>>>8;N[oF+2]|=oe}var J=F*8/(_*P);if(J==16)for(var I=0;I<F;I+=2){var d=B[I];
B[I]=B[I+1];B[I+1]=d}else if(J==14){for(var I=0;I<F;I+=4){var d=B[I];B[I]=B[I+3];B[I+3]=d;d=B[I+1];B[I+1]=B[I+2];
B[I+2]=d}}else if(J==12)for(var I=0;I<F;I+=3){var oU=B[I+2]<<16|B[I+1]<<8|B[I+0];oU=oU>>>12|(oU&4095)<<12;
B[I]=oU>>>16&255;B[I+1]=oU>>>8&255;B[I+2]=oU&255}if(K)B=ot.RAF.flL(B,_,P);var p=K?2:1;_*=p;$.t256=[_];
$.t257=[P];$.t258=[a];$.t50719=[H[1],H[0]*p];$.t50720=[H[3],H[2]*p];$.width=_;$.height=P;$.data=new Uint8Array(B.buffer);
return[$]};ot.RAF.flL=function(S,G,j){S=new Uint16Array(S.buffer);var z=new Uint16Array(G*j*2);for(var O=0;
O<j;O+=2)for(var i=0;i<G;i++){var C=O*G+i,M=C*2,D=S[C],X=S[C+G];z[M+1]=z[M+2*G]=X;if(((O>>>1)+i&1)==0){z[M]=D;
z[M+2*G+1]=S[C+1]}else{z[M]=S[C-1];z[M+2*G+1]=D}}return z};function x(){}x.GH=document.createElement("canvas");
x.G=x.GH.getContext("2d");x.XK=function(S,G,j,z){z=Math.log(z)/Math.log(2);z=Math.round(z);for(var O=0;
O<j;O++)for(var i=0;i<G;i++){var C=O*G+i<<2,M=x.bP(O,i,z);S[C]=S[C+1]=S[C+2]=M;S[C+3]=255}};x.bP=function(S,G,j){return 255-((S>>>j)+(G>>>j)&1)*51};
x.zt=function(S){var G=S.toString(16);while(G.length<6)G="0"+G;return G};x.flF=function(S){return parseInt(S,16)};
x.Au=function(S){return.3*S.H+.59*S.X+.11*S.C};x.ca=function(S){return Math.max(S.H,S.X,S.C)-Math.min(S.H,S.X,S.C)};
x.cJ=function(S,G,j){return.3*S+.59*G+.11*j};x.foE=function(S,G,j){return Math.max(S,G,j)-Math.min(S,G,j)};
x.cp=function(S,G){var j=G-S,z=Math.abs(j),O=j-1,i=j+1;if(Math.abs(O)<z)j=O;else if(Math.abs(i)<z)j=i;
return j};x.Mv=function(S,G,j,z){return(G-j)*z/(S-j)};x.XZ=function(S){return S<.0031308?12.92*S:1.055*Math.pow(S,1/2.4)-.055};
x.fgY=function(S){return S<.04045?S/12.92:Math.pow((S+.055)/1.055,2.4)};x.fob=function(S,G,j,z){if(j<G)j+=z;
if(S<G)S+=z;return(S-G)/(j-G)};x.fgZ=function(S,G){var j=Math.min(S.length,G.length);for(var z=0;z<j;
z+=4){var O=S[z],i=S[z+1],C=S[z+2];G[z]=16+Math.floor(65.481/255*O+128.553/255*i+24.966/255*C+.5);G[z+1]=128-Math.floor(37.797/255*O-74.203/255*i+112/255*C+.5);
G[z+2]=128+Math.floor(112/255*O-93.786/255*i-18.214/255*C+.5);G[z+3]=S[z+3]}};x.Nk=function(S,G,j){var z=Math.max(S,G,j),O=Math.min(S,G,j),i=0,C=0,M=(z+O)*.5;
if(z!=O){var D=z-O;C=M>.5?D/(2-(z+O)):D/(z+O);switch(z){case S:i=(G-j)/D+(G<j?6:0);break;case G:i=(j-S)/D+2;
break;case j:i=(S-G)/D+4;break}i*=1/6}return{QM:i,sN:C,we:M}};x.fv=function(S,G,j){var z,O,i;if(G==0)z=O=i=j;
else{var C=j<.5?j*(1+G):j+G-j*G,M=2*j-C;z=x.Xn(M,C,S+1/3);O=x.Xn(M,C,S);i=x.Xn(M,C,S-1/3)}return{H:z,X:O,C:i}};
x.Xn=function(S,G,j){if(j<0)j+=1;if(j>1)j-=1;if(j<1/6)return S+(G-S)*6*j;if(j<1/2)return G;if(j<2/3)return S+(G-S)*(2/3-j)*6;
return S};x.Lm=function(S,G,j){var z=Math.max(S,G,j),O=Math.min(S,G,j),i,C,M=z,D=z-O;C=z==0?0:D/z;if(z==O)i=0;
else{switch(z){case S:i=(G-j)/D+(G<j?6:0);break;case G:i=(j-S)/D+2;break;case j:i=(S-G)/D+4;break}i*=1/6}return{QM:i,sN:C,Gf:M}};
x.HV=function(S,G,j){var z,O,i,C,M,D,X,l;C=Math.floor(S*6);M=S*6-C;D=j*(1-G);X=j*(1-M*G);l=j*(1-(1-M)*G);
switch(C%6){case 0:z=j,O=l,i=D;break;case 1:z=X,O=j,i=D;break;case 2:z=D,O=j,i=l;break;case 3:z=D,O=X,i=j;
break;case 4:z=l,O=D,i=j;break;case 5:z=j,O=D,i=X;break}return{H:z,X:O,C:i}};x.XJ=function(){var S=[],G=[];
for(var j=0;j<2e3;j++){var z=j/1e3;S[j]=x.fgY(z);G[j]=z>.008856?Math.pow(z,1/3):(903.3*z+16)*(1/116)}return[S,G]}();
x.cy=function(S,G,j){var z=x.XJ[0],O=x.XJ[1];S=z[~~(S*(1e3/255))];G=z[~~(G*(1e3/255))];j=z[~~(j*(1e3/255))];
var i=x.Mt.fdc,C=i[0]*S+i[1]*G+i[2]*j,M=i[4]*S+i[5]*G+i[6]*j,D=i[8]*S+i[9]*G+i[10]*j;C=C*(100/96.72);
M=M*(100/100);D=D*(100/81.427);return x.bv(C,M,D)};x.bv=function(S,G,j){var z=x.XJ[1],O=z[~~(S*1e3)],i=z[~~(G*1e3)],C=z[~~(j*1e3)];
return{Fa:116*i-16,A:500*(O-i),C:200*(i-C)}};x.bW=function(S,G,j){var z=903.3,O=.008856,i=(S+16)/116,C=i*i*i,M=i-j/200,D=M*M*M,X=G/500+i,l=X*X*X,f=D>O?D:(116*M-16)/z,F=C>O?C:(116*i-16)/z,$=l>O?l:(116*X-16)/z,_=$*96.72,P=F*100,k=f*81.427,H=x.Mt.VJ(x.Mt.Yg,[_/100,P/100,k/100,0]);
for(var q=0;q<4;q++)H[q]=Math.max(0,Math.min(255,x.XZ(H[q])*255));return{H:H[0],X:H[1],C:H[2]}};x.bm=function(S,G,j,z,O){var i=S.Fa,C=S.A,M=S.C,D=(i<G.Fa?G.Fa-i:j.Fa<i?j.Fa-i:0)*(1/100),X=(C<G.A?G.A-C:j.A<C?j.A-C:0)*(1/116),l=(M<G.C?G.C-M:j.C<M?j.C-M:0)*(1/116),f=Math.sqrt(D*D+X*X+l*l)*1.35;
return f<=z?Math.min(1,1.17*(1-f*O)):0};x.MQ=function(S,G,j){var z=G-x.Au(S);j.H=S.H+z;j.X=S.X+z;j.C=S.C+z;
x.fgd(j)};x.cc=function(S,G,j){var z=S.H,O=S.X,i=S.C;if(z==O&&O==i){j.H=j.X=j.C=0}else if(z>O){if(z>i){if(O>i){j.H=G;
j.X=x.Mv(z,O,i,G);j.C=0}else{j.H=G;j.C=x.Mv(z,i,O,G);j.X=0}}else{j.C=G;j.H=x.Mv(i,z,O,G);j.X=0}}else{if(z<i){if(O>i){j.X=G;
j.C=x.Mv(O,i,z,G);j.H=0}else{j.C=G;j.X=x.Mv(i,O,z,G);j.H=0}}else{j.X=G;j.H=x.Mv(O,z,i,G);j.C=0}}};x.fgd=function(S){var G=S.H,j=S.X,z=S.C,O=x.cJ(G,j,z),i=Math.min(G,j,z),C=Math.max(G,j,z);
if(i<0){var M=O/(O-i);G=O+(G-O)*M;j=O+(j-O)*M;z=O+(z-O)*M}if(C>1){var M=(1-O)/(C-O);G=O+(G-O)*M;j=O+(j-O)*M;
z=O+(z-O)*M}S.H=G;S.X=j;S.C=z};x.jg=function(S,G,j,z,O,i){var C=new Uint32Array(S.buffer),M=0;z=Math.log(z)/Math.log(2);
z=Math.round(z);for(var D=0;D<j;D++)for(var X=0;X<G;X++){C[M++]=(D+i>>z)+(X+O>>z)&1==1?4291348680:4294967295}};
x.fo_=function(S,G,j){return(S>>j)+(G>>j)&1==1?200:255};x.Lw=function(S,G){var j=S.length;for(var z=0;
z<j;z+=4)G[z>>2]=Math.floor(S[z+0]*.3+S[z+1]*.59+S[z+2]*.11+.5)};x.Xy=function(S,G){var j=G.length;for(var z=0;
z<j;z+=4){var O=S[z>>>2];G[z]=O;G[z+1]=O;G[z+2]=O}};x.FP=function(S,G){var j=S.A,z=S.H,O=S.X,i=S.C,C=Math.min(S.A.length,G.buffer.byteLength>>>2),M=4*Math.floor(C/4),D=new Uint32Array(G.buffer),X=new Uint32Array(j.buffer),l=new Uint32Array(z.buffer),f=new Uint32Array(O.buffer),F=new Uint32Array(i.buffer);
for(var $=0;$<M;$+=4){var _=X[$>>2],P=F[$>>2],k=f[$>>2],H=l[$>>2];D[$]=_<<24|(P&255)<<16|(k&255)<<8|H&255;
D[$+1]=(_&65280)<<16|(P&65280)<<8|k&65280|(H&65280)>>>8;D[$+2]=(_&16711680)<<8|P&16711680|(k&16711680)>>>8|(H&16711680)>>>16;
D[$+3]=_&4278190080|(P&4278190080)>>>8|(k&4278190080)>>>16|(H&4278190080)>>>24}for(var $=M;$<C;$++)D[$]=j[$]<<24|i[$]<<16|O[$]<<8|z[$]};
x.foN=function(S,G,j,z){var O=S.A,i=S.H,C=S.X,M=S.C,D=new Uint32Array(G.buffer),X=z.x-j.x,l=X+z.o,f=z.y-j.y,F=f+z.i;
for(var $=f;$<F;$++){var _=$*j.o+X;for(var P=X;P<l;P++){D[_]=O[_]<<24|M[_]<<16|C[_]<<8|i[_];_++}}};x.fy=function(S,G){var j=G.A,z=G.H,O=G.X,i=G.C,C=Math.min(G.A.length,S.buffer.byteLength>>>2),M=4*Math.floor(C/4),D=new Uint32Array(S.buffer),X=new Uint32Array(j.buffer),l=new Uint32Array(z.buffer),f=new Uint32Array(O.buffer),F=new Uint32Array(i.buffer);
for(var $=0;$<M;$+=4){var _=D[$],P=D[$+1],k=D[$+2],H=D[$+3];l[$>>2]=_&255|(P&255)<<8|(k&255)<<16|H<<24;
f[$>>2]=(_&65280)>>8|P&65280|(k&65280)<<8|(H&65280)<<16;F[$>>2]=(_&16711680)>>16|(P&16711680)>>8|k&16711680|(H&16711680)<<8;
X[$>>2]=_>>>24|P>>>24<<8|k>>>24<<16|H&4278190080}for(var $=M;$<C;$++){var q=D[$];z[$]=q>>0&255;O[$]=q>>8&255;
i[$]=q>>16&255;j[$]=q>>24&255}};x.tb=function(S,G,j){var z=new Uint8Array(S.buffer),O=Math.min(z.length/4,G.length);
for(var i=0;i<O;i++){G[i]=z[(i<<2)+j]}};x.Cy=function(S,G,j){var z=new Uint8Array(G.buffer),O=new Uint32Array(S.buffer),i=Math.min(z.length/4,S.length),C=0;
while(C+4<i){var M=O[C>>>2];z[(C<<2)+j]=M&255;z[(C<<2)+j+4]=M>>>8&255;z[(C<<2)+j+8]=M>>>16&255;z[(C<<2)+j+12]=M>>>24;
C+=4}while(C<i){z[(C<<2)+j]=S[C];C++}};x.clone=function(S){return S.slice(0)};x.js=function(S,G){x.set(S.A,G);
x.set(S.H,G);x.set(S.X,G);x.set(S.C,G)};x.set=function(S,G){G=Math.round(G);var j=G<<24|G<<16|G<<8|G,z=new Uint32Array(S.buffer),O=z.length;
for(var i=0;i<O;i++)z[i]=j};x.GC=function(S,G,j){if(j==null)j=0;var z=new Uint32Array(S.buffer),O=z.length;
for(var i=0;i<O;i++)z[i]=z[i]&j|G};x.foF=function(S,G,j,z,O){if(O==null)O=0;var i=new Uint32Array(S.buffer);
j=j.tY(G);var C=j.x-G.x,M=j.y-G.y,D=j.o,X=j.i,l=G.o;for(var f=0;f<X;f++){var F=(M+f)*l+C;for(var $=0;
$<D;$++){i[F]=i[F]&O|z;F++}}};x.fYe=function(S,G){x.Fj(S.A,G.A);x.Fj(S.H,G.H);x.Fj(S.X,G.X);x.Fj(S.C,G.C)};
x.Fj=function(S,G){var j=Math.min(S.buffer.byteLength,G.buffer.byteLength),z=j>>>2,S=new Uint32Array(S.buffer,0,z),G=new Uint32Array(G.buffer,0,z);
G.set(S)};x.fCg=function(S,G){return x.Xs(S.A,G.A)&&x.Xs(S.H,G.H)&&x.Xs(S.X,G.X)&&x.Xs(S.C,G.C)};x.Xs=function(S,G){var j=S.buffer.byteLength,z=G.buffer.byteLength,O=new Uint32Array(S.buffer,0,j>>2),i=new Uint32Array(G.buffer,0,z>>2);
if(j!=z)return!1;var C=O.length;for(var M=0;M<C;M++)if(i[M]!=O[M])return!1;return!0};x.uT=function(S){var G=new Uint32Array(S.buffer),j=G.length;
for(var z=0;z<j;z++)G[z]=~G[z]};x.fCM=function(S){var G=S.length;for(var j=3;j<G;j+=4)S[j]=~S[j]};x.fgJ=function(S){return S+(S%4==0?0:4-S%4)};
x.S=function(S,G){if(G==null)G=!1;if(!G)S=x.fgJ(S);try{var j=new Uint8Array(S)}catch(fI){alert("Not enough RAM! (need "+Math.round(S/(1<<20))+" MB)",7e3);
throw"low_ram"}return j};x.XU=function(S){var G=S.length,j=S[G-2],z=S[G-1];while(z.o>=2||z.i>=2){var O=x.LR(j,z);
S.push(O.hC,O.rect);j=O.hC;z=O.rect}};x.LR=function(S,G,j){var z=G.o,O=G.i,i=z>>1,C=O>>1,M=new Q(G.x,G.y,i,C);
if(S==null)return{rect:M};var D=j&&j.length==i*C*4?j:x.S(i*C*4),X=new Uint32Array(S.buffer),l=new Uint32Array(D.buffer);
for(var f=0;f<C;f++)for(var F=0;F<i;F++){var $=f*i+F,_=(f<<1)*z+(F<<1),P=X[_],k=X[_+1],H=X[_+z],q=X[_+z+1],R=P>>>24,I=k>>>24,b=H>>>24,Y=q>>>24,m=R+I+b+Y;
if(m==1020){var h=(P>>>0&255)+(k>>>0&255)+(H>>>0&255)+(q>>>0&255)+2>>>2,e=(P>>>8&255)+(k>>>8&255)+(H>>>8&255)+(q>>>8&255)+2>>>2,s=(P>>>16&255)+(k>>>16&255)+(H>>>16&255)+(q>>>16&255)+2>>>2;
l[$]=255<<24|s<<16|e<<8|h}else if(m==0)l[$]=0;else{var h=(P>>>0&255)*R+(k>>>0&255)*I+(H>>>0&255)*b+(q>>>0&255)*Y,e=(P>>>8&255)*R+(k>>>8&255)*I+(H>>>8&255)*b+(q>>>8&255)*Y,s=(P>>>16&255)*R+(k>>>16&255)*I+(H>>>16&255)*b+(q>>>16&255)*Y,y=1/m;
h=~~(h*y+.5);e=~~(e*y+.5);s=~~(s*y+.5);l[$]=m+2>>>2<<24|s<<16|e<<8|h}}return{rect:M,hC:D}};x.fgD=function(S,G,j){var z=G.o,O=G.i,i=z>>1,C=O>>1,M=new Q(G.x,G.y,i,C);
if(S==null)return{rect:M};var D=j&&j.length==i*C*4?j:x.S(i*C*4),X=new Uint32Array(S.buffer),l=new Uint32Array(D.buffer);
for(var f=0;f<C;f++)for(var F=0;F<i;F++){var $=f*i+F,_=(f<<1)*z+(F<<1),P=X[_],k=X[_+1],H=X[_+z],q=X[_+z+1],R=2+(P>>>0&255)+(k>>>0&255)+(H>>>0&255)+(q>>>0&255)>>>2,I=2+(P>>>8&255)+(k>>>8&255)+(H>>>8&255)+(q>>>8&255)>>>2,b=2+(P>>>16&255)+(k>>>16&255)+(H>>>16&255)+(q>>>16&255)>>>2;
l[$]=4278190080|b<<16|I<<8|R}return{rect:M,hC:D}};x.fXp=function(S,G,j){var z=G.o,O=G.i,i=2*Math.floor(z/3),C=2*Math.floor(O/3),M=new Q(G.x,G.y,i,C);
if(S==null)return{rect:M};var D=j&&j.length==i*C*4?j:x.S(i*C*4),X=new Uint32Array(S.buffer),l=new Uint32Array(D.buffer);
for(var f=0;f<C;f+=2)for(var F=0;F<i;F+=2){var $=f*i+F,_=(f*3>>>1)*z+(F*3>>>1),P=X[_],k=X[_+1],H=X[_+2],q=X[_+z],R=X[_+1+z],I=X[_+2+z],b=X[_+z+z],Y=X[_+1+z+z],m=X[_+2+z+z],h=P>>>24<<2,e=(P>>>16&255)*h,s=(P>>>8&255)*h,y=(P&255)*h,T=k>>>24<<1,K=(k>>>16&255)*T,B=(k>>>8&255)*T,a=(k&255)*T,u=H>>>24<<2,r=(H>>>16&255)*u,v=(H>>>8&255)*u,o=(H&255)*u,V=q>>>24<<1,J=(q>>>16&255)*V,d=(q>>>8&255)*V,oU=(q&255)*V,p=R>>>24,N=(R>>>16&255)*p,ob=(R>>>8&255)*p,oe=(R&255)*p,oF=I>>>24<<1,oN=(I>>>16&255)*oF,YM=(I>>>8&255)*oF,oE=(I&255)*oF,ox=b>>>24<<2,c=(b>>>16&255)*ox,oG=(b>>>8&255)*ox,or=(b&255)*ox,Yf=Y>>>24<<1,oL=(Y>>>16&255)*Yf,YX=(Y>>>8&255)*Yf,YC=(Y&255)*Yf,Yp=m>>>24<<2,YZ=(m>>>16&255)*Yp,Yz=(m>>>8&255)*Yp,YT=(m&255)*Yp,Yg=h+T+V+p,YY=u+T+oF+p,Yo=ox+Yf+V+p,Ya=Yp+Yf+oF+p,YQ=Yg==0?0:1/Yg,YK=YY==0?0:1/YY,fa=Yo==0?0:1/Yo,YO=Ya==0?0:1/Ya,Yw=0,YV=0,Yu=0,YJ=0;
Yw=~~(.5+(y+a+oU+oe)*YQ);YV=~~(.5+(s+B+d+ob)*YQ);Yu=~~(.5+(e+K+J+N)*YQ);YJ=~~(.5+Yg*(1/9));l[$]=YJ<<24|Yu<<16|YV<<8|Yw;
Yw=~~(.5+(o+a+oE+oe)*YK);YV=~~(.5+(v+B+YM+ob)*YK);Yu=~~(.5+(r+K+oN+N)*YK);YJ=~~(.5+YY*(1/9));l[$+1]=YJ<<24|Yu<<16|YV<<8|Yw;
Yw=~~(.5+(or+YC+oU+oe)*fa);YV=~~(.5+(oG+YX+d+ob)*fa);Yu=~~(.5+(c+oL+J+N)*fa);YJ=~~(.5+Yo*(1/9));l[$+i]=YJ<<24|Yu<<16|YV<<8|Yw;
Yw=~~(.5+(YT+YC+oE+oe)*YO);YV=~~(.5+(Yz+YX+YM+ob)*YO);Yu=~~(.5+(YZ+oL+oN+N)*YO);YJ=~~(.5+Ya*(1/9));l[$+i+1]=YJ<<24|Yu<<16|YV<<8|Yw}return{rect:M,hC:D}};
x.fXH=function(S,G,j){var z=G.o,O=G.i,i=2*Math.floor(z/3),C=2*Math.floor(O/3),M=new Q(G.x,G.y,i,C);if(S==null)return{rect:M};
var D=j&&j.length==i*C*4?j:x.S(i*C*4),X=new Uint32Array(S.buffer),l=new Uint32Array(D.buffer);for(var f=0;
f<C;f+=2)for(var F=0;F<i;F+=2){var $=f*i+F,_=(f*3>>>1)*z+(F*3>>>1),P=X[_],k=X[_+1],H=X[_+2],q=X[_+z],R=X[_+1+z],I=X[_+2+z],b=X[_+z+z],Y=X[_+1+z+z],m=X[_+2+z+z],h=(P>>>16&255)<<2,e=(P>>>8&255)<<2,s=(P&255)<<2,y=(k>>>16&255)<<1,T=(k>>>8&255)<<1,K=(k&255)<<1,B=(H>>>16&255)<<2,a=(H>>>8&255)<<2,u=(H&255)<<2,r=(q>>>16&255)<<1,v=(q>>>8&255)<<1,o=(q&255)<<1,V=R>>>16&255,J=R>>>8&255,d=R&255,oU=(I>>>16&255)<<1,p=(I>>>8&255)<<1,N=(I&255)<<1,ob=(b>>>16&255)<<2,oe=(b>>>8&255)<<2,oF=(b&255)<<2,oN=(Y>>>16&255)<<1,YM=(Y>>>8&255)<<1,oE=(Y&255)<<1,ox=(m>>>16&255)<<2,c=(m>>>8&255)<<2,oG=(m&255)<<2,or=0,Yf=0,oL=0;
or=~~(.5+(s+K+o+d)*(1/9));Yf=~~(.5+(e+T+v+J)*(1/9));oL=~~(.5+(h+y+r+V)*(1/9));l[$]=255<<24|oL<<16|Yf<<8|or;
or=~~(.5+(u+K+N+d)*(1/9));Yf=~~(.5+(a+T+p+J)*(1/9));oL=~~(.5+(B+y+oU+V)*(1/9));l[$+1]=255<<24|oL<<16|Yf<<8|or;
or=~~(.5+(oF+oE+o+d)*(1/9));Yf=~~(.5+(oe+YM+v+J)*(1/9));oL=~~(.5+(ob+oN+r+V)*(1/9));l[$+i]=255<<24|oL<<16|Yf<<8|or;
or=~~(.5+(oG+oE+N+d)*(1/9));Yf=~~(.5+(c+YM+p+J)*(1/9));oL=~~(.5+(ox+oN+oU+V)*(1/9));l[$+i+1]=255<<24|oL<<16|Yf<<8|or}return{rect:M,hC:D}};
x.jT=function(S,G,j,z){var O=x.LR,i=x.fXp,X=0,f;if(S){var C=255,M=S.length;M-=(M>>>3&7)<<3;for(var D=3;
D<M;D+=32)C=C&S[D]&S[D+4]&S[D+8]&S[D+12]&S[D+16]&S[D+20]&S[D+24]&S[D+28];if(C==255){O=x.fgD;i=x.fXH}}var l=j;
while(l<.499){X++;l*=2}if(l<.5001)f=O(S,G,z);else f=i(S,G,z);for(var D=0;D<X;D++)f=O(f.hC,f.rect,z);
return f};x.zP=function(S,G,j,z,O){var i=G.tY(z);if(O)i=i.tY(O);var C=Math.max(0,i.x-G.x),M=Math.max(0,i.x-z.x),D=Math.max(0,i.y-G.y),X=Math.max(0,i.y-z.y),l=i.o,f=i.i;
for(var F=0;F<f;F++){var $=(D+F)*G.o+C,_=(X+F)*z.o+M;for(var P=0;P<l;P++){j[_+P]=S[$+P]}}};x.bT=function(S,G,j,z){if(G.Xs(z)){x.Cy(S,j,3);
return}var O=G.tY(z),i=Math.max(0,O.x-G.x),C=Math.max(0,O.x-z.x),M=Math.max(0,O.y-G.y),D=Math.max(0,O.y-z.y),X=O.o,l=O.i;
for(var f=0;f<l;f++){var F=(M+f)*G.o+i,$=(D+f)*z.o+C;for(var _=0;_<X;_++)j[($+_<<2)+3]=S[F+_]}};x.MS=function(S,G,j,z){var O=G.tY(z),i=Math.max(0,O.x-G.x),C=Math.max(0,O.x-z.x),M=Math.max(0,O.y-G.y),D=Math.max(0,O.y-z.y),X=O.o,l=O.i;
for(var f=0;f<l;f++){var F=(M+f)*G.o+i,$=(D+f)*z.o+C;for(var _=0;_<X;_++)j[$+_]=S[(F+_<<2)+3]}};x.fCC=function(S,G,j,z){var O=G.tY(z),i=Math.max(0,O.x-G.x),C=Math.max(0,O.x-z.x),M=Math.max(0,O.y-G.y),D=Math.max(0,O.y-z.y),X=O.o,l=O.i;
for(var f=0;f<l;f++){var F=(M+f)*G.o+i,$=(D+f)*z.o+C;for(var _=0;_<X;_++)j[$++]=S[F++]}};x.yF=function(S,G,j,z,O){if(G.Xs(z)&&(O==null||O.Xs(z))){x.Fj(S,j);
return}S=new Uint32Array(S.buffer),j=new Uint32Array(j.buffer);var i=G.tY(z);if(O)i=i.tY(O);var C=Math.max(0,i.x-G.x),M=Math.max(0,i.x-z.x),D=Math.max(0,i.y-G.y),X=Math.max(0,i.y-z.y),l=i.o,f=i.i,F=l&3,$=F==0?l:l-F;
for(var _=0;_<f;_++){var P=(D+_)*G.o+C,k=(X+_)*z.o+M,H=0;while(H<$){j[k+H]=S[P+H];j[k+H+1]=S[P+H+1];
j[k+H+2]=S[P+H+2];j[k+H+3]=S[P+H+3];H+=4}if(F==1){j[k+H]=S[P+H]}else if(F==2){j[k+H]=S[P+H];j[k+H+1]=S[P+H+1]}else if(F==3){j[k+H]=S[P+H];
j[k+H+1]=S[P+H+1];j[k+H+2]=S[P+H+2]}}};x.Mp=function(S,G,j,z){var O=G.tY(z),i=Math.max(0,O.x-G.x),C=Math.max(0,O.x-z.x),M=Math.max(0,O.y-G.y),D=Math.max(0,O.y-z.y),X=O.o,l=O.i,f=S.A,F=S.H,$=S.X,_=S.C,P=j.A,k=j.H,H=j.X,q=j.C;
for(var R=0;R<l;R++){var I=(M+R)*G.o+i,b=(D+R)*z.o+C;for(var Y=0;Y<X;Y++){P[b+Y]=f[I+Y];k[b+Y]=F[I+Y];
H[b+Y]=$[I+Y];q[b+Y]=_[I+Y]}}};x.bu=function(S){var G=S.length;for(var j=0;j<G;j+=4){var z=S[j+3];if(z==255)continue;
S[j]=x.qO(S[j]*z);S[j+1]=x.qO(S[j+1]*z);S[j+2]=x.qO(S[j+2]*z)}};x.bd=function(S){var G=S.length;for(var j=0;
j<G;j+=4){var z=S[j+3];if(z==0||z==255)continue;var O=255/z;S[j]=~~(S[j]*O+.5);S[j+1]=~~(S[j+1]*O+.5);
S[j+2]=~~(S[j+2]*O+.5)}};x.fCS=function(){var S=new Uint8Array(256*256);for(var G=0;G<256;G++)for(var j=0;
j<256;j++)S[j*256+G]=Math.round(255*G/j);return S}();x.cH=function(S,G){for(var j=0;j<S.length;j++)if(S[j]!=G)return!1;
return!0};x.qO=function(S){return S+1+(S>>>8)>>>8};x.round=function(S,G){if(G==null)G=128;var j=S.length;
for(var z=0;z<j;z++)S[z]=S[z]<G?0:255};x.cO=function(S,G){var j=S.length;for(var z=0;z<j;z++)S[z]=Math.round(S[z]*G)};
x.fCa=function(S,G){var j=S.length;for(var z=0;z<j;z+=4)S[z+3]=Math.round(S[z+3]*G)};x.cq=function(S,G){var j=new Uint32Array(S.buffer),z=new Uint32Array(G.buffer),O=j.length;
for(var i=0;i<O;i++){var C=j[i],M=z[i];z[i]=x.qO((C>>>24)*(M>>>24))<<24|x.qO((C>>>16&255)*(M>>>16&255))<<16|x.qO((C>>>8&255)*(M>>>8&255))<<8|x.qO((C&255)*(M&255))}};
x.bA=function(S,G){var j=S.length;for(var z=0;z<j;z++)G[(z<<2)+3]=x.qO(G[(z<<2)+3]*S[z])};x.fXD=function(S,G,j,z){var O=Math.max(0,z.x-G.x),i=Math.max(0,G.x-z.x),C=Math.max(0,z.y-G.y),M=Math.max(0,G.y-z.y),D=Math.min(G.x+G.o,z.x+z.o)-Math.max(G.x,z.x),X=Math.min(G.y+G.i,z.y+z.i)-Math.max(G.y,z.y);
for(var l=0;l<X;l++){var f=(C+l)*G.o+O,F=(M+l)*z.o+i;for(var $=0;$<D;$++){j[F]=x.qO(j[F]*S[f]);f++;F++}}};
x.HD=function(S,G,j,z){var O=Math.max(0,z.x-G.x),i=Math.max(0,G.x-z.x),C=Math.max(0,z.y-G.y),M=Math.max(0,G.y-z.y),D=Math.min(G.x+G.o,z.x+z.o)-Math.max(G.x,z.x),X=Math.min(G.y+G.i,z.y+z.i)-Math.max(G.y,z.y);
for(var l=0;l<X;l++){var f=(C+l)*G.o+O,F=((M+l)*z.o+i<<2)+3;for(var $=0;$<D;$++){j[F]=x.qO(j[F]*S[f]);
f++;F+=4}}};x.Mz=function(S,G,j,z){var O=Math.max(0,z.x-G.x),i=Math.max(0,G.x-z.x),C=Math.max(0,z.y-G.y),M=Math.max(0,G.y-z.y),D=Math.min(G.x+G.o,z.x+z.o)-Math.max(G.x,z.x),X=Math.min(G.y+G.i,z.y+z.i)-Math.max(G.y,z.y);
for(var l=0;l<X;l++){var f=((C+l)*G.o+O<<2)+3,F=((M+l)*z.o+i<<2)+3;for(var $=0;$<D;$++){j[F]=x.qO(j[F]*S[f]);
f+=4;F+=4}}};x.fCK=function(S,G,j,z){var O=1/255,i=Math.max(0,z.x-G.x),C=Math.max(0,G.x-z.x),M=Math.max(0,z.y-G.y),D=Math.max(0,G.y-z.y),X=Math.min(G.x+G.o,z.x+z.o)-Math.max(G.x,z.x),l=Math.min(G.y+G.i,z.y+z.i)-Math.max(G.y,z.y);
for(var f=0;f<l;f++){var F=(M+f)*G.o+i,$=(D+f)*z.o+C;for(var _=0;_<X;_++){j[$]=O*j[$]*(255-S[F]);F++;
$++}}};x.fCQ=function(S,G){var j=[];for(var z=0;z<256;z++)j.push(0);var O=S.length,i=1/255;for(var z=0;
z<O;z++)j[S[z]]+=G[z]*i;return j};x.Mu=function(S){var G=new Float64Array(256),j=new Float64Array(256),z=new Float64Array(256),O=new Float64Array(256),i=S.length;
for(var C=0;C<i;C+=4){var M=S[C+3]*(1/255);j[S[C+0]]+=M;z[S[C+1]]+=M;O[S[C+2]]+=M}for(var C=0;C<256;
C++)G[C]=j[C]+z[C]+O[C];return[G,j,z,O,i>>>2]};x.a$=function(S,G){var j=new Uint32Array(S.buffer),z=j.length;
for(var O=0;O<z;O++){var i=j[O],C=i&255,M=i>>8&255,D=i>>16&255,X=i>>24&255;j[O]=G[C]|G[M]<<8|G[D]<<16|G[X]<<24}};
x.fMp=function(S,G,j,z,O,i,C){var M=new Uint32Array(S.buffer),D=new Uint32Array(G.buffer),X=M.length,l=0;
while(256<<l<j.length)l++;if(!C&&!i){for(var f=0;f!=X;f++){var F=M[f],$=(F&255)<<l,_=(F>>>8&255)<<l,P=(F>>>16&255)<<l,k=j[$],H=z[_],q=O[P];
D[f]=k|H<<8|q<<16|F&4278190080}return}for(var f=0;f<X;f++){var F=M[f],$=(F&255)<<l,_=(F>>>8&255)<<l,P=(F>>>16&255)<<l;
if(i)$=_=P=Math.round($*.3+_*.59+P*.11);var k=j[$],H=z[_],q=O[P];if(C){var R=x.cJ($,_,P),I=x.cJ(k,H,q);
if(R>I){var b=(R-I)/(255-I);k+=b*(255-k);H+=b*(255-H);q+=b*(255-q)}else if(I==0)k=H=q=0;else{var b=R/I;
k=b*k;H=b*H;q=b*q}}D[f]=k|H<<8|q<<16|F&4278190080}};x.fPI=function(S){var G=new Uint32Array(256),z=0;
for(var j=0;j<S.length;j++)G[S[j]]++;for(var j=0;j<256;j++)if(G[j]>G[z])z=j;return z};x.Fw=function(S,G){var j=G.o,z=G.i,top=0,O=0,i=0,C=0,M=!1,D=0;
M=!1;for(var X=0;X<z;X++){var l=X*j;for(var f=0;f<j;f++)if(S[l+f]!=D)M=!0;if(M)break;else top++}M=!1;
for(var X=z-1;X>=0;X--){var l=X*j;for(var f=0;f<j;f++)if(S[l+f]!=D)M=!0;if(M)break;else i++}M=!1;for(var f=0;
f<j;f++){for(var X=0;X<z;X++)if(S[X*j+f]!=D)M=!0;if(M)break;else O++}M=!1;for(var f=j-1;f>=0;f--){for(var X=0;
X<z;X++)if(S[X*j+f]!=D)M=!0;if(M)break;else C++}var F=new Q(G.x+O,G.y+top,j-O-C,z-top-i);return F.tR()?new Q(0,0,0,0):F};
x.MK=function(S,G,j,z){if(z==null)z=[!0,!0,!0,!0];if(j==null)j=0;var O=new Uint32Array(S.buffer),i=G.o,C=G.i,top=0,M=0,D=0,X=0,l=!1,f=[O[0],O[O.length-1],0][j];
l=!1;if(z[0])for(var F=0;F<C;F++){var $=F*i;for(var _=0;_<i;_++)if(O[$+_]!=f)l=!0;if(l)break;else top++}l=!1;
if(z[2])for(var F=C-1;F>=0;F--){var $=F*i;for(var _=0;_<i;_++)if(O[$+_]!=f)l=!0;if(l)break;else D++}l=!1;
if(z[1])for(var _=0;_<i;_++){for(var F=0;F<C;F++)if(O[F*i+_]!=f)l=!0;if(l)break;else M++}l=!1;if(z[3])for(var _=i-1;
_>=0;_--){for(var F=0;F<C;F++)if(O[F*i+_]!=f)l=!0;if(l)break;else X++}var P=new Q(G.x+M,G.y+top,i-M-X,C-top-D);
return P.tR()?new Q(0,0,0,0):P};x.fPe=function(S){var G=255,j=S.length;for(var z=3;z<j;z+=4)G=G&S[z];
return G};x.Gw=function(S){var G=x.Fw(S.channel,S.rect);if(G.Xs(S.rect))return;var j=x.S(G.h());x.zP(S.channel,S.rect,j,G);
S.channel=j;S.rect=G};x.cU=function(S){var G=x.S(S.buffer.length>>2);x.tb(S.buffer,G,3);var j=x.Fw(G,S.rect);
if(j.Xs(S.rect))return;var z=new x.S(j.h()*4);x.yF(S.buffer,S.rect,z,j);S.buffer=z;S.rect=j};x.extend=function(S,G,j){if(S.rect.Ym(G))return;
var z=S.rect.wB(G),O=x.S(z.h());if(j!=null)x.set(O,j);x.zP(S.channel,S.rect,O,z);S.rect=z;S.channel=O};
x.fMw=function(S,G){if(G.tR()||S.rect.Ym(G))return;var j=S.rect.wB(G),z=x.S(j.h()*4);x.yF(S.buffer,S.rect,z,j);
S.rect=j;S.buffer=z};x.fvz=function(S,G,j){var z=G.clone(),O=j.h(),i=S.wB(z);while(i.h()/S.h()<2&&i.h()<O){z.En(16,16);
i=i.wB(z).tY(j)}if(O/ i.h()<2)i=j.clone();return i};x.Rl=function(S,G,j){if(!j.oO(S))return!1;var z=Math.floor(S.x)-j.x,O=Math.floor(S.y)-j.y,i=O*j.o+z;
return G[i]>128};x.fMD=function(S,G,j){if(!j.oO(S))return!1;var z=Math.floor(S.x)-j.x,O=Math.floor(S.y)-j.y,i=O*j.o+z;
return G[4*i+3]>128};x.bJ=function(S){if(x.cb.length<S){x.cb=x.S(S);x.set(x.cb,255)}return x.cb};x.cb=x.S(0);
x.Xh=function(S){if(x.MI.length<S)x.MI=x.S(S);return x.MI};x.MI=x.S(0);x.XL=function(S){this.A=x.S(S);
this.H=x.S(S);this.X=x.S(S);this.C=x.S(S)};x.XL.prototype.clone=function(){var S=this.A.length,G=new x.XL(1);
G.A=x.clone(this.A);G.H=x.clone(this.H);G.X=x.clone(this.X);G.C=x.clone(this.C);return G};x.k={};x.k.c$=new Float64Array(256);
x.k.ck=new Uint8Array(256*256);x.k.Mj=new Uint8Array(256*256);(function(){for(var S=0;S<256;S++)x.k.c$[S]=255/S;
for(var S=0;S<256;S++)for(var G=0;G<256;G++)x.k.ck[S*256+G]=S==0?0:Math.round(G*255/S);for(var S=0;S<256;
S++)for(var G=0;G<256;G++)x.k.Mj[S*256+G]=Math.round(S*(255-G)/255)}());x.k.me=function(S,G,j,z,O,i,C,M){if(M==null)M=Yv.WF();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(S)==-1){C=C*M.fill;M.fill=1;M.style=!1}var D="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),X="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),l=x.k[S+"F"];
if(M.tk==null&&S=="norm")x.k.fow(G,j,z,O,i,C,l,M.GJ?1:0);else if(S=="diss")x.k.fCl(G,j,z,O,i,C,l,M.GJ?1:0);
else if(D.indexOf(S)!=-1)x.k.fYr(G,j,z,O,i,C,l,M);else if(X.indexOf(S)!=-1)x.k.fCn(G,j,z,O,i,C,l,M)};
x.k.fMj=function(S,G,j){return S==0?0:1-Math.min(1,(1-G)/(S*j+1-j))};x.k.foK=function(S,G,j){return S*j==1?1:Math.min(1,G/(1-S*j))};
x.k.HO=function(S){return S<=.25?((16*S-12)*S+4)*S:Math.sqrt(S)};x.k.normF=function(S,G,j){return S};
x.k.darkF=function(S,G,j){return Math.min(S,G)};x.k["mul F"]=function(S,G,j){return S*G};x.k.idivF=function(S,G,j){var z=S*j+1-j;
return G==1?1:1-G>=z?0:1-(1-G)/z};x.k.lbrnF=function(S,G,j){return Math.max(0,S*j+G-j)};x.k.dkClF=function(S,G,j){var z=x.Au(S)<x.Au(G)?S:G;
j.H=z.H;j.X=z.X;j.C=z.C;return j};x.k.liteF=function(S,G,j){return Math.max(S,G)};x.k.scrnF=function(S,G,j){return G+S-G*S};
x.k["div F"]=function(S,G,j){S*=j;return G==0?0:G>=1-S?1:G/(1-S)};x.k.lddgF=function(S,G,j){S*=j;return Math.min(1,S+G)};
x.k.lgClF=function(S,G,j){var z=x.Au(S)>x.Au(G)?S:G;j.H=z.H;j.X=z.X;j.C=z.C;return j};x.k.overF=function(S,G,j){return x.k.hLitF(G,S,j)};
x.k.sLitF=function(S,G,j){return S<=.5?G-(1-2*S)*G*(1-G):G+(2*S-1)*(x.k.HO(G)-G)};x.k.hLitF=function(S,G,j){return S<=.5?x.k["mul F"](2*S,G,j):x.k.scrnF(2*S-1,G,j)};
x.k.vLitF=function(S,G,j){return S<=.5?x.k.fMj(2*S,G,j):x.k.foK(2*S-1,G,j)};x.k.lLitF=function(S,G,j){return S<=.5?x.k.lbrnF(2*S,G,j):x.k.lddgF(2*S-1,G,j)};
x.k.pLitF=function(S,G,j){return S<=.5?x.k.darkF(2*S,G,j):x.k.liteF(2*S-1,G,j)};x.k.hMixF=function(S,G,j){if(j>.99)return S+G<1?0:1;
return Math.min(1,Math.max(0,(G+S*j-j)/(1-j+1e-6)))};x.k.diffF=function(S,G,j){S*=j;return Math.abs(S-G)};
x.k.smudF=function(S,G,j){return S+G-2*S*G};x.k.fsubF=function(S,G,j){return Math.max(G-S,0)};x.k.fdivF=function(S,G,j){return Math.min(G/S,1)};
x.k["hue F"]=function(S,G,j){x.cc(S,x.ca(G),j);x.MQ(j,x.Au(G),j)};x.k["sat F"]=function(S,G,j){x.cc(G,x.ca(S),j);
x.MQ(j,x.Au(G),j)};x.k.colrF=function(S,G,j){x.MQ(S,x.Au(G),j)};x.k["lum F"]=function(S,G,j){x.MQ(G,x.Au(S),j)};
x.k.fow=function(S,G,j,z,O,i,C,M){var D=G.tY(z).tY(O),X=Math.max(0,D.x-G.x),l=Math.max(0,D.x-z.x),f=Math.max(0,D.y-G.y),F=Math.max(0,D.y-z.y),$=D.o,_=D.i,P=G.o,k=z.o,H=x.k.ck,q=x.k.Mj,R=new Uint32Array(S.buffer),I=new Uint32Array(j.buffer);
for(var b=0;b<_;b++){var Y=(f+b)*P+X,m=(F+b)*k+l;for(var h=0;h<$;h++){var e=R[Y+h],T=255;if(e>>>24==0)continue;
if(e>>>24==255&&i==1&&M==0){I[m+h]=R[Y+h];continue}var s=I[m+h],y=255*i&255;if(M==0){y=(e>>>24)*i&255;
T=s>>>24}var K=q[T<<8|y],B=y+K,a=e&255,u=e>>>8&255,r=e>>>16&255,v=s&255,o=s>>>8&255,V=s>>>16&255;I[m+h]=M*(s>>>24)+(1-M)*B<<24|H[B<<8|x.qO(r*y+V*K)]<<16|H[B<<8|x.qO(u*y+o*K)]<<8|H[B<<8|x.qO(a*y+v*K)]}}};
x.k.fYh=function(S,G,j,z,O,i){var C=G.tY(z).tY(O),M=Math.max(0,C.x-G.x),D=Math.max(0,C.x-z.x),X=Math.max(0,C.y-G.y),l=Math.max(0,C.y-z.y),f=C.o,F=C.i,$=G.o,_=z.o,P=x.k.ck,k=x.k.Mj,H=new Uint32Array(S.buffer),q=new Uint32Array(j.buffer),R=Math.floor(Math.random()*16777215),I=0;
for(var b=0;b<F;b++){var Y=(X+b)*$+M,m=(l+b)*_+D;for(var h=0;h<f;h++){var e=H[Y+h];if(e>>>24==0)continue;
if(e>>24==255&&i==1){q[m+h]=e;continue}var s=q[m+h],y=(e>>>24)*i*(1/255),T=(s>>>24)*(1/255),K=T*(1-y),B=y+K,a=e&255,u=e>>>8&255,r=e>>>16&255,v=s&255,o=s>>>8&255,V=s>>>16&255;
I>>>=8;if((h&3)==0)I=x.k.Hr(m+h+R);var J=B==0?0:1/B,d=Math.floor(B*(256*255))+(I&255)>>>8,oU=Math.floor((r*y+V*K)*J+.5),p=Math.floor((u*y+o*K)*J+.5),N=Math.floor((a*y+v*K)*J+.5);
q[m+h]=d<<24|oU<<16|p<<8|N}}};x.k.c_=function(S,G,j,z,O,i,C,M){var D=x.cJ(S,G,j),X=x.cJ(z,O,i),l=Math.min,f=x.k.fYN,F=f(D,M,0);
F=l(F,f(S,M,8));F=l(F,f(G,M,16));F=l(F,f(j,M,24));var $=f(X,M,4);$=l($,f(z,M,12));$=l($,f(O,M,20));$=l($,f(i,M,28));
$=Math.max($,1-C);var _=Math.min(F,$);return _<0?0:_>1?1:_};x.k.fYN=function(S,G,j){return Math.min((S-G[j])*G[j+1],(S-G[j+3])*G[j+2])};
x.k.fYr=function(S,G,j,z,O,i,C,M){var D=1/255,X=D*i,l=M.GJ?1:0,f=M.fill,F=M.style,$=G.tY(z).tY(O),_=Math.max(0,$.x-G.x),P=Math.max(0,$.x-z.x),k=Math.max(0,$.y-G.y),H=Math.max(0,$.y-z.y),q=$.o,R=$.i,I=G.o,b=z.o,Y=new Uint32Array(S.buffer),m=new Uint32Array(j.buffer);
for(var h=0;h<R;h++){var e=(k+h)*I+_,s=(H+h)*b+P;for(var y=0;y<q;y++,e++,s++){var T=Y[e],J=1;if(T>>>24==0)continue;
var K=m[s],B=(T&255)*D,a=(T>>>8&255)*D,u=(T>>>16&255)*D,r=(K&255)*D,v=(K>>>8&255)*D,o=(K>>>16&255)*D,V=i;
if(l==0){V=(T>>>24)*X;J=(K>>>24)*D}if(M.tk)V*=x.k.c_(B,a,u,r,v,o,J,M.tk);var d=J*(1-V),oU=V+d,p=255/oU,N=F?1:V,ob=((1-J)*V*B+(1-N)*J*r+N*J*C(B,r,(1+V-N)*f))*p,oe=((1-J)*V*a+(1-N)*J*v+N*J*C(a,v,(1+V-N)*f))*p,oF=((1-J)*V*u+(1-N)*J*o+N*J*C(u,o,(1+V-N)*f))*p;
oU=V*f+J*(1-V*f);var oN=Math.round(oU*255);m[s]=l*(K>>>24)+(1-l)*oN<<24|oF<<16|oe<<8|ob}}};x.k.fCn=function(S,G,j,z,O,i,C,M){var D=1/255,X=D*i,l=M.GJ?1:0,f=G.tY(z).tY(O),F=Math.max(0,f.x-G.x),$=Math.max(0,f.x-z.x),_=Math.max(0,f.y-G.y),P=Math.max(0,f.y-z.y),k=f.o,H=f.i,q=new Uint32Array(S.buffer),R=new Uint32Array(j.buffer),I={H:0,X:0,C:0},b={H:0,X:0,C:0},Y={H:0,X:0,C:0};
for(var m=0;m<H;m++){var h=(_+m)*G.o+F,e=(P+m)*z.o+$;for(var s=0;s<k;s++,h++,e++){var y=q[h],T=R[e],K=(y&255)*D,B=(y>>>8&255)*D,a=(y>>>16&255)*D,u=(T&255)*D,r=(T>>>8&255)*D,v=(T>>>16&255)*D,o=i,V=1;
if(l==0){o=(y>>>24)*X;V=(T>>>24)*D}if(M.tk)o*=x.k.c_(K,B,a,u,r,v,V,M.tk);var J=V*(1-o),d=o+J,oU=255/d;
I.H=K;I.X=B;I.C=a;b.H=u;b.X=r;b.C=v;C(I,b,Y);var p=(((1-V)*K+V*Y.H)*o+u*J)*oU,N=(((1-V)*B+V*Y.X)*o+r*J)*oU,ob=(((1-V)*a+V*Y.C)*o+v*J)*oU,oe=l*(T>>>24)+(1-l)*Math.round(d*255);
R[e]=oe<<24|ob<<16|N<<8|p}}};x.k.jw=function(S){S=S^61^S>>>16;S=S+(S<<3);S=S^S>>>4;S=S*668265261;S=S^S>>15;
return(S&16777215)*(1/16777215)};x.k.Hr=function(S){S=S^61^S>>>16;S=S+(S<<3);S=S^S>>>4;S=S*668265261;
S=S^S>>>15;return S};x.k.bl=function(S){this.l_=S};x.k.bl.prototype.get=function(){var S=this.l_=x.k.Hr(this.l_);
return(S&16777215)*(1/16777215)};x.k.fCl=function(S,G,j,z,O,i,C,M){var D=1/255,X=D*i,l=Math.round(i*(256*256*256/255)),f=G.tY(z).tY(O),F=Math.max(0,f.x-G.x),$=Math.max(0,f.x-z.x),_=Math.max(0,f.y-G.y),P=Math.max(0,f.y-z.y),k=f.o,H=f.i,q=new Uint32Array(S.buffer),R=new Uint32Array(j.buffer);
for(var I=0;I<H;I++){var b=(_+I)*G.o+F,Y=(P+I)*z.o+$;for(var m=0;m<k;m++,b++,Y++){var h=q[b],e=R[Y],s=M*255+(1-M)*(h>>>24);
if((x.k.Hr(b)&16777215)>=s*l)continue;R[Y]=h&16777215|M*(e>>>24)+(1-M)*255<<24}}};x.k.fvA=function(S,G,j){for(var z=0;
z<S.length;z+=4){var O=j[z>>>2];if(O==0)continue;var i=O*(1/255),C=1/ i,M=G[z],D=G[z+1],X=G[z+2],l=S[z],f=S[z+1],F=S[z+2];
G[z]=Math.min(255,Math.max(0,Math.round((M-(1-i)*l)*C)));G[z+1]=Math.min(255,Math.max(0,Math.round((D-(1-i)*f)*C)));
G[z+2]=Math.min(255,Math.max(0,Math.round((X-(1-i)*F)*C)));G[z+3]=255}};x.k.AN=function(S,G,j,z,O,i,C,M,D,X){if(X==null)X=!1;
if(O&&!G.Xs(i)){var l=x.S(G.h()*4);x.set(l,C);x.zP(O,i,l,G);O=l;i=G}if(X){if(O==null)x.k.fCq(S,G,j,z,O,M,D);
else x.k.fC_(S,G,j,z,O,M,D)}else{if(O==null)x.k.fCI(S,G,j,z,O,M,D);else x.k.fC$(S,G,j,z,O,M,D)}};x.k.fCI=function(S,G,j,z,O,i,C){var M=1/255,D=G.tY(z).tY(i),X=Math.max(0,D.x-G.x),l=Math.max(0,D.x-z.x),f=Math.max(0,D.y-G.y),F=Math.max(0,D.y-z.y),$=D.o,_=D.i,P=new Uint32Array(S.buffer),k=new Uint32Array(j.buffer),H=x.k.ck,q=C*255&255;
for(var R=0;R<_;R++){var I=(f+R)*G.o+X,b=(F+R)*z.o+l;for(var Y=0;Y<$;Y++,I++,b++){var m=P[I],h=k[b],e=m>>>24,s=h>>>24,y=x.qO(q*e+(255-q)*s),T=x.qO(e*q),K=x.qO(s*(255-q)),B=m&255,a=m>>>8&255,u=m>>>16&255,r=h&255,v=h>>>8&255,o=h>>>16&255,V=T*B+r*K,J=T*a+v*K,d=T*u+o*K;
V=H[y<<8|x.qO(V)];J=H[y<<8|x.qO(J)];d=H[y<<8|x.qO(d)];k[b]=y<<24|d<<16|J<<8|V}}};x.k.fCq=function(S,G,j,z,O,i,C){var M=1/255,D=G.tY(z).tY(i),X=Math.max(0,D.x-G.x),l=Math.max(0,D.x-z.x),f=Math.max(0,D.y-G.y),F=Math.max(0,D.y-z.y),$=D.o,_=D.i,P=new Uint32Array(S.buffer),k=new Uint32Array(j.buffer),H=x.k.ck,q=C*16777215&16777215;
for(var R=0;R<_;R++){var I=(f+R)*G.o+X,b=(F+R)*z.o+l;for(var Y=0;Y<$;Y++,I++,b++){if((x.k.Hr(I)&16777215)<q)k[b]=P[I]}}};
x.k.fC$=function(S,G,j,z,O,i,C){var M=1/255,D=G.tY(z).tY(i),X=Math.max(0,D.x-G.x),l=Math.max(0,D.x-z.x),f=Math.max(0,D.y-G.y),F=Math.max(0,D.y-z.y),$=D.o,_=D.i,P=new Uint32Array(S.buffer),k=new Uint32Array(j.buffer),H=x.k.ck;
for(var q=0;q<_;q++){var R=(f+q)*G.o+X,I=(F+q)*z.o+l;for(var b=0;b<$;b++,R++,I++){var Y=O[R]*C&255;if(Y==0)continue;
if(Y==255){k[I]=P[R];continue}var m=P[R],h=k[I],e=m>>>24,s=h>>>24,y=x.qO(Y*e+(255-Y)*s),T=x.qO(e*Y),K=x.qO(s*(255-Y)),B=m&255,a=m>>>8&255,u=m>>>16&255,r=h&255,v=h>>>8&255,o=h>>>16&255,V=H[y<<8|x.qO(T*B+r*K)],J=H[y<<8|x.qO(T*a+v*K)],d=H[y<<8|x.qO(T*u+o*K)];
k[I]=y<<24|d<<16|J<<8|V}}};x.k.fC_=function(S,G,j,z,O,i,C){var M=1/255,D=G.tY(z).tY(i),X=Math.max(0,D.x-G.x),l=Math.max(0,D.x-z.x),f=Math.max(0,D.y-G.y),F=Math.max(0,D.y-z.y),$=D.o,_=D.i,P=new Uint32Array(S.buffer),k=new Uint32Array(j.buffer),H=x.k.ck,q=Math.round(C*257);
for(var R=0;R<_;R++){var I=(f+R)*G.o+X,b=(F+R)*z.o+l;for(var Y=0;Y<$;Y++,I++,b++){var m=O[I]*q;if((x.k.Hr(I)&65535)<m)k[b]=P[I]}}};
x.k.bI=function(S,G,j,z,O,i,C){var M=1/255,D=G.tY(z).tY(i),X=Math.max(0,D.x-G.x),l=Math.max(0,D.x-z.x),f=Math.max(0,D.y-G.y),F=Math.max(0,D.y-z.y),$=D.o,_=D.i,P=new Uint32Array(S.buffer),k=new Uint32Array(j.buffer),H=Math.floor(Math.random()*z.h()),q=x.k.fSS;
for(var R=0;R<_;R++){var I=(f+R)*G.o+X,b=(F+R)*z.o+l;for(var Y=0;Y<$;Y++){var m=O[I+Y]*C;if(m==0)continue;
if(m==255){k[b+Y]=P[I+Y];continue}var h=P[I+Y],e=k[b+Y],s=h>>>24,y=e>>>24,T=s*m*(1/255),K=y*(255-m)*(1/255),B=h&255,a=h>>>8&255,u=h>>>16&255,r=e&255,v=e>>>8&255,o=e>>>16&255,V=x.k.Hr(b+Y+H),J=Math.floor((T+K)*256+.5)+(V>>>0&255)>>>8,d=J==0?0:256/(T+K),oU=B*T+r*K,p=a*T+v*K,N=u*T+o*K,ob=Math.floor(oU*d+.5)+(V>>>8&255)>>>8,oe=Math.floor(p*d+.5)+(V>>>16&255)>>>8,oF=Math.floor(N*d+.5)+(V>>>21&248)>>>8;
k[b+Y]=J<<24|oF<<16|oe<<8|ob}}};x.k.fSS=function(S){return Math.floor(S+Math.random())};x.k.MH=function(S,G,j,z,O,i,C){var M=1/255,D=G.tY(z).tY(i),X=Math.max(0,D.x-G.x),l=Math.max(0,D.x-z.x),f=Math.max(0,D.y-G.y),F=Math.max(0,D.y-z.y),$=D.o,_=D.i;
for(var P=0;P<_;P++){var k=(f+P)*G.o+X,H=(F+P)*z.o+l;for(var q=0;q<$;q++,k++,H++){var R=C*O[k]*M;if(R==0)continue;
if(R==1){j[H]=S[k];continue}j[H]=S[k]*R+j[H]*(1-R)}}};x.pQ={};x.pQ.fSe=function(S,G,j,z,O,i){x.pQ.Mb(S,G,j,z,O,i,null,0)};
x.pQ.fPf=function(S,G,j,z,O){x.pQ.Mb(S,G,j,z,O,null,null,0)};x.pQ.fPc=function(S,G,j,z,O,i,C){x.pQ.Mb(S,G,j,z,O,null,i,C*.5)};
x.pQ.Mb=function(S,G,j,z,O,i,C,M){var D=0,K=0,B=1e9,a=0,u=1e9,r=0,v=1e9,o=0,V=0,J=0,d=0;if(i){D=O*.5;
O=3+Math.round((O-3)*.75)}if(C){O=Math.round(O*2.2)}var X=1/O,l=Math.floor(G*X)+1,f=Math.floor(j*X)+1,F=[],$=new Uint8Array(l*f*4),_=C?.5:1,P=i?64:0;
for(var k=0;k<f;k++){var H=C?.5*(k&1):0;for(var q=0;q<l;q++){var R=(q+Math.random()*_+H)*O,I=(k+Math.random()*_)*O;
F.push(R,I);var b=Math.min(G-1,Math.floor(R)),Y=Math.min(j-1,Math.floor(I)),m=(Y*G+b)*4,h=(k*l+q)*4;
for(var e=0;e<4;e++)$[h+e]=Math.max(0,Math.min(255,Math.floor(S[m+e]+(Math.random()-.5)*P)))}}var s=i?i:C?C:[0,0,0],y=l*f*2,T=[-l-1,-l,-l+1,-1,0,1,l-1,l,l+1];
for(var k=0;k<j;k++){J=0;for(var q=0;q<G;q++){var oU=q+.5,p=k+.5,N=Math.floor(p*X),ob=Math.floor(oU*X),oe=N*l+ob,YM=0,oE=0;
if(J>1+M){B=x.pQ.bB(F,K,oU,p);o=Math.sqrt(B);J--;d++}else{B=u=v=1e9;for(var e=0;e<T.length;e++){var oF=(oe+T[e])*2;
if(oF<0||oF>=y)continue;var oN=x.pQ.bB(F,oF,oU,p);if(oN<v){if(oN<u){if(oN<B){r=a;v=u;a=K;u=B;K=oF;B=oN}else{r=a;
v=u;a=oF;u=oN}}else{r=oF;v=oN}}}o=Math.sqrt(B);V=Math.sqrt(u);J=V-(o+V)*.5}if(C==null){var ox=(o+V)*.5,c=i?Math.max(0,ox-D):0;
YM=Math.max(0,Math.min(1,.5+ox-o-c));oE=Math.max(0,Math.min(1,1-(.5+ox-o)-c))}else{var oG=Math.min(x.pQ.bD(F,K,a,oU,p),x.pQ.bD(F,K,r,oU,p));
YM=Math.max(0,Math.min(1,oG-M*.5));if(oU<M||G-M<oU||p<M||j-M<p)YM=0;oE=0}var or=1-oE-YM,h=k*G+q<<2,Yf=K<<1,oL=a<<1;
z[h+0]=Math.floor(.5+YM*$[Yf+0]+oE*$[oL+0]+or*s[0]);z[h+1]=Math.floor(.5+YM*$[Yf+1]+oE*$[oL+1]+or*s[1]);
z[h+2]=Math.floor(.5+YM*$[Yf+2]+oE*$[oL+2]+or*s[2]);z[h+3]=S[h+3]}}};x.pQ.bB=function(S,G,j,z){var O=j-S[G],i=z-S[G+1];
return O*O+i*i};x.pQ.bD=function(S,G,j,z,O){var i=S[G],C=S[G+1],M=S[j],D=S[j+1],X=(i+M)*.5,l=(C+D)*.5,f=X+(D-C),F=l-(M-i),$=F-l,_=f-X;
return Math.abs($*z-_*O+f*l-F*X)/Math.sqrt(_*_+$*$)};x.blur={};x.blur.jd=function(S){if(x.blur.cG.length<S)x.blur.cG=x.S(S);
return x.blur.cG};x.blur.cG=x.S(0);x.blur.bj=function(S){if(x.blur.M_.length<S)x.blur.M_=new Float32Array(S);
return x.blur.M_};x.blur.M_=new Float32Array(0);x.blur.VX=function(S,G,j,z){var O=j.o,i=j.i;x.blur.fPR(S,G,O,i,z)};
x.blur.fPV=function(S,G,j){var z=G.o,O=G.i;x.blur.fpw(S,z,O,j)};x.blur.ct=function(S,G,j,z){var O=j.o,i=j.i;
x.blur.fpq(S,G,O,i,z)};x.blur.bq=function(S,G,j,z){var O=j.o,i=j.i;z=Math.round(z);var C=x.blur.jd(O*i);
x.Fj(S,G);x.blur.Vg(G,C,O,i,z)};x.blur.bE=function(S,G,j){var z=G.o,O=G.i;j=Math.round(j);var i=x.blur.jd(z*O*4);
x.blur.Vf(S,i,z,O,j)};x.blur.oY=function(S,G,j,z){var O=j.o,i=j.i;z=Math.round(z);var C=x.blur.bj(O*i);
x.Fj(S,G);x.blur.Vv(G,C,O,i,z)};x.blur.bb=function(S,G,j){var z=G.o,O=G.i;j=Math.round(j);var i=x.blur.jd(z*O*4);
x.blur.be(S,i,z,O,j);x.Fj(i,S)};x.blur.oC=function(S,G){var j=Math.sqrt(12*S*S/G+1),z=Math.floor(j);
if(z%2==0)z--;var O=z+2,i=(12*S*S-G*z*z-4*G*z-3*G)/(-4*z-4),C=Math.round(i),M=[];for(var D=0;D<G;D++)M.push(D<C?z:O);
return M};x.blur.fPR=function(S,G,j,z,O){var i=x.blur.oC(O,3),C=x.blur.jd(j*z);x.Fj(S,G);x.blur.Vg(G,C,j,z,i[0]-1>>1);
x.blur.Vg(G,C,j,z,i[1]-1>>1);x.blur.Vg(G,C,j,z,i[2]-1>>1)};x.blur.fpw=function(S,G,j,z){var O=x.blur.oC(z,3),i=x.blur.jd(G*j*4);
x.blur.Vf(S,i,G,j,O[0]-1>>1);x.blur.Vf(S,i,G,j,O[1]-1>>1);x.blur.Vf(S,i,G,j,O[2]-1>>1)};x.blur.fpq=function(S,G,j,z,O){var i=x.blur.oC(O,3),C=x.blur.bj(j*z);
x.Fj(S,G);x.blur.Vv(G,C,j,z,(i[0]-1)/2);x.blur.Vv(G,C,j,z,(i[1]-1)/2);x.blur.Vv(G,C,j,z,(i[2]-1)/2)};
x.blur.Vg=function(S,G,j,z,O){x.blur.fzP(S,G,j,z,O);x.blur.fzt(G,S,j,z,O)};x.blur.Vf=function(S,G,j,z,O){x.blur.be(S,G,j,z,O);
x.blur.fKX(G,S,j,z,O)};x.blur.Vv=function(S,G,j,z,O){x.blur.fzq(S,G,j,z,O);x.blur.fKM(G,S,j,z,O)};x.blur.oP=[];
x.blur.Vp=function(S){if(x.blur.oP[S])return x.blur.oP[S];var G=1/(S+S+1),j=(S+S+1)*256,z=x.S(j);for(var O=0;
O<j;O++)z[O]=Math.round(O*G);x.blur.oP[S]=z;return z};x.blur.fzP=function(S,G,j,z,O){var i=1/(O+O+1),C=j-O-O-1,M=x.blur.Vp(O);
for(var D=0;D<z;D++){var X=D*j,l=X,f=X+O,F=S[X],$=S[X+j-1],_=(O+1)*F;for(var P=0;P<O;P++)_+=S[X+P];for(var P=0;
P<=O;P++){_+=S[f+P]-F;G[X+P]=M[_]}f+=O+1;X+=O+1;for(var P=0;P<C;P++){_+=S[f+P]-S[l+P];G[X+P]=M[_]}f+=C;
l+=C;X+=C;for(var P=j-O;P<j;P++){_+=$-S[l++];G[X++]=M[_]}}};x.blur.be=function(S,G,j,z,O){var i=j<<2,C=O<<2,M=1/(O+O+1),D=j-O-O-1,X=D<<2,l=x.blur.Vp(O);
for(var f=0;f<z;f++){var F=f*i,$=F,_=F+C,P=F+i,k=S[F],H=S[F+1],q=S[F+2],R=S[F+3],I=(O+1)*k,b=(O+1)*H,Y=(O+1)*q,m=(O+1)*R;
for(var h=0;h<C;h+=4){I+=S[F+h];b+=S[F+h+1];Y+=S[F+h+2];m+=S[F+h+3]}for(var h=0;h<=C;h+=4){I+=S[_]-k;
G[F]=l[I];b+=S[_+1]-H;G[F+1]=l[b];Y+=S[_+2]-q;G[F+2]=l[Y];m+=S[_+3]-R;G[F+3]=l[m];_+=4;F+=4}for(var h=0;
h<X;h+=4){I+=S[_+h]-S[$+h];G[F+h]=l[I];b+=S[_+h+1]-S[$+h+1];G[F+h+1]=l[b];Y+=S[_+h+2]-S[$+h+2];G[F+h+2]=l[Y];
m+=S[_+h+3]-S[$+h+3];G[F+h+3]=l[m]}_+=X;$+=X;F+=X;k=S[P-4];H=S[P-3];q=S[P-2];R=S[P-1];for(var h=j-O;
h<j;h++){I+=k-S[$];G[F]=l[I];b+=H-S[$+1];G[F+1]=l[b];Y+=q-S[$+2];G[F+2]=l[Y];m+=R-S[$+3];G[F+3]=l[m];
$+=4;F+=4}}};x.blur.fzq=function(S,G,j,z,O){var i=1/(O+O+1),C=j-O-O-1,M=0,D=0,X=0;for(var l=0;l<z;l++){M=l*j;
D=M;X=M+O;var f=S[M],F=S[M+j-1],$=(O+1)*f;for(var _=0;_<O;_++){$+=S[M+_]}for(var _=0;_<=O;_++){$+=S[X++]-f;
G[M++]=$*i}for(var _=0;_<C;_++){$+=S[X+_]-S[D+_];G[M+_]=$*i}X+=C;D+=C;M+=C;for(var _=j-O;_<j;_++){$+=F-S[D++];
G[M++]=$*i}}};x.blur.fzt=function(S,G,j,z,O){var i=1/(O+O+1),C=z-O-O-1,M=x.blur.Vp(O);for(var D=0;D<j;
D++){var X=D,l=X,f=X+O*j,F=S[X],$=S[X+j*(z-1)],_=(O+1)*F;for(var P=0;P<O;P++)_+=S[X+P*j];for(var P=0;
P<=O;P++){_+=S[f]-F;G[X]=M[_];f+=j;X+=j}for(var P=0;P<C;P++){var k=P*j;_+=S[f+k]-S[l+k];G[X+k]=M[_]}l+=C*j;
f+=C*j;X+=C*j;for(var P=z-O;P<z;P++){_+=$-S[l];G[X]=M[_];l+=j;X+=j}}};x.blur.fKX=function(S,G,j,z,O){var i=j<<2,C=O<<2,M=1/(O+O+1),D=z-O-O-1,X=D<<2,l=x.blur.Vp(O);
for(var f=0;f<j;f++){var F=f<<2,$=F,_=F+O*i,P=F+i*(z-1),k=S[F],H=S[F+1],q=S[F+2],R=S[F+3],I=(O+1)*k,b=(O+1)*H,Y=(O+1)*q,m=(O+1)*R;
for(var h=0;h<O;h++){var e=F+h*i;I+=S[e];b+=S[e+1];Y+=S[e+2];m+=S[e+3]}for(var h=0;h<=O;h++){I+=S[_]-k;
G[F]=l[I];b+=S[_+1]-H;G[F+1]=l[b];Y+=S[_+2]-q;G[F+2]=l[Y];m+=S[_+3]-R;G[F+3]=l[m];_+=i;F+=i}for(var h=0;
h<D;h++){var s=h*i;I+=S[_+s]-S[$+s];G[F+s]=l[I];b+=S[_+s+1]-S[$+s+1];G[F+s+1]=l[b];Y+=S[_+s+2]-S[$+s+2];
G[F+s+2]=l[Y];m+=S[_+s+3]-S[$+s+3];G[F+s+3]=l[m]}$+=D*i;_+=D*i;F+=D*i;k=S[P];H=S[P+1];q=S[P+2];R=S[P+3];
for(var h=z-O;h<z;h++){I+=k-S[$];G[F]=l[I];b+=H-S[$+1];G[F+1]=l[b];Y+=q-S[$+2];G[F+2]=l[Y];m+=R-S[$+3];
G[F+3]=l[m];$+=i;F+=i}}};x.blur.fKM=function(S,G,j,z,O){var i=1/(O+O+1),C=z-O-O-1;for(var M=0;M<j;M++){var D=M,X=D,l=D+O*j,f=S[D],F=S[D+j*(z-1)],$=(O+1)*f;
for(var _=0;_<O;_++)$+=S[D+_*j];for(var _=0;_<=O;_++){$+=S[l]-f;G[D]=$*i;l+=j;D+=j}for(var _=0;_<C;_++){var P=_*j;
$+=S[l+P]-S[X+P];G[D+P]=$*i}X+=C*j;l+=C*j;D+=C*j;for(var _=z-O;_<z;_++){$+=F-S[X];G[D]=$*i;X+=j;D+=j}}};
x.GW={};x.GW.S=function(S,G,z,O){var i=[];for(var C=0;C<4;C++)for(var M=0;M<4;M++)i.push(S+z*M/3,G+O*C/3);
return i};x.GW.bN=function(S,G){var j=S.slice(0);for(var z=0;z<4;z++)for(var O=0;O<4;O++){var i=2*(z*4+O),C=2*(O*4+(3-z));
if(G){var M=i;i=C;C=M}j[C]=S[i];j[C+1]=S[i+1]}return j};x.GW.fWx=new Float64Array(16);x.GW.drawImage=function(S,G,j,z,O,i,C){if(C==null)C=!1;
var M=i.o,D=i.i,F=2;O=new Uint32Array(O.buffer);G=new Uint32Array(G.buffer);var X=x.GW.t.ef(S,0,1,0,1,j,z),l=X.Cz,f=X.O_,$=1/F,_=x.GW.Vz,P=new Float64Array(2),k=new Uint32Array(30);
for(var H=0;H<D;H++)for(var q=0;q<M;q++){var R=q+i.x+.5,I=H+i.y+.5,b=x.GW.t.fsx(l,f,R,I,k),T=0,K=0,B=0,a=0;
if(b==0)continue;var Y=H*M+q,m=x.GW.Rl(S,R,I,l,k,b,!0),h=_[0]*j,e=_[1]*z;if(C){if(m!=-1&&0<h&&h<j&&0<e&&e<z){var s=Math.floor(e)*j+Math.floor(h);
O[Y]=G[s]}continue}var y=m!=-1&&(1<h&&h<j-1)&&(1<e&&e<z-1);if(l[m+8]<.95){x.Z.oj(h,e,G,j,z,O,Y,0);continue}for(var u=0;
u<F;u++)for(var r=0;r<F;r++){var R=q+i.x+(u+.5)*$,I=H+i.y+(r+.5)*$,m=0;m=x.GW.Rl(S,R,I,l,k,b,!0);if(m!=-1){var h=_[0],e=_[1],h=Math.floor(h*j);
e=Math.floor(e*z);var v=G[e*j+h],o=v>>>24;T+=(v&255)*o;K+=(v>>>8&255)*o;B+=(v>>>16&255)*o;a+=o}}if(a!=0){var V=1/a;
T=~~(T*V+.5);K=~~(K*V+.5);B=~~(B*V+.5);a=~~(a*$*$+.5);O[Y]=a<<24|B<<16|K<<8|T}}};x.GW.Vz=new Float64Array(5*20);
x.GW.fsA=new Uint32Array(5*5*20);x.GW.Rl=function(S,G,j,z,O,i,C){var M=x.GW.Vz,D=x.GW.fsA,X=0,l=0;for(var f=0;
f<i;f++){var F=O[f],$=X;X=x.GW.ov(S,G,j,z,F+4,C,M,X);if(X!=$){D[l]=F;l+=5}}if(X==0)return-1;else if(X==5)return D[0];
else{var _=0;for(var f=0;f<X;f+=5)if(M[f+4]<M[_+4])_=f;M[0]=M[_];M[1]=M[_+1];M[2]=M[_+2];M[3]=M[_+3];
return D[_]}};x.GW.Mh=new Array(10);x.GW.ov=function(S,G,j,z,O,i,C,M){var D=x.GW.Mh,X=0,l=0,f=0,F=0,$=0,_=0,P=0,k=z[O],H=z[O+1],q=z[O+2],R=z[O+3],I=(q-G)*(q-G)+(R-j)*(R-j);
for(var b=0;b<5&&I>.05;b++){x.GW.GF(D,0,H);x.GW.MF(D,4,k);x.GW.VM(S,D);X=D[8];l=D[9];x.GW.MF(D,0,H);
x.GW.GF(D,4,k);x.GW.VM(S,D);f=D[8];F=D[9];$=1/(X*F-l*f);_=(q-G)*$;P=(R-j)*$;k+=-F*_+f*P;H+=+l*_-X*P;
x.GW.op(S,k,H,D);q=D[8];R=D[9];I=(q-G)*(q-G)+(R-j)*(R-j)}if(i&&(k<0||k>1||H<0||H>1||I>.25))return M;
C[M]=k;C[M+1]=H;C[M+2]=q;C[M+3]=R;C[M+4]=X*F-l*f;return M+5};x.GW.apply=function(S,G,j){var z=j.x,O=j.y,i=1/j.o,C=1/j.i,M=x.GW.Mh;
for(var D=0;D<G.length;D+=2){var X=(G[D]-z)*i,l=(G[D+1]-O)*C;x.GW.op(S,X,l,M);G[D]=M[8];G[D+1]=M[9]}};
x.GW.op=function(S,G,j,z){x.GW.GF(z,0,j);x.GW.GF(z,4,G);x.GW.VM(S,z)};x.GW.MF=function(S,G,j){var z=1-j;
S[G]=-3*(z*z);S[G+1]=3*(z*z)-6*(j*z);S[G+2]=6*(j*z)-3*(j*j);S[G+3]=3*(j*j)};x.GW.GF=function(S,G,j){var z=1-j;
S[G]=z*(z*z);S[G+1]=3*j*(z*z);S[G+2]=3*(j*j)*z;S[G+3]=j*j*j};x.GW.VM=function(S,G){var j=0,z=0,O=0;O=G[0]*G[4];
j+=S[0]*O;z+=S[1]*O;O=G[0]*G[5];j+=S[2]*O;z+=S[3]*O;O=G[0]*G[6];j+=S[4]*O;z+=S[5]*O;O=G[0]*G[7];j+=S[6]*O;
z+=S[7]*O;O=G[1]*G[4];j+=S[8]*O;z+=S[9]*O;O=G[1]*G[5];j+=S[10]*O;z+=S[11]*O;O=G[1]*G[6];j+=S[12]*O;z+=S[13]*O;
O=G[1]*G[7];j+=S[14]*O;z+=S[15]*O;O=G[2]*G[4];j+=S[16]*O;z+=S[17]*O;O=G[2]*G[5];j+=S[18]*O;z+=S[19]*O;
O=G[2]*G[6];j+=S[20]*O;z+=S[21]*O;O=G[2]*G[7];j+=S[22]*O;z+=S[23]*O;O=G[3]*G[4];j+=S[24]*O;z+=S[25]*O;
O=G[3]*G[5];j+=S[26]*O;z+=S[27]*O;O=G[3]*G[6];j+=S[28]*O;z+=S[29]*O;O=G[3]*G[7];j+=S[30]*O;z+=S[31]*O;
G[8]=j;G[9]=z};x.GW.t={};x.GW.t.HO=12;x.GW.t.bt=new Uint32Array(50);x.GW.t.fsx=function(S,G,j,z,O){var i=0,C=x.GW.t.bt,M=1;
C[0]=0;while(M!=0){var D=C[--M];if(S[D+0]<=j&&S[D+1]<=z&&j<S[D+2]&&z<S[D+3]){if(G[D+D+18]==0){O[i]=D;
i++}else{C[M]=G[D+D+18];C[M+1]=G[D+D+19];M+=2}}}return i};x.GW.t.fmp=function(S,G,j,z,O){var i=0,C=x.GW.t.fmT,M=x.GW.t.bt,D=1,X=0,l=999999999999;
M[0]=0;while(D!=0){var f=M[--D],F=C(j,z,S[f+0],S[f+1]),$=C(j,z,S[f+0],S[f+3]),_=C(j,z,S[f+2],S[f+1]),P=C(j,z,S[f+2],S[f+3]),k=Math.min(F,Math.min($,Math.min(_,P))),H=Math.max(F,Math.max($,Math.max(_,P)));
if(k>l)continue;if(G[f+f+18]==0){if(H<l){l=H;X=f}}else{M[D]=G[f+f+18];M[D+1]=G[f+f+19];D+=2}}O[i]=X;
i++;return i};x.GW.t.fmT=function(S,G,j,z){return(j-S)*(j-S)+(z-G)*(z-G)};x.GW.t.jj=null;x.GW.t.eg=null;
x.GW.t.ef=function(S,G,j,z,O,i,C){if(i==null){i=1;C=1}x.GW.t.eg=S;if(x.GW.t.jj==null){x.GW.t.jj={Cz:new Float64Array(15e3*8),O_:null};
x.GW.t.jj.O_=new Uint32Array(x.GW.t.jj.Cz.buffer)}var M=x.GW.t.jj;x.GW.t.oz(S,G,j,z,O,0,M.Cz,M.O_,0,i,C);
return M};x.GW.t.oz=function(S,G,j,z,O,i,C,M,D,X,l){var f=x.Y.wR(S),F=D,$=x.GW.t.eg,_=(G+j)/2,P=(z+O)/2,k=x.GW.Mh,H=x.GW.Vz,q=x.GW.fWx,ob,oe,oF;
x.GW.op($,_,P,k);var R=k[8],I=k[9];q[0]=_;q[1]=P;q[2]=R;q[3]=I;x.GW.ov($,R+1,I,q,0,!1,H,0);var b=(_-H[0])*X,Y=(P-H[1])*l,m=Math.sqrt(b*b+Y*Y);
x.GW.ov($,R,I+1,q,0,!1,H,0);var h=(_-H[0])*X,e=(P-H[1])*l,s=Math.sqrt(h*h+e*e);C[F]=f.x;C[F+1]=f.y;C[F+2]=f.x+f.o;
C[F+3]=f.y+f.i;C[F+4]=_;C[F+5]=P;C[F+6]=R;C[F+7]=I;C[F+8]=.5*(m+s);M[F+F+18]=0;M[F+F+19]=0;D+=10;x.GW.GF(k,0,.1);
x.GW.MF(k,4,.1);x.GW.VM(S,k);var y=k[8],T=k[9];x.GW.MF(k,0,.1);x.GW.GF(k,4,.7);x.GW.VM(S,k);var K=k[8],B=k[9];
x.GW.GF(k,0,.8);x.GW.MF(k,4,.8);x.GW.VM(S,k);var a=k[8],u=k[9];x.GW.MF(k,0,.9);x.GW.GF(k,4,.2);x.GW.VM(S,k);
var r=k[8],v=k[9],o=(a-y)*(a-y)+(r-K)*(r-K)+(u-T)*(u-T)+(v-B)*(v-B);if(D>=C.length){console.log("Buffer not long enough");
throw"e"}if(i==x.GW.t.HO||o<2)return D;var V=x.GW.t.eX(S,!0),J=x.Y.wR(V[0]),d=x.Y.wR(V[1]),oU=x.GW.t.eX(S,!1),p=x.Y.wR(oU[0]),N=x.Y.wR(oU[1]);
if(J.o+J.i+d.o+d.i<p.o+p.i+N.o+N.i){oF=!0;ob=V[0];oe=V[1]}else{oF=!1;ob=oU[0];oe=oU[1]}var oN=(G+j)/2,YM=(z+O)/2,oE=G,ox=z,c=j,oG=O,or=G,Yf=z,oL=j,YX=O;
if(oF){c=or=oN}else{oG=Yf=YM}M[F+F+18]=D;D=x.GW.t.oz(ob,oE,c,ox,oG,i+1,C,M,D,X,l);M[F+F+19]=D;D=x.GW.t.oz(oe,or,oL,Yf,YX,i+1,C,M,D,X,l);
var YC=M[F+F+18],Yp=M[F+F+19];C[F]=Math.min(C[YC],C[Yp]);C[F+1]=Math.min(C[YC+1],C[Yp+1]);C[F+2]=Math.max(C[YC+2],C[Yp+2]);
C[F+3]=Math.max(C[YC+3],C[Yp+3]);return D};x.GW.t.eX=function(S,G){var j=0,z=0,O=0,i=0,C=0,M=0,D=0,X=0,l=S.slice(0),f=S.slice(0);
for(var F=0;F<4;F++){j=G?S[F*8+2*0]:S[0*8+2*F];z=G?S[F*8+2*0+1]:S[0*8+2*F+1];O=G?S[F*8+2*1]:S[1*8+2*F];
i=G?S[F*8+2*1+1]:S[1*8+2*F+1];C=G?S[F*8+2*2]:S[2*8+2*F];M=G?S[F*8+2*2+1]:S[2*8+2*F+1];D=G?S[F*8+2*3]:S[3*8+2*F];
X=G?S[F*8+2*3+1]:S[3*8+2*F+1];var $=(j+O)/2,_=(z+i)/2,P=(O+C)/2,k=(i+M)/2,H=(C+D)/2,q=(M+X)/2,R=($+P)/2,I=(_+k)/2,b=(P+H)/2,Y=(k+q)/2,m=(R+b)/2,h=(I+Y)/2;
if(G){l[F*8+2*0]=j;l[F*8+2*0+1]=z;l[F*8+2*1]=$;l[F*8+2*1+1]=_;l[F*8+2*2]=R;l[F*8+2*2+1]=I;l[F*8+2*3]=m;
l[F*8+2*3+1]=h;f[F*8+2*0]=m;f[F*8+2*0+1]=h;f[F*8+2*1]=b;f[F*8+2*1+1]=Y;f[F*8+2*2]=H;f[F*8+2*2+1]=q;f[F*8+2*3]=D;
f[F*8+2*3+1]=X}else{l[0*8+2*F]=j;l[0*8+2*F+1]=z;l[1*8+2*F]=$;l[1*8+2*F+1]=_;l[2*8+2*F]=R;l[2*8+2*F+1]=I;
l[3*8+2*F]=m;l[3*8+2*F+1]=h;f[0*8+2*F]=m;f[0*8+2*F+1]=h;f[1*8+2*F]=b;f[1*8+2*F+1]=Y;f[2*8+2*F]=H;f[2*8+2*F+1]=q;
f[3*8+2*F]=D;f[3*8+2*F+1]=X}}return[l,f]};x.cF={};x.cF.fme=function(S,G,j){var z=x.cF.fQq(G,j),O=x.cF.fQR(z,S,G,j);
return{JZ:z,we:O}};x.cF.fQv=function(S,G,j){var z=Math.round(S.length/8),O=new Uint32Array(z),i=new Uint8Array(z),C=new Uint32Array(z);
x.GC(O,4294967295,0);O[j]=0;var M=new SR(z);M.push(j,O[j]);var D={JZ:S,we:G,oA:O,ON:i,tB:C,Fa:M,fyd:j};
return D};x.cF.oK=function(S,G){var j=S.JZ,z=S.we,O=S.oA,i=S.ON,C=S.tB,M=S.Fa;while(!M.tR()&&(G==null||i[G]==0)){var D=M.pop();
i[D]=1;for(var X=0;X<8;X++){var l=j[8*D+X];if(l==-1||i[l])continue;var f=O[D]+z[8*D+X];if(M.contains(l)&&f<O[l])M.remove(l,O[l]);
if(!M.contains(l)){O[l]=f;C[l]=D;M.push(l,O[l])}}}};function SR(S){this.uZ=new Uint32Array(S);this.list=[];
this.CK=0;this.uk=4294967295}SR.prototype.tR=function(){return this.CK==0};SR.prototype.push=function(S,G){var j=this.list;
if(j[G]==null)j[G]=[];j[G].push(S);this.CK++;this.uZ[S]=j[G].length-1+1;this.uk=Math.min(this.uk,G)};
SR.prototype.pop=function(){this.CK--;var S=this.list,G=this.uk,j=S[G].pop();if(S[G].length==0)S[G]=null;
this.eo();this.uZ[j]=0;return j};SR.prototype.contains=function(S){return this.uZ[S]!=0};SR.prototype.remove=function(S,G){this.CK--;
var j=this.list,z=this.uZ[S]-1;if(z==j[G].length-1)j[G].pop();else{var O=j[G].pop();j[G][z]=O;this.uZ[O]=z+1}if(j[G].length==0)j[G]=null;
this.uZ[S]=0;this.eo()};SR.prototype.eo=function(){if(this.CK==0){this.uk=4294967295;return}var S=this.uk,G=this.list;
while(G[S]==null)S++;this.uk=S};x.cF.fQa=function(S,G,j){var z=new Float32Array(G*j);for(var O=0;O<j;
O++)for(var i=0;i<G;i++){var C=O*G+i,M=-16*S[C];if(1<i&&i<G-2&&1<O&&O<j-2){M+=S[C-G-G];M+=S[C-G-1]+2*S[C-G]+S[C-G+1];
M+=S[C-2]+2*S[C-1]+2*S[C+1]+S[C+2];M+=S[C+G-1]+2*S[C+G]+S[C+G+1];M+=S[C+G+G]}z[C]=M/16}return z};x.cF.fQp=function(S,G,j){var z=new Float32Array(G*j),O=0,i=0;
for(var C=0;C<j;C++)for(var M=0;M<G;M++){var D=0,X=0;if(0<M&&M<G-1)D=S[O+1]-S[O-1];if(0<C&&C<j-1)X=S[O+G]-S[O-G];
z[O]=Math.sqrt(D*D+X*X);if(z[O]>i)i=z[O];O++}var l=G*j,f=i==0?0:1/ i;for(var O=0;O<l;O++)z[O]=1-z[O]*f;
return z};x.cF.fQl=function(S,G,j){var z=new Float32Array(G*j*2),O=0;for(var i=0;i<j;i++)for(var C=0;
C<G;C++){var M=0,D=0;if(0<C&&C<G-1&&0<i&&i<j-1){M=2*S[O+1]-2*S[O-1];D=2*S[O+G]-2*S[O-G]}var X=Math.sqrt(M*M+D*D);
if(X!=0){z[2*O]=M/X;z[2*O+1]=D/X}else{z[2*O]=M;z[2*O+1]=D}O++}return z};x.cF.fQR=function(S,G,j,z){var O=x.cF.fQa(G,j,z),i=x.cF.fQp(G,j,z),C=x.cF.fQl(G,j,z),M=256,D=new Float32Array(M);
for(var X=0;X<M;X++)D[X]=Math.acos(-1+2*X/(M-1));var l=[-1,0,1,1,1,0,-1,-1],f=[-1,-1,-1,0,1,1,1,0],F=1/Math.sqrt(2),$=new Uint8Array(j*z*8),_=j*z;
for(var P=0;P<_;P++){var k=O[P],H=C[2*P+1],q=-C[2*P];for(var R=0;R<8;R++){var I=8*P+R,b=S[I];if(b==-1)$[I]=-1;
else{var Y=(R&1)==0,m=k*O[b]>=0?0:1,h=i[b]*(Y?1:F),e=1,s=C[2*b+1],y=-C[2*b];if(!(H==0&&q==0||s==0&&y==0)){var T=l[R],K=f[R];
if(H*l[R]+q*f[R]<0){T=-T;K=-K}if(Y){T*=F;K*=F}var B=H*T+q*K,a=s*T+y*K,u=2/(3*Math.PI)*(D[Math.floor((.5+.5*B)*(M-1))]+D[Math.floor((.5+.5*a)*(M-1))]);
e=u}var r=Math.round(20*(.43*m+.43*e+.14*h));$[I]=Math.max(1,Math.min(255,r))}}}console.log($);return $};
x.cF.fQq=function(S,G){var j=new Int32Array(S*G*8),z=j,O=0,i=0;z.fill(-1);for(var C=0;C<G;C++)for(var M=0;
M<S;M++){if(C>0&&M>0)z[i+0]=O-S-1;if(C>0)z[i+1]=O-S;if(C>0&&M<S-1)z[i+2]=O-S+1;if(M<S-1)z[i+3]=O+1;if(C<G-1&&M<S-1)z[i+4]=O+S+1;
if(C<G-1)z[i+5]=O+S;if(C<G-1&&M>0)z[i+6]=O+S-1;if(M>0)z[i+7]=O-1;O++;i+=8}return j};x.cI={};x.cI.fvy=function(S,G){var j=S.slice(0);
for(var z=0;z<S.length;z++)j[z]*=G;return j};x.cI.jE=function(S){var G=S.slice(0),j=0;for(var z=0;z<S.length;
z++)j+=S[z];for(var z=0;z<S.length;z++)G[z]/=j;return G};x.cI.fQ$=function(S,G,j,z,O){var i=[-j-1,-j,-j+1,-1,0,1,j-1,j,j+1],C=z-1,M=j-1;
for(var D=1;D<C;D++)for(var X=1;X<M;X++){var l=D*j+X,f=S[l-j-1]*O[0]+S[l-j]*O[1]+S[l-j+1]*O[2]+S[l-1]*O[3]+S[l]*O[4]+S[l+1]*O[5]+S[l+j-1]*O[6]+S[l+j]*O[7]+S[l+j+1]*O[8];
G[l]=~~(f+.5)}};x.cI.oM=function(S,G,j,z,O,i,C){if(C==null)C=!1;var M=Math.floor(Math.sqrt(O.length)),D=M-1>>>1,X=new Uint32Array(S.buffer),G=new Uint8ClampedArray(G.buffer);
for(var l=0;l<z;l++)for(var f=0;f<j;f++){var F=0,$=0,_=0,P=0;for(var k=0;k<M;k++)for(var H=0;H<M;H++){var q=O[k*M+H];
if(q==0)continue;var R=Math.min(j-1,Math.max(0,f-D+H)),I=Math.min(z-1,Math.max(0,l-D+k)),b=X[I*j+R];
F+=(b&255)*q;$+=(b>>8&255)*q;_+=(b>>16&255)*q;P+=(b>>24&255)*q}if(C){if(F<0)F=-F;if($<0)$=-$;if(_<0)_=-_;
if(P<0)P=-P}var Y=l*j+f<<2;G[Y]=~~(.5+F);G[Y+1]=~~(.5+$);G[Y+2]=~~(.5+_);G[Y+3]=255-i&G[Y+3]|i&~~(.5+P)}};
x.cI.Mi=function(S,G,j,z,O,i,C,M){if(i<=10)x.cI.fTT(S,G,j,z,O,i,C,M);else x.cI.fQL(S,G,j,z,O,i,C,M)};
x.cI.fQL=function(S,G,j,z,O,i,C,M){var D=0,X=new Uint32Array(16),l=new Uint32Array(256),f=new Uint32Array(1*z),F=new Uint32Array(16*z),$=new Uint32Array(256*z),_=Math.min(i,z),P=Math.min(i,O);
for(var k=0;k<P;k++)x.cI.VW($,F,f,S,G,z,k);for(var k=0;k<O;k++){if(k+i<O)x.cI.VW($,F,f,S,G,z,k+i);if(k-i-1>=0)x.cI.fTc($,F,f,S,G,z,k-i-1);
x.set(l,0);x.set(X,0);D=0;for(var H=0;H<_;H++){x.cI.ev(l,X,$,F,H);D+=f[H]}for(var H=0;H<z;H++){if(H+i<z&&f[H+i]!=0){D+=f[H+i];
x.cI.ev(l,X,$,F,H+i)}if(H-i-1>=0&&f[H-i-1]!=0){D-=f[H-i-1];x.cI.fZC(l,X,$,F,H-i-1)}var q=D==0?0:C(l,X,S[k*z+H],D,M);
j[k*z+H]=q}}};x.cI.fTT=function(S,G,j,z,O,i,C,M){var D=0,X=new Uint32Array(16),l=new Uint32Array(256);
for(var f=0;f<O;f++){x.set(l,0);x.set(X,0);D=0;var F=Math.max(f-i,0),$=Math.min(O,f+i+1);for(var _=0;
_<i;_++)D+=x.cI.oQ(l,X,S,G,F*z+_,z,$*z+_,1);for(var _=0;_<z;_++){if(_+i<z)D+=x.cI.oQ(l,X,S,G,F*z+_+i,z,$*z+_+i,1);
if(_-i-1>=0)D+=x.cI.oQ(l,X,S,G,F*z+_-i-1,z,$*z+_-i-1,-1);var P=D==0?0:C(l,X,S[f*z+_],D,M);j[f*z+_]=P}}};
x.cI.oQ=function(S,G,j,z,O,i,C,M){var D=0;while(O<C){var X=z[O]*M,l=j[O];S[l]+=X;G[l>>>4]+=X;D+=X;O+=i}return D};
x.cI.eY=function(S,G,j,z,O){var i=15;while(G[i]==0&&i>0)i--;i=(i<<4)+15;while(S[i]==0&&i>0)i--;return i};
x.cI.fTd=function(S,G,j,z,O){var i=0;while(G[i]==0&&i<15)i++;i=i<<4;while(S[i]==0&&i<255)i++;return i};
x.cI.VK=.5;x.cI.ou=function(S,G,j,z,O){var i=Math.floor(.5+x.cI.VK*z),C=0,M=0;while(C<=i)C+=G[M++];if(M>0){M--;
C-=G[M]}M=M<<4;while(C<=i)C+=S[M++];return M-1};x.cI.ok=function(S,G,j,z,O){var i=O[0],C=0,M=0,D=Math.max(0,j-i),X=Math.min(256,j+i+1);
while(D<X){C+=D*S[D];M+=S[D];D++}return M==0?0:C/M};x.cI.VW=function(S,G,j,z,O,i,C){var M=C*i;for(var D=0;
D<i;D++,M++){var X=O[M],l=z[M];S[D<<8|l]+=X;G[D<<4|l>>>4]+=X;j[D]+=X}};x.cI.fTc=function(S,G,j,z,O,i,C){var M=C*i;
for(var D=0;D<i;D++,M++){var X=O[M],l=z[M];S[D<<8|l]-=X;G[D<<4|l>>>4]-=X;j[D]-=X}};x.cI.sW=function(S){var G=S.length,j=0;
for(var z=0;z<G;z++)j+=S[z];return j};x.cI.ev=function(S,G,j,z,O){for(var i=0;i<16;i++){if(z[O<<4|i]==0)continue;
G[i]+=z[O<<4|i];var C=i<<4,M=O<<8|C;S[C]+=j[M];S[C+1]+=j[M+1];S[C+2]+=j[M+2];S[C+3]+=j[M+3];S[C+4]+=j[M+4];
S[C+5]+=j[M+5];S[C+6]+=j[M+6];S[C+7]+=j[M+7];S[C+8]+=j[M+8];S[C+9]+=j[M+9];S[C+10]+=j[M+10];S[C+11]+=j[M+11];
S[C+12]+=j[M+12];S[C+13]+=j[M+13];S[C+14]+=j[M+14];S[C+15]+=j[M+15]}};x.cI.fZC=function(S,G,j,z,O){for(var i=0;
i<16;i++){if(z[O<<4|i]==0)continue;G[i]-=z[O<<4|i];var C=i<<4,M=O<<8|C;S[C]-=j[M];S[C+1]-=j[M+1];S[C+2]-=j[M+2];
S[C+3]-=j[M+3];S[C+4]-=j[M+4];S[C+5]-=j[M+5];S[C+6]-=j[M+6];S[C+7]-=j[M+7];S[C+8]-=j[M+8];S[C+9]-=j[M+9];
S[C+10]-=j[M+10];S[C+11]-=j[M+11];S[C+12]-=j[M+12];S[C+13]-=j[M+13];S[C+14]-=j[M+14];S[C+15]-=j[M+15]}};
x.Z={};x.Z.ea=function(S){var G=t.Gh.JF(S.Trnf),j=S.Sz.v,z=x.Z.Ia(G,new Q(0,0,j.Wdth.v,j.Hght.v));return x.Z.Ma(z)};
x.Z.Ia=function(S,G){var S=S.slice(0),j=S[0],z=S[1],O=S[2],i=S[3],C=S[6],M=S[7],D=S[4],X=S[5],l=0,f=0,F=1,$=0,_=0,P=1,k=1,H=1;
if(G){l=G.x;f=G.y;F=G.x+G.o;$=G.y;_=G.x;P=G.y+G.i;k=G.x+G.o;H=G.y+G.i}var q=[[l,f,1,0,0,0,-l*j,-f*j,j],[0,0,0,l,f,1,-l*z,-f*z,z],[F,$,1,0,0,0,-F*O,-$*O,O],[0,0,0,F,$,1,-F*i,-$*i,i],[_,P,1,0,0,0,-_*C,-P*C,C],[0,0,0,_,P,1,-_*M,-P*M,M],[k,H,1,0,0,0,-k*D,-H*D,D],[0,0,0,k,H,1,-k*X,-H*X,X]],R=[0,0,0,0,0,0,0,0],I=x.aY.tr.Oe(q,R);
if(I!=0)R=[0,0,0,0,0,0,0,0];return R};x.Z.Vs=function(S){return Math.abs(S[6])<1e-10&&Math.abs(S[7])<1e-10};
x.Z.Ma=function(S){return new Ym(S[0],S[3],S[1],S[4],S[2],S[5])};x.Z.BS=function(S){return[S.A,S.vK,S.cg,S.C,S.JE,S.tL,0,0]};
x.Z.apply=function(S,G){var j=new Float64Array(2);for(var z=0;z<G.length;z+=2){var O=G[z],i=G[z+1];x.Z.ow(O,i,S,j);
G[z]=j[0];G[z+1]=j[1]}};x.Z.ow=function(S,G,j,z){var O=1/(j[6]*S+j[7]*G+1);z[0]=(j[0]*S+j[1]*G+j[2])*O;
z[1]=(j[3]*S+j[4]*G+j[5])*O};x.Z.em=function(S,G){var j=new Float64Array(2);x.Z.ow(G.x,G.y,S,j);return new A(j[0],j[1])};
x.Z.jt=function(S,G,j,z){S=new Uint32Array(S.buffer);G=new Uint32Array(G.buffer);for(var O=0;O<z;O++){for(var i=0;
i<j;i++){G[i*z+O]=S[O*j+i]}}};x.Z.eA=function(S){return Math.abs(S[6])<1e-9&&Math.abs(S[7])<1e-9};x.Z.eJ=function(S){return Math.abs(S[0])<1e-9&&Math.abs(S[4])<1e-9||Math.abs(S[1])<1e-9&&Math.abs(S[3])<1e-9};
x.Z.drawImage=function(S,G,j,z,O,i,C,M){if(C==null)C=!1;if(M==null)M=!1;var D=x.Z.uT(S),X=!0,l=0,f=1/Math.sqrt(Math.abs(S[0]/j*S[4]/z-S[1]/j*S[3]/z));
for(var F=0;F<8;F++){var $=Math.round(S[F]);if(F!=2&&F!=5)l+=Math.abs($);if(Math.abs($-S[F])>1e-9)X=!1}var _=x.Z.eA(S),P=x.Z.eJ(S)&&_,k=P?1:0;
if(C||X&&l==j+z&&_){x.Z.fZp(D,G,j,z,O,i,M,_);return}var H=i.o,q=i.i,R=new Float64Array(2);O=new Uint32Array(O.buffer);
G=new Uint32Array(G.buffer);for(var I=0;I<q;I++)for(var b=0;b<H;b++){var Y=I*H+b,m,h,e,s,N=0,ob=0,oe=0,oF=0;
O[Y]=0;var y=b+i.x+.5,T=I+i.y+.5;m=y;h=T;e=D;s=1/(e[6]*m+e[7]*h+1);var K=(e[0]*m+e[1]*h+e[2])*s,B=(e[3]*m+e[4]*h+e[5])*s,a=K*j,u=B*z,r=a<-1||a>j+1||u<-1||u>z+1;
if(M){a=Math.max(.001,Math.min(j-1,a));u=Math.max(.001,Math.min(z-1,u))}else if(r)continue;var v=f;if(!_){var o=0,V=0;
e=S;m=K+1/j;h=B;s=1/(e[6]*m+e[7]*h+1);o=(e[0]*m+e[1]*h+e[2])*s-y;V=(e[3]*m+e[4]*h+e[5])*s-T;var J=o*o+V*V;
m=K;h=B+1/z;s=1/(e[6]*m+e[7]*h+1);o=(e[0]*m+e[1]*h+e[2])*s-y;V=(e[3]*m+e[4]*h+e[5])*s-T;var d=o*o+V*V;
v=1/Math.sqrt(Math.max(J,d))}if(v<1.1){x.Z.oj(a,u,G,j,z,O,Y,k);continue}var oU=Math.round(v*2.3);if(!M&&(a<.6||a>j-.6||u<.6||u>z-.6)){oU=Math.max(oU,5)}if(M&&r)oU=1;
var p=1/oU,oN=i.x+b,YM=i.y+I;e=D;for(var F=0;F<oU;F++)for(var oE=0;oE<oU;oE++){m=oN+(F+.5)*p;h=YM+(oE+.5)*p;
s=1/(e[6]*m+e[7]*h+1);var a=(e[0]*m+e[1]*h+e[2])*s,u=(e[3]*m+e[4]*h+e[5])*s;if(M){a=Math.max(.001,Math.min(.999,a));
u=Math.max(.001,Math.min(.999,u))}else if(a<0||a>=1||u<0||u>=1)continue;a=Math.floor(a*j);u=Math.floor(u*z);
var ox=u*j+a,c=G[ox],oG=c>>>24;N+=(c&255)*oG;ob+=(c>>>8&255)*oG;oe+=(c>>>16&255)*oG;oF+=oG}if(oF!=0){var or=1/oF;
N=~~(N*or+.5);ob=~~(ob*or+.5);oe=~~(oe*or+.5);oF=~~(oF*p*p+.5);O[Y]=oF<<24|oe<<16|ob<<8|N}}};x.Z.fZp=function(S,G,j,z,O,i,C,M){var D=i.x+i.o,X=i.y+i.i,l=0,f=new Uint32Array(O.buffer),F=new Uint32Array(G.buffer),$=S[0]*j,_=S[1]*j,P=S[2]*j,k=S[3]*z,H=S[4]*z,q=S[5]*z,R=S[6],I=S[7];
if(M&&!C)for(var b=i.y+.5;b<X;b++)for(var Y=i.x+.5;Y<D;Y++){var m=$*Y+_*b+P,h=k*Y+H*b+q;if(0<m&&m<j&&0<h&&h<z){var e=~~h*j+~~m;
f[l]=F[e]}else f[l]=0;l++}else for(var b=i.y+.5;b<X;b++)for(var Y=i.x+.5;Y<D;Y++){var s=1/(R*Y+I*b+1),m=($*Y+_*b+P)*s,h=(k*Y+H*b+q)*s;
if(C){m=Math.max(.001,Math.min(j-1,m));h=Math.max(.001,Math.min(z-1,h))}if(0<m&&m<j&&0<h&&h<z){var e=Math.floor(h)*j+Math.floor(m);
f[l]=F[e]}else f[l]=0;l++}};x.Z.uT=function(S){var G=S[4]-S[5]*S[7],j=S[2]*S[7]-S[1],z=S[1]*S[5]-S[2]*S[4],O=S[5]*S[6]-S[3],i=S[0]-S[2]*S[6],C=S[3]*S[2]-S[0]*S[5],M=S[3]*S[7]-S[4]*S[6],D=S[1]*S[6]-S[0]*S[7],X=1/(S[0]*S[4]-S[1]*S[3]);
return[G*X,j*X,z*X,O*X,i*X,C*X,M*X,D*X]};x.Z.FS=function(S,G){var j=S[0],z=S[1],O=S[2],i=S[3],C=S[4],M=S[5],D=S[6],X=S[7],l=G[0],f=G[1],F=G[2],$=G[3],_=G[4],P=G[5],k=G[6],H=G[7],q=[j*l+z*$+O*k,j*f+z*_+O*H,j*F+z*P+O,i*l+C*$+M*k,i*f+C*_+M*H,i*F+C*P+M,D*l+X*$+k,D*f+X*_+H],R=1/(D*F+X*P+1);
for(var I=0;I<8;I++)q[I]*=R;return q};x.Z.oj=function(S,G,j,z,O,i,C,M){var D=S,X=G,F=0,$=0,_=0,P=0;S-=.499999;
G-=.499999;var l=Math.floor(S),f=Math.floor(G);if(M==0){var k=f*z+l,H=l>=0&&l<z,q=l+1>=0&&l+1<z,R=f>=0&&f<O,I=f+1>=0&&f+1<O;
if(H&&R)F=j[k];if(q&&R)$=j[k+1];if(H&&I)_=j[k+z];if(q&&I)P=j[k+z+1]}else if(M==1){var b=l<0?0:l>z-1?z-1:l,Y=l<-1?0:l>z-2?z-1:l+1,m=f<0?0:f>O-1?O-1:f,h=f<-1?0:f>O-2?O-1:f+1;
F=j[m*z+b];$=j[m*z+Y];_=j[h*z+b];P=j[h*z+Y]}else{var b=(l+50*z)%z,Y=(l+50*z)%z,m=(f+50*O)%O,h=(f+50*O)%O;
F=j[m*z+b];$=j[m*z+Y];_=j[h*z+b];P=j[h*z+Y]}var e=S-l,s=G-f,y=(1-s)*(1-e)*(F>>>24),T=(1-s)*e*($>>>24),K=s*(1-e)*(_>>>24),B=s*e*(P>>>24),a=y+T+K+B,u=y*(F&255)+T*($&255)+K*(_&255)+B*(P&255),r=y*(F>>>8&255)+T*($>>>8&255)+K*(_>>>8&255)+B*(P>>>8&255),v=y*(F>>>16&255)+T*($>>>16&255)+K*(_>>>16&255)+B*(P>>>16&255);
if(a==0)i[C]=0;else{var o=1/a;u=~~(u*o+.5);r=~~(r*o+.5);v=~~(v*o+.5);a=~~(a+.5);i[C]=a<<24|v<<16|r<<8|u}};
x.Z.ey=function(S,G,j,z,O,i,C,M,D,X,l,f){var F=new Uint32Array(S.buffer),$=new Uint32Array(z.buffer),_=(1+2*X)/O,P=[],k=[];
for(var H=0;H<O;H++){var q=-.25+X-H*_;P.push(Math.cos(2*Math.PI*q)*f/l);P.push(Math.sin(2*Math.PI*q)/l)}C*=G;
M*=j;for(var R=0;R<i;R++){var I=Math.pow(R/ i,D)*i;for(var H=0;H<O;H++){var b=C+P[H<<1]*I,Y=M+P[(H<<1)+1]*I,m=~~(.5+(b<0?0:b>G-1?G-1:b)),h=~~(.5+(Y<0?0:Y>j-1?j-1:Y));
$[R*O+H]=F[h*G+m]}}};x.Z.ek=function(S,G,j,z,O,i,C,M,D,X,l,f){var F=new Uint32Array(S.buffer),$=new Uint32Array(z.buffer),_=1/f,P=[],k=j*4,H=1/k;
for(var q=0;q<k;q++)P.push(Math.pow(q*H,1/D)*j*l);C*=O;M*=i;for(var q=0;q<i;q++)for(var R=0;R<O;R++){var I=_*(R-C),b=q-M,Y=1.75-Math.atan2(b,I)*(1/(2*Math.PI));
Y=Y-~~Y;Y=(Y+X)*(1/(1+2*X));var m=Math.sqrt(I*I+b*b);m=P[~~(m*4)];x.Z.oj(Y*G+.5,m+.5,F,G,j,$,q*O+R,1)}};
x.T={Oa:function(S,G){var j=~~(.499+S*G);return j<0?0:j>G?G:j},t:[function(S,G,j,z,O,i,C){var M=j[0],D=j[1],X=j[2],l=j[3],f=z.o,F=z.i;
for(var $=0,_=0;$<F;$++)for(var P=0;P<f;P++,_++){var k=P+O,H=$+i,q=M*k+D*H,R=X*k+l*H,I=q+.5;S[_]=G[x.T.Oa(I,C)]}},function(S,G,j,z,O,i,C){var M=j[0],D=j[1],X=j[2],l=j[3],f=z.o,F=z.i;
for(var $=0,_=0;$<F;$++)for(var P=0;P<f;P++,_++){var k=P+O,H=$+i,q=M*k+D*H,R=X*k+l*H,I=2*Math.sqrt(q*q+R*R);
S[_]=G[x.T.Oa(I,C)]}},function(S,G,j,z,O,i,C){var M=j[0],D=j[1],X=j[2],l=j[3],f=z.o,F=z.i;for(var $=0,_=0;
$<F;$++)for(var P=0;P<f;P++,_++){var k=P+O,H=$+i,q=M*k+D*H,R=X*k+l*H,I=(Math.PI+Math.atan2(-R,-q))/(2*Math.PI);
S[_]=G[x.T.Oa(I,C)]}},function(S,G,j,z,O,i,C){var M=j[0],D=j[1],X=j[2],l=j[3],f=z.o,F=z.i;for(var $=0,_=0;
$<F;$++)for(var P=0;P<f;P++,_++){var k=P+O,H=$+i,q=M*k+D*H,R=X*k+l*H,I=Math.abs(q*2);S[_]=G[x.T.Oa(I,C)]}},function(S,G,j,z,O,i,C){var M=j[0],D=j[1],X=j[2],l=j[3],f=z.o,F=z.i;
for(var $=0,_=0;$<F;$++)for(var P=0;P<f;P++,_++){var k=P+O,H=$+i,q=M*k+D*H,R=X*k+l*H,I=2*(Math.abs(q)+Math.abs(R));
S[_]=G[x.T.Oa(I,C)]}}]};x.T.fvi=function(S,G){return S+.5};x.T.fvh=function(S,G){return 2*Math.sqrt(S*S+G*G)};
x.T.fvE=function(S,G){return(Math.PI+Math.atan2(-G,-S))/(2*Math.PI)};x.T.fvU=function(S,G){return Math.abs(S*2)};
x.T.fam=function(S,G){return 2*(Math.abs(S)+Math.abs(G))};x.T.OQ=function(S,G,j,z,O,i,C,M,D,X,l){if(S.Clrs==null)return;
var f=new Uint32Array(G.buffer),F=1023,$=x.T.Vm(S.Clrs.v,D,X),_=x.T.eH(S,$,F+1,C),P=new Uint8Array(_.buffer);
if(M<5){x.T.t[M](f,_,z,j,j.x-O,j.y-i,F)}else{var k=j.o,H=j.i,q=l.GL-l.$w,R=1/q,I=l.Nd.o-j.o>>1,b=l.Nd.i-j.i>>1,Y=l.Nd.o,m=-.6*R,h=(-.6+.4)*R,e=(-.6+2*.4)*R,s=(-.6+3*.4)*R;
for(var y=0,T=0;y<H;y++)for(var K=0;K<k;K++,T+=4){var B=0,a=0,u=0,r=0,v=(y+b)*Y+K+I,o=(l.CT[v]-l.$w)*R,V=0;
if(o<=0||o>=1){V=(o<=0?0:F)<<2;G[T]=P[V];G[T+1]=P[V+1];G[T+2]=P[V+2];G[T+3]=P[V+3];continue}V=Math.max(0,Math.min(F-1,Math.round((o+m)*F)))<<2;
a+=P[V];u+=P[V+1];r+=P[V+2];B+=P[V+3];V=Math.max(0,Math.min(F-1,Math.round((o+h)*F)))<<2;a+=P[V];u+=P[V+1];
r+=P[V+2];B+=P[V+3];V=Math.max(0,Math.min(F-1,Math.round((o+e)*F)))<<2;a+=P[V];u+=P[V+1];r+=P[V+2];B+=P[V+3];
V=Math.max(0,Math.min(F-1,Math.round((o+s)*F)))<<2;a+=P[V];u+=P[V+1];r+=P[V+2];B+=P[V+3];G[T]=a>>>2;
G[T+1]=u>>>2;G[T+2]=r>>>2;G[T+3]=B>>>2}}};x.T.Vm=function(S,G,j){var z=[];for(var O=0;O<S.length;O++){var i;
if(S[O].v.Type.v.Clry=="FrgC")i={H:G>>16&255,X:G>>8&255,C:G&255};else if(S[O].v.Type.v.Clry=="BckC")i={H:j>>16&255,X:j>>8&255,C:j&255};
else i=x.T.cx(S[O].v.Clr.v);z.push(i)}return z};x.T.cx=function(S){var G,j=S.classID;if(j=="RGBC")G={H:S.Rd.v,X:S.Grn.v,C:S.Bl.v};
else if(j=="HSBC"){G=x.HV(S.H.v.val/360,S.Strt.v/100,S.Brgh.v/100);G.H*=255;G.X*=255;G.C*=255}else if(j=="CMYC"){var z=100-S.Cyn.v,O=100-S.Mgnt.v,i=100-S.Ylw.v,C=100-S.Blck.v,M=255*z*C*1e-4,D=255*(.2*z+.8*O)*C*1e-4,X=255*(.2*O+.8*i)*C*1e-4;
G={H:M,X:D,C:X}}else if(j=="Grsc")G={H:255-S.Gry.v,X:255-S.Gry.v,C:255-S.Gry.v};else if(j=="LbCl"){G=x.bW(S.Lmnc.v,S.A.v,S.B.v)}else console.log(S);
if(isNaN(G.H))G.H=G.X=G.C=0;return G};x.T.qL=function(S){return{classID:"RGBC",Rd:{t:"doub",v:S.H},Grn:{t:"doub",v:S.X},Bl:{t:"doub",v:S.C}}};
x.T.eH=function(S,G,j,z){var O=new Uint32Array(j),i=1/(j-0);if(z)for(var C=0;C<j;C++)O[C]=x.T.oJ(S,G,(j-1-C)*i);
else for(var C=0;C<j;C++)O[C]=x.T.oJ(S,G,C*i);return O};x.T.oJ=function(S,G,j){var z=S.Intr.v/4096,O=4096,i=1/O,C=S.Clrs.v.length-1,M=S.Trns.v.length-1,D=-1,X=0,l=0,f=0,F=0;
while(D<M&&S.Trns.v[D+1].v.Lctn.v<=j*O)D++;if(D==-1){X=S.Trns.v[0].v.Opct.v.val*(255/100)}else if(D==M){X=S.Trns.v[D].v.Opct.v.val*(255/100)}else{var $=x.T.eB(S.Trns.v,i,D,j,z);
X=($*S.Trns.v[D].v.Opct.v.val+(1-$)*S.Trns.v[D+1].v.Opct.v.val)*(255/100)}D=-1;while(D<C&&S.Clrs.v[D+1].v.Lctn.v<=j*O)D++;
if(D==-1){var _=G[0];l=_.H;f=_.X;F=_.C}else if(D==C){var _=G[D];l=_.H;f=_.X;F=_.C}else{var P=G[D],k=G[D+1],H=x.T.eB(S.Clrs.v,i,D,j,z);
l=H*P.H+(1-H)*k.H;f=H*P.X+(1-H)*k.X;F=H*P.C+(1-H)*k.C}X+=.5;l+=.5;f+=.5;F+=.5;return X<<24|F<<16|f<<8|l};
x.T.eB=function(S,G,j,z,O){if(S.length==2)O*=.5;var i=S[j].v.Lctn.v*G,C=S[j+1].v.Lctn.v*G,M=i+S[j+1].v.Mdpn.v*.01*(C-i),D;
if(z<M)D=.5*(z-i)/(M-i);else D=.5+.5*(z-M)/(C-M);D=.5+.5*(O*Math.cos(Math.PI*D)+(1-O)*(1-2*D));return D};
x.T.od=function(S,G){var j=Math.PI*S.Angl.v.val/180,z=S.Scl.v.val/100,O=S.Ofst.v,i=O.Hrzn.v.val/100,C=O.Vrtc.v.val/100,M=Math.cos(j),D=-Math.sin(j),X=.5*G.i,l=X*(M/D),f=Math.sqrt(X*X+l*l),F=.5*G.o,$=F*(D/M),_=Math.sqrt(F*F+$*$),P=Math.min(f,_)*z,k=G.x+G.o/2+i*G.o,H=G.y+G.i/2+C*G.i;
return[new A(k,H),new A(k+M*P,H+D*P)]};x.T.oc=function(S,G,j,z){var O=G.x-S.x,i=-(G.y-S.y),C=Math.sqrt(O*O+i*i),M=Math.atan2(i,O),D=Math.cos(M),X=-Math.sin(M),l=.5*j.i,f=l*(D/X),F=Math.sqrt(l*l+f*f),$=.5*j.o,_=$*(X/D),P=Math.sqrt($*$+_*_),k=C/Math.min(F,P),H=(S.x-j.x-j.o/2)/j.o,q=(S.y-j.y-j.i/2)/j.i;
z.Angl.v.val=180*M/Math.PI;z.Scl.v.val=k*100;var R=z.Ofst.v;R.Hrzn.v.val=H*100;R.Vrtc.v.val=q*100};x.T.Vw=function(S,G){for(var j=0;
j<S.length;j++){var z=S[j],O=Math.round(z[0]*4096),i=z[1],C=z[2];if(C==null)C=1;var M=x.T.qL({H:i[0]*255,X:i[1]*255,C:i[2]*255});
G.Clrs.v[j]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:O},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:M},Type:{t:"enum",v:{Clry:"UsrS"}}}};
G.Trns.v[j]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:O},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(C*100)}}}}}};
x.Mo={};x.Mo.OR=function(S,G,j,z,O){var i=!1,_=1,B=0,a=0,oU=0,YC=0;if(!G.Ym(O)){var C=G.wB(O),M=x.S(C.h()*4);
x.yF(S,G,M,C);S=M;G=C}var D=x.S(G.h());x.zP(j,O,D,G);x.round(D);O=O.tY(G);var X=O.o,l=O.i,f=X*3<l?2:1,F=l*3<X?2:1;
if(O.h()*(f*2+1)*(F*2+1)<G.h()){var C=new Q(O.x-X*f,O.y-l*f,X*(f*2+1),l*(F*2+1)).tY(G),M=x.S(C.h()*4);
x.yF(S,G,M,C);var $=x.S(C.h());x.zP(D,G,$,C);G=C;S=M;D=$}while((G.o+G.i)/2/_>400)_++;var P=S,k=G,H=D,q=Math.floor(k.o/_),R=Math.floor(k.i/_);
S=x.S(q*R*4);x.scale.oG(P,k.o,k.i,S,q,R,1/_);D=x.S(q*R);x.scale.hZ(H,k.o,k.i,D,q,R,1/_);x.round(D,1);
var I=x.Fw(D,new Q(0,0,q,R));if(I.tR())return;var b=Math.round((I.o+I.i)/2/15),Y=Date.now(),m=x.S(q*R*4);
x.fgZ(S,m);var h=Int16Array,e=new h(q*R*24),s=new h(64),y=new h(64),T=new h(64),K=new h(64);for(var u=3;
u<R-4;u++)for(var r=3;r<q-4;r++){var v=u*q+r;if(D[v]==255)continue;if(x.Mo.fuD(m,D,r,u,q,R,s,y,T)!=0)continue;
x.Mo.oI(s,K);e[B]=r;e[B+1]=u;x.Mo.Fj(s,e,B+4,12);B+=16;x.Mo.oI(y,K);x.Mo.Fj(y,e,B,4);B+=4;x.Mo.oI(T,K);
x.Mo.Fj(T,e,B,4);B+=4;var o=e[B-24+5],V=e[B-24+6];e[B-24+5]=e[B-24+20];e[B-24+6]=e[B-24+16];e[B-24+16]=o;
e[B-24+20]=V;a++}if(a==0)return;if(i)console.log(Date.now()-Y,"FWHT computed");Y=Date.now();var J=[];
x.Mo.on(0,a-1,J,e,new h(2*24));if(i)console.log(Date.now()-Y,"KD tree computed");Y=Date.now();var d=new Float32Array(q*R*4);
for(var p=0;p<a;p++){var N=p,ob=x.Mo.fuX(N,e,J,b);if(ob==-1)continue;var oe=N*24,oF=ob*24,oN=e[oe],YM=e[oe+1],oE=e[oF],ox=e[oF+1];
oU+=x.Mo.getError(oF,oe,e,1e99);var c=oE-oN,oG=ox-YM;d[(R+oG)*2*q+(q+c)]+=1}if(i)console.log(Date.now()-Y,"NN found");
Y=Date.now();var or=[],Yf=1/(2*q);for(var p=0;p<d.length;p++){if(d[p]>0){var u=Math.floor(p*Yf),r=p-u*2*q;
or.push({x:r-q,y:u-R,g:d[p],uO:-1})}}or.sort(function(YJ,fd){return fd.g-YJ.g});var oL=new Int32Array(q*R),YX=[];
for(var p=0;p<q*R;p++){if(D[p]==255){oL[p]=YC;YX.push(p%q,Math.floor(p/q));YC++}else if(S[(p<<2)+3]<200){oL[p]=-2}else{oL[p]=-1}}var Yp=x.Mo.fug(q,R,or,oL,YX,YC);
if(Yp==null){return}var YZ=Yp.hb,top=Yp.top;YZ=x.Mo.fZe(YZ,S,q,R,top,oL,YX,YC);if(i)console.log(Date.now()-Y,"optimal labeling found");
Y=Date.now();var C=O.clone();C.En(1,1);C=C.tY(k);var Yz=x.S(C.h()*4),YT=x.S(C.h());x.yF(P,k,Yz,C);var Yg=k.o,YY=k.i;
for(var u=0;u<YY;u++)for(var r=0;r<Yg;r++){if(H[u*Yg+r]==0)continue;var Yo=Math.min(Math.floor(r/_),q-1),Ya=Math.min(Math.floor(u/_),R-1),YQ=oL[Ya*q+Yo],YK=YZ[YQ],fa=top[YK],YO=r+fa.x*_,Yw=u+fa.y*_,YV=Yw*Yg+YO<<2,Yu=(u-C.y+k.y)*C.o+(r-C.x+k.x)<<2;
Yz[Yu]=P[YV];Yz[Yu+1]=P[YV+1];Yz[Yu+2]=P[YV+2];Yz[Yu+3]=P[YV+3];Yz[Yu+3]=P[YV+3];YT[Yu>>2]=YK+1}if(i)console.log(Date.now()-Y,"copied back");
Y=Date.now();x.Ve.OR(Yz,YT,C,null,1e3);if(i)console.log(Date.now()-Y,"poisson smooth");Y=Date.now();
x.yF(Yz,C,z,O)};x.Mo.eR=function(S,G,j,z,O,i){return x.Mo.Vd(S+O.x,G+O.y,j,z)&&i[(G+O.y)*j+(S+O.x)]==-1?0:1e9};
x.Mo.fZe=function(S,G,j,z,top,O,i,C){var M=Date.now(),D=[-1,0,0,-1,1,0,0,1],X=1e99,l=[],f=[],F=2*(C*2*3+C*2),$=null,_=0,P=0,k=0,H=1e99;
while(!0&&Date.now()<M+12e3){k++;var q=null,R=X;for(var I=0;I<top.length;I++){var b=top[I],Y=0,m=C+2,h=0;
for(var e=0;e<C;e++){var s=i[e*2],y=i[e*2+1],T=top[S[e]],K=x.Mo.eR(s,y,j,z,b,O),B=S[e]==I?1e9:x.Mo.eR(s,y,j,z,T,O);
for(var a=0;a<4;a++){if(a==0&&s==0||a==1&&y==0||a==2&&s==j-1||a==3&&y==z-1)continue;var u=D[2*a],r=D[2*a+1],v=s+u,o=y+r,V=O[o*j+v];
if(V==-2){}else if(V==-1){K+=3*x.Mo.Xa(v+b.x,o+b.y,v,o,j,z,G,O);K+=2*x.Mo.Xa(v+b.x+u,o+b.y+r,v+u,o+r,j,z,G,O);
B+=3*x.Mo.Xa(v+T.x,o+T.y,v,o,j,z,G,O);B+=2*x.Mo.Xa(v+T.x+u,o+T.y+r,v+u,o+r,j,z,G,O)}else if(a>1){if(S[e]==S[V]){var J=0;
J+=x.Mo.Xa(s+T.x,y+T.y,s+b.x,y+b.y,j,z,G,O);J+=x.Mo.Xa(v+T.x,o+T.y,v+b.x,o+b.y,j,z,G,O);l[Y]=e;l[Y+1]=V;
f[Y]=J;f[Y+1]=J;Y+=2}else{var d=top[S[V]],oU=m,p=0,N=0,ob=0;m++;p+=x.Mo.Xa(s+T.x,y+T.y,s+b.x,y+b.y,j,z,G,O);
p+=x.Mo.Xa(v+T.x,o+T.y,v+b.x,o+b.y,j,z,G,O);N+=x.Mo.Xa(s+d.x,y+d.y,s+b.x,y+b.y,j,z,G,O);N+=x.Mo.Xa(v+d.x,o+d.y,v+b.x,o+b.y,j,z,G,O);
ob+=x.Mo.Xa(s+d.x,y+d.y,s+T.x,y+T.y,j,z,G,O);ob+=x.Mo.Xa(v+d.x,o+d.y,v+T.x,o+T.y,j,z,G,O);l[Y]=e;l[Y+1]=oU;
f[Y]=p;f[Y+1]=p;Y+=2;l[Y]=V;l[Y+1]=oU;f[Y]=N;f[Y+1]=N;Y+=2;l[Y]=oU;l[Y+1]=C+1;f[Y]=ob;f[Y+1]=0;Y+=2}}}l[Y]=C;
l[Y+1]=e;f[Y]=K;f[Y+1]=0;Y+=2;l[Y]=e;l[Y+1]=C+1;f[Y]=B;f[Y+1]=0;Y+=2;h+=Math.min(K,B)}if(h>R)continue;
var oe=x.mr.Oe(m,Y,C,C+1,l,f,R);if(oe.oA<R){R=oe.oA;var oF=S.slice(0);x.Mo.fZN(oF,Y,l,oe.u_,I,C);q=oF}}if(R*1>=X){break}X=R;
S=q;if((k&3)==0){if(R*1.03>=H)break;H=R}if((k&3)==0){var oN=0*top.length;for(var e=0;e<top.length&&top.length>oN;
e++){if(S.indexOf(e)!=-1)continue;top.splice(e,1);for(var V=0;V<S.length;V++)if(S[V]>e)S[V]--;e--}}}return S};
x.Mo.fZN=function(S,G,j,z,O,i){for(var C=0;C<z.length;C++){var M=z[C]<<1,D=0,X=0;if(M<G){D=j[M];X=j[M+1]}else{X=j[M];
D=j[M+1]}if(D==i&&S[X]!=O)S[X]=O}};x.Mo.ei=function(top,S,G,j,z,O,i,C,M){for(var D=0;D<G.length;D++){var X=G[D],l=!0;
if(C!=null&&!(x.Mo.Vd(C+X.x,M+X.y,O,i)&&j[O*(M+X.y)+C+X.x]==-1))continue;if(X.uO==-1)X.uO=x.Mo.fZL(X,j,z,O,i);
if(X.uO<=0)continue;for(var f=0;f<top.length;f++){var F=top[f],$=X.x-F.x,_=X.y-F.y;if($*$+_*_<S){l=!1;
break}}if(l)return X}return null};x.Mo.fZL=function(S,G,j,z,O){var i=0;for(var C=0;C<j.length;C+=2){var M=j[C]+S.x,D=j[C+1]+S.y;
if(x.Mo.Vd(M,D,z,O)&&G[z*D+M]==-1)i++}return i/(j.length>>1)};x.Mo.fug=function(S,G,j,z,O,i){var top=[];
for(var C=0;C<60;C++){var M=x.Mo.ei(top,25,j,z,O,S,G);if(M==null)break;else top.push(M)}if(top.length==0)return null;
var D=[];for(var C=0;C<i;C++){var X=O[C*2],l=O[C*2+1],f=-1,F=0;while(!0){F++;var $=Math.random();f=Math.floor($*.99999*top.length);
var _=top[f],P=X+_.x,k=l+_.y;if(x.Mo.Vd(P,k,S,G)&&z[k*S+P]==-1)break;if(F>100){var M;M=x.Mo.ei(top,0,j,z,O,S,G,X,l);
if(M==null)return null;top.push(M);F=0}}D.push(f)}return{top:top,hb:D}};x.Mo.Xa=function(S,G,j,z,O,i,C,M){if(S==j&&G==z)return 0;
if(S<0||G<0||S>=O||G>=i||j<0||z<0||j>=O||z>=i||M[G*O+S]!=-1||M[z*O+j]!=-1)return 1e7;var D=G*O+S<<2,X=z*O+j<<2,l=C[D]-C[X],f=C[D+1]-C[X+1],F=C[D+2]-C[X+2];
return 1+(l*l+f*f+F*F)};x.Mo.Vd=function(S,G,j,z){return S>=0&&S<j&&G>=0&&G<z};x.Mo.fuX=function(S,G,j,z){var O=24*S,i=G[O],C=G[O+1],M=z*z,D=0,F=1e9;
while(j[D]!=99)if(G[O+j[D]]<j[D+1])D=j[D+2];else D=j[D+3];var X=j[D+1],l=j[D+2],f=-1;for(var $=X;$<=l;
$++){var D=$,_=D*24,P=G[_],k=G[_+1];if((P-i)*(P-i)+(k-C)*(k-C)<M)continue;var H=x.Mo.getError(_,O,G,F);
if(H<F){F=H;f=D}}return f};x.Mo.getError=function(S,G,j,z){var O=0;for(var i=4;i<24;i+=4){var C=j[G+i]-j[S+i],M=j[G+i+1]-j[S+i+1],D=j[G+i+2]-j[S+i+2],X=j[G+i+3]-j[S+i+3];
O+=C*C+M*M+D*D+X*X;if(O>=z)return O+1}return O};x.Mo.on=function(S,G,j,z,O){var i=16,$=0;if(G-S<=i){j.push(99,S,G);
return}x.Mo.wR(S,G,z,O);var C=-1,M=-1;for(var D=4;D<24;D++){var X=O[2*D+1]-O[2*D];if(X>M){M=X;C=D}}var l=S+G>>1,f=x.Mo.fuA(l,S,G,z,C),F=-1;
for(var D=S;D<=G;D++)if(z[24*D+C]==f){if(F==-1)F=D;$=D}if(S+8<F&&F-S>G-$)l=F;else if($+1<G-8)l=$+1;else if(G-S<64){j.push(99,S,G);
return}else l=l;var _=j.length;j.push(C,f,0,0);j[_+2]=_+4;x.Mo.on(S,l-1,j,z,O);j[_+3]=j.length;x.Mo.on(l,G,j,z,O)};
x.Mo.wR=function(S,G,j,z){for(var O=0;O<48;O+=4){z[O]=3e4;z[O+1]=-3e4;z[O+2]=3e4;z[O+3]=-3e4}for(var O=S;
O<=G;O++){var i=O*24;for(var C=0;C<24;C++){var M=j[i+C],D=z[C<<1],X=z[(C<<1)+1];if(M<D)z[C<<1]=M;if(M>X)z[(C<<1)+1]=M}}};
x.Mo.ol=function(S,G,j){var z=0,O=0;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;
O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;
O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;
O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;
O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;
O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;
O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;
O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;
O++;z=j[S+O];j[S+O]=j[G+O];j[G+O]=z;O++};x.Mo.oy=function(S,G,j,z){var O=j+z>>>1,i=S[24*O+G];while(j<=z){while(S[24*j+G]<i)j++;
while(S[24*z+G]>i)z--;if(j<=z){if(S[24*j+G]!=S[24*z+G])x.Mo.ol(j*24,z*24,S);j++;z--}}return j};x.Mo.fuA=function(S,G,j,z,O){var i=0;
while(G!=j){i=x.Mo.oy(z,O,G,j);if(S<i)j=i-1;else G=i}return z[S*24+O]};x.Mo.Fj=function(S,G,j,z){for(var O=0;
O<z;O++)G[j+O]=S[O]};x.Mo.fuD=function(S,G,j,z,O,i,C,M,D){var X=(z-3)*O+(j-3),l=X<<2;for(var f=0;f<8;
f++){if(G[X]+G[X+1]+G[X+2]+G[X+3]+G[X+4]+G[X+5]+G[X+6]+G[X+7]!=0||S[l+3]<200||S[l+7]<200||S[l+11]<200||S[l+15]<200||S[l+19]<200||S[l+23]<200||S[l+27]<200||S[l+31]<200)return 1;
var F=f<<3;C[F+0]=S[l+0];M[F+0]=S[l+1];D[F+0]=S[l+2];C[F+1]=S[l+4];M[F+1]=S[l+5];D[F+1]=S[l+6];C[F+2]=S[l+8];
M[F+2]=S[l+9];D[F+2]=S[l+10];C[F+3]=S[l+12];M[F+3]=S[l+13];D[F+3]=S[l+14];C[F+4]=S[l+16];M[F+4]=S[l+17];
D[F+4]=S[l+18];C[F+5]=S[l+20];M[F+5]=S[l+21];D[F+5]=S[l+22];C[F+6]=S[l+24];M[F+6]=S[l+25];D[F+6]=S[l+26];
C[F+7]=S[l+28];M[F+7]=S[l+29];D[F+7]=S[l+30];l+=O<<2;X+=O}return 0};x.Mo.oI=function(S,G){G[0]=S[32]+S[0];
G[1]=S[33]+S[1];G[2]=S[34]+S[2];G[3]=S[35]+S[3];G[4]=S[36]+S[4];G[5]=S[37]+S[5];G[6]=S[38]+S[6];G[7]=S[39]+S[7];
G[8]=S[40]+S[8];G[9]=S[41]+S[9];G[10]=S[42]+S[10];G[11]=S[43]+S[11];G[12]=S[44]+S[12];G[13]=S[45]+S[13];
G[14]=S[46]+S[14];G[15]=S[47]+S[15];G[16]=S[48]+S[16];G[17]=S[49]+S[17];G[18]=S[50]+S[18];G[19]=S[51]+S[19];
G[20]=S[52]+S[20];G[21]=S[53]+S[21];G[22]=S[54]+S[22];G[23]=S[55]+S[23];G[24]=S[56]+S[24];G[25]=S[57]+S[25];
G[26]=S[58]+S[26];G[27]=S[59]+S[27];G[28]=S[60]+S[28];G[29]=S[61]+S[29];G[30]=S[62]+S[30];G[31]=S[63]+S[31];
G[32]=S[0]-S[32];G[33]=S[1]-S[33];G[34]=S[2]-S[34];G[35]=S[3]-S[35];G[36]=S[4]-S[36];G[37]=S[5]-S[37];
G[38]=S[6]-S[38];G[39]=S[7]-S[39];G[40]=S[8]-S[40];G[41]=S[9]-S[41];G[42]=S[10]-S[42];G[43]=S[11]-S[43];
G[44]=S[12]-S[44];G[45]=S[13]-S[45];G[46]=S[14]-S[46];G[47]=S[15]-S[47];G[48]=S[16]-S[48];G[49]=S[17]-S[49];
G[50]=S[18]-S[50];G[51]=S[19]-S[51];G[52]=S[20]-S[52];G[53]=S[21]-S[53];G[54]=S[22]-S[54];G[55]=S[23]-S[55];
G[56]=S[24]-S[56];G[57]=S[25]-S[57];G[58]=S[26]-S[58];G[59]=S[27]-S[59];G[60]=S[28]-S[60];G[61]=S[29]-S[61];
G[62]=S[30]-S[62];G[63]=S[31]-S[63];S[0]=G[16]+G[0];S[1]=G[17]+G[1];S[2]=G[18]+G[2];S[3]=G[19]+G[3];
S[4]=G[20]+G[4];S[5]=G[21]+G[5];S[6]=G[22]+G[6];S[7]=G[23]+G[7];S[8]=G[24]+G[8];S[9]=G[25]+G[9];S[10]=G[26]+G[10];
S[11]=G[27]+G[11];S[12]=G[28]+G[12];S[13]=G[29]+G[13];S[14]=G[30]+G[14];S[15]=G[31]+G[15];S[16]=G[0]-G[16];
S[17]=G[1]-G[17];S[18]=G[2]-G[18];S[19]=G[3]-G[19];S[20]=G[4]-G[20];S[21]=G[5]-G[21];S[22]=G[6]-G[22];
S[23]=G[7]-G[23];S[24]=G[8]-G[24];S[25]=G[9]-G[25];S[26]=G[10]-G[26];S[27]=G[11]-G[27];S[28]=G[12]-G[28];
S[29]=G[13]-G[29];S[30]=G[14]-G[30];S[31]=G[15]-G[31];G[0]=S[8]+S[0];G[1]=S[9]+S[1];G[2]=S[10]+S[2];
G[3]=S[11]+S[3];G[4]=S[12]+S[4];G[5]=S[13]+S[5];G[6]=S[14]+S[6];G[7]=S[15]+S[7];G[8]=S[0]-S[8];G[9]=S[1]-S[9];
G[10]=S[2]-S[10];G[11]=S[3]-S[11];G[12]=S[4]-S[12];G[13]=S[5]-S[13];G[14]=S[6]-S[14];G[15]=S[7]-S[15];
S[0]=G[4]+G[0];S[1]=G[5]+G[1];S[2]=G[6]+G[2];S[3]=G[7]+G[3];S[4]=G[0]-G[4];S[5]=G[1]-G[5];S[6]=G[2]-G[6];
S[7]=G[3]-G[7];S[8]=G[12]+G[8];S[9]=G[13]+G[9];S[10]=G[14]+G[10];S[11]=G[15]+G[11];S[12]=G[8]-G[12];
S[13]=G[9]-G[13];S[14]=G[10]-G[14];S[15]=G[11]-G[15];G[0]=S[2]+S[0];G[1]=S[3]+S[1];G[2]=S[0]-S[2];G[3]=S[1]-S[3];
G[4]=S[6]+S[4];G[5]=S[7]+S[5];G[6]=S[4]-S[6];G[7]=S[5]-S[7];G[8]=S[10]+S[8];G[9]=S[11]+S[9];G[10]=S[8]-S[10];
G[11]=S[9]-S[11];G[12]=S[14]+S[12];G[13]=S[15]+S[13];G[14]=S[12]-S[14];G[15]=S[13]-S[15];S[0]=G[1]+G[0];
S[1]=G[0]-G[1];S[2]=G[3]+G[2];S[3]=G[2]-G[3];S[4]=G[5]+G[4];S[5]=G[4]-G[5];S[6]=G[7]+G[6];S[7]=G[6]-G[7];
S[8]=G[9]+G[8];S[9]=G[8]-G[9];S[10]=G[11]+G[10];S[11]=G[10]-G[11];S[12]=G[13]+G[12];S[13]=G[12]-G[13];
S[14]=G[15]+G[14];S[15]=G[14]-G[15]};x.Mo.faT=function(){var S="",G=64,j="v",z="t",O="a",i=5,C,M,D;for(C=G>>1;
C>0;C>>=1,i--){for(M=0;M<G;M++){D=(M>>i&1)!=0;if(D){S+=z+"["+M+"] = "+j+"["+(-C+M)+"] - "+j+"["+M+"];  "}else{S+=z+"["+M+"] = "+j+"["+(C+M)+"] + "+j+"["+M+"];  "}}O=j;
j=z;z=O;S+="\n"}console.log(S)};x.Mo.faZ=function(S,G,j){var z=G,O=j,i=z,C=0,D,X,l;while(S>>C!=2)C++;
var M=C;for(D=S>>1;D>0;D>>=1,C--){for(X=0;X<S;X++){l=(X>>C&1)!=0;if(l)O[X]=z[-D+X]-z[X];else O[X]=z[D+X]+z[X]}i=z;
z=O;O=i}if((M&1)==1)for(D=0;D<S;D++)j[D]=z[D]};x.hQ={};x.hQ.ej=function(S,G,j,z,O,i,C,M,D){var X=Date.now(),l=new Uint32Array(S.buffer),f=new Uint32Array(G.buffer),F=C/j,$=M/z,_=1/F,P=1/$,k=new Float64Array(2),H=3,q=1/H,R=1/(H*H),I=0,b=0,Y=j,m=z;
if(O){I=O.x;b=O.y;Y=O.o;m=O.i}for(var h=0;h<m;h++)for(var e=0;e<Y;e++){var s=I+e,y=b+h,T=y*j+s,K=T<<1,B=T<<2;
x.hQ.fuj(i,C,M,(s+.5)*F,(y+.5)*$,k);var a=k[0]*_,u=k[1]*P;if(a==0&&u==0)f[T]=l[T];else{x.Z.oj(s+a+.5,y+u+.5,l,j,z,f,T,D)}}};
x.hQ.fuj=function(S,G,j,z,O,i){z-=.499999;O-=.499999;var C=~~z,M=~~O,D=z-C,X=O-M,l=(1-X)*(1-D),f=(1-X)*D,F=X*(1-D),$=X*D,_=C<G-1?C+1:C,P=M<j-1?M+1:M,k=M*G+C<<1,H=M*G+_<<1,q=P*G+C<<1,R=P*G+_<<1;
i[0]=l*S[k]+f*S[H]+F*S[q]+$*S[R];i[1]=l*S[k+1]+f*S[H+1]+F*S[q+1]+$*S[R+1]};x.hQ.oq=new Float32Array(512);
x.hQ.eO=function(S){if(x.hQ.oq.length<S)x.hQ.oq=new Float32Array(S);return x.hQ.oq};x.hQ.fwo=function(S,G,j,z,O){var i=1/S,C=[-1,1,-S,S],M=z.length,D=x.hQ.eO(M*2);
for(var X=0;X<2;X++){for(var l=0;l<M;l++){var f=z[l],F=f<<1,$=l<<1,_=Math.floor(f*i),P=f-S*_,k=j[F],H=j[F+1],q=0,R=0;
if(P!=0&&P!=S-1){var I=f-1<<1,b=f+1<<1,Y=j[I],m=j[b],h=j[I+1],e=j[b+1],s=k-(Y+m)*.5,y=H-(h+e)*.5;q-=s*O;
R-=y*O}if(_!=0&&_!=G-1){var I=f-S<<1,b=f+S<<1,Y=j[I],m=j[b],h=j[I+1],e=j[b+1],s=k-(Y+m)*.5,y=H-(h+e)*.5;
q-=s*O;R-=y*O}D[$]=k+q;D[$+1]=H+R}for(var l=0;l<M;l++){var F=z[l]<<1,$=l<<1;j[F]=D[$];j[F+1]=D[$+1]}}};
x.hQ.fwT=function(S,G,j,z,O,i,C,M,D,X,l,f,F){var $=Math.max(0,Math.floor(O-C*M-1)),_=Math.min(G,Math.ceil(O+C*M+1)),P=Math.max(0,Math.floor(i-C-1)),k=Math.min(j,Math.ceil(i+C+1)),H=2*G,q=C*C,R=1/C,I=0,b=x.hQ.eO((_-$)*(k-P)*2);
for(var Y=P;Y<k;Y++)for(var m=$;m<_;m++){var h=Y*G+m,e=h<<1,s=(O-m)/M,y=i-Y,T=s*s+y*y;if(T<q){f[I]=h;
var K=Math.sqrt(T),B=K*R,a=K==0?1:B/K;s*=a;y*=a;var u=Math.exp(-4*B),r=.96*(1-B*B),v=X*((1-D)*u+D*r);
if(z==1){b[I<<1]=S[e]*(1-v*.05);b[(I<<1)+1]=S[e+1]*(1-v*.05)}else{var o=0,V=0,oU,p,N,ob;if(z==0){o=l.x*v;
V=l.y*v}else if(z==2){}else if(z==3){if(F)v=-v;o=v*y;V=-v*s}else if(z==4){o=v*s;V=v*y}else if(z==5){o=-v*s;
V=-v*y}else if(z==6){if(F)v=-v;o=l.y*v;V=-l.x*v}var J=S[e],d=S[e+1];if(m==0||m!=G-1&&o<0){oU=1+S[e+2]-J;
N=S[e+3]-d}else{oU=J-S[e-2]+1;N=d-S[e-1]}if(Y==0||Y!=j-1&&V<0){p=S[e+H]-J;ob=1+S[e+H+1]-d}else{p=J-S[e-H];
ob=d-S[e-H+1]+1}b[I<<1]=-(oU*o+p*V-J);b[(I<<1)+1]=-(N*o+ob*V-d)}I++}}for(var oe=0;oe<I;oe++){var e=f[oe]<<1,oF=oe<<1;
S[e]=b[oF];S[e+1]=b[oF+1]}};x.hQ.fwI=function(S){var G=S[0],j=S[0],z=S[1],O=S[1];for(var i=0;i<S.length;
i+=2){var C=S[i],M=S[i+1];if(C<G)G=C;else if(C>j)j=C;if(M<z)z=M;else if(M>O)O=M}return[G,z,j,O]};x.hQ.fac=function(S,G){var j=[],z=Math.floor(G.length/3);
for(var O=0;O<z;O++)j.push(O);var i=x.hQ.fwI(S);return x.hQ.o$(S,G,j,j.length,i)};x.hQ.o$=function(S,G,j,z,O){if(z<60)return j;
var i=O,C=O.slice(0),M=[],D=[],X=0,l=0,f=0;if(O[3]-O[1]>O[2]-O[0])f=1;else f=0;var F=(O[0+f]+O[2+f])*.5;
i[2+f]=C[0+f]=F;for(var $=0;$<z;$++){var _=j[$],P=_*3,k=S[(G[P+0]<<1)+f],H=S[(G[P+1]<<1)+f],q=S[(G[P+2]<<1)+f];
if(k<=F||H<=F||q<=F){M[X++]=_}if(k>F||H>F||q>F){D[l++]=_}}if(X==z||l==z||X+l>z*1.3)return j;return{axis:f,fmH:F,fwR:x.hQ.o$(S,G,M,X,i),fsK:x.hQ.o$(S,G,D,l,C)}};
x.hQ.faV=function(S,G,j,z,O){while(j.fwR!=null){if(j.axis==0&&z<=j.fmH||j.axis==1&&O<=j.fmH)j=j.fwR;
else j=j.fsK}return x.hQ.fw$(S,G,j,z,O)};x.hQ.faD=function(S,G,j){return j[0]<=S&&S<=j[2]&&j[1]<=G&&G<=j[3]};
x.hQ.fw$=function(S,G,j,z,O){for(var i=0;i<j.length;i++){var C=j[i],M=C*3,D=G[M+0]<<1,X=G[M+1]<<1,l=G[M+2]<<1,f=S[D+0],F=S[D+1],$=S[X+0],_=S[X+1],P=S[l+0],k=S[l+1],H=$-f,q=_-F,R=P-f,I=k-F,b=z-f,Y=O-F,m=H*I-R*q;
if(m==0)return[D>>>1,X>>>1,l>>>1,1,0,0];var h=1/m,e=(b*I-R*Y)*h,s=(H*Y-b*q)*h;if(e>=0&&s>=0&&e+s<=1)return[D>>>1,X>>>1,l>>>1,1-e-s,e,s]}return null};
x.fdM=function(S,G,j,z,O){function i(oE,ox,c,oG){return Math.sqrt((oE-c)*(oE-c)+(ox-oG)*(ox-oG))}function C(oE,ox){return oE>=0&&oE<G&&ox>=0&&ox<j}function M(oE){if(oE<0)return 0;
if(oE>=G)return G-1;return oE}function D(oE){if(oE<0)return 0;if(oE>=j)return j-1;return oE}function X(p,oE){var ox=oE[3]*(1/255),c=z[p]+oE[0]*ox;
if(c>255)c=255;z[p]=c;c=z[p+1]+oE[1]*ox;if(c>255)c=255;z[p+1]=c;c=z[p+2]+oE[2]*ox;if(c>255)c=255;z[p+2]=c}function l(oE,ox,c){if(!J(oE,ox))return;
if(c[3]<0)c[3]=0;X((ox*G+oE)*4,c)}function f(oE){var ox=oE.slice(0,3);ox[3]=0;return ox}var F=G/800;
function $(oE){return Math.round(oE*F)}function _(){for(var p=0;p<=300;p++){oU[p]=P(p)}}function P(j){var oE=.8,ox=.2,c=oE*ox,oG=j/60%2-1,or=c*(1-oG*oG),Yf=ox-c,oL;
if(j<60){oL=[c+Yf,or,0]}else if(j<120){oL=[or,c,0]}else if(j<180){oL=[0,c,or]}else if(j<240){oL=[0,or,c]}else if(j<300){oL=[or,0,c]}else{oL=[c,0,or]}return[(oL[0]+Yf)*255,(oL[1]+Yf)*255,(oL[2]+Yf)*255]}function k(j){return oU[~~j]}function H(oE){return 1-q(oE)}function q(oE){return oE-~~oE}function R(oE,ox,c,oG){o(oE,ox,c,0,ox+1,1,oG)}function I(oE,ox,c,oG,or,Yf){o(oE,ox,c,0,oG,1,or,Yf)}function b(oE){for(var p=0;
p<z.length;p+=4){X(p,oE)}}function Y(oE,ox,c,oG,or,Yf,oL,YX){m(oE,ox,c,oG,or,1,Yf,oL,YX)}function m(oE,ox,c,oG,or,Yf,oL,YX,YC){if(Yf==null)Yf=.5;
if(oL==null)oL=0;if(YX==null)YX=0;if(YC==null)YC=!1;var Yp=oE.x,YZ=oE.y,Yz=c.slice(0),YT=~~(c[3]*ob);
oG=oG*ob;if(!YC){ox=V(ox);or=V(or);oL=V(oL);YX=V(YX)}var Yg=M(Yp-ox),YY=M(Yp+ox);for(var Yo=Yg;Yo<=YY;
Yo++){var Ya=Yo-Yp,YQ=Math.floor(Math.sqrt(ox*ox-Ya*Ya)),YK=D(YZ-YQ),fa=D(YZ);for(var YO=YK;YO<=fa;YO++){var Yw=i(Yo,YO,Yp,YZ);
if(Yw>ox||Yw<=ox-or)break;var YV=(Yw-ox+or)/or;Yz[3]=YT-oG*(Yf==1?YV:Math.pow(YV,Yf));X((YO*G+Yo)*4,Yz)}YK=D(YZ+YQ);
for(var YO=YK;YO>fa;YO--){var Yw=i(Yo,YO,Yp,YZ);if(Yw>ox||Yw<=ox-or)break;var YV=(Yw-ox+or)/or;Yz[3]=YT-oG*(Yf==1?YV:Math.pow(YV,Yf));
X((YO*G+Yo)*4,Yz)}}if(oL>0){o(oE,ox+oL,Yz,Yz[3],oL,1,0,0,!0)}if(YX>0){o(oE,ox-or,d(c),-c[3],YX,1,0,0,!0)}}function h(oE,ox,c,oG,or,Yf){o(oE,ox,c,c[3],ox+1,1,oG,or,Yf)}function e(oE,ox,c,oG,or){if(or==null)or=!1;
var Yf=oE.x,oL=oE.y;oG*=ob;if(!or){ox=V(ox);c=V(c)}var YX=M(Yf-ox),YC=M(Yf+ox);for(var Yp=YX;Yp<YC;Yp++){var YZ=Yp-Yf,Yz=~~Math.sqrt(ox*ox-YZ*YZ),YT=D(oL-Yz),Yg=D(oL);
for(var YY=YT;YY<=Yg;YY++){var Yo=i(Yp,YY,Yf,oL);if(Yo>ox||Yo<=ox-c)break;var Ya=(ox-Yo)/c,YQ=k(300*Ya);
YQ[3]=oG;X((YY*G+Yp)*4,YQ)}YT=D(oL+Yz);for(var YY=YT;YY>Yg;YY--){var Yo=i(Yp,YY,Yf,oL);if(Yo>ox||Yo<=ox-c)break;
var Ya=(ox-Yo)/c,YQ=k(300*Ya);YQ[3]=oG;X((YY*G+Yp)*4,YQ)}}}function s(N,oE){var ox=N.Ck,c=N.uh,oG=oE.slice(0),or=oE[3]*ob,Yf=Math.abs(c.y-ox.y)>Math.abs(c.x-ox.x);
if(Yf){var oL=ox.x;ox.x=ox.y;ox.y=oL;oL=c.x;c.x=c.y;c.y=oL}if(ox.x>c.x){var oL=ox;ox=c;c=oL}var YX=c.x-ox.x,YC=c.y-ox.y,Yp=YX==0?1:YC/YX,YZ=Math.round(ox.x),Yz=ox.y+Yp*(YZ-ox.x),YT=H(ox.x+.5),Yg=YZ,YY=~~Yz;
if(Yf){oG[3]=or*H(Yz)*YT;l(YY,Yg,oG);oG[3]=or*q(Yz)*YT;l(YY+1,Yg,oG)}else{oG[3]=or*H(Yz)*YT;l(Yg,YY,oG);
oG[3]=or*q(Yz)*YT;l(Yg,YY+1,oG)}var Yo=Yz-Yp;YZ=Math.round(c.x);Yz=c.y+Yp*(YZ-c.x);YT=q(c.x+.5);var Ya=YZ,YQ=~~Yz;
if(Yf){oG[3]=or*H(Yz)*YT;l(YQ,Ya,oG);oG[3]=or*q(Yz)*YT;l(YQ+1,Ya,oG)}else{oG[3]=or*H(Yz)*YT;l(Ya,YQ,oG);
oG[3]=or*q(Yz)*YT;l(Ya,YQ+1,oG)}if(Yf){for(var YK=Yg+1;YK<=Ya-1;YK++){oG[3]=or*H(Yo);l(~~Yo,YK,oG);oG[3]=or*q(Yo);
l(~~Yo+1,YK,oG);Yo+=Yp}}else{for(var YK=Yg+1;YK<=Ya-1;YK++){oG[3]=or*H(Yo);l(YK,~~Yo,oG);oG[3]=or*q(Yo);
l(YK,~~Yo+1,oG);Yo+=Yp}}}function y(oE,ox,c,oG){for(var p=0;p<4;p++){var or=oE.CZ(ox+1.3*p,c);s(or,oG,1)}}function A(oE,ox){this.x=Math.round(oE);
this.y=Math.round(ox)}var T=Math.PI/180;A.prototype.CZ=function(oE,ox){oE=oE*T;var c=this.x+ox*Math.cos(oE),oG=this.y+ox*Math.sin(oE);
return new K(this.x,this.y,c,oG)};A.prototype.fJV=function(oE,ox){oE=oE*T;var c=this.Hq+ox*Math.cos(oE),oG=this.fdS+ox*Math.sin(oE);
return new A(c,oG)};function K(oE,ox,c,oG){this.Ck=new A(oE,ox);this.uh=new A(c,oG)}K.prototype.SQ=function(oE){var ox=oE*this.Ck.x+(1-oE)*this.uh.x,c=oE*this.Ck.y+(1-oE)*this.uh.y;
return new A(ox,c)};var B=Y,a=h,u=R,r=I,v=e,o=m,V=$,J=C,d=f,oU=[];_();for(var p=0;p<S.length;p++){z[p]=S[p]}var N=new K(G*O[2],j*O[3],G/2,j/2),ob=O[1],oe=[];
oe[0]=function oF(){var oE=[80,40,15,60],c=0,oG=0;u(N.SQ(1.4),260,oE,10);u(N.SQ(1),100,[240,50,50,30],30);
a(N.SQ(1),60,[255,40,0,40]);var ox=[255,255,255,255];o(N.SQ(1),70,ox,ox[3],58,.5);u(N.SQ(1),12,ox);ox[3]=40;
B(N.SQ(1),150,ox,ox[3],150);for(var p=0;p<40;p++){c+=Math.random()*25;oG=Math.random()*V(300)+V(100);
var or=N.SQ(1).CZ(c,oG);s(N.SQ(1).CZ(c,oG),[110,110,110,30])}a(N.SQ(1),130,[255,255,255,8]);var Yf=[170,30,23,70];
r(N.SQ(1),70,Yf,1,3,3);var oL=[60,60,130,40];u(N.SQ(.47),44,oL,5);u(N.SQ(.43),22,oL,3);oL[3]=16;u(N.SQ(.53),15,oL,2);
var YX=[138,94,42,100];u(N.SQ(.2),16,YX,2);var YC=[130,255,170,180];a(N.SQ(0),4,YC);a(N.SQ(-.25),5,YC);
YX=[150,90,0,50];B(N.SQ(-.45),55,d(YX),-YX[3],40,2);u(N.SQ(-.42),35,YX,2);u(N.SQ(-.5),15,YX,2);v(N.SQ(-1.28),145,11,70);
var Yp=k(0);Yp[3]=50;B(N.SQ(-1.28),149,Yp,Yp[3],4);Yp=k(300);Yp[3]=50;B(N.SQ(-1.28),155-1,d(Yp),-Yp[3],3);
var YZ=[130,130,10,50];r(N.SQ(-1),73,YZ,3,2);var Yz=[40,130,70,40];B(N.SQ(-1),70,d(Yz),-Yz[3],35);Yz=[40,170,60,50];
u(N.SQ(-.7),25,Yz,4);var Yz=[70,110,50,60];B(N.SQ(1.3),30,d(Yz),-Yz[3],11,3);oL=[0,50,210,80];a(N.SQ(-.72),20,oL)};
oe[1]=function oN(){a(N.SQ(1),150,[240,70,70,60]);u(N.SQ(1),100,[200,60,60,40],30);var oE=[255,255,255,255],ox=0,c=0;
o(N.SQ(1),75,oE,oE[3],63);u(N.SQ(1),12,oE);a(N.SQ(1),270,[200,200,200,20],10);for(var p=0;p<10;p++){ox+=10+Math.random()*40;
c=Math.random()*V(250)+V(80);var oG=N.SQ(1).CZ(ox,c);s(oG,[110,110,110,35])}ox=5;c=100;for(var p=0;p<12;
p++){ox+=30;y(N.SQ(1),ox,c,[90,90,90,40])}var or=[150,40,23,100];r(N.SQ(1),70,or,1,3,3);var Yf=[30,100,60,40];
a(N.SQ(-.9),180,[255,255,255,20]);u(N.SQ(-.9),140,Yf,15);var oL=[170,80,25,15];r(N.SQ(-.9),120,oL,1,4,4);
var YX=[110,240,190,200];a(N.SQ(-.6),3,YX);YX[3]=100;a(N.SQ(-.6),7,YX);var YC=[230,120,40,85];a(N.SQ(-.73),9,YC);
var Yp=[60,60,190,50];u(N.SQ(.3),28,Yp,6);Yp[3]=25;u(N.SQ(.34),20,Yp,3)};oe[2]=function YM(){var oE=[255,255,255,255],c=0,oG=0;
u(N.SQ(1),13,oE);o(N.SQ(1),150,oE,oE[3],137);var ox=[120,80,35,20];u(N.SQ(1.4),260,ox,10);for(var p=0;
p<40;p++){c+=5+Math.random()*30;oG=Math.random()*V(300);s(N.SQ(1).CZ(c,oG),[110,110,110,20])}var or=[10,30,255,30];
u(N.SQ(1),70,or,50);var Yf=[15,90,170,15];u(N.SQ(1.5),60,Yf);var oL=[220,220,20,50];u(N.SQ(-1.15),8,oL,2);
var oE=[255,255,255,40];a(N.SQ(-1.18),6,oE);a(N.SQ(-1.18),4,oE);oL=[110,110,10,8];B(N.SQ(-1.2),32,d(oL),-oL[3],20,3);
var YX=[5,0,16,255];for(var p=0;p<4;p++){u(N.SQ(-1.36),10,YX,3)}var YC=[90,200,150,20],Yp=YC.slice(0);
Yp[3]*=2;u(N.SQ(-1.32),7,Yp,3);u(N.SQ(-1.36),7,Yp,3);u(N.SQ(-1.4),7,Yp,3);var oE=[230,230,230,100];a(N.SQ(-1.36),2,oE);
oE[3]=3;u(N.SQ(-.55),10,oE);oL=[120,100,10,18];u(N.SQ(-.55),160,oL,8);u(N.SQ(-.55),80,oL,4);YC[3]=3;
Yp[3]=6;B(N.SQ(-.49),13,d(Yp),-Yp[3],13,2);B(N.SQ(-.55),13,d(Yp),-Yp[3],13,2);YC[3]=20;u(N.SQ(.15),25,YC,3);
oL[3]=100;a(N.SQ(-.52),3,oL);oL=[200,200,50,40];u(N.SQ(.27),1,oL,4);var YZ=[150,40,23,30];B(N.SQ(1),80,d(YZ),-YZ[3],2,1)};
return oe[O[0]]()};x.Mt={};x.Mt.eq=function(S){var G=~~(S+.5);return G<0?0:G>255?255:G};x.Mt.transform=function(S,G,j){var z=x.Mt.eq,O=S.H.length;
for(var i=0;i<O;i++){var C=S.H[i],M=S.X[i],D=S.C[i];G.H[i]=z(j[0]*C+j[1]*M+j[2]*D+j[3]*255);G.X[i]=z(j[4]*C+j[5]*M+j[6]*D+j[7]*255);
G.C[i]=z(j[8]*C+j[9]*M+j[10]*D+j[11]*255)}};x.Mt.o_=function(S,G,j){var z=x.Mt.eq,O=S.length;for(var i=0;
i<O;i+=4){var C=S[i],M=S[i+1],D=S[i+2];G[i]=z(j[0]*C+j[1]*M+j[2]*D+j[3]*255);G[i+1]=z(j[4]*C+j[5]*M+j[6]*D+j[7]*255);
G[i+2]=z(j[8]*C+j[9]*M+j[10]*D+j[11]*255)}};x.Mt.oN=function(S){var G=S[0]+S[1]+S[2],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(G==1){var z=S.indexOf(1);j[z]=j[z+4]=j[z+8]=1}else{j[0]=S[0];j[5]=S[1];j[10]=S[2]}return j};x.Mt.Oq=function(S,G,j){return[1,0,0,S,0,1,0,G,0,0,1,j,0,0,0,1]};
x.Mt.Ob=function(S,G,j){return[S,0,0,0,0,G,0,0,0,0,j,0,0,0,0,1]};x.Mt.fds=function(S){return[S[0],S[1],S[2],S[4],S[5],S[6],S[8],S[9],S[10]]};
x.Mt.tM=function(S){return[S[0],S[1],S[2],0,S[3],S[4],S[5],0,S[6],S[7],S[8],0,0,0,0,1]};x.Mt.VJ=function(S,G){return[S[0]*G[0]+S[1]*G[1]+S[2]*G[2]+S[3]*G[3],S[4]*G[0]+S[5]*G[1]+S[6]*G[2]+S[7]*G[3],S[8]*G[0]+S[9]*G[1]+S[10]*G[2]+S[11]*G[3],S[12]*G[0]+S[13]*G[1]+S[14]*G[2]+S[15]*G[3]]};
x.Mt.jt=function(S){var G=[];G[0]=S[0];G[1]=S[4];G[2]=S[8];G[3]=S[12];G[4]=S[1];G[5]=S[5];G[6]=S[9];
G[7]=S[13];G[8]=S[2];G[9]=S[6];G[10]=S[10];G[11]=S[14];G[12]=S[3];G[13]=S[7];G[14]=S[11];G[15]=S[15];
return G};x.Mt.multiply=function(S,G){var j=[];j[0]=S[0]*G[0]+S[1]*G[4]+S[2]*G[8]+S[3]*G[12];j[1]=S[0]*G[1]+S[1]*G[5]+S[2]*G[9]+S[3]*G[13];
j[2]=S[0]*G[2]+S[1]*G[6]+S[2]*G[10]+S[3]*G[14];j[3]=S[0]*G[3]+S[1]*G[7]+S[2]*G[11]+S[3]*G[15];j[4]=S[4]*G[0]+S[5]*G[4]+S[6]*G[8]+S[7]*G[12];
j[5]=S[4]*G[1]+S[5]*G[5]+S[6]*G[9]+S[7]*G[13];j[6]=S[4]*G[2]+S[5]*G[6]+S[6]*G[10]+S[7]*G[14];j[7]=S[4]*G[3]+S[5]*G[7]+S[6]*G[11]+S[7]*G[15];
j[8]=S[8]*G[0]+S[9]*G[4]+S[10]*G[8]+S[11]*G[12];j[9]=S[8]*G[1]+S[9]*G[5]+S[10]*G[9]+S[11]*G[13];j[10]=S[8]*G[2]+S[9]*G[6]+S[10]*G[10]+S[11]*G[14];
j[11]=S[8]*G[3]+S[9]*G[7]+S[10]*G[11]+S[11]*G[15];j[12]=S[12]*G[0]+S[13]*G[4]+S[14]*G[8]+S[15]*G[12];
j[13]=S[12]*G[1]+S[13]*G[5]+S[14]*G[9]+S[15]*G[13];j[14]=S[12]*G[2]+S[13]*G[6]+S[14]*G[10]+S[15]*G[14];
j[15]=S[12]*G[3]+S[13]*G[7]+S[14]*G[11]+S[15]*G[15];return j};x.Mt.uT=function(S){var G=[];G[0]=S[5]*S[10]*S[15]-S[5]*S[14]*S[11]-S[6]*S[9]*S[15]+S[6]*S[13]*S[11]+S[7]*S[9]*S[14]-S[7]*S[13]*S[10];
G[1]=-S[1]*S[10]*S[15]+S[1]*S[14]*S[11]+S[2]*S[9]*S[15]-S[2]*S[13]*S[11]-S[3]*S[9]*S[14]+S[3]*S[13]*S[10];
G[2]=S[1]*S[6]*S[15]-S[1]*S[14]*S[7]-S[2]*S[5]*S[15]+S[2]*S[13]*S[7]+S[3]*S[5]*S[14]-S[3]*S[13]*S[6];
G[3]=-S[1]*S[6]*S[11]+S[1]*S[10]*S[7]+S[2]*S[5]*S[11]-S[2]*S[9]*S[7]-S[3]*S[5]*S[10]+S[3]*S[9]*S[6];
G[4]=-S[4]*S[10]*S[15]+S[4]*S[14]*S[11]+S[6]*S[8]*S[15]-S[6]*S[12]*S[11]-S[7]*S[8]*S[14]+S[7]*S[12]*S[10];
G[5]=S[0]*S[10]*S[15]-S[0]*S[14]*S[11]-S[2]*S[8]*S[15]+S[2]*S[12]*S[11]+S[3]*S[8]*S[14]-S[3]*S[12]*S[10];
G[6]=-S[0]*S[6]*S[15]+S[0]*S[14]*S[7]+S[2]*S[4]*S[15]-S[2]*S[12]*S[7]-S[3]*S[4]*S[14]+S[3]*S[12]*S[6];
G[7]=S[0]*S[6]*S[11]-S[0]*S[10]*S[7]-S[2]*S[4]*S[11]+S[2]*S[8]*S[7]+S[3]*S[4]*S[10]-S[3]*S[8]*S[6];G[8]=S[4]*S[9]*S[15]-S[4]*S[13]*S[11]-S[5]*S[8]*S[15]+S[5]*S[12]*S[11]+S[7]*S[8]*S[13]-S[7]*S[12]*S[9];
G[9]=-S[0]*S[9]*S[15]+S[0]*S[13]*S[11]+S[1]*S[8]*S[15]-S[1]*S[12]*S[11]-S[3]*S[8]*S[13]+S[3]*S[12]*S[9];
G[10]=S[0]*S[5]*S[15]-S[0]*S[13]*S[7]-S[1]*S[4]*S[15]+S[1]*S[12]*S[7]+S[3]*S[4]*S[13]-S[3]*S[12]*S[5];
G[11]=-S[0]*S[5]*S[11]+S[0]*S[9]*S[7]+S[1]*S[4]*S[11]-S[1]*S[8]*S[7]-S[3]*S[4]*S[9]+S[3]*S[8]*S[5];G[12]=-S[4]*S[9]*S[14]+S[4]*S[13]*S[10]+S[5]*S[8]*S[14]-S[5]*S[12]*S[10]-S[6]*S[8]*S[13]+S[6]*S[12]*S[9];
G[13]=S[0]*S[9]*S[14]-S[0]*S[13]*S[10]-S[1]*S[8]*S[14]+S[1]*S[12]*S[10]+S[2]*S[8]*S[13]-S[2]*S[12]*S[9];
G[14]=-S[0]*S[5]*S[14]+S[0]*S[13]*S[6]+S[1]*S[4]*S[14]-S[1]*S[12]*S[6]-S[2]*S[4]*S[13]+S[2]*S[12]*S[5];
G[15]=S[0]*S[5]*S[10]-S[0]*S[9]*S[6]-S[1]*S[4]*S[10]+S[1]*S[8]*S[6]+S[2]*S[4]*S[9]-S[2]*S[8]*S[5];var j=S[0]*G[0]+S[1]*G[4]+S[2]*G[8]+S[3]*G[12];
for(var z=0;z<16;z++)G[z]/=j;return G};x.Mt.tA=function(S){var G=[],j=S[5]*S[10]*S[15]-S[5]*S[14]*S[11]-S[6]*S[9]*S[15]+S[6]*S[13]*S[11]+S[7]*S[9]*S[14]-S[7]*S[13]*S[10],z=-S[4]*S[10]*S[15]+S[4]*S[14]*S[11]+S[6]*S[8]*S[15]-S[6]*S[12]*S[11]-S[7]*S[8]*S[14]+S[7]*S[12]*S[10],O=S[4]*S[9]*S[15]-S[4]*S[13]*S[11]-S[5]*S[8]*S[15]+S[5]*S[12]*S[11]+S[7]*S[8]*S[13]-S[7]*S[12]*S[9],i=-S[4]*S[9]*S[14]+S[4]*S[13]*S[10]+S[5]*S[8]*S[14]-S[5]*S[12]*S[10]-S[6]*S[8]*S[13]+S[6]*S[12]*S[9];
return S[0]*j+S[1]*z+S[2]*O+S[3]*i};x.Mt.Yg=x.Mt.tM([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
x.Mt.faj=x.Mt.tM([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
x.Mt.fdc=x.Mt.uT(x.Mt.Yg);x.mr={};x.mr.ox=new Uint32Array(1);x.mr.eN=function(S,G,j,z,O,i){var C=new Uint32Array(S),M=0,D=x.mr.ox;
if(D.length<G*4)x.mr.ox=D=new Uint32Array(G*4);var X=new Float64Array(D.buffer);for(var l=0;l<G;l+=2){var f=O[l],F=O[l+1],$=i[l],_=i[l+1];
D[M]=F;X[M+2>>1]=$;D[M+1]=C[f];C[f]=M+1;M+=4;D[M]=f;X[M+2>>1]=_;D[M+1]=C[F];C[F]=M+1;M+=4}return{ON:D,fcK:X,fAY:C}};
x.mr.Oe=function(S,G,j,z,O,i,C){var M=1,D=x.mr.eN(S,G,j,z,O,i),X=D.ON,l=D.fcK,f=D.fAY,F=new Uint32Array(S),$=new x.mr.YM(S),P=1,I=0;
$.push(j);$.push(z);var _=new x.mr.YM(S),k=new Uint8Array(S),H=new Uint32Array(S);k[j]=1;k[z]=2;var q=new Uint32Array(S),R=new Uint32Array(S);
R[j]=R[z]=0;q[j]=q[z]=1;while(!0){var b=-1,T=0,r=1e30;while(!$.VO()&&b==-1){var Y=$.top(),m=k[Y],h=f[Y]-1;
while(h!=-1){var e=X[h],s=k[e],y=h^m-1<<2;if(l[y+2>>1]!=0){if(s==0){x.mr.YX(Y,h,e,k,H,R,q);$.push(e)}else if(s==m&&q[e]<=q[Y]&&R[e]>R[Y])x.mr.YX(Y,h,e,k,H,R,q);
else if(s!=m){b=y}}h=X[h+1]-1}if(b!=-1)break;$.pop()}if(b==-1){break}P++;var K=b;while(K!=-1){F[T]=K;
T++;K=H[X[K^4]]-1}var B=T>>1;for(var a=0;a<B;a++){var u=F[a];F[a]=F[T-a-1];F[T-a-1]=u}K=H[X[b]]-1;while(K!=-1){F[T]=K^4;
T++;K=H[X[K^4]]-1}for(var a=0;a<T;a++)r=Math.min(r,l[F[a]+2>>1]);I+=r;if(I>=C)return{u_:null,oA:I};for(var a=0;
a<T;a++){var v=F[a],o=v^4,Y=X[o],e=X[v];l[v+2>>1]-=r;l[o+2>>1]+=r;if(l[v+2>>1]==0&&k[Y]==k[e]){if(k[Y]==1){H[e]=0;
_.push(e)}if(k[Y]==2){H[Y]=0;_.push(Y)}}}while(!_.VO()){var Y=_.pop(),m=k[Y],h=f[Y]-1,V=m==1?4:0,J=0,d=0,oU=1e9;
while(h!=-1){var e=X[h],p=h^4,y=h^V;if(k[e]==m&&l[y+2>>1]>0&&x.mr.fdk(e,j,z,H,X,P,q,R)+1<oU){J=e;d=p;
oU=R[e]+1}h=X[h+1]-1}if(d!=0){x.mr.YX(J,d,Y,k,H,R,q);continue}h=f[Y]-1;while(h!=-1){var e=X[h],y=h^V;
if(k[e]==m){if(l[y+2>>1]>0){$.push(e)}if(H[e]==h+1){H[e]=0;_.push(e)}}h=X[h+1]-1}k[Y]=0;$.remove(Y)}}var N=[];
for(var a=0;a<G;a+=2){var Y=O[a],e=O[a+1];if(k[Y]==1&&k[e]!=1){N.push(a>>1)}if(k[e]==1&&k[Y]!=1){N.push(G+a>>1)}}return{u_:N,oA:I}};
x.mr.YX=function(S,G,j,z,O,i,C){z[j]=z[S];O[j]=G+1;i[j]=i[S]+1;C[j]=C[S]};x.mr.fdk=function(S,G,j,z,O,i,C,M){var D=S,X=z[S]-1,l=0;
while(X!=-1&&C[S]!=i){S=O[X^4];X=z[S]-1;l++}if(X==-1&&S!=G&&S!=j)return 1e9;var f=M[S]+l;l=0;X=z[D]-1;
while(D!=S){M[D]=f-l;l++;C[D]=i;D=O[X^4];X=z[D]-1}return f};x.mr.faO=function(S,G,j,z,O,i){var C=x.mr.eN(S,G,j,z,O,i),M=C.ON,D=C.fcK,X=C.fAY,l=0,f=0,F=new Uint32Array(S*2),$=new x.mr.er(S),_=0;
while(!0){$.reset();$.push(j);for(var P=0;P<S;P++)F[P<<1]=0;while(!$.VO()){var k=$.pop(),H=X[k]-1;while(H!=-1){_=M[H];
if(F[_<<1]==0&&D[H+2>>1]>0&&_!=j){F[_<<1]=k+1;F[(_<<1)+1]=H;$.push(_)}H=M[H+1]-1}if(F[z<<1]!=0){break}}if(F[z<<1]==0){break}var q=1e30;
_=z;while(!0){var R=F[_<<1]-1;if(R==-1)break;var I=F[(_<<1)+1];q=Math.min(q,D[I+2>>1]);_=R}_=z;while(!0){var R=F[_<<1]-1;
if(R==-1)break;var I=F[(_<<1)+1],b=I^4;D[I+2>>1]-=q;D[b+2>>1]+=q;_=R}l+=q}var Y=[];for(var P=0;P<G;P+=2){var R=O[P],_=O[P+1];
if((F[R<<1]!=0||R==j)&&F[_<<1]==0&&_!=j){Y.push(P>>1)}if((F[_<<1]!=0||_==j)&&F[R<<1]==0&&R!=j){Y.push(G+P>>1)}}return{u_:Y,oA:l}};
x.mr.er=function(S){S|=S>>1;S|=S>>2;S|=S>>4;S|=S>>8;S|=S>>16;this.vr=new Uint32Array(S+1);this.Bh=S;
this.te=0;this.fV=0};x.mr.er.prototype={push:function(S){var G=this.fV;this.vr[G]=S;this.fV=G+1&this.Bh},pop:function(){var S=this.te,G=this.vr[S];
this.te=S+1&this.Bh;return G},VO:function(){return this.te==this.fV},reset:function(){this.te=0;this.fV=0}};
x.mr.YM=function(S){S|=S>>1;S|=S>>2;S|=S>>4;S|=S>>8;S|=S>>16;this.vr=new Uint32Array(S+1);this.wo=new Uint32Array(S+1);
this.Bh=S;this.te=0;this.fV=0};x.mr.YM.prototype={top:function(){return this.vr[this.te]},fa$:function(){return this.vr[this.fV]},push:function(S){if(this.wo[S]!=0)return;
this.wo[S]=this.fV+1;var G=this.fV;this.vr[G]=S;this.fV=G+1&this.Bh},pop:function(){var S=this.te,G=this.vr[S];
this.wo[G]=0;this.te=S+1&this.Bh;return G},VO:function(){return this.te==this.fV},remove:function(S){var G=this.wo[S]-1;
if(G==-1)return;this.wo[S]=0;if(G==this.te){this.pop();return}var j=this.pop();this.vr[G]=j;this.wo[j]=G+1},tP:function(S){return S+this.Bh+1&this.Bh}};
x.mr.et=function(S,G,j){var z=x.mr.oy(S,G,j);if(G<z-1)x.mr.et(S,G,z-1);if(z<j)x.mr.et(S,z,j)};x.mr.oy=function(S,G,j){var z=S[G+j>>>1];
while(G<=j){while(S[G]<z)G++;while(S[j]>z)j--;if(G<=j){x.mr.ol(S,G,j);G++;j--}}return G};x.mr.ol=function(S,G,j){var z=S[G];
S[G]=S[j];S[j]=z};x.tS={};x.tS.fdH=function(S){for(var G=0;G<S.length;G++)x.tS.Vq(S,G)};x.tS.Vq=function(S,G){S[G].v.keyShapeInvalidated={t:"bool",v:!0}};
x.tS.fcT=function(S){for(var G=0;G<S.length;G++)S[G].v.keyOriginIndex.v=G};x.tS.Xh=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
x.tS.$X=function(S){S=S.v;var G={Rctn:2,Ln:4,Elps:5},j=G[S.classID],z=S.topLeft?x.tS.$v(S):null,O=null,i=0;
if(j==4){var C=S.Strt.v,M=S.End.v;O=[C.Hrzn.v.val,C.Vrtc.v.val,M.Hrzn.v.val,M.Vrtc.v.val];i=S.Wdth.v.val}if(j==null)return null;
return x.tS.Xd(j,j==4?null:x.tS.Yo(S),z,O,i)};x.tS.Vo=function(S,G,j,z,O,i){var C={classID:S,unitValueQuadVersion:{t:"long",v:1}};
if(G)x.tS.VY(C,["Left","Top","Rght","Btom"],G);if(j)x.tS.VY(C,["topLeft","topRight","bottomRight","bottomLeft"],j);
if(S=="Ln"){C.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:z[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:z[1]}}}},C.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:z[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:z[3]}}}},C.Wdth={t:"UntF",v:{type:"#Pxl",val:O}}}if(i)C.Nm={t:"TEXT",v:i};
return{t:"Objc",v:C}};x.tS.Xd=function(S,G,j,z,O){var i=x.tS.Xh(),C=i.v;delete C.keyShapeInvalidated;
C.keyOriginType={t:"long",v:S};C.keyOriginResolution={t:"doub",v:75};if(S==4){C.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:z[0]},Vrtc:{t:"doub",v:z[1]}}};
C.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:z[2]},Vrtc:{t:"doub",v:z[3]}}};G=[Math.min(z[0],z[2]),Math.min(z[1],z[3]),Math.max(z[0],z[2]),Math.max(z[1],z[3])];
C.keyOriginLineWeight={t:"doub",v:O},C.keyOriginLineArrowSt={t:"bool",v:!1};C.keyOriginLineArrowEnd={t:"bool",v:!1};
C.keyOriginLineArrWdth={t:"doub",v:0};C.keyOriginLineArrLngth={t:"doub",v:0};C.keyOriginLineArrConc={t:"long",v:0}}var M={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
C.keyOriginShapeBBox={t:"Objc",v:M};x.tS.YY(C,G);if(j!=null){var D={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
C.keyOriginRRectRadii={t:"Objc",v:D};x.tS.Ya(C,j)}return i};x.tS.GY=function(S,G,j,z){var O=x.Z.eJ(G),i=x.Z.eA(G),C=Math.max(Math.abs(G[0]),Math.abs(G[1])),M=Math.max(Math.abs(G[3]),Math.abs(G[4]));
for(var D=0;D<S.length;D++){var X=S[D].v,l=X.keyShapeInvalidated;if(l&&l.v||X.keyOriginType==null)continue;
if(j.length!=0&&j.indexOf(D)==-1)continue;var f=X.keyOriginType.v;if(!O||!i||z&&f==2&&Math.abs(1-C/M)>.01){x.tS.Vq(S,D);
continue}var F=x.tS.Vx(X);x.Z.apply(G,F);x.tS.YY(X,[Math.min(F[0],F[2]),Math.min(F[1],F[3]),Math.max(F[0],F[2]),Math.max(F[1],F[3])]);
if(f==2){var $=x.tS.YP(X),_=new Ym(G[0],G[1],G[3],G[4],0,0);_.Nj();if(_.A==0){$.push($.shift());_.rotate(Math.PI/2);
_.Nj()}if(_.A<0){var P=$[0];$[0]=$[1];$[1]=P;P=$[2];$[2]=$[3];$[3]=P}if(_.JE<0){var P=$[0];$[0]=$[3];
$[3]=P;P=$[1];$[1]=$[2];$[2]=P}if(z)for(var k=0;k<4;k++)$[k]=$[k]*C;x.tS.Ya(X,$)}if(f==4){X.keyOriginLineWeight.v*=C;
var H=x.tS.$p(X);x.Z.apply(G,H);x.tS.fcU(X,H)}}};x.tS.VU=function(S,G){var j=G.z;for(var z=0;z<S.length;
z++){var O=S[z].v,i=O.keyShapeInvalidated,F;if(i&&i.v||O.keyOriginType==null)continue;var C=O.keyOriginType.v,M=x.tS.Vx(O),D=M[0],X=M[1],l=M[2],f=M[3];
if(C==1)F=x.p.Go.Rect(D,X,l-D,f-X,0);else if(C==2){var $=x.tS.YP(O);F=x.p.Go.Rect(D,X,l-D,f-X,$)}else if(C==4){var _=x.tS.$p(O);
F=x.p.Go.Yn(_[0],_[1],_[2],_[3],O.keyOriginLineWeight.v)}else if(C==5)F=x.p.Go.Bz(D,X,l-D,f-X);var P=x.p.VV(j,z),k=x.p._o(j,z);
F[2].ta=j[P].ta;var H=j;j=j.slice(0,P);for(var q=2;q<F.length;q++)j.push(F[q]);for(var q=P+k;q<H.length;
q++)j.push(H[q])}G.z=j;G.io=!0};x.tS.Ia=function(S){var G=1e9,j=-G,z=1e9,O=-z,i=null,C=S.ya(),M=C[0],D=C[1];
for(var X=0;X<D.length;X++){var l=M[D[X]],f=l.add.vogk;if(f==null)continue;var F=l.add.vmsk.N;for(var $=0;
$<f.length;$++){var _=f[$].v,P=_.keyShapeInvalidated;if(P&&P.v||_.keyOriginType==null)continue;if(D.length==1&&F.length!=0&&F.indexOf($)==-1)continue;
var k=_.keyOriginType.v;if(k!=4){var H=x.tS.Vx(_);G=Math.min(G,H[0]);z=Math.min(z,H[1]);j=Math.max(j,H[2]);
O=Math.max(O,H[3])}if(k==2&&i==null){i=x.tS.YP(_)}}}return[G<j?[G,z,j,O]:null,i]};x.tS.fcD=function(S,G,j){var z=x.tS.Ia(S)[0],O;
if(z){var i=new Ym;i.translate(-z[0],-z[1]);i.scale(1/(z[2]-z[0]),1/(z[3]-z[1]));i.scale(G[2]-G[0],G[3]-G[1]);
i.translate(G[0],G[1]);O=x.Z.BS(i)}var C=S.ya(),M=C[0],D=C[1];for(var X=0;X<D.length;X++){var l=M[D[X]],f=l.add.vogk;
if(f==null)continue;var F=l.add.vmsk.N;for(var $=0;$<f.length;$++){var _=f[$].v,P=_.keyShapeInvalidated;
if(P&&P.v||_.keyOriginType==null)continue;if(D.length==1&&F.length!=0&&F.indexOf($)==-1)continue;var k=_.keyOriginType.v;
if(k!=4&&G[0]!=null){var G=x.tS.Vx(_);x.Z.apply(O,G);x.tS.YY(_,G)}if(k==2&&j!=null){x.tS.Ya(_,j)}}}};
x.tS.Vx=function(S){return x.tS.Yo(S.keyOriginShapeBBox.v)};x.tS.Yo=function(S){var G=S.Left.v.val,j=S.Rght.v.val,z=S.Top.v.val,O=S.Btom.v.val;
return[G,z,j,O]};x.tS.YY=function(S,G){x.tS.VY(S.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],G)};
x.tS.YP=function(S){return x.tS.$v(S.keyOriginRRectRadii.v)};x.tS.$v=function(S){var G=[],j=["topLeft","topRight","bottomRight","bottomLeft"];
for(var z=0;z<4;z++)G.push(S[j[z]].v.val);return G};x.tS.Ya=function(S,G){x.tS.VY(S.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],G)};
x.tS.VY=function(S,G,j){for(var z=0;z<4;z++)if(j[z]!=null)S[G[z]]={t:"UntF",v:{type:"#Pxl",val:j[z]}}};
x.tS.$p=function(S){var G=S.keyOriginLineStart.v,j=S.keyOriginLineEnd.v;return[G.Hrzn.v,G.Vrtc.v,j.Hrzn.v,j.Vrtc.v]};
x.tS.fcU=function(S,G){var j=S.keyOriginLineStart.v,z=S.keyOriginLineEnd.v;j.Hrzn.v=G[0];j.Vrtc.v=G[1];
z.Hrzn.v=G[2];z.Vrtc.v=G[3]};x.Y={};x.Y.clone=function(S){return{w:S.w.slice(0),v:S.v.slice(0)}};x.Y.$T=function(S){if(S.length<6)return!0;
var G=S.length-4;for(var j=0;j<G;j+=2)if(!x.Y.YZ(S[j],S[j+1],S[j+2],S[j+3],S[j+4],S[j+5]))return!1;if(!x.Y.YZ(S[G],S[G+1],S[G+2],S[G+3],S[0],S[1]))return!1;
if(!x.Y.YZ(S[G+2],S[G+3],S[0],S[1],S[2],S[3]))return!1;return!0};x.Y.YZ=function(S,G,j,z,O,i){return(G-z)*(O-j)+(j-S)*(i-z)>=0};
x.Y.Yu=function(S){var G={},j=null,z=0,O={M:2,L:2,Q:4,C:6};for(var i=0;i<S.w.length;i++){var C=S.w[i];
if(C.charAt(0)=="#"){if(G[C]==null)G[C]={v:[],w:[]};j=G[C]}else if(C!="X"){j.w.push(C);var M=O[C];if(M==null)M=0;
for(var D=0;D<M;D++)j.v.push(S.v[z+D]);z+=M}}return G};x.Y.oe=function(S,G){S=x.Y.qo(S);var j=S.v,z=S.w,O=0,i=[],C=null;
for(var M=0;M<z.length;M++){var D=z[M];if(D=="M"){C={ff_:O,rH:0,Or:!1};i.push(C);O+=2}if(D=="C"){C.rH++;
O+=6}if(D=="Z"){C.Or=!0}}var X=[];for(var M=0;M<i.length;M++)if(i[M].rH!=0)X.push(i[M]);i=X;for(var M=0;
M<i.length;M++){var l=i[M],f=l.ff_,F=f+2+l.rH*6,_=0;l.HQ=x.Y.wR(j,f,F);var $=j[f]==j[F-2]&&j[f+1]==j[F-1];
for(var P=0;P<l.rH;P++){var k=f+P*6,H=k+6;_+=(j[H]-j[k])*(j[H+1]+j[k+1])}if(!$)_+=(j[f]-j[F-2])*(j[f+1]+j[F-1]);
l.qf=_<=0}for(var M=0;M<i.length-1;M++)for(var k=M+1;k<i.length;k++){var q=i[M],R=i[k];if(R.HQ.Ym(q.HQ)){i[M]=R;
i[k]=q}}var I=i.length==0?!0:i[0].qf,b=[{type:6},{type:8,all:0}];for(var M=0;M<i.length;M++){var l=i[M],f=l.ff_,F=f+2+l.rH*6,$=j[f]==j[F-2]&&j[f+1]==j[F-1],Y=l.Or||$?0:3,m=l.qf==I&&!G?1:0;
if(!G&&M!=0){if(i[M-1].HQ.Ym(l.HQ)&&i[M-1].qf!=l.qf)m=0;for(var k=0;k<i.length;k++)if(k!=M&&i[k].HQ.Ym(l.HQ))m=0}b.push({type:Y,length:l.rH+($?0:1),ta:m,lj:2});
for(var k=0;k<l.rH;k++){var O=f+k*6,h=new A(j[O],j[O+1]),e=new A(j[O+2],j[O+3]),s;if(k==0){if($)s=new A(j[F-4],j[F-3]);
else s=h.clone()}else s=new A(j[O-2],j[O-1]);b.push({type:Y+2,Cu:s,K:h,tw:e})}if(!$){var y=new A(j[F-2],j[F-1]);
b.push({type:Y+2,Cu:new A(j[F-4],j[F-3]),K:y,tw:y.clone()})}}for(var k=0;k<b.length;k++){var T=b[k];
if(T.type>5||T.type==0||T.type==3)continue;var K=T.Cu.Xs(T.K)||T.tw.Xs(T.tw);if(!K){var q=T.Cu.x*(T.K.y-T.tw.y)+T.K.x*(T.tw.y-T.Cu.y)+T.tw.x*(T.Cu.y-T.K.y);
if(Math.abs(q)<1e-6)K=!0}if(K)T.type--}return b};x.Y.tH=function(S){var G={v:[],w:[]};for(var j=0;j<S.length;
j++){if(S[j].type>5)continue;var z=S[j].length;if(z==0)continue;if(j==S.length-1)break;var O=S[j].type==3;
x.Y.fVW(G,S,j+1,z,O);if(!O)G.w.push("Z");j+=z}return G};x.Y.fVW=function(S,G,j,z,O){var i=G[j],C=null;
S.v.push(i.K.x,i.K.y);S.w.push("M");for(var M=j;M<j+z-1;M++){i=G[M];C=G[M+1];if(i.tw.Xs(i.K)&&C.Cu.Xs(C.K)){S.v.push(C.K.x,C.K.y);
S.w.push("L")}else{S.v.push(i.tw.x,i.tw.y,C.Cu.x,C.Cu.y,C.K.x,C.K.y);S.w.push("C")}}if(!O){i=G[M];C=G[j];
if(i.tw.Xs(i.K)&&C.Cu.Xs(C.K)){S.v.push(C.K.x,C.K.y);S.w.push("L")}else{S.v.push(i.tw.x,i.tw.y,C.Cu.x,C.Cu.y,C.K.x,C.K.y);
S.w.push("C")}}};x.Y.fpg=function(S){var G=S.v,j=[],z,O=0;for(var i=0;i<S.w.length;i++){var C=S.w[i];
if(C=="C"){z.push(G[O++],G[O++],G[O++],G[O++],G[O++],G[O++])}else if(C=="Z"){}else{z=[];if(C!="M"){z.push(C);
i++}z.push(G[O++],G[O++]);j.push(z)}}return j};x.Y.Yw=function(S,G,j,z){for(var O=0;O<S.length;O+=2){var i=S[O],C=S[O+1],M=G[O],D=G[O+1];
j[O]=i+(M-i)*z;j[O+1]=C+(D-C)*z}};x.Y.GY=function(S,G,j){for(var z=0;z<S.length;z+=2){var O=S[z],i=S[z+1];
j[z]=O*G.A+i*G.vK+G.cg;j[z+1]=O*G.C+i*G.JE+G.tL}};x.Y.wR=function(S,G,j){if(G==null)G=0;if(j==null)j=S.length;
var z=99999999999,O=-z,i=99999999999,C=-i;for(var M=G;M<j;M+=2){var D=S[M],X=S[M+1];z=Math.min(z,D);
i=Math.min(i,X);O=Math.max(O,D);C=Math.max(C,X)}return new Q(z,i,O-z,C-i)};x.Y.$Z=function(S,G){var j=Math.max(G.x,Math.min(G.x+G.o,S.x)),z=Math.max(G.y,Math.min(G.y+G.i,S.y)),O=S.x-j,i=S.y-z;
return Math.sqrt(O*O+i*i)};x.Y.tE=function(S){if(S.tR())return new Q(Math.floor(S.x),Math.floor(S.y),Math.ceil(S.o),Math.ceil(S.i));
var G=Math.floor(S.x),j=Math.ceil(S.x+S.o),z=Math.floor(S.y),O=Math.ceil(S.y+S.i);return new Q(G,z,j-G,O-z)};
x.Y.sO=function(S){return x.Y.tE(x.Y.wR(S))};x.Y.pu=function(S){var G=S.x,j=S.y,z=S.x+S.o,O=S.y+S.i;
return{w:["M","L","L","L","Z"],v:[G,j,z,j,z,O,G,O]}};x.Y.concat=function(S,G,j){if(j==null)j=new Ym;
for(var z=0;z<G.v.length;z+=2){var O=G.v[z],i=G.v[z+1];S.v.push(O*j.A+i*j.vK+j.cg);S.v.push(O*j.C+i*j.JE+j.tL)}for(var z=0;
z<G.w.length;z++)S.w.push(G.w[z])};x.Y.qo=function(S){var G=S.v,j=[],z=[],O=0,i=0,C=0,M=0,D=0,X=0,l=0,f=0,F=0;
for(var $=0;$<S.w.length;$++){var _=S.w[$];if(_=="M"){i=G[O];C=G[O+1];O+=2;z.push(_);j.push(i,C)}else if(_=="C"){M=G[O];
D=G[O+1];X=G[O+2];l=G[O+3];f=G[O+4];F=G[O+5];O+=6;z.push(_);j.push(M,D,X,l,f,F);i=f;C=F}else if(_=="Q"){M=G[O];
D=G[O+1];X=G[O+2];l=G[O+3];O+=4;var P=M-i,k=D-C,H=X-M,q=l-D;z.push("C");j.push(i+2/3*P,C+2/3*k,M+1/3*H,D+1/3*q,X,l);
i=X;C=l}else if(_=="L"){M=G[O];D=G[O+1];O+=2;var R=M-i,I=D-C;z.push("C");j.push(i,C,M,D,M,D);i=M;C=D}else z.push(_)}return{w:z,v:j}};
x.Y.fVj=function(S){var G=S.v,j=[],z=[],O=0;for(var i=0;i<S.w.length;i++){var C=S.w[i];if(C=="Q"){var M=G[O-2],D=G[O-1],X=G[O],l=G[O+1],f=G[O+2],F=G[O+3];
O+=4;var $=X-M,_=l-D,P=f-X,k=F-l;z.push("C");j.push(M+2/3*$,D+2/3*_,X+1/3*P,l+1/3*k,f,F)}else{var H=0;
if(C=="M"||C=="L")H=2;else if(C=="C")H=6;for(var q=0;q<H;q++)j.push(G[O+q]);O+=H;z.push(C)}}return{w:z,v:j}};
x.Y.qw=function(S,G){var j=S.v,z=[],O=[],i=0,C=0,M=0,D=0,X=0,l=0,f=0,F=0,$=0;for(var _=0;_<S.w.length;
_++){var P=S.w[_];if(P=="M"){C=j[i];M=j[i+1];i+=2;O.push(P);z.push(C,M)}else if(P=="C"){D=j[i];X=j[i+1];
l=j[i+2];f=j[i+3];F=j[i+4];$=j[i+5];i+=6;x.Y.Yl(C,M,D,X,l,f,F,$,G,O,z,0);C=F;M=$}else O.push(P)}return{w:O,v:z}};
x.Y.Yl=function(S,G,j,z,O,i,C,M,D,X,l,f){var F=Math.sqrt((C-S)*(C-S)+(M-G)*(M-G)),$=Math.sqrt((C-O)*(C-O)+(M-i)*(M-i))+Math.sqrt((O-j)*(O-j)+(i-z)*(i-z))+Math.sqrt((j-S)*(j-S)+(z-G)*(z-G)),_=(F+$)/2;
if(_<=D){X.push("C");l.push(j,z,O,i,C,M)}else{var P=0,k=0,H=0,q=0,R=0,I=0,b=0,Y=0,m=0,h=0,e=0,s=0,y=0;
k=(S+j)/2;H=(G+z)/2;q=(j+O)/2;R=(z+i)/2;I=(O+C)/2;b=(i+M)/2;Y=(k+q)/2;m=(H+R)/2;h=(q+I)/2;e=(R+b)/2;
s=(Y+h)/2;y=(m+e)/2;x.Y.Yl(S,G,k,H,Y,m,s,y,D,X,l,f+1);x.Y.Yl(s,y,h,e,I,b,C,M,D,X,l,f+1)}};x.Y.fVq=function(S,G){var j=G.slice(0),z=S.length/2,O=[],i=[];
for(var C=0;C<z;C++){var M=(C+1)%z,D=S[2*C]-S[2*M],X=S[2*C+1]-S[2*M+1];i[C]=Math.sqrt(D*D+X*X)}for(var C=0;
C<z;C++){var l=(C-1+z)%z,M=(C+1)%z,f=G[C],F=f+G[l],$=f+G[M];if(F!=0)j[C]=Math.min(j[C],i[l]*f/F);if($!=0)j[C]=Math.min(j[C],i[C]*f/$)}for(var C=0;
C<z;C++){var M=(C+1)%z,_=(C+2)%z,P=j[C],k=j[M],H=S[2*C],q=S[2*C+1],R=S[2*M],I=S[2*M+1],b=S[2*_],Y=S[2*_+1],m=i[C],h=i[M],e=x.Y.$d(H,q,R,I,b,Y,P,k,m,h);
O.push(e[0],e[1],e[0],e[1],e[2],e[3]);O.push(e[2],e[3],e[4],e[5],e[6],e[7])}return O};x.Y.$d=function(S,G,j,z,O,i,C,M,D,X){if(D==null)D=Math.sqrt((j-S)*(j-S)+(z-G)*(z-G));
if(X==null)X=Math.sqrt((O-j)*(O-j)+(i-z)*(i-z));var l=.553,f=0,F=0,$=0,_=0;if(D!=0){f=(j-S)/D;F=(z-G)/D}if(X!=0){$=(O-j)/X;
_=(i-z)/X}var P=S+C*f,k=G+C*F,H=j-M*f,q=z-M*F;return[P,k,H,q,j-M*f*(1-l),z-M*F*(1-l),j+M*$*(1-l),z+M*_*(1-l),j+M*$,z+M*_]};
x.lh=function(){};x.lh.lh=function(S,G,j){var z=S,O=G,i=j,C=1;while(S.h()>110*110){var M=x.S(S.h()*4);
x.Cy(j,M,3);var X=x.LR(M,S),l=x.LR(G,S);S=l.rect;G=l.hC;j=x.S(S.h());x.tb(X.hC,j,3);C*=2}var f=Date.now(),F=x.lh.$c(S,G,j);
if(C!=1){var f=Date.now(),$=x.S(S.h()*4);x.Cy(F,$,3);var _=t.Gh.vh([$,S],new Ym(z.o/S.o,0,0,z.i/S.i,0,0),!1);
_.rect.x=z.x;_.rect.y=z.y;F=x.S(z.h());x.MS(_.buffer,_.rect,F,z);var f=Date.now();F=x.lh.$c(z,O,F)}return F};
x.lh.$c=function(S,G,j){var z=S.o,O=S.i,i=S.o*S.i,C=new Uint8Array(i),M=new Uint8Array(i),D=x.clone(G),X=x.clone(G),f,F,I=0,b=0,o=0;
for(var l=0;l<i;l++){if(j[l]==0){C[l]=0;M[l]=0;X[(l<<2)+3]=0}else if(j[l]==255){C[l]=1;M[l]=2;D[(l<<2)+3]=0}else{C[l]=0;
M[l]=1;X[(l<<2)+3]=0}}for(var $=0;$<2;$++){var _=$==0?D:X,P=[],k=x.clone(_);for(var l=0;l<k.length;l+=4)if(k[l+3]==0){k[l]=k[l+1]=k[l+2]=0}var H=UPNG.quantize(k.buffer,6).plte;
for(var l=1;l<H.length;l++){var q=H[l].est;P.push({wp:q.q,dK:[0,0,0,0],JZ:0,Hk:null,qC:null,wV:0,tA:0,fof:null})}if($==0)F=P;
else f=P}var R=new Float32Array(z*O*2);for(var Y=0;Y<O;Y++)for(var m=0;m<z;m++){var l=Y*z+m,h=l<<2,e=0,s=0,y=0,T=0;
if(m!=z-1){var $=l+1,K=$<<2;e=G[h]-G[K];s=G[h+1]-G[K+1];y=G[h+2]-G[K+2];T=e*e+s*s+y*y;R[l+l]=T;I+=T;
b++}if(Y!=O-1){var B=l+z,a=B<<2;e=G[h]-G[a];s=G[h+1]-G[a+1];y=G[h+2]-G[a+2];T=e*e+s*s+y*y;R[l+l+1]=T;
I+=T;b++}}var u=I/b;for(var l=0;l<R.length;l++)R[l]=50*Math.exp(-.001*R[l]);var r=new Uint16Array(i),v=new Uint16Array(i),V=Date.now();
while(!0){o++;if(f.length==0||F.length==0)break;x.lh.fnv(f,F,v,r,G,C);if(f.length==0||F.length==0)break;
var J=[],d=[],b=0,oU=Date.now(),oE=0,ox=0;for(var Y=0;Y<O;Y++)for(var m=0;m<z;m++){var l=Y*z+m,h=l<<2,p=C[l],N=M[l];
if((N==0||N==2)&&(m==0||M[l-1]==N)&&(m==z-1||M[l+1]==N)&&(Y==0||M[l-z]==N)&&(Y==O-1||M[l+z]==N))continue;
if(m!=z-1){J.push(l,l+1);d.push(R[l+l],R[l+l])}if(Y!=O-1){J.push(l,l+z);d.push(R[l+l+1],R[l+l+1])}var S=G[h]*(1/255),ob=G[h+1]*(1/255),oe=G[h+2]*(1/255),oF=x.lh.$J(F,r[l],S,ob,oe),oN=x.lh.$J(f,v[l],S,ob,oe);
if(isNaN(oF))throw"a";if(isNaN(oN))throw"b";if(N==0){oF=0;oN=1e9}if(N==2){oF=1e9;oN=0}J.push(i,l);d.push(oF,0);
J.push(l,i+1);d.push(oN,0)}var YM=x.mr.Oe(i+2,J.length,i,i+1,J,d,1e20);if(YM.u_==null){console.log("no cut");
break}for(var l=0;l<YM.u_.length;l++){var c=YM.u_[l]<<1,oG=0,or=0,Yf=0;if(c<J.length){oG=J[c];or=J[c+1];
Yf=d[c]}else{or=J[c];oG=J[c+1];Yf=d[c+1]}if(oG==i&&C[or]!=0){oE++;C[or]=0}if(or==i+1&&C[oG]!=1){ox++;
C[oG]=1}}if(oE+ox<=.02*i||o>5||Date.now()-V>500)break}var oL=x.S(i*4),YX=x.S(i);for(var l=0;l<G.length;
l+=4){if(C[l>>2]==0)continue;oL[l]=G[l];oL[l+1]=G[l+1];oL[l+2]=G[l+2];oL[l+3]=G[l+3];YX[l>>2]=255}return YX};
x.lh.$J=function(S,G,j,z,O){var i=0,C=S[G],M=j-C.wp[0],D=z-C.wp[1],X=O-C.wp[2];if(C.JZ==0||C.tA<1e-20)i+=.99;
else{i+=C.wV*(1/Math.sqrt(C.tA))*Math.exp(-.5*x.lh.fnT(M,D,X,C.fof))}var l=i>=1?0:-Math.log(i);if(isNaN(l)){console.log(i);
console.log(C);console.log(S);console.log(C.tA,Math.sqrt(C.tA),1/Math.sqrt(C.tA));throw"e"}return l};
x.lh.fnv=function(S,G,j,z,O,i){for(var C=0;C<2;C++){var M=C==0?G:S;for(var D=0;D<M.length;D++){var X=M[D];
X.JZ=0;X.dK=[0,0,0,0];X.qC=[0,0,0,0,0,0,0,0,0]}}for(var D=0;D<O.length;D+=4){var l=O[D]*(1/255),f=O[D+1]*(1/255),F=O[D+2]*(1/255),M,$;
z[D>>2]=x.lh.$l(G,l,f,F);j[D>>2]=x.lh.$l(S,l,f,F);if(i[D>>2]==0){M=G;$=z[D>>2]}else{M=S;$=j[D>>2]}var X=M[$],_=X.qC,P=X.wp;
X.JZ++;var k=l-P[0],H=f-P[1],q=F-P[2];X.dK[0]+=l;X.dK[1]+=f;X.dK[2]+=F;_[0]+=k*k;_[1]+=k*H;_[2]+=k*q;
_[3]+=H*k;_[4]+=H*H;_[5]+=H*q;_[6]+=q*k;_[7]+=q*H;_[8]+=q*q}for(var C=0;C<2;C++){var M=C==0?S:G,R=0;
for(var D=0;D<M.length;D++)R+=M[D].JZ;if(R==0)continue;for(var D=0;D<M.length;D++){var X=M[D],I=1/X.JZ,b=X.Hk=[];
X.wp=[X.dK[0]*I,X.dK[1]*I,X.dK[2]*I];X.wV=X.JZ/R;var k=X.dK[0],H=X.dK[1],q=X.dK[2],Y=[k*k,k*H,k*q,H*k,H*H,H*q,q*k,q*H,q*q],m=[];
for(var h=0;h<9;h++)m[h]=X.qC[h]-Y[h]*I;for(var h=0;h<9;h++)b[h]=X.qC[h]*I;var e=x.Mt.tM(b);X.tA=x.Mt.tA(e);
X.fof=x.Mt.fds(x.Mt.uT(e))}}};x.lh.$l=function(S,G,j,z){var O=0,i=1e9;for(var C=0;C<S.length;C++){var M=S[C].wp,D=G-M[0],X=j-M[1],l=z-M[2],f=D*D+X*X+l*l;
if(f<i){i=f;O=C}}return O};x.lh.fnT=function(S,G,j,z){var O=S*z[0]+G*z[3]+j*z[6],i=S*z[1]+G*z[4]+j*z[7],C=S*z[2]+G*z[5]+j*z[8];
return O*S+i*G+C*j};x.Ve=function(){};x.Ve.OR=function(S,G,j,z,O){var i=j.o,C=j.i,M=i*C,D=new Int32Array(M),X=0;
for(var l=0;l<M;l++)if(G[l]!=0){D[l]=X;X++}else if(S[(l<<2)+3]<200){D[l]=-2}else D[l]=-1;if(X==0)return;
var f=new x.hy(X,X),F=new Float64Array(3*X),$=1/255,_=[-i,-1,1,i],P=[],k=[];for(var H=0;H<C;H++)for(var q=0;
q<i;q++){var R=H*i+q,I=R<<2,l=D[R],b=l*3,Y=0,m=0,h=0;if(l==-1||l==-2)continue;for(var e=0;e<4;e++){if(e==2){m=h;
P[h]=0;k[h]=l;h++}var s=R+_[e],y=s<<2,T=D[s];if(e==0&&H==0||e==1&&q==0||e==2&&q==i-1||e==3&&H==C-1||T==-2)continue;
Y++;if(T==-1){F[b+0]+=S[y+0];F[b+1]+=S[y+1];F[b+2]+=S[y+2]}else{P[h]=-1;k[h]=T;h++;if(G[R]==G[s]){F[b+0]+=S[I+0]-S[y+0];
F[b+1]+=S[I+1]-S[y+1];F[b+2]+=S[I+2]-S[y+2]}}}P[m]=Y;f.VW(P,k,h)}var K=new Float64Array(3*X);for(var l=0;
l<M;l++)if(D[l]!=-1){var B=l<<2,a=D[l],u=a*3;K[u]=S[B+0];K[u+1]=S[B+1];K[u+2]=S[B+2]}f.fX_(K,F,z,O);
for(var l=0;l<M;l++){var a=D[l],r=a*3,B=l<<2;if(a==-1||S[B+3]!=255)continue;S[B+0]=~~(.5+Math.max(0,Math.min(255,K[r+0])));
S[B+1]=~~(.5+Math.max(0,Math.min(255,K[r+1])));S[B+2]=~~(.5+Math.max(0,Math.min(255,K[r+2])))}};x.rect={};
x.rect.$I=function(S,G){var j=[S],z=[];for(var O=0;O<G.length;O++){var i=G[O],C=!1;for(var M=O+1;M<G.length;
M++){var D=G[M];if(D[0]<=i[0]&&D[1]<=i[1]&&i[2]<=D[2]&&i[3]<=D[3]){C=!0;break}}if(!C)z.push(i)}G=z;for(var O=0;
O<G.length;O++){var i=G[O];for(var M=0;M<j.length;M++){var D=j[M],X=Math.max(i[0],D[0]),l=Math.min(i[2],D[2]),f=Math.max(i[1],D[1]),F=Math.min(i[3],D[3]);
if(X<l&&f<F){var $=[];if(D[1]<i[1]){var _=D.slice(0);_[3]=i[1];$.push(_)}if(D[0]<i[0]){var P=D.slice(0);
P[1]=f;P[2]=i[0];$.push(P)}if(i[2]<D[2]){var k=D.slice(0);k[1]=f;k[0]=i[2];$.push(k)}if(i[3]<D[3]){var H=[X,F,l,D[3]];
$.push(H)}if($.length!=0){j[M]=$[0];for(var q=1;q<$.length;q++)j.push($[q])}}}j.push(i);j=x.rect.fnU(j)}j.sort(function(i,D){return i[1]!=D[1]?i[1]-D[1]:i[0]-D[0]});
return j};x.rect.fnU=function(S){S=S.slice(0);for(var G=0;G<S.length;G++){var j=S[G],z=null;if(j[4]!=null)continue;
for(var O=0;O<S.length;O++){var i=S[O];if(G==O||i[4]!=null)continue;var C=j[0]==i[0],M=j[1]==i[1],D=j[2]==i[2],X=j[3]==i[3];
if(M&&X&&(j[2]==i[0]||j[0]==i[2])){z=[Math.min(j[0],i[0]),j[1],Math.max(j[2],i[2]),j[3]]}if(C&&D&&(j[3]==i[1]||j[1]==i[3])){z=[j[0],Math.min(j[1],i[1]),j[2],Math.max(j[3],i[3])]}if(z){S[G]=z;
S.splice(O,1);break}}if(z){G--}}return S};x.rect.V_=function(S){var G=new Q;for(var j=0;j<S.length;j++)G=G.wB(S[j]);
return G};x.rect.fAX=function(S,G){var j=x.rect.V_,z=new UnionFind(S.length),m=1e3,h=1e3;for(var O=0;
O<S.length;O++)for(var i=O+1;i<S.length;i++){if(!G)continue;var C=S[O],M=S[i],F=1e9,$=1e9;if(C.f$(M)){z.link(O,i);
continue}var D=C.x+C.o,X=C.y+C.i,l=M.x+M.o,f=M.y+M.i;if((D<M.x||l<C.x)&&(X<M.y||f<C.y))continue;if(!(X<M.y||f<C.y))F=Math.min(Math.abs(D-M.x),Math.abs(C.x-l));
if(!(D<M.x||l<C.x))$=Math.min(Math.abs(X-M.y),Math.abs(C.y-f));var _=Math.min(F,$),P=Math.min(C.o,C.i,M.o,M.i);
if(_<.3*P)z.link(O,i)}var k=[],H={};for(var O=0;O<S.length;O++){var q=z.find(O),R=S[O];if(H[q]==null){H[q]=k.length;
k.push([])}k[H[q]].push(R)}var I=[],b=[];for(var O=0;O<k.length;O++){I.push(j(k[O]));var Y=j(k[O]);Y.tP=O;
b.push(Y)}b.sort(function(v,o){return Math.max(o.i,o.o)-Math.max(v.i,v.o)});var e=new NETXUS.RectanglePacker(m,h);
while(!0){var s=!1;e.reset(m,h);for(var O=0;O<b.length;O++){var y=e.findCoords(b[O].o,b[O].i);if(y){b[O].x=y.x;
b[O].y=y.y}else{m=Math.floor(m*1.1);h=Math.floor(h*1.1);s=!0;break}}if(s)continue;break}for(var O=0;
O<k.length;O++){var T=b[O],K=T.tP,B=I[K],a=k[K],u=T.x-B.x,r=T.y-B.y;for(var i=0;i<a.length;i++)a[i].offset(u,r)}};
x.Sx=function(){};x.Sx.Pu=Math.floor(16*window.devicePixelRatio);x.Sx.Yy={};x.Sx.VC=0;x.Sx.q$=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
x.Sx.fJm=["px","in","cm","mm","%"];x.Sx.$k=function(S,G,j){var z=G.bY,O=[1,z,z/2.54,z/25.4,G.o/100][j];
return S*O};x.Sx.sq=function(S,G,j,z,O){var i=j.E$.PZ,C=[1,G,G/2.54,G/25.4,z/100][i],M=[2,3,2,1,2][i];
S=S/C;var D=Math.round(S),X=i==0&&Math.abs(S-D)<1e-6?D+"":S.toFixed(M);if(O)X+=" "+x.Sx.fJm[i];return X};
x.Sx.flf=function(S,G,j,z){var O=j.E$.PZ,i=[1,G,G/2.54,G/25.4,z/100][O];S=parseFloat(S)*i;return S};
x.Sx.flX=function(S,G){var j=Math.round(x.Sx.Pu*.5);x.Sx.VC=j;var z=document.createElement("canvas");
z.width=z.height=j;var O=z.getContext("2d");O.font=j*1.5+"px monospace";var i="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var C=0;C<i.length;C++){O.fillStyle="#"+x.zt(G);O.fillRect(0,0,j,j);O.fillStyle="#"+x.zt(S);O.fillText(i[C],0,j);
x.Sx.Yy[i[C]]=O.getImageData(0,0,j,j).data}};x.Sx.flz=function(S,G,j){var z=0,O=0,i=4*x.Sx.Pu;for(var C=9;
C>=0;C--){var M=Math.pow(10,C);if(5*M*S<=i){z=5*M;O=10;break}if(2*M*S<=i){z=2*M;O=4;break}if(1*M*S<=i){z=1*M;
O=10;break}}if(z==0){z=1;O=10}var D=Math.ceil(z*S),X=x.S(D*x.Sx.Pu*4);x.GC(X,4278190080|j);for(var C=0;
C<x.Sx.Pu;C++)x.Sx.YB(X,4*C*D,G);for(var C=0;C<D;C++)x.Sx.YB(X,4*((x.Sx.Pu-1)*D+C),G);if(z==2)O=2;if(z==5)O=5;
if(z>1||z==1&&D>20)for(var C=1;C<O;C++)x.Sx.flK(X,C*(D/O),D,(C&1)==1?.8:.7,G);return{Hc:X,step:z}};x.Sx.flK=function(S,G,j,z,O){var G=Math.round(G);
for(var i=Math.round(x.Sx.Pu*z);i<x.Sx.Pu-1;i++)x.Sx.YB(S,4*(i*j+G),O)};x.Sx.YB=function(S,G,j){S[G+0]=j>>16&255;
S[G+1]=j>>8&255;S[G+2]=j&255};x.Sx.fyW=function(S,G,j){var z=G&255,O=G>>8&255,i=G>>16&255,H,q,R,I;G=Math.round(z*.6)<<16|Math.round(O*.6)<<8|Math.round(i*.6);
x.Sx.flX(Math.round(z*.8)<<16|Math.round(O*.8)<<8|Math.round(i*.8),j);var C=this.flz(S.u,G,j),M=S.ie(0,0),D=S.ie(S.G.o,S.G.i),X=Math.floor(M.x/C.step)*C.step,l=Math.ceil(D.x/C.step)*C.step,f=Math.floor(M.y/C.step)*C.step,F=Math.ceil(D.y/C.step)*C.step,$=S.We(X,f),_=S.We(l,f),P=C.step*S.u,k=Math.ceil(P);
H=S.wn.data;q=new Q(0,0,S.G.o,x.Sx.Pu);R=new Q(0,0,k,x.Sx.Pu);I=new Q(0,Math.round(x.Sx.Pu*.08),x.Sx.VC,x.Sx.VC);
for(var b=0;b<(l-X)/C.step;b++){R.x=Math.round($.x+b*P);x.yF(C.Hc,R,H,q,R);var Y=(X+b*C.step).toString(10);
for(var m=0;m<Y.length;m++){I.x=R.x+3+m*Math.round(x.Sx.VC*.8);var h=x.Sx.Yy[Y[m]];x.yF(h,I,H,q,I)}}var e=new Uint32Array(C.Hc.buffer),s=new Uint32Array(C.Hc.length);
for(var y=0;y<k;y++)for(var T=0;T<x.Sx.Pu;T++){s[y*x.Sx.Pu+T]=e[T*k+y]}C.Hc=new Uint8Array(s.buffer);
H=S.CB.data;q=new Q(0,0,x.Sx.Pu,S.G.i);R=new Q(0,0,x.Sx.Pu,k);I=new Q(Math.round(x.Sx.Pu*.2),0,x.Sx.VC,x.Sx.VC);
for(var b=0;b<(F-f)/C.step;b++){R.y=Math.round($.y+b*P);x.yF(C.Hc,R,H,q,R);var Y=Math.abs(f+b*C.step).toString(10);
for(var m=0;m<Y.length;m++){I.y=R.y+3+m*Math.round(x.Sx.VC*1.15);var h=x.Sx.Yy[Y[m]];x.yF(h,I,H,q,I)}}};
x.scale={};x.scale.Io=document.createElement("canvas");x.scale.um=x.scale.Io.getContext("2d");x.scale.fyA=document.createElement("canvas");
x.scale.fpf=x.scale.fyA.getContext("2d");x.scale.Qd=function(S,G,j){var z=x.scale.Io,O=x.scale.um;z.width=G;
z.height=j;var i=O.createImageData(G,j),C=S.length;for(var M=0;M<C;M++)i.data[M]=S[M];O.putImageData(i,0,0);
return O.createPattern(z,"repeat")};x.scale.fpX=function(S,G,j,z,O,i,C,M){var D=x.scale.$H(S,j,z,O,i,C,M);
x.fy(D.data,G)};x.scale.fgl=function(S,G,j,z,O,i,C,M){var D=x.scale.$H(S,j,z,O,i,C,M);x.Fj(D.data,G)};
x.scale.$H=function(S,G,j,z,O,i,C){var M=x.scale.Io,D=x.scale.um;M.width=G;M.height=j;D.rect(0,0,G,j);
D.translate(i,C);D.scale(z,O);D.fillStyle=S;D.fill();return D.getImageData(0,0,G,j)};x.scale.hZ=function(S,G,j,z,O,i,C){if(C<1)x.scale.ffn(S,G,j,z,O,i,Math.round(1/C));
else x.scale.ffC(S,G,j,z,O,i,C)};x.scale.oG=function(S,G,j,z,O,i,C,M){if(M)M=M.tY(new Q(0,0,G,j));S=new Uint32Array(S.buffer);
z=new Uint32Array(z.buffer);if(C<1)x.scale.ffB(S,G,j,z,O,i,Math.round(1/C),M);else x.scale.ffI(S,G,j,z,O,i,C)};
x.scale.ffC=function(S,G,j,z,O,i,C){for(var M=0;M<j;M++)for(var D=0;D<G;D++){var X=S[M*G+D],l=Math.min(C,O-D*C),f=Math.min(C,i-M*C);
for(var F=0;F<f;F++)for(var $=0;$<l;$++)z[(C*M+F)*O+C*D+$]=X}};x.scale.ffn=function(S,G,j,z,O,i,C){for(var M=0;
M<i;M++)for(var D=0;D<O;D++){var X=0,l=Math.min(C,G-D*C),f=Math.min(C,j-M*C);for(var F=0;F<f;F++)for(var $=0;
$<l;$++)X+=S[(C*M+F)*G+(C*D+$)];z[M*O+D]=Math.round(X/(l*f))}};x.scale.ffI=function(S,G,j,z,O,i,C){for(var M=0;
M<j;M++)for(var D=0;D<G;D++){var X=S[M*G+D],l=Math.min(C,O-D*C),f=Math.min(C,i-M*C);for(var F=0;F<f;
F++)for(var $=0;$<l;$++)z[(C*M+F)*O+C*D+$]=X}};x.scale.ffB=function(S,G,j,z,O,i,C,M){var D=0,X=O,l=0,f=i;
if(M){D=Math.floor(M.x/C);X=Math.ceil((M.x+M.o)/C);l=Math.floor(M.y/C);f=Math.ceil((M.y+M.i)/C)}for(var F=l;
F<f;F++)for(var $=D;$<X;$++){var _=0,P=0,k=0,H=0,q=Math.min(C,G-$*C),R=Math.min(C,j-F*C);for(var I=0;
I<R;I++)for(var b=0;b<q;b++){var Y=S[(C*F+I)*G+C*$+b],m=Y>>>24;_+=m;P+=m*(Y>>>16&255);k+=m*(Y>>>8&255);
H+=m*(Y&255)}if(_!=0){var h=1/_;z[F*O+$]=_/(q*R)<<24|P*h<<16|k*h<<8|H*h}else z[F*O+$]=0}};x.f={};x.f.ffO=function(S,G,j){var z=128,O=0,i=j.o,C=j.i;
for(var M=0;M<C;M++)for(var D=0;D<i;D++){if(S[O]>=z&&(D==0||S[O-1]<z||(D==i-1||S[O+1]<z)||(M==0||S[O-i]<z)||(M==C-1||S[O+i]<z)))G[O]=255;
O++}};x.f.fXX=function(S,G,j,z,O){var i=j.o,C=j.i,M=0,D=0,X=i,l=C;if(O){M=O.x-j.x;D=O.y-j.y;X=M+O.o;
l=D+O.i}var f=new Uint8Array(G.buffer),F=new Uint32Array(G.buffer);for(var $=D;$<l;$++){for(var _=M;
_<X;_++){var P=$*i+_;if(S[P]>>7==1&&($==0||S[P-i]>>7==0||_==0||S[P-1]>>7==0||_==i-1||S[P+1]>>7==0||$==C-1||S[P+i]>>7==0)){F[P]=4278190080|((_+$&4)>>>2)*z}}}};
x.f.fXM=function(S,G,j,z,O,i,C){var M=j.o,D=j.i,X=0,l=0,f=M,F=D;if(O){X=O.x-j.x;l=O.y-j.y;f=X+O.o;F=l+O.i}var $=new Uint8Array(G.buffer),_=new Uint32Array(G.buffer);
for(var P=l;P<F;P++){for(var k=X;k<f;k++){var H=P*M+k,q=S[H];if(i==1)_[H]=255-q>>>1<<24|C&z;else _[H]=255<<24|(q<<16|q<<8|q)&z}}};
x.yl={};x.yl.YR=function(S,G,j){var z,O;if(j=="front"){z=S.rect.clone();O=x.yl.fXu}if(j=="union"){z=S.rect.wB(G.rect);
O=x.yl.wB}if(j=="difference"){z=G.rect.clone();O=x.yl.fXB}if(j=="intersection"){z=S.rect.tY(G.rect);
O=x.yl.tY}if(j=="xor"){z=S.rect.wB(G.rect);O=x.yl.fXj}if(z.tR())return null;var i=x.S(z.h());x.zP(G.channel,G.rect,i,z);
var C=x.S(z.h());x.zP(S.channel,S.rect,C,z);O(C,i,i);var M=x.Fw(i,z);if(M.tR())return null;if(!M.Xs(z)){var D=x.S(M.h());
x.zP(i,z,D,M);i=D;z=M}return{channel:i,rect:z}};x.yl.fXu=function(S,G,j){for(var z=0;z<S.length;z++)j[z]=S[z]};
x.yl.wB=function(S,G,j){for(var z=0;z<S.length;z++)j[z]=Math.min(S[z]+G[z],255)};x.yl.fXB=function(S,G,j){for(var z=0;
z<S.length;z++)j[z]=Math.max(G[z]-S[z],0)};x.yl.tY=function(S,G,j){var z=1/255;for(var O=0;O<S.length;
O++)j[O]=S[O]*G[O]*z};x.yl.fXj=function(S,G,j){var z=1/255;for(var O=0;O<S.length;O++)j[O]=Math.min(S[O]+G[O],255)-S[O]*G[O]*z};
x.hy=function(S,G){this.a=[];this.qK=[0];this.uE=[];this.HO=[];this.Pq=[];this.rows=S;this.cols=G;this.foj=!1};
x.hy.prototype.VW=function(S,G,j){var z=this.qK.length-1;for(var O=0;O<j;O++){var i=S[O],C=G[O];if(C==z){this.HO.push(i);
this.Pq.push(i==0?0:1/ i)}else{this.a.push(i);this.uE.push(C*3)}}this.qK.push(this.a.length)};x.hy.prototype.freeze=function(){if(this.foj)return;
this.foj=!0;this.fYn=new Float64Array(this.a)};x.hy.prototype.fpM=function(S,G){this.freeze();var j=this.rows,z=this.fYn,O=this.qK,i=this.uE,C=this.Pq;
for(var M=0;M<3500;M++){var D=0;for(var X=0;X<j;X++){var l=G[X],f=O[X],F=O[X+1];if(F-f==4)l-=z[f]*S[i[f]]+z[f+1]*S[i[f+1]]+z[f+2]*S[i[f+2]]+z[f+3]*S[i[f+3]];
else for(var $=f;$<F;$++)l-=z[$]*S[i[$]];S[X]=C[X]*l}}};x.hy.prototype.fX_=function(S,G,j,z){var O=Date.now(),i=1.96;
this.freeze();if(j==null)j=5e-5;if(z==null)z=1e9;var C=1-i,M=this.rows,D=this.fYn,X=this.qK,l=this.uE,f=this.Pq;
while(!0){var F=0;for(var $=0;$<M;$++){var _=$*3,P=G[_],k=G[_+1],H=G[_+2],q=X[$],R=X[$+1];if(R-q==4){var I=D[q],b=D[q+1],Y=D[q+2],m=D[q+3],h=l[q],e=l[q+1],s=l[q+2],y=l[q+3];
P-=I*S[h+0]+b*S[e+0]+Y*S[s+0]+m*S[y+0];k-=I*S[h+1]+b*S[e+1]+Y*S[s+1]+m*S[y+1];H-=I*S[h+2]+b*S[e+2]+Y*S[s+2]+m*S[y+2]}else for(var T=q;
T<R;T++){var I=D[T],h=l[T];P-=I*S[h+0];k-=I*S[h+1];H-=I*S[h+2]}var K=f[$]*i,B=S[_+0]*C+P*K,a=S[_+1]*C+k*K,u=S[_+2]*C+H*K,r=B-S[_+0],v=a-S[_+1],o=u-S[_+2];
F+=.4*r*r+.5*v*v+.1*o*o;S[_+0]=B;S[_+1]=a;S[_+2]=u}if(F/M<j||Date.now()>O+z)break}};x.aY={};x.aY.VS=function(S,G,j){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:S},Vrtc:{t:"doub",v:G},Cnty:{t:"bool",v:j}}}};
x.aY.GY=function(S,G){for(var j=0;j<S.length;j++){var z=S[j].v,O=G.LU(new A(z.Hrzn.v,z.Vrtc.v));z.Hrzn.v=Math.round(O.x);
z.Vrtc.v=Math.round(O.y)}};x.aY.tr={};x.aY.tr.Oe=function(S,G){var j=S.length;for(var z=0;z<j;z++){var O=0,i=Number.NEGATIVE_INFINITY;
for(var C=z;C<j;C++)if(Math.abs(S[C][z])>i){O=C;i=Math.abs(S[C][z])}x.aY.tr.fMo(S,z,O);for(var C=z+1;
C<j;C++){if(S[z][z]==0)return 1;var M=S[C][z]/S[z][z];for(var D=z;D<j+1;D++)S[C][D]-=S[z][D]*M}}for(var C=j-1;
C>=0;C--){if(S[C][C]==0)return 1;var X=S[C][j]/S[C][C];G[C]=X;for(var D=C-1;D>=0;D--){S[D][j]-=S[D][C]*X;
S[D][C]=0}}return 0};x.aY.tr.fMM=function(S,G){var j=[];for(var z=0;z<S;z++){j.push([]);for(var O=0;
O<G;O++)j[z].push(0)}return j};x.aY.tr.fpS=function(S){for(var G=0;G<S.length;G++)console.log(JSON.stringify(S[G]))};
x.aY.tr.fMo=function(S,G,j){var z=S[G];S[G]=S[j];S[j]=z};x.aY.$R=function(S,G,j){var z=S.length-1,O=x.aY.tr.fMM(z+1,z+2);
for(var i=1;i<z;i++){O[i][i-1]=1/(S[i]-S[i-1]);O[i][i]=2*(1/(S[i]-S[i-1])+1/(S[i+1]-S[i]));O[i][i+1]=1/(S[i+1]-S[i]);
O[i][z+1]=3*((G[i]-G[i-1])/((S[i]-S[i-1])*(S[i]-S[i-1]))+(G[i+1]-G[i])/((S[i+1]-S[i])*(S[i+1]-S[i])))}O[0][0]=2/(S[1]-S[0]);
O[0][1]=1/(S[1]-S[0]);O[0][z+1]=3*(G[1]-G[0])/((S[1]-S[0])*(S[1]-S[0]));O[z][z-1]=1/(S[z]-S[z-1]);O[z][z]=2/(S[z]-S[z-1]);
O[z][z+1]=3*(G[z]-G[z-1])/((S[z]-S[z-1])*(S[z]-S[z-1]));x.aY.tr.Oe(O,j)};x.aY.fMl=function(S,G,j,z){if(S<=G[0])return j[0];
if(S>=G[G.length-1])return j[G.length-1];var O=1;while(G[O]<S)O++;var i=G[O],C=G[O-1],M=j[O],D=j[O-1],X=(S-C)/(i-C),l=z[O-1]*(i-C)-(M-D),f=-z[O]*(i-C)+(M-D),F=(1-X)*D+X*M+X*(1-X)*(l*(1-X)+f*X);
return F};x.aY.$i=function(S,G,j,z){var O={lE:[S[0]],lx:[G[0]],qW:[]};z[0]=O;for(var i=1;i<S.length-1;
i++){O.lE.push(S[i]);O.lx.push(G[i]);if(j[i]==!1){x.aY.$R(O.lE,O.lx,O.qW);O={lE:[S[i]],lx:[G[i]],qW:[]}}z[i]=O}O.lE.push(S[i]);
O.lx.push(G[i]);x.aY.$R(O.lE,O.lx,O.qW);z[i]=O};x.aY.$D=function(S,G,j,z){if(S<=G[0])return j[0];if(S>=G[G.length-1])return j[G.length-1];
var O=1;while(G[O]<S)O++;var i=z[O-1];return x.aY.fMl(S,i.lE,i.lx,i.qW)};x.aY.$O=function(S){var G={lE:[],lx:[],wL:[]};
for(var j=0;j<S.length;j++){G.lE[j]=S[j].v.Hrzn.v;G.lx[j]=S[j].v.Vrtc.v;G.wL[j]=S[j].v.Cnty?S[j].v.Cnty.v:!0}return G};
x.aY.hD=function(S,G,j){var z=0,O=255;if(j){z=-1e9;O=1e9}var i=x.aY.$O(S),C=[];x.aY.$i(i.lE,i.lx,i.wL,C);
var M=[];for(var D=0;D<G;D++)M[D]=1/255*Math.max(z,Math.min(O,x.aY.$D(D*(255/(G-1)),i.lE,i.lx,C)));return M};
x.aY.fMI=function(S,G,j){var z=Math.round(S.length/20),O=G-S.length,i=j?(S[z]-S[0])/z:0,C=j?S[0]-O*i:S[S.length-1],M=[];
for(var D=0;D<O;D++)M.push(C+D*i);return j?M.concat(S):S.concat(M)};x.aY.Yz=function(S,G,j){var z=x.aY.$O(S),O=[];
x.aY.$i(z.lE,z.lx,z.wL,O);var i=new Uint8Array(G),C=G/256;for(var M=0;M<G;M++)i[M]=Math.max(0,Math.min(G-1,x.aY.$D(M*C,z.lE,z.lx,O)));
if(j){i[0]=0;if(i[1]>100)i[1]=.4*i[1];if(i[2]>150)i[1]=.7*i[2]}return i};x.aY.$q=function(S,G){var j=new Uint8Array(S.length);
for(var z=0;z<S.length;z++)j[z]=G[S[z]];return j};x.aY.QE=function(S,G,j){var z=E._("canvas","");z.width=G;
z.height=j;var O=z.getContext("2d"),i=x.aY.Yz(S,256);O.scale(G/255,j/255);O.fillStyle="#fff";O.fillRect(0,0,255,255);
O.fillStyle="#333";O.beginPath();O.moveTo(0,255);for(var C=0;C<i.length;C++)O.lineTo(C,255-i[C]);O.lineTo(255,255);
O.closePath();O.fill();return z.toDataURL()};x.style={};x.style.stroke=function(S,G,j,z){var O=j.o,i=j.i,C=new Float64Array(O*i);
x.style.YK(S,C,O,i);x.style.Yi(G,j,C,j,z)};x.style.Yi=function(S,G,j,z,O){var i=G.tY(z),C=i.o,M=i.i;
O+=.5;var D=i.x-G.x,X=i.y-G.y,l=G.o,f=i.x-z.x,F=i.y-z.y,$=z.o;for(var _=0;_<M;_++){var P=(_+F)*$+f,k=(_+X)*l+D;
for(var H=0;H<C;H++){var q=Math.max(0,Math.min(1,O-j[P+H]));S[k+H]=Math.round(q*255)}}};x.style.fpz=function(S,G,j,z){for(var O=0;
O<j;O++)for(var i=0;i<G;i++){var C=O*G+i,M=0,D=0,X=S[C];if(i==0||O==0){M=S[C+1]-X;D=S[C+G]-X}else if(i==j-1||O==G-1){M=X-S[C-1];
D=X-S[C-G]}else{M=S[C+1]-S[C-1];D=S[C+G]-S[C-G]}if(M!=0||D!=0){var l=1/Math.sqrt(M*M+D*D);M*=l;D*=l}z[C+C]=M;
z[C+C+1]=D}};x.style.YK=function(S,G,j,z){var O=x.style.YD(S,j,z);for(var i=0;i<z;i++)for(var C=0;C<j;
C++){var M=i*j+C,D=O[M*2],X=O[M*2+1],l=(i+X)*j+C+D;if(D==0&&X==0){G[M]=0;continue}var f=Math.sqrt(D*D+X*X),F=S[l]*(1/255),$=1/f,_=Math.abs(D)*$,P=Math.abs(X)*$;
if(P>_){var k=P;P=_;_=k}G[M]=f+x.style.foP(_,P,F)}};x.style.YD=function(S,G,j){var z=!0;for(var O=0;
O<S.length;O++)z=z&&(S[O]==0||S[O]==255);var i=new Int16Array(G*j*2);if(z)x.style.fom(S,i,G,j);else x.style.fos(S,i,G,j);
return i};x.style.foP=function(S,G,j){return(.5-j)*S};x.style.fos=function(S,G,j,z){var O=j*z;for(var i=0;
i<O;i++)if(S[i]==0){G[i*2]=16383;G[i*2+1]=16383}for(var C=1;C<=z-1;C++){var i=C*j;for(var M=0;M<=j-1;
M++)x.style.$h(G,S,j,i+M<<1,-1);for(var M=1;M<=j-1;M++)x.style.VF(G,S,j,i+M<<1,-1);for(var M=j-2;M>=0;
M--)x.style.VF(G,S,j,i+M<<1,1)}for(var C=z-2;C>=0;C--){var i=C*j;for(var M=0;M<=j-1;M++)x.style.$h(G,S,j,i+M<<1,1);
for(var M=1;M<=j-1;M++)x.style.VF(G,S,j,i+M<<1,-1);for(var M=j-2;M>=0;M--)x.style.VF(G,S,j,i+M<<1,1)}};
x.style.VF=function(S,G,j,z,O){var i=(z>>>1)+O<<1,C=S[z],M=S[z+1],D=S[i]+O,X=S[i+1],l=D*D+X*X,f=C*C+M*M;
if(X!=16383&&(C==16383||Math.sqrt(l)+(.5-G[(z>>>1)+X*j+D]*(1/255))<Math.sqrt(f)+(.5-G[(z>>>1)+M*j+C]*(1/255)))){S[z]=D;
S[z+1]=X}};x.style.$h=function(S,G,j,z,O){var i=(z>>>1)+O*j<<1,C=S[z],M=S[z+1],D=S[i],X=S[i+1]+O,l=D*D+X*X,f=C*C+M*M;
if(D!=16383&&(C==16383||Math.sqrt(l)+(.5-G[(z>>>1)+X*j+D]*(1/255))<Math.sqrt(f)+(.5-G[(z>>>1)+M*j+C]*(1/255)))){S[z]=D;
S[z+1]=X}};x.style.fom=function(S,G,j,z){var O=j*z;for(var i=0;i<O;i++)if(S[i]==0){G[i*2]=16383;G[i*2+1]=16383}for(var C=1;
C<=z-1;C++){var i=C*j;for(var M=0;M<=j-1;M++)x.style.$U(G,S,j,i+M<<1,-1);for(var M=1;M<=j-1;M++)x.style.Vt(G,S,j,i+M<<1,-1);
for(var M=j-2;M>=0;M--)x.style.Vt(G,S,j,i+M<<1,1)}for(var C=z-2;C>=0;C--){var i=C*j;for(var M=0;M<=j-1;
M++)x.style.$U(G,S,j,i+M<<1,1);for(var M=1;M<=j-1;M++)x.style.Vt(G,S,j,i+M<<1,-1);for(var M=j-2;M>=0;
M--)x.style.Vt(G,S,j,i+M<<1,1)}};x.style.Vt=function(S,G,j,z,O){var i=(z>>>1)+O<<1,C=S[z],M=S[z+1],D=S[i]+O,X=S[i+1],l=D*D+X*X,f=C*C+M*M;
if(X!=16383&&(C==16383||l<f)){S[z]=D;S[z+1]=X}};x.style.$U=function(S,G,j,z,O){var i=(z>>>1)+O*j<<1,C=S[z],M=S[z+1],D=S[i],X=S[i+1]+O,l=D*D+X*X,f=C*C+M*M;
if(D!=16383&&(C==16383||l<f)){S[z]=D;S[z+1]=X}};x.style.fpK=function(S,G,j,z,O){var i=j*z,C=(j+z+1)*1.01;
for(var M=0;M<i;M++)if(S[M]<=O)G[M]=C;for(var D=1;D<j;D++)G[D]=Math.min(G[D],G[D-1]);for(var X=1;X<z;
X++){var M=X*j;G[M]=Math.min(G[M],Math.min(G[M-j]+1,G[M-j+1]+Math.SQRT2));for(var D=1;D<j-1;D++){var l=G[++M],f=Math.min(G[M-1]+1,Math.min(G[M-j-1]+Math.SQRT2,Math.min(G[M-j]+1,G[M-j+1]+Math.SQRT2)));
if(f<l)G[M]=f}M++;G[M]=Math.min(G[M],Math.min(G[M-1]+1,Math.min(G[M-j-1]+Math.SQRT2,G[M-j]+1)))}for(var D=j-2;
D>=0;D--)G[D+i-j]=Math.min(G[D+i-j],G[D+i-j+1]);for(var X=z-2;X>=0;X--){var M=X*j+j-1;G[M]=Math.min(G[M],Math.min(G[M+j]+1,G[M+j-1]+Math.SQRT2));
for(var D=j-2;D>=1;D--){var l=G[--M],f=Math.min(G[M+1]+1,Math.min(G[M+j-1]+Math.SQRT2,Math.min(G[M+j]+1,G[M+j+1]+Math.SQRT2)));
if(f<l)G[M]=f}M--;G[M]=Math.min(G[M],Math.min(G[M+1]+1,Math.min(G[M+j]+1,G[M+j+1]+Math.SQRT2)))}};x.style.fpV=function(S,G,j,z,O){var i=new Int32Array(j*z);
x.style.fYQ(S,i,j,z,O);x.style.fYl(i,G,j,z)};x.style.fYQ=function(S,G,j,z,O){var i=new Int32Array(z);
for(var C=0;C<j;C++){var M=j+z;for(var D=z-1;D>=0;D--){if(S[D*j+C]>O)M=0;else M++;i[D]=M}M=j+z;for(var D=0;
D<z;D++){if(S[D*j+C]>O)M=0;else M++;G[D*j+C]=M<i[D]?-M:i[D]}}};x.style.fYl=function(S,G,j,z){var O=(j+z)*(j+z),i=new Float64Array(j),C=new Uint16Array(j);
for(var M=0;M<z;M++){var D=M*j,X=0;C[0]=0;i[0]=-O;i[1]=+O;for(var l=1;l<j;l++){var f=S[l+D]*S[l+D]+l*l,F=(f-(S[C[X]+D]*S[C[X]+D]+C[X]*C[X]))/(2*l-2*C[X]);
while(F<=i[X]){X--;F=(f-(S[C[X]+D]*S[C[X]+D]+C[X]*C[X]))/(2*l-2*C[X])}X++;C[X]=l;i[X]=F;i[X+1]=O}X=0;
for(var l=0;l<j;l++){while(i[X+1]<l)X++;var $=C[X]-l,_=S[C[X]+D],P=M*j+l<<1;G[P]=$;G[P+1]=_}}};x.style.fY$=function(S,G,j){if(j)for(var z=0;
z<S.length;z++){var O=S[z];if(O>0)S[z]=Math.max(0,Math.min(255,O+G*2*(x.style.jw(z)-128)))}else for(var z=0;
z<S.length;z++){var O=S[z];if(O>0)S[z]=Math.max(0,Math.min(255,O+Math.min(O*3,G*2*(x.style.jw(z)-128))))}};
x.style.jw=function(S){S=S^61^S>>16;S=S+(S<<3);S=S^S>>4;S=S*668265261;S=S^S>>15;return S&255};x.w$={};
x.w$.Qc=function(S,G,j){var z=S.canvas,O=E.V(),i=Math.floor;if(z.width!=i(G*O)||z.height!=i(j*O))E.cl(z,G,j,S)};
x.w$.hG=function(S,G,j,z,O,i){x.w$.Qc(S,G,j);if(i==null)i=!1;var C=O.channel,M=O.rect,D=!O.isEnabled;
G=Math.floor(G*E.V());j=Math.floor(j*E.V());if(G*j==0)return;var X=S.createImageData(G,j),l=X.data,f=1/G,F=1/j;
for(var $=0;$<j;$++)for(var _=0;_<G;_++){var P=$*G+_,k=P*4,H=Math.round(z.x+_*f*z.o),q=Math.round(z.y+$*F*z.i),R=0;
if(H<M.x||H>=M.x+M.o||q<M.y||q>=M.y+M.i)R=O.color;else R=C[(q-M.y)*M.o+(H-M.x)];R=255*(255-O.iA)+R*O.iA>>>8;
if(i)R=170+Math.round(.4*(R-170));l[k]=R;l[k+1]=R;l[k+2]=R;l[k+3]=255}S.putImageData(X,0,0);if(D)x.w$.Yj(S,G,j)};
x.w$.fCm=function(S,G,j,z){S.fillStyle="#eeeeee";S.fillRect(.6*G,.6*j,G,j);S.lineWidth=1.5;var O=.65*G,i=.95*G,C=.65*j,M=.95*j,D=.75*G,X=.85*G,l=.75*j,f=.85*j;
S.beginPath();S.moveTo(O,C);S.lineTo(i,C);S.lineTo(i,M);S.lineTo(O,M);S.lineTo(O,C);S.moveTo(D,l);S.lineTo(X,l);
S.lineTo(X,f);S.lineTo(D,f);S.lineTo(D,l);S.closePath();S.stroke()};x.w$.$_=[];x.w$.fCk=function(S,G,j){var z,O,i,C=E.V();
G=Math.floor(C*G);j=Math.floor(C*j);z=Math.ceil(Math.max(G,j)*.35);O=G-z;i=j-z;var M=x.w$.$_[z];if(M==null){S.save();
S.scale(1/C,1/C);S.fillStyle="#eeeeee";S.fillRect(O,i,G,j);S.lineWidth=1;S.strokeRect(O+2.5,i+2.5,G-O-5,j-i-5);
var D=S.createImageData(3,3);x.GC(D.data,4278190080);D.data[4*4]=D.data[4*4+1]=D.data[4*4+2]=238;S.putImageData(D,O+1,i+1);
S.putImageData(D,G-4,i+1);S.putImageData(D,O+1,j-4);S.putImageData(D,G-4,j-4);S.restore();x.w$.$_[z]=S.getImageData(O,i,G,j)}else S.putImageData(M,O,i)};
x.w$.fCH=function(S,G,j,z,O){x.w$.Qc(S,G,j);G=Math.floor(G*E.V());j=Math.floor(j*E.V());var i=G/z.o;
if(G*j==0)return;S.fillStyle="#999999";S.setTransform(1,0,0,1,0,0);S.clearRect(0,0,G,j);var C=x.w$.BG;
if(C==null){C=x.w$.BG=JSON.parse(JSON.stringify(n.GN.default));C.strokeEnabled.v=!0}C.strokeStyleLineWidth.v.val=1*E.V()/ i;
S.fillStyle="#ffffff";S.scale(i,i);x.p.CX(O.z,S,0,0);x.p.CX(O.z,S,0,0,C)};x.w$.Zn=null;x.w$.Eg=function(S,G,j,z,O,i,C,M){x.w$.Qc(S,G,j);
G=Math.floor(G*E.V());j=Math.floor(j*E.V());if(G*j==0)return;var D=Math.max(G,j),X=x.w$.Zn;if(X==null||X.width<D||X.height<D){x.w$.Zn=X=S.createImageData(D,D)}D=X.width;
var l=X.data,f=z.o/G,F=z.i/j,$=1/255,_=i.x,P=i.x+i.o,k=i.y,H=i.y+i.i;for(var q=0;q<j;q++)for(var R=0;
R<G;R++){var I=q*D+R,b=I*4,Y=~~(z.x+R*f),m=~~(z.y+q*F),h=x.bP(q,R,2);if(Y<_||Y>=P||m<k||m>=H){l[b]=h;
l[b+1]=h;l[b+2]=h;l[b+3]=255}else{var e=(m-i.y)*i.o+(Y-i.x)<<2,s=O[e+3]*$;l[b]=O[e+0]*s+h*(1-s);l[b+1]=O[e+1]*s+h*(1-s);
l[b+2]=O[e+2]*s+h*(1-s);l[b+3]=255}}if(M!=null)for(var q=0;q<l.length;q+=4)l[q]=l[q+1]=l[q+2]=l[q+M];
S.putImageData(X,0,0);if(C)x.w$.Yj(S,G,j)};x.w$.fSo=function(S,G,j,z){x.w$.Qc(S,G,j);S.fillStyle=x.w$.cx(z.Clr.v);
S.fillRect(0,0,G,j);x.w$.YE(S,G,j)};x.w$.$N=null;x.w$.fSY=function(S,G,j,z){x.w$.Qc(S,G,j);var O=S.canvas.width,i=S.canvas.height,C=x.w$.$N;
if(C==null||C.width!=O||C.height!=i){S.fillStyle="#ffffff";S.fillRect(0,0,G,j);S.fillStyle="#000000";
S.font=""+j*.7+"px serif";S.fillText("T",(G-j*.43)/2,j*.75);S.fillText("T",(G-j*.43)/2,j*.75);x.w$.$N=S.getImageData(0,0,O,i)}else S.putImageData(C,0,0)};
x.w$.fSC=function(S,G,j){x.w$.Qc(S,G,j);S.clearRect(0,0,G,j);S.font=j*.7+"px serif";S.fillText(":(",(G-j*.43)/2,j*.7)};
x.w$.fSz=function(S,G,j,z){x.w$.Qc(S,G,j);var O=Yd.get(z),i=YP.get(Yd.names[O]).substring(0,3);S.fillStyle="#ffffff";
S.fillRect(0,0,G,j);S.fillStyle="#000000";S.font=j*.55+"px sans-serif";var C=S.measureText(i);S.fillText(i,(G-C.width)/2,j*.67);
S.fillRect(0,0,G,j*.1);S.fillRect(0,j*.9,G,j*.1)};x.w$.fPz=function(S,G,j,z){x.w$.Qc(S,G,j);var O=S.canvas.width,i=S.canvas.height,C=S.getImageData(0,0,O,i);
x.T.OQ(z.Grad.v,new Uint8Array(C.data.buffer),new Q(0,0,O,i),[1/O,0,0,1/ i],O/2,i/2,!1,0,16711680,65280);
S.putImageData(C,0,0);x.w$.YE(S,G,j)};x.w$.fPK=function(S,G,j,z,O){x.w$.Qc(S,G,j);var i=S,C=Yv.m_(z.Ptrn.v,O.add.Patt),M=C.L;
x.w$.Eg(S,G,j,M,C.hC,M,!1);x.w$.YE(i,G,j)};x.w$.Yj=function(S,G,j){S.strokeStyle="#bb0000";S.lineWidth=3;
S.beginPath();S.moveTo(G*.15,j*.15);S.lineTo(G*.85,j*.85);S.moveTo(G*.85,j*.15);S.lineTo(G*.15,j*.85);
S.closePath();S.stroke()};x.w$.Yj=function(S,G,j){S.strokeStyle="#bb0000";S.lineWidth=3;S.beginPath();
S.moveTo(G*.15,j*.15);S.lineTo(G*.85,j*.85);S.moveTo(G*.85,j*.15);S.lineTo(G*.15,j*.85);S.closePath();
S.stroke()};x.w$.YE=function(S,G,j){S.fillStyle="#eeeeee";S.fillRect(0,j*.75,G,j*.25);S.beginPath();
S.moveTo(0,j*.75);S.lineTo(G,j*.75);S.moveTo(G*.1,j*.875);S.lineTo(G*.9,j*.875);S.moveTo(G*.65,j*.825);
S.lineTo(G*.65,j*.95);S.closePath();S.stroke()};x.w$.cx=function(S){var G=x.T.cx(S),j=Math.round(G.H)<<16|Math.round(G.X)<<8|Math.round(G.C);
return"#"+x.zt(j)};x.p={};x.p.Vc=function(S,G,j){var z=[],O=-1;for(var i=0;i<S.length;i++){var C=S[i];
if((C.type==0||C.type==3)&&C.ta!=-1)O++;if(C.type>5||C.type==0||C.type==3)continue;if(G!=null&&G.indexOf(O)==-1)continue;
if(j!=null&&j.indexOf(i)==-1)continue;z.push(C.Cu.x);z.push(C.Cu.y);z.push(C.K.x);z.push(C.K.y);z.push(C.tw.x);
z.push(C.tw.y)}return z};x.p.Yb=function(S,G,j,z){var O=0,i=-1;for(var C=0;C<G.length;C++){var M=G[C];
if((M.type==0||M.type==3)&&M.ta!=-1)i++;if(M.type>5||M.type==0||M.type==3)continue;if(j!=null&&j.indexOf(i)==-1)continue;
if(z!=null&&z.indexOf(C)==-1)continue;M.Cu.cK(S[O],S[O+1]);M.K.cK(S[O+2],S[O+3]);M.tw.cK(S[O+4],S[O+5]);
O+=6}};x.p.hu=function(S,G,j,z){var O=x.p.Vc(S,j,z);x.Y.GY(O,G,O);x.p.Yb(O,S,j,z)};x.p.fPw=function(S,G,j,z){var O=x.p.Vc(S,j,z);
x.Z.apply(G,O);x.p.Yb(O,S,j,z)};x.p.fvS=function(S,G,j,z){if(j==null&&z==null){var O=x.p.fvP(S,40);for(var i=0;
i<O.length;i++)S[i]=O[i]}var C=x.p.Vc(S,j,z);x.GW.apply(G,C,x.Y.wR(C));x.p.Yb(C,S,j,z)};x.p.fvP=function(S,G){var j=[];
for(var z=0;z<S.length;z++){var O=S[z];if(O.type>5){j.push(JSON.parse(JSON.stringify(O)));continue}var i=x.p.fvK(S,z+1,O.length);
i=x.Y.qw(i,G);var C=x.p.fvT(i);z+=O.length;O=JSON.parse(JSON.stringify(O));O.length=C.length;j.push(O);
for(var M=0;M<C.length;M++)j.push(C[M])}return j};x.p.fvK=function(S,G,j){var z={w:["M"],v:[]},O=S[G],i=S[G+j-1];
z.v.push(O.K.x,O.K.y);for(var C=1;C<j;C++){var M=S[G+C-1],D=S[G+C];z.w.push("C");z.v.push(M.tw.x,M.tw.y,D.Cu.x,D.Cu.y,D.K.x,D.K.y)}z.w.push("C");
z.v.push(i.tw.x,i.tw.y,O.Cu.x,O.Cu.y,O.K.x,O.K.y);return z};x.p.fvT=function(S){var G=[],j=S.w,z=S.v,O=0,i=z.length;
G.push({type:2,Cu:new A(z[i-4],z[i-3]),K:new A(z[0],z[1]),tw:new A(z[2],z[3])});for(var C=0;C<j.length-2;
C++){var M=C*6+4;G.push({type:2,Cu:new A(z[M],z[M+1]),K:new A(z[M+2],z[M+3]),tw:new A(z[M+4],z[M+5])})}return G};
x.p.fvZ=function(S){for(var G=0;G<S.length;G++){if(S[G].type>5)continue;var j=S[G].length;if(!(j==4||j==6||j==8)){G+=j;
continue}for(var z=0;z<j;z++){var O=S[G+1+z],i=S[G+1+(z+1)%j],C=Math.min(O.K.x,i.K.x),M=Math.min(O.K.y,i.K.y),D=0,X=0;
if(O.K.x<i.K.x){D=O.K.y-M;X=D-(i.K.x-C)}else{D=i.K.y-M;X=D-(O.K.x-C)}if(Math.abs(X)<.2*D)return D}}return-1};
x.p.Mq=function(S,G){var j=null,z=-1;for(var O=0;O<S.length;O++){if(S[O].type>5)continue;var i=S[O].length;
if((S[O].type==0||S[O].type==3)&&S[O].ta!=-1)z++;if(G!=null&&G.indexOf(z)==-1)continue;if(O==S.length-1)break;
var C=S[O].type==3;if(j==null)j=x.p.$r(S,O+1,i,C);else{var M=x.p.$r(S,O+1,i,C);if(G!=null||S[O].ta==0||S[O].ta==-1||S[O].ta==1){var D=Math.min(j.x,M.x),X=Math.min(j.y,M.y),l=Math.max(j.x+j.o,M.x+M.o),f=Math.max(j.y+j.i,M.y+M.i);
j.x=D;j.y=X;j.o=l-D;j.i=f-X}else if(S[O].ta==2)j=j;else if(S[O].ta==3)j=j.tY(M)}O+=i}if(j==null||j.o<0||j.i<0)j=new Q(0,0,0,0);
return j};x.p.fvO=new Float64Array(4);x.p.$r=function(S,G,j,z){var O=x.p.fvO;O[0]=1e30;O[1]=1e30;O[2]=-1e30;
O[3]=-1e30;var i=S[G+j-1];if(!z)x.p._f(i.K.x,i.K.y,i.tw.x,i.tw.y,S[G].Cu.x,S[G].Cu.y,S[G].K.x,S[G].K.y,O);
for(var C=G;C<G+j-1;C++){var M=S[C],D=S[C+1];if(M.K.Xs(M.tw)&&D.Cu.Xs(D.K)){O[0]=Math.min(O[0],Math.min(M.K.x,D.K.x));
O[1]=Math.min(O[1],Math.min(M.K.y,D.K.y));O[2]=Math.max(O[2],Math.max(M.K.x,D.K.x));O[3]=Math.max(O[3],Math.max(M.K.y,D.K.y))}else x.p._f(M.K.x,M.K.y,M.tw.x,M.tw.y,D.Cu.x,D.Cu.y,D.K.x,D.K.y,O)}return new Q(O[0],O[1],O[2]-O[0],O[3]-O[1])};
x.p._f=function(S,G,j,z,O,i,C,M,D){var X=1e30,l=1e30,f=-1e30,F=-1e30,$=40,_=j-S,P=z-G,k=O-j,H=i-z,q=C-O,R=M-i,I=1/$;
for(var b=0;b<$+1;b++){var Y=b*I,m=S+Y*_,h=G+Y*P,e=j+Y*k,s=z+Y*H,y=O+Y*q,T=i+Y*R,K=m+Y*(e-m),B=h+Y*(s-h),a=e+Y*(y-e),u=s+Y*(T-s),r=K+Y*(a-K),v=B+Y*(u-B);
if(r<X)X=r;if(v<l)l=v;if(r>f)f=r;if(v>F)F=v}D[0]=Math.min(D[0],X);D[1]=Math.min(D[1],l);D[2]=Math.max(D[2],f);
D[3]=Math.max(D[3],F)};x.p._X=function(S){var G=2,j=x.p.Bv(S),z=!1,O=!1;for(var i=2;i<S.length;i++){var C=S[i].ta;
if(C!=null){if(C==2||C==0)z=!0;if(C==-1)O=!0}}if(O){var M=x.Y.tH(S);return{uU:Typr.U.pathToSVG({crds:M.v,cmds:M.w},G),nj:z?1:0}}if(z&&S.length<5e3&&j>1)S=x.p.Ye(S);
var M=x.Y.tH(S);return{uU:Typr.U.pathToSVG({crds:M.v,cmds:M.w},G),nj:z?1:0}};x.p.Ye=function(S){x.p.EY();
var G,j=x.p.Yt(S),z=[];for(var O=0;O<j.length;O++){var i=j[O][0],C=j[O][1];if(Math.abs(i.area)<1e-5)z.push(i);
else if(G==null)G=i;else{G=G[C](i);G.remove()}}if(G==null)G=new paper.CompoundPath(z);else{if(G.segments)G=new paper.CompoundPath(G);
for(var O=0;O<z.length;O++){G.children.push(z[O])}}var M=S.slice(0,2);M=M.concat(x.p._Y(G));if(M[2])M[2].ta=1;
for(var O=3;O<M.length;O++)if(M[O].ta!=null)M[O].ta=-1;return M};x.p.EY=function(){if(x.p.fsm==null){var S=E._("canvas");
paper.setup(S);x.p.fsm=!0}};x.p.fvq=function(S,G){x.p.EY();var j=[],z=x.p.Yt(S),O=new paper.Path.Rectangle(new paper.Rectangle(G.x,G.y,G.o,G.i));
O.remove();O.fillColor=new paper.Color(1,0,0);for(var i=0;i<z.length;i++)if(O.intersects(z[i][0])||O.contains(z[i][0].segments[0].point))j.push(i);
return j};x.p.Rl=function(S,G,j,z){x.p.EY();var O=j?{curves:!0,tolerance:z}:null,i=new paper.Point(G.x,G.y),C=x.p.Yt(S);
for(var M=C.length-1;M>=0;M--){var D=C[M][0],X=D.hitTest(i,O);if(X!=null)return{Qf:M,qu:j?X.location.index:null}}return{Qf:-1}};
x.p.YN=function(S,G){var j=[[],[],[]];for(var z=0;z<S.length;z++){var O=S[z];if(O.type>5||O.type==0||O.type==3)continue;
if(G.oO(O.K))j[0].push(z);if(G.oO(O.Cu))j[1].push(z);if(G.oO(O.tw))j[2].push(z)}return j};x.p.fvL=function(S,G,j){var z=j.slice(0),O=[null,null],i=-1,D=null;
for(var C=2;C<S.length;C++){if((S[C].type==0||S[C].type==3)&&S[C].ta!=-1)i++;O[C]=j[i]}j=O;var M=S.slice(0,2);
O=j.slice(0,2);for(var C=2;C<S.length;C++){if(S[C].type==0||S[C].type==3){D=S[C];M.push(D);O.push(j[C])}else{if(G.indexOf(C)==-1){M.push(S[C]);
O.push(j[C])}else{D.length--;x.tS.Vq(j,C)}}}for(var C=2;C<M.length;C++){var X=M[C];if(X.type!=0&&X.type!=3)continue;
if(X.length==0){if(M[C+1]&&M[C+1].ta==-1){M[C+1].ta=X.ta}O.splice(C,1);M.splice(C,1);C--}}for(var C=0;
C<z.length;C++)if(O.indexOf(z[C])==-1){z.splice(C,1);C--}return M};x.p.fau=function(S,G){var j=S.slice(0,2),z=-1;
for(var O=2;O<S.length;O++){if((S[O].type==0||S[O].type==3)&&S[O].ta!=-1)z++;if(G.indexOf(z)==-1)j.push(S[O])}return j};
x.p.fKA=function(S,G){var j=S.slice(0,2),z=-1;for(var O=2;O<S.length;O++){if((S[O].type==0||S[O].type==3)&&S[O].ta!=-1)z++;
if(G.indexOf(z)!=-1)j.push(S[O])}return j};x.p.fpJ=function(S){var G=0;for(var j=0;j<S.length;j++)if(S[j].type==0||S[j].type==3)G=j;
return S[G]};x.p.Bv=function(S){var G=-1;for(var j=0;j<S.length;j++)if((S[j].type==0||S[j].type==3)&&S[j].ta!=-1)G++;
return G+1};x.p.VV=function(S,G){var j=-1;for(var z=0;z<S.length;z++)if((S[z].type==0||S[z].type==3)&&S[z].ta!=-1){j++;
if(j==G)return z}return-1};x.p._M=function(S,G){var j=-1;for(var z=0;z<S.length;z++)if((S[z].type==0||S[z].type==3)&&S[z].ta!=-1){if(z>=G)return j;
j++}return j};x.p._o=function(S,G){var j=-1,z=0;for(var O=0;O<S.length;O++){if((S[O].type==0||S[O].type==3)&&S[O].ta!=-1)j++;
if(j==G)z++}return z};x.p._Y=function(S){var G=S.segments?[S]:S.children,j=[];for(var z=0;z<G.length;
z++){var O=G[z],i=O.segments,C=O.closed?0:3,M=j.length,D=null;if(i.length<=1)continue;j.push({type:C,length:i.length,ta:0,lj:2});
for(var X=0;X<i.length;X++){var l=i[X],f=new A(l.handleIn.x,l.handleIn.y),F=new A(l.handleOut.x,l.handleOut.y),$=new A(l.point.x,l.point.y),_={type:C+1,Cu:$.add(f),K:$,tw:$.add(F)};
if(D==null)D=_;j.push(_);if(X+1==i.length&&A.nM(D.K,_.K)<1e-5){j.pop();j[M].length--;D.Cu=_.Cu;if(C==3)for(var P=M;
P<j.length;P++)j[P].type-=3}}}return j};x.p.Yt=function(S){x.p.EY();var G=[],j,z=new paper.Color(1,0,0);
for(var O=0;O<S.length;O++){if(S[O].type>5)continue;var i=S[O].length,C;if(O==S.length-1)break;var M=S[O].type==3;
if(O==2){if(!x.p.EW(S))C="subtract";else C="unite"}else{if(S[O].ta==0)C="exclude";if(S[O].ta==1)C="unite";
if(S[O].ta==2)C="subtract";if(S[O].ta==3)C="intersect"}if(S[O].ta!=-1)j=[];for(var D=0;D<i;D++){var X=S[O+1+D],l=X.Cu.aB(X.K),f=X.tw.aB(X.K);
j.push([[X.K.x,X.K.y],[l.x,l.y],[f.x,f.y]])}if(S[O+1+i]==null||S[O+1+i].ta!=-1){var F=new paper.Path(j);
F.remove();F.closed=!M;F.fillRule="evenodd";F.fillColor=z;G.push([F,C])}O+=i}return G};x.p.fpI=function(S){for(var G=0;
G<S.length;G++){var j=S[G];if(j.K==null)continue;if(!j.K.Xs(j.Cu)||!j.K.Xs(j.tw))return!1}return!0};
x.p.fpB=function(S){if(S.length<=5)return 0;var G=0,j=S.length-3-1;for(var z=0;z<j;z++){var O=S[3+z],i=S[3+z+1];
if(O.type==0||i.type==0)return 0;G+=(i.K.x-O.K.x)*(O.K.y+i.K.y)}G+=(S[3].K.x-S[3+j].K.x)*(S[3+j].K.y+S[3+1].K.y);
return-G*.5};x.p.EW=function(S){if(S.length==2)return S[1].all==0;var G=S[2];if(S[1].all==1){if(G.ta==1||G.ta==3)return!0;
return!1}else{if(G.ta==1||G.ta==3||G.ta==0)return!0;return!1}};x.p.fKB=0;x.p._C=0;x.p.fpR=0;x.p.fKj=function(S,G,j,z){var O=x.GH,i=x.G;
O.width=j.o;O.height=j.i;if(!x.p.EW(S))i.fillRect(0,0,j.o,j.i);var C=j.h();x.p.fKB+=C;if(C>x.p._C){x.p._C=C}x.p.CX(S,i,-j.x,-j.y,z);
if(j.tR())return;var M=i.getImageData(0,0,j.o,j.i);x.tb(M.data,G,3)};x.p.CX=function(S,G,j,z,O){if(O!=null&&O.fillEnabled.v){var i=!1,C=!1,M=0;
for(var D=0;D<S.length;D++){var X=S[D].ta;if(X!=null)M++;if(X==-1)i=!0;if(X>0)C=!0}if(!i&&M<20)S=x.p.Ye(S)}for(var D=0;
D<S.length;D++){if(S[D].type>5)continue;var l=S[D].length;if(l==0)continue;if(D==S.length-1)break;var f=S[D].type==3;
if(D==2){if(!x.p.EW(S))G.globalCompositeOperation="destination-out";else G.globalCompositeOperation="source-over"}else{var F;
if(S[D].ta==0)F="xor";if(S[D].ta==1)F="source-over";if(S[D].ta==2)F="destination-out";if(S[D].ta==3)F="source-in";
if(S[D].ta!=-1&&O==null)G.globalCompositeOperation=F}if(S[D].ta!=-1){G.beginPath();if(O){var $=O.strokeStyleLineWidth.v.val,_=O.strokeStyleLineAlignment.v.strokeStyleLineAlignment,P=O.strokeStyleLineCapType.v.strokeStyleLineCapType,k=O.strokeStyleLineJoinType.v.strokeStyleLineJoinType,H=O.strokeStyleMiterLimit.v,q=[],R=O.strokeStyleLineDashSet.v;
for(var I=0;I<R.length;I++)q.push(R[I].v.val*$);G.setLineDash(q);G.lineCap=["butt","round","square"][n.GN.Ej.indexOf(P)];
G.lineJoin=["miter","round","bevel"][n.GN.join.indexOf(k)];G.lineWidth=n.GN.Uw.indexOf(_)==1?$:$*=2;
G.miterLimit=H}}x.p.fKO(G,S,D+1,l,j,z,f);if(f){}else G.closePath();if(S[D+1+l]==null||S[D+1+l].ta!=-1){if(O)G.stroke();
else G.fill("evenodd")}D+=l}};x.p.fKO=function(S,G,j,z,O,i,C){var M=G[j],D=null;S.moveTo(M.K.x+O,M.K.y+i);
for(var X=j;X<j+z-1;X++){M=G[X];D=G[X+1];S.bezierCurveTo(M.tw.x+O,M.tw.y+i,D.Cu.x+O,D.Cu.y+i,D.K.x+O,D.K.y+i)}if(!C){M=G[X];
D=G[j];S.bezierCurveTo(M.tw.x+O,M.tw.y+i,D.Cu.x+O,D.Cu.y+i,D.K.x+O,D.K.y+i)}};x.p.nP=function(S,G,j){var z=[],O=j?4:1,i=!1;
if(G!=null)for(var C=0;C<G.length;C++)if(G[C]!=0){i=!0;break}if(G!=null&&i){var M=x.Y.fVq(S,G),D=M.length/6;
for(var C=0;C<D;C++){var X=C*6,l=(C-1+D)%D*6,f=M[X],F=M[X+1],$=M[X+2],_=M[X+3],P=M[l+4],k=M[l+5];z.push({type:O,Cu:new A(P,k),K:new A(f,F),tw:new A($,_)})}}else{for(var C=0;
C<S.length;C+=2){var H=new A(S[C],S[C+1]);z.push({type:O,Cu:H.clone(),K:H.clone(),tw:H.clone()})}}return z};
x.p.fKh=function(S,G){x.p.EY();var j=new paper.Path;j.remove();var z=S.length-1,O=Math.sqrt((S[z-1]-S[0])*(S[z-1]-S[0])+(S[z]-S[1])*(S[z]-S[1]))<3;
j.closed=O;for(var i=0;i<S.length;i+=2)j.add(new paper.Point(S[i],S[i+1]));j.simplify(G);var C=[{type:6},{type:8,all:0}];
C=C.concat(x.p._Y(j));return C};x.p.Go={};x.p.Go.Vi=function(S,G,j){var z=[{type:6},{type:8,all:0}],O=null;
z.push({type:j?3:0,ta:1,length:0,vG:0,pS:0,lj:1});if(G==0)O==null;else if(G instanceof Array)O=G;else{O=[];
for(var i=0;i<S.length;i+=2)O.push(G)}z=z.concat(x.p.nP(S,O,j));z[2].length=z.length-3;return z};x.p.Go.fKE=function(S,G,j,z,O){var i=[],C=[],M=.553,D=1,X=-1;
i.push({type:1,Cu:new A(0,M),K:new A(0,0),tw:new A(0,-M)});O+=2;for(var l=0;l<O;l++){var f={type:1};
if(l==0){f.K=new A(1,-1);f.Cu=new A(1-M,-1);f.tw=new A(1+M,-1)}else{var F=-(l+2)*Math.PI/2,$=1+((l&1)==1?l-1:l),_=Math.sin(F),P=Math.cos(F);
D+=$*(_-P);X+=$*(P+_);f.K=new A(D,X);f.Cu=new A(D+$*P*M,X-$*_*M);if((l&1)==1)$+=2;f.tw=new A(D-$*P*M,X+$*_*M)}var k={type:1,Cu:new A(-f.tw.x,-f.tw.y),K:new A(-f.K.x,-f.K.y),tw:new A(-f.Cu.x,-f.Cu.y)};
i.push(f);if(l<O-2)C.push(k)}C.reverse();i=i.concat(C);var H=[{type:6},{type:8,all:0}];H.push({type:0,ta:1,length:i.length,vG:0,pS:0,lj:1});
H=H.concat(i);var q=new Ym(j/O,0,0,j/O,0,0);q.rotate(z);q.translate(S,G);x.p.hu(H,q);return H};x.p.Go.Rect=function(S,G,j,z,O){var i=[S,G,S+j,G,S+j,G+z,S,G+z];
return x.p.Go.Vi(i,O)};x.p.Go._P=function(S,G,j,z,O,i){var C=[],M=2*Math.PI/O;for(var D=0;D<O;D++)C.push(Math.cos(D*M),Math.sin(D*M));
var X=new Ym(j,0,0,j,0,0);X.rotate(z);X.translate(S,G);x.Y.GY(C,X,C);return x.p.Go.Vi(C,i)};x.p.Go.fKb=function(S,G,j,z,O,i,C){var M=[],D=Math.PI/O;
for(var X=0;X<O*2;X++){var l=(X&1)==0?1:C;M.push(l*Math.cos(X*D),l*Math.sin(X*D))}var f=new Ym(j,0,0,j,0,0);
f.rotate(z);f.translate(S,G);x.Y.GY(M,f,M);return x.p.Go.Vi(M,i)};x.p.Go.Yn=function(S,G,j,z,O){return x.p.Go._v(0,S,G,j,z,O)};
x.p.Go.fKe=function(S,G,j,z,O,i){return x.p.Go._v(1,S,G,j,z,O,i)};x.p.Go._v=function(S,G,j,z,O,i,C){var M=Math.sqrt((z-G)*(z-G)+(O-j)*(O-j)),D;
i/=2;if(S==0)D=[-i,0,i,0,i,M,-i,M];else{var X=i*2*C*1.3/1.5,l=i*C;D=[-i,0,i,0,i,M-X,l,M-X,0,M,-l,M-X,-i,M-X]}var f=new Ym(1,0,0,1,0,0);
f.rotate(Math.atan2(-O+j,z-G)+Math.PI/2);f.translate(G,j);x.Y.GY(D,f,D);return x.p.Go.Vi(D,0)};x.p.Go.Bz=function(S,G,j,z){var O=[{type:6},{type:8,all:0}],f=.553;
O.push({type:0,ta:1,length:4,vG:0,pS:0,lj:1});var i=S,C=G,M=S+j,D=G+z,S=(i+M)/2,G=(C+D)/2,X=(i-M)/2,l=(C-D)/2;
O.push({type:1,Cu:new A(S-f*X,G-l),K:new A(S,G-l),tw:new A(S+f*X,G-l)});O.push({type:1,Cu:new A(S+X,G-f*l),K:new A(S+X,G),tw:new A(S+X,G+f*l)});
O.push({type:1,Cu:new A(S+f*X,G+l),K:new A(S,G+l),tw:new A(S-f*X,G+l)});O.push({type:1,Cu:new A(S-X,G+f*l),K:new A(S-X,G),tw:new A(S-X,G-f*l)});
return O};x.p.Go.fpi=function(S,G,j,z,O){var i=[{type:6},{type:8,all:0}];i.push({type:3,ta:1,length:5,vG:0,pS:0,lj:1});
var C=Math.min(z,O),M=Math.max(z,O),D=(M-C)/4,X=Math.cos(D/2),l=Math.sin(D/2),f=(4-X)/3,F=(1-X)*(3-X)/(3*l),$=f,_=-F,P=X,k=-l,H=new A(X,l),q=new A(f,F),R=new A($,_),I=new A(P,k),b=new Ym;
b.rotate(D);i.push({type:4,Cu:H.clone(),K:H.clone(),tw:q.clone()});i.push({type:4,Cu:R.clone(),K:I.clone(),tw:I.clone()});
for(var Y=0;Y<3;Y++){H=b.LU(H);q=b.LU(q);R=b.LU(R);I=b.LU(I);i[i.length-1].tw=q;i.push({type:4,Cu:R.clone(),K:I.clone(),tw:I.clone()})}b.rotate(-Math.PI/2-D/2);
b.concat(new Ym(j,0,0,j,S,G));x.p.hu(i,b);return i};x.yw={};x.yw.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
x.yw.Bc=function(S){var G=S.warpStyle.v.warpStyle;if(G=="warpNone")return!0;else if(G=="warpCustom"){var j=!1,z=S.customEnvelopeWarp.v.meshPoints.v.arr,O=z[0].arr,i=z[1].arr;
for(var C=0;C<4;C++)for(var M=0;M<4;M++){if(Math.abs(O[C]-O[M*4+C])>1||Math.abs(i[C*4]-i[C*4+M])>1)j=!0}return!j}else return S.warpValue.v==0&&S.warpPerspective.v==0&&S.warpPerspectiveOther.v==0};
x.yw.S=function(S){var G={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(S){G.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:S.y}},Left:{t:"UntF",v:{type:"#Pxl",val:S.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:S.y+S.i}},Rght:{t:"UntF",v:{type:"#Pxl",val:S.x+S.o}}}};
G.uOrder={t:"long",v:4};G.vOrder={t:"long",v:4}}return G};x.yw.fK$=function(S,G,j,z){for(var O=0;O<S.length;
O+=2){var i=S[O],C=S[O+1],M=(i-G.x)/G.o,D=(C-G.y)/G.i,X=(1-j)/2,l=1-X,f=X+M*(l-X);D=.5+(D-.5)*f*2;var F=(1-z)/2,$=1-F,_=F+D*($-F);
M=.5+(M-.5)*_*2;i=G.x+M*G.o;C=G.y+D*G.i;S[O]=i;S[O+1]=C}};x.yw._a=function(S,G){var j=[],z=[];for(var O=0;
O<S.length;O+=2){j.push(S[O]);z.push(S[O+1])}var i=[];i.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:j});
i.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:z});G.warpStyle.v.warpStyle="warpCustom";G.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:i}}}}};
x.yw.Ys=function(S,G){if(G==null){var j=S.bounds.v,z=j.Left.v.val,O=j.Rght.v.val,i=j.Top.v.val,C=j.Btom.v.val;
G=new Q(z,i,O-z,C-i)}if(G.tR())G.o=G.i=1;var M=[],D=S.warpStyle.v.warpStyle;if(D=="warpCustom"){var X=S.customEnvelopeWarp.v.meshPoints.v.arr,l=X[0].arr,f=X[1].arr;
for(var F=0;F<16;F++)M.push(l[F],f[F])}else M=x.yw.yw(G,D,S.warpRotate.v.Ornt=="Hrzn",S.warpValue.v/100,S.warpPerspective.v/100,S.warpPerspectiveOther.v/100);
return M};x.yw.yw=function(S,G,j,z,O,i){var C=x.GW.S(S.x,S.y,S.o,S.i);if(G=="warpNone")return C;var M=JSON.parse(JSON.stringify(S)),D=new Ym;
if(!j){D.translate(-S.x,-S.y);D.rotate(-Math.PI/2);D.translate(S.i,0);x.Y.GY(C,D,C);S=new Q(0,0,S.i,S.o);
C=x.GW.bN(C,!1)}x.yw.fK_(C,S,G,z,O,i);if(!j){C=x.GW.bN(C,!0);S=M;D.uT();x.Y.GY(C,D,C)}if(z==0)x.yw.fK$(C,S,O,i);
else{var D=new Ym(1/S.o,0,0,1/S.i,-S.x,-S.y);D.translate(-.5,-.5);x.Y.GY(C,D,C);x.yw.fKt(C,i,O);D.uT();
x.Y.GY(C,D,C)}return C};x.yw.fK_=function(S,G,j,z,O,i){for(var C=0;C<4;C++){for(var M=0;M<4;M++){var D=2*(4*C+M),X=S[D]-G.x,l=S[D+1]-G.y,f=X,F=l;
if(z!=0){var $=G.o/2,_=G.i/2;f-=$;F-=_;var P=f,k=f,H=-_,q=_,R=Math.abs(z),I=Math.tan((1-R)*Math.PI/2),b=Math.sqrt(I*I+1),Y=Math.atan2(1,I),m=f/$*Y,h=$*b,e=$*b+G.i,s=Math.cos(Y),y=Math.sin(Y),T=x.yw.fWg(s,y),K=x.yw.fWf(s,y),B=-I*$+T*h;
if(j=="warpArc"){P=Math.sin(m)*e;H=I*$-Math.cos(Y)*e+_;k=Math.sin(m)*h;q=I*$-Math.cos(Y)*h+_;if(M==1||M==2){P=M==1?-K*e:K*e;
k=M==1?-K*h:K*h;H=I*$+_-T*e;q=I*$+_-T*h}if(z<0){var a=P;P=k;k=a;a=H;H=-q;q=-a}}if(j=="warpArcLower"){if(M==1||M==2){k=M==1?-K*h:K*h;
q=z<0?_-B:_+B}}if(j=="warpArcUpper"||j=="warpArch"||j=="warpBulge"){if(M==1||M==2){P=M==1?-K*h:K*h;H=z<0?-_+B:-_-B}if(j=="warpArch"){k=P;
q=H+2*_}if(j=="warpBulge"){k=P;q=-H}}if(j=="warpFish"||j=="warpFlag"||j=="warpWave"){if(M==1){H-=z*4*_;
q+=z*4*_}if(M==2){H+=z*4*_;q-=z*4*_}if(j=="warpFlag"||j=="warpWave")H=q-2*_}if(j=="warpRise"){if(M<2)H=-_+z*_*4;
q=H+2*_}var u=(F+_)/G.i;f=P+u*(k-P);F=H+u*(q-H);if(j=="warpWave"){if(C==0)F=-_;if(C==3)F=_;if(C==1||C==2)F=2*_*(C/3-.5)*(1/3)+F*(2/3)}if(j=="warpFisheye"){if((C==1||C==2)&&(M==1||M==2)){f=f+4*f*z;
F=F+4*F*z}}if(j=="warpInflate"){var r=2/3;if((C==1||C==2)&&(M==1||M==2)){f=f+.5*f*z;F=F+.5*F*z}else if(C==1||C==2)f=f+r*f*z;
else if(M==1||M==2)F=F+r*F*z}if(j=="warpSqueeze"){var r=2/3;if((C==1||C==2)&&(M==1||M==2)){if(z>0)f=f-r*f*z;
else F=F+r*F*z}else if(C==1||C==2)f=f-r*f*z;else if(M==1||M==2)F=F+r*F*z}if(j=="warpTwist"){if((C==1||C==2)&&(M==1||M==2)){var v=z*Math.PI/2,b=1+Math.abs(z)*2,o=f*Math.cos(v)-F*Math.sin(v),V=f*Math.sin(v)+F*Math.cos(v);
f=o*b;F=V*b}}if(j=="warpShellLower"||j=="warpShellUpper"){if(j=="warpShellUpper"){C=3-C;F=-F}if(C>2||C==2&&(M==0||M==3)){if(z>0){var J=h+C/3*2*_;
f=Math.sin(m)*J;F=-I*$-_+Math.cos(m)*J;if(M==1||M==2){f=M==1?-K*J:K*J;F=-I*$-_+T*J}}else{if((M==1||M==2)&&C==3){f=M==1?-K*h:K*h;
F=I*$-T*h+_}else if(C==2){F=_-_*(2/3)*Math.cos(m);f=f+_*(2/3)*Math.sin(m)}}}if(j=="warpShellUpper"){C=3-C;
F=-F}}f+=$;F+=_}X=f,l=F;S[D]=X+G.x;S[D+1]=l+G.y}}};x.yw.fKt=function(S,G,j){var z=[];for(var O=0;O<4;
O++)z.push(1-j+O/3*2*j);var i=[];for(var O=0;O<4;O++)i.push(1-G+O/3*2*G);var C=[0,0,0,0],M=[0,0,0,0];
for(var D=0;D<4;D++)for(var O=0;O<4;O++){var X=2*(4*D+O),l=S[X],f=S[X+1];C[O]+=l/4;M[O]+=f/4}for(var D=0;
D<4;D++)for(var O=0;O<4;O++){var F=z[O],X=2*(4*D+O),l=S[X],f=S[X+1],$=C[O],_=M[O];S[X]=$+F*(l-$);S[X+1]=_+F*(f-_)}var P=S.slice(0);
for(var D=0;D<4;D++)for(var O=1;O<3;O++){var X=2*(4*D+O),l=S[X],f=S[X+1],k=X+(O==1?-2:2),H=S[k],q=S[k+1];
S[X]=l-H;S[X+1]=f-q}var R=S[0],I=S[1],b=S[8],Y=S[9],m=S[16],h=S[17],e=S[24],s=S[25],y=S[6],T=S[7],K=S[14],B=S[15],a=S[22],u=S[23],r=S[30],v=S[31],o=y-R,V=T-I,J=K-b,d=B-Y,oU=a-m,p=u-h,N=r-e,ob=v-s;
for(var D=0;D<4;D++){var oe=2*D*4,oF=0,oN=0,YM=D==1?.33:.66,oE=1-YM;if(D==0){oF=o;oN=V}if(D==1){oF=oE*o+YM*-N;
oN=oE*V+YM*-ob}if(D==2){oF=oE*o+YM*-N;oN=oE*V+YM*-ob}if(D==3){oF=-N;oN=-ob}S[oe]=S[oe]+oF/2;S[oe+1]=S[oe+1]+oN/2;
S[oe+6]=S[oe+6]-oF/2;S[oe+7]=S[oe+7]-oN/2}for(var D=0;D<4;D++)for(var O=1;O<3;O++){var X=2*(4*D+O),l=S[X],f=S[X+1],k=X+(O==1?-2:2),H=S[k],q=S[k+1],F=2*D/3;
S[X]=H+F*l;S[X+1]=q+F*f}for(var D=1;D<3;D++)for(var O=1;O<3;O++){var X=2*(4*D+O),l=S[X],f=S[X+1],ox=D==1?-8:-16,c=D==1?16:8,oG=S[X+ox],or=S[X+ox+1],Yf=S[X+c],oL=S[X+c+1],F=D/3;
l=(1-F)*oG+F*Yf;f=(1-F)*or+F*oL;S[X]=l;S[X+1]=f}x.Y.Yw(P,S,S,G)};x.yw.fWg=function(S,G){return(4-S)*(1/3)};
x.yw.fWf=function(S,G){return(1-S)*(3-S)/(3*G)};x.tj={};x.tj.hZ=function(S,G,j,z,O,i,C,M,D,X){var l=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],f=1/D,F=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],$=new Uint32Array(6);
for(var _=0;_<M;_++){for(var P=0;P<C;P++){var k=3*(_*C+P),H=_+i,q=P+O;$[0]=0;$[1]=0;$[2]=0;$[3]=0;$[4]=0;
$[5]=0;for(var R=0;R<16;R+=2){var I=q+F[R],b=H+F[R+1],Y=I-D*~~(I*f),m=b-D*~~(b*f),h=X[m*D+Y];$[h]+=S[b*G+I];
$[h+3]++}var I=q,b=H,Y=I-D*~~(I*f),m=b-D*~~(b*f),h=X[m*D+Y];$[h]=S[H*G+q];$[h+3]=1;z[k]=$[0]*l[$[3]];
z[k+1]=$[1]*l[$[4]];z[k+2]=$[2]*l[$[5]]}}};x.tj._p=function(S,G,j){for(var z=0;z<j;z+=2)S[G+z]=S[G+z+1];
G=G+j;for(var z=0;z<j;z+=2)S[G+z+1]=S[G+z]};x.tj._z=function(S,G,j,z){for(var O=0;O<z;O+=2){var i=G+O*j;
S[i]=S[i+j];S[i+j+1]=S[i+1]}};x.tj._W=function(S,G,j,O,i,C){var M=O[i],D=O[i+1],X=O[C],l=O[C+1],f=D+X>>>1;
S[G]=S[G+3]=S[j]=S[j+3]=M;S[G+1]=f;S[G+4]=D;S[j+1]=X;S[j+4]=f;S[G+2]=S[G+5]=S[j+2]=S[j+5]=l};x.tj.fWM=function(S,G,j,z,O,i){var C=i*3;
for(var M=0;M<i;M+=2){var D=G+M,X=O+M*3;x.tj._W(z,X,X+C,S,D,D+j)}};x.tj.fWa=function(S,G,j,z,O,i,C){var M=i*3;
for(var D=0;D<C;D+=2){var X=G+D*j,l=O+D*i*3;x.tj._W(z,l,l+M,S,X,X+j)}};x.tj._s=function(S,G,j){var z=S[G-j-j],O=S[G-j],i=S[G-2],C=S[G-1],M=S[G],D=S[G+1],X=S[G+2],l=S[G+j],f=S[G+j+j],F=Math.abs(O-l),$=Math.abs(C-D),_=Math.abs(M-z)*2+F,P=Math.abs(M-X)*2+$,k=Math.abs(M-i)*2+$,H=Math.abs(M-f)*2+F,q=Math.min(_,Math.min(P,Math.min(k,H)));
if(q==_)return O*3+l+M-z>>2;if(q==P)return D*3+C+M-X>>2;if(q==k)return C*3+D+M-i>>2;return l*3+O+M-f>>2};
x.tj.YI=function(S,G,j,z,O){if(S<G&&G<j||S>G&&G>j)return~~(.5+z+(O-z)*(G-S)/(j-S));else return(z+O>>1)+(G+G-S-j>>2)};
x.tj._m=function(S,G,j,z){var O=G[j-z-1],i=G[j-z+1],C=G[j],M=G[j+z-1],D=G[j+z+1],X=S[j-z-1],l=S[j-z+1],f=S[j],F=S[j+z-1],$=S[j+z+1],_=Math.abs(l-F)+Math.abs(S[j-z-z+2]-f)+Math.abs(f-S[j+z+z-2])+Math.abs(i-C)+Math.abs(C-M),P=Math.abs(X-$)+Math.abs(S[j-z-z-2]-f)+Math.abs(f-S[j+z+z+2])+Math.abs(O-C)+Math.abs(C-D);
if(_<P)return x.tj.YI(i,C,M,l,F);else return x.tj.YI(O,C,D,X,$)};x.tj.na=function(S,G,j,z,O,i){S[G+0]=j[O];
S[G+1]=z[O];S[G+2]=x.tj._m(j,z,O,i)};x.tj.np=function(S,G,j,z,O,i){var C=z[O];S[G+0]=x.tj.YI(z[O-1],C,z[O+1],j[O-1],j[O+1]);
S[G+1]=C;S[G+2]=x.tj.YI(z[O-i],C,z[O+i],j[O-i],j[O+i])};x.tj.nW=function(S,G,j,z,O,i){var C=z[O];S[G+0]=x.tj.YI(z[O-i],C,z[O+i],j[O-i],j[O+i]);
S[G+1]=C;S[G+2]=x.tj.YI(z[O-1],C,z[O+1],j[O-1],j[O+1])};x.tj.nm=function(S,G,j,z,O,i){S[G+0]=x.tj._m(j,z,O,i);
S[G+1]=z[O];S[G+2]=j[O]};x.tj.fWz=function(S,G,j,z,O,i,C,M,D){var X=Date.now(),l=2,f=G-2,F=2;if((O&1)==1){l++;
f--}var $=j-2;if((i&1)==1){F++;$--}if(D==1||D==3){l++;f--}var _=S.slice(0);x.tj._p(_,0,G);x.tj._z(_,0,G,j);
x.tj._z(_,G-2,G,j);x.tj._p(_,(j-2)*G,G);for(var P=F;P<$;P+=2)for(var k=l;k<f;k+=2){var H=P*G+k,q=x.tj._s(_,H,G),R=x.tj._s(_,H+G+1,G);
_[H]=Math.max(0,q);_[H+G+1]=Math.max(0,R)}var I=C,b=M;if(i+M==j){b-=2;x.tj.fWM(S,(j-2)*G+O,G,z,(M-2)*C*3,C)}if(O+C==G){I-=2;
x.tj.fWa(S,i*G+O+C-2,G,z,(C-2)*3,C,M)}if(D==0)for(var P=0;P<b;P+=2)for(var k=0;k<I;k+=2){var Y=(P+i)*G+k+O,m=(P*C+k)*3;
x.tj.na(z,m,S,_,Y,G);x.tj.np(z,m+3,S,_,Y+1,G);Y+=G;m+=3*C;x.tj.nW(z,m,S,_,Y,G);x.tj.nm(z,m+3,S,_,Y+1,G)}else if(D==1)for(var P=0;
P<b;P+=2)for(var k=0;k<I;k+=2){var Y=(P+i)*G+k+O,m=(P*C+k)*3;x.tj.np(z,m,S,_,Y,G);x.tj.na(z,m+3,S,_,Y+1,G);
Y+=G;m+=3*C;x.tj.nm(z,m,S,_,Y,G);x.tj.nW(z,m+3,S,_,Y+1,G)}else if(D==2)for(var P=0;P<b;P+=2)for(var k=0;
k<I;k+=2){var Y=(P+i)*G+k+O,m=(P*C+k)*3;x.tj.nm(z,m,S,_,Y,G);x.tj.nW(z,m+3,S,_,Y+1,G);Y+=G;m+=3*C;x.tj.np(z,m,S,_,Y,G);
x.tj.na(z,m+3,S,_,Y+1,G)}else if(D==3)for(var P=0;P<b;P+=2)for(var k=0;k<I;k+=2){var Y=(P+i)*G+k+O,m=(P*C+k)*3;
x.tj.nW(z,m,S,_,Y,G);x.tj.nm(z,m+3,S,_,Y+1,G);Y+=G;m+=3*C;x.tj.na(z,m,S,_,Y,G);x.tj.np(z,m+3,S,_,Y+1,G)}};
x.raw={};x.raw.fWV=function(S){var G=S.width,j=S.height,z=Date.now(),O=x.raw.fsM(S),i=0,C=0;x.raw.Ch(2,S,O,G,j);
var M=G,D=j;if(S.t50829){var X=S.t50829;i=X[1];C=X[0];M=X[3];D=X[2]}if(S.t50719){var l=S.t50719;i+=l[0]>>1<<1;
C+=l[1]>>1<<1}if(S.t50720){var f=S.t50720;M=i+f[0];D=C+f[1]}var F=M-i,$=D-C,_=new Float32Array(F*$*3);
if(S.t277[0]==1){var P=S.t33421;if(P.length!=2||P[0]!=2||P[1]!=2){console.log("Unknown CFA pattern size",P);
x.tj.hZ(O,G,j,_,i,C,F,$,P[0],S.t33422)}else{var k=S.t33422.join(","),H=0;if(k=="0,1,1,2")H=0;else if(k=="1,0,2,1")H=1;
else if(k=="2,1,1,0")H=2;else if(k=="1,2,0,1")H=3;else throw"Unknown CFA pattern "+k;if((F&1)!=0||($&1)!=0)throw"e";
x.tj.fWz(O,G,j,_,i,C,F,$,H)}}else{for(var q=0;q<$;q++)for(var R=0;R<F;R++){var I=((q+C)*G+R+i)*3,b=(q*F+R)*3;
_[b+0]=O[I+0];_[b+1]=O[I+1];_[b+2]=O[I+2]}}var Y=_,m=_.length,h=x.raw.fsc(S),e=1/h;for(var s=0;s<m;s+=3){_[s]=Math.min(1,Y[s]*e);
_[s+1]=Math.min(1,Y[s+1]*e);_[s+2]=Math.min(1,Y[s+2]*e)}x.raw.Ch(3,S,_,F,$);var y=S.Ca,T=F,K=$;if(y==1){}else{if(y==3){T=F;
K=$}else if(y==6){T=$;K=F}else if(y==8){T=$;K=F}else throw"unknown orientation "+y;var B=_.slice(0),b=0;
for(var q=0;q<K;q++)for(var R=0;R<T;R++){var a=R,u=q;if(y==3){a=F-1-R;u=$-1-q}else if(y==6){u=$-1-R;
a=q}else if(y==8){a=F-1-q;u=R}var I=(u*F+a)*3;_[b]=B[I];_[b+1]=B[I+1];_[b+2]=B[I+2];b+=3}}return{hC:_,Bt:T,RP:K}};
x.raw.Cs=function(S,G,j,z){var O=S.hC,i=Math.round(O.length/3),C=Mk.fmU(z[0],z[1]),M=x.raw.fmm(j,C),D=x.Mt.multiply(x.Mt.Yg,M),X=Math.pow(2,z[2]+(j.t50730?j.t50730[0]:0));
D=x.Mt.multiply(D,x.Mt.Ob(X,X,X));var l=j.t50728,f=[l[1]/l[0],l[2]/l[0],l[0]/l[1],l[2]/l[1],l[0]/l[2],l[1]/l[2]],F=new Float64Array(1e3);
for(var $=0;$<1e3;$++){var _=$*(1/999);_=$==999?1:x.XZ($*(1/999));_=x.raw.mV.fsf(_,z[3]/100);F[$]=_}var P=Date.now();
for(var $=0;$<i;$++){var k=$<<2,H=k-$,q=O[H],R=O[H+1],I=O[H+2];if(R>=.92){var b=Math.min(q,I);if(b==q){R=Math.max(R,f[0]*q);
I=Math.max(I,f[1]*q)}else{q=Math.max(q,f[4]*I);R=Math.max(R,f[5]*I)}}var Y=D[0]*q+D[1]*R+D[2]*I,m=D[4]*q+D[5]*R+D[6]*I,h=D[8]*q+D[9]*R+D[10]*I;
if(Y<0)Y=0;else if(Y>1)Y=1;if(m<0)m=0;else if(m>1)m=1;if(h<0)h=0;else if(h>1)h=1;Y=F[~~(Y*999)];m=F[~~(m*999)];
h=F[~~(h*999)];G[k]=~~(.5+Y*255);G[k+1]=~~(.5+m*255);G[k+2]=~~(.5+h*255)}};x.raw.mV={fsf:function(S,G){var j=.5-.5*Math.cos(S*3.2),z=0;
if(G>0){var O=S*.2;z=O*S+(1-O)*j}else{var i=Math.pow(S,.33);z=(1-i)*i+i*(S+(S-j)*.63)}var C=Math.abs(G);
return C*z+(1-C)*S},fzX:function(S,G){var j=0;if(G>0){var z=S*1.47,O=Math.pow(S,2.4);j=Math.min(1,O*S+(1-O)*z)}else{var z=S*.68,O=Math.pow(S,3);
j=O*S*.5+(1-O)*z}var i=Math.abs(G);return i*j+(1-i)*S},fzM:function(S,G){var j=0;if(G>0){var z=Math.pow(S,.3),O=S;
j=(1-S)*z+S*O}else{var z=Math.pow(S,2.5),i=S,O=S;j=Math.min(1,(1-i)*z+i*O)}var C=Math.abs(G);return C*j+(1-C)*S}};
x.raw.fsM=function(S){var G=S.width,j=S.height,z=G*j*S.t277,O=new Uint16Array(z),i=null,C=0;x.raw.fsj(S,O);
x.raw.Ch(1,S,O,G,j);if(S.t50712){i=S.t50712;C=i.length-1;if(i[C]>65535)throw"too big values"}var M=x.raw._T(S),D=x.raw._Z(S);
if(i==null)for(var X=0;X<z;X++)O[X]=Math.max(0,O[X]-M);else for(var X=0;X<z;X++){var l=O[X];if(l>C)l=C;
l=i[l];O[X]=Math.max(0,l-M)}return O};x.raw._T=function(S){var G=S.t50714,j=G?G[0]:0,z=S.t50715,O=S.t50716;
if(z)j+=z[0];if(O)j+=O[0];return Math.round(j)};x.raw._Z=function(S){var G=null,j=0;if(S.t50712){G=S.t50712;
j=G.length-1}var z=S.t50717[0];if(G)z=Math.min(z,G[j]);return z};x.raw.fsc=function(S){var G=x.raw._T(S),j=x.raw._Z(S);
return j-G};x.raw.fsj=function(S,G){var j=G.length,z=S.data,O=S.t258[0];if(O!=16&&O!=14&&O!=12&&O!=10&&O!=8)throw"Unsupported Bits Per Sample:"+O;
O=Math.round(z.length*8/j);if(O==16&&S.isLE){x.Fj(z,G);return}for(var i=0;i<j;i+=2){var C=0,M=0,D=0;
if(O==16){C=i<<1;M=z[C]<<8|z[C+1];D=z[C+2]<<8|z[C+3]}else if(O==14){var X=i*14,l=X>>>3,f=z[l]<<24|z[l+1]<<16|z[l+2]<<8|z[l+3];
if((X&7)==0){M=f>>>18;D=f>>>4&16383}else{M=f>>>14&16383;D=f&16383}}else if(O==12){C=i+(i>>>1);M=z[C]<<4|z[C+1]>>4;
D=(z[C+1]&15)<<8|z[C+2]}else if(O==10){var X=i*10,l=X>>>3;if((X&7)==0){M=(z[l]<<2|z[l+1]>>6)&1023;D=(z[l+1]<<4|z[l+2]>>4)&1023}else{M=(z[l]<<6|z[l+1]>>2)&1023;
D=(z[l+1]<<8|z[l+2]>>0)&1023}}else if(O==8){C=i;M=z[C];D=z[C+1]}G[i]=M;G[i+1]=D}};x.raw.Ch=function(S,G,j,z,O){var i=G["t"+[51008,51009,51022][S-1]],l=0;
if(i==null)return;var C=z*O,M=W.O,D=W.Xr,X=new Uint8Array(i),f=W.O(X,l);l+=4;for(var F=0;F<f;F++){var $=M(X,l);
l+=4;var _=M(X,l);l+=4;var P=M(X,l);l+=4;var k=M(X,l);l+=4;if(!1){}else if($==1&&S==3){var H=l,q=M(X,H);
H+=4;var R=D(X,H);H+=8;var I=D(X,H);H+=8;var b=D(X,H);H+=8;var Y=D(X,H);H+=8;var m=D(X,H);H+=8;var h=D(X,H);
H+=8;H+=(q-1)*8*6;var e=D(X,H);H+=8;var s=D(X,H);H+=8;var y=e*z,T=s*O,K=Math.max(y,z-y),B=Math.max(T,O-T),a=Math.sqrt(K*K+B*B),u=1/a,r=j.slice(0);
for(var v=0;v<O;v++)for(var o=0;o<z;o++){var V=(o+.5-y)*u,J=(v+.5-T)*u,d=V*V+J*J,oU=R+I*d+b*(d*d)+Y*(d*d)*d,p=m*(2*V*J)+h*(d+2*V*V),N=h*(2*V*J)+m*(d+2*J*J),ob=~~(y+a*(oU*V+p)),oe=~~(T+a*(oU*J+N)),oF=(oe*z+ob)*3,oN=(v*z+o)*3;
j[oN]=r[oF];j[oN+1]=r[oF+1];j[oN+2]=r[oF+2]}}else if($==3&&S==3){var H=l,YM=D(X,H);H+=8;var oE=D(X,H);
H+=8;var ox=D(X,H);H+=8;var c=D(X,H);H+=8;var oG=D(X,H);H+=8;var e=D(X,H);H+=8;var s=D(X,H);H+=8;var y=e*z,T=s*O,K=Math.max(y,z-y),B=Math.max(T,O-T),a=Math.sqrt(K*K+B*B),u=1/a;
for(var v=0;v<O;v++)for(var o=0;o<z;o++){var V=(o+.5-y)*u,J=(v+.5-T)*u,d=V*V+J*J,or=1+(YM+(oE+(ox+(c+oG*d)*d)*d)*d)*d,oN=(v*z+o)*3;
j[oN]=or*j[oN];j[oN+1]=or*j[oN+1];j[oN+2]=or*j[oN+2]}}else if($==4&&S==1){var H=l,Yf=M(X,H);H+=4;var oL=M(X,H);
H+=4;for(var YX=0;YX<C;YX++)if(j[YX]==Yf)j[YX]=j[YX-2]+j[YX+2]>>1}else if($==5&&S==1){var H=l,YC=M(X,H);
H+=4;var Yp=M(X,H);H+=4;var YZ=M(X,H);H+=4;for(var YX=0;YX<Yp;YX++){var Yz=M(X,H);H+=4;var YT=M(X,H);
H+=4;var YX=Yz*z+YT;j[YX]=j[YX-2]+j[YX+2]>>1}}else if($==7&&S==1){var H=l,Yg=W.QX(X,H);H+=16;var YY=M(X,H);
H+=4;var Yo=M(X,H);H+=4;var Ya=M(X,H),YQ=M(X,H+4);H+=8;var YK=M(X,H);H+=4;var fa=new Uint16Array(YK);
for(var YX=0;YX<YK;YX++)fa[YX]=W.GP(X,H+2*YX);var YO=Yg.o,Yw=Yg.i;for(var v=0;v<Yw;v+=Ya)for(var o=0;
o<YO;o+=YQ){var YX=(Yg.y+v)*z+(Yg.x+o);j[YX]=fa[j[YX]]}}else if($==9&&S==2){var H=l,Yg=W.QX(X,H),YG=!0;
H+=16;var YY=M(X,H);H+=4;var Yo=M(X,H);H+=4;var Ya=M(X,H),YQ=M(X,H+4);H+=8;var YV=M(X,H),Yu=M(X,H+4);
H+=8;var YJ=D(X,H),fd=D(X,H+8);H+=16;var Yq=D(X,H),YU=D(X,H+8);H+=16;var YE=M(X,H);H+=4;if(YE!=1)throw"more than one map plane";
var Yc=YV*Yu,fJ=new Float32Array(Yc);for(var YB=0;YB<Yc;YB++)fJ[YB]=W.dk(X,H+YB*4);for(var YB=0;YB<Yc;
YB++)if(fJ[YB]!=1)YG=!1;if(!YG){var YO=Yg.o,Yw=Yg.i,Yr=.9999*(Yu-1)/YO,Yb=.9999*(YV-1)/Yw;for(var v=0;
v<Yw;v+=Ya)for(var o=0;o<YO;o+=YQ){var YX=(Yg.y+v)*z+(Yg.x+o),Y$=o*Yr,CE=v*Yb,My=Math.floor(Y$),Cg=Math.floor(CE),CP=Y$-My,fO=CE-Cg,oN=Cg*Yu+My,XT=fJ[oN]*(1-CP)+fJ[oN+1]*CP,Mc=fJ[oN+Yu]*(1-CP)+fJ[oN+1+Yu]*CP,Cj=XT*(1-fO)+Mc*fO;
j[YX]=~~(j[YX]*Cj+.5)}}}else console.log("Unknown opcode "+$+" in OpcodeList"+S+". Length: "+k);l+=k}};
x.raw.fmm=function(S,G){var j=Mk._l(G),z=x.raw._u(S,G),O=x.Mt.uT(z),i=Mk.fQy(j,Mk._l(Mk.fmi)),C=x.Mt.multiply(i,O);
return C};x.raw.fmI=function(S){var G=S.t50728.slice(0),z=1;G.push(0);var j={x:.34567,y:.3585};do{var O=x.Mt.uT(x.raw._u(S,j)),i=x.Mt.VJ(O,G),C=Mk.fQg(i);
z=Math.abs(j.x-C.x)+Math.abs(j.y-C.y);j=C}while(z>1e-7);return j};x.raw._u=function(S,G){var j=Mk._J(G),z=x.raw.fmB,O=S.t50779?S.t50779[0]:0,i=z(S.t50721,S.t50722,S.t50778[0],O,j.ux),C=z(S.t50723,S.t50724,S.t50778[0],O,j.ux);
C=C||[1,0,0,0,1,0,0,0,1];var M=S.t50727?[S.t50727[0],0,0,0,S.t50727[1],0,0,0,S.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return x.Mt.multiply(x.Mt.tM(M),x.Mt.multiply(x.Mt.tM(C),x.Mt.tM(i)))};x.raw.fmB=function(S,G,j,z,O){if(!S&&!G){return null}else if(S&&!G){return S}else if(O<j){return S}else if(O>z){return G}else{var i=(1/O-1/z)/(1/j-1/z),C=1-i,M=[];
for(var D=0;D<9;D++)M[D]=S[D]*i+G[D]*C;return M}};var Mk={};Mk.fmi={x:.34567,y:.3585};Mk._w=[{H:0,Av:.18006,Gf:.26352,CM:-.24341},{H:10,Av:.18066,Gf:.26589,CM:-.25479},{H:20,Av:.18133,Gf:.26846,CM:-.26876},{H:30,Av:.18208,Gf:.27119,CM:-.28539},{H:40,Av:.18293,Gf:.27407,CM:-.3047},{H:50,Av:.18388,Gf:.27709,CM:-.32675},{H:60,Av:.18494,Gf:.28021,CM:-.35156},{H:70,Av:.18611,Gf:.28342,CM:-.37915},{H:80,Av:.1874,Gf:.28668,CM:-.40955},{H:90,Av:.1888,Gf:.28997,CM:-.44278},{H:100,Av:.19032,Gf:.29326,CM:-.47888},{H:125,Av:.19462,Gf:.30141,CM:-.58204},{H:150,Av:.19962,Gf:.30921,CM:-.70471},{H:175,Av:.20525,Gf:.31647,CM:-.84901},{H:200,Av:.21142,Gf:.32312,CM:-1.0182},{H:225,Av:.21807,Gf:.32909,CM:-1.2168},{H:250,Av:.22511,Gf:.33439,CM:-1.4512},{H:275,Av:.23247,Gf:.33904,CM:-1.7298},{H:300,Av:.2401,Gf:.34308,CM:-2.0637},{H:325,Av:.24792,Gf:.34655,CM:-2.4681},{H:350,Av:.25591,Gf:.34951,CM:-2.9641},{H:375,Av:.264,Gf:.352,CM:-3.5814},{H:400,Av:.27218,Gf:.35407,CM:-4.3633},{H:425,Av:.28039,Gf:.35577,CM:-5.3762},{H:450,Av:.28863,Gf:.35714,CM:-6.7262},{H:475,Av:.29685,Gf:.35823,CM:-8.5955},{H:500,Av:.30505,Gf:.35907,CM:-11.324},{H:525,Av:.3132,Gf:.35968,CM:-15.628},{H:550,Av:.32129,Gf:.36011,CM:-23.325},{H:575,Av:.32931,Gf:.36038,CM:-40.77},{H:600,Av:.33724,Gf:.36051,CM:-116.45}];
Mk._J=function(S){var G=Mk._w,j=2*S.x/(1.5-S.x+6*S.y),z=3*S.y/(1.5-S.x+6*S.y),O=0,i=0,C=0;for(;C<31;
C++){O=z-G[C].Gf-G[C].CM*(j-G[C].Av);if(C>0&&O<0){break}i=O}while(C>=G.length)C--;O/=Math.sqrt(1+G[C].CM*G[C].CM);
i/=Math.sqrt(1+G[C-1].CM*G[C-1].CM);var M=i/(i-O),D=1e6/((G[C].H-G[C-1].H)*M+G[C-1].H),X=j-((G[C].Av-G[C-1].Av)*M+G[C-1].Av),l=z-((G[C].Gf-G[C-1].Gf)*M+G[C-1].Gf),f=Math.sqrt(1+G[C].CM*G[C].CM),F=1/f,$=G[C].CM/f,_=Math.sqrt(1+G[C-1].CM*G[C-1].CM),P=1/_,k=G[C-1].CM/_,H=(F-P)*M+P,q=($-k)*M+k,R=Math.sqrt(H*H+q*q);
H/=R;q/=R;var I=(X*H+l*q)*-3e3;return{ux:D,qc:I}};Mk.fmU=function(S,G){var j=Mk._w,z=1e6/S,O=1;for(;
O<31;O++){if(z<j[O].H){break}}var i=(j[O].H-z)/(j[O].H-j[O-1].H),C=(j[O-1].Av-j[O].Av)*i+j[O].Av,M=(j[O-1].Gf-j[O].Gf)*i+j[O].Gf,D=Math.sqrt(1+j[O].CM*j[O].CM),X=1/D,l=j[O].CM/D,f=Math.sqrt(1+j[O-1].CM*j[O-1].CM),F=1/f,$=j[O-1].CM/f,_=(F-X)*i+X,P=($-l)*i+l,k=Math.sqrt(_*_+P*P);
_/=k;P/=k;C+=_*G/-3e3;M+=P*G/-3e3;return{x:1.5*C/(C-4*M+2),y:M/(C-4*M+2)}};Mk.fQg=function(S){var G=S[0]+S[1]+S[2];
return{x:S[0]/G,y:S[1]/G}};Mk._l=function(S){return{x:S.x/S.y,y:1,yW:(1-S.x-S.y)/S.y}};Mk.fQy=function(S,G){var j=x.Mt.tM([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),z=[S.x,S.y,S.yW,0],O=[G.x,G.y,G.yW,0];
z=x.Mt.VJ(j,z);O=x.Mt.VJ(j,O);var i=O[0]/z[0],C=O[1]/z[1],M=O[2]/z[2],D=x.Mt.tM([i,0,0,0,C,0,0,0,M]),X=x.Mt.uT(j);
return x.Mt.multiply(x.Mt.multiply(X,D),j)};x.raw.wr={};x.raw.CE=function(S){S*=8;var G=[8,10,12,14,16];
for(var j in x.raw.nd){var z=x.raw.nd[j];if(z.length==4)continue;var O=z[4],i=z[5];for(var C=0;C<G.length;
C++)if(O*i*G[C]==S)return[j,G[C]]}return null};x.raw.fQI=function(S){var S=new Uint8Array(S);for(var G=0;
G<S.length;G+=2){var j=S[G];S[G]=S[G+1];S[G+1]=j}var z=x.raw.CE(S.length),O=x.raw.nd[z[0]],i=O[4],C=O[5],M=Math.max(O[2],116),D={data:S,Ca:1,width:i,height:C,t256:[i],t257:[C],t258:[z[1]],t277:[1],t33421:[2,2],t33422:x.raw._y[O[1]],t50706:[1,2,0,0],t50714:[M,M,M,M],t50717:[O[3]],t50721:O[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var G=0;G<9;G++)D.t50721[G]/=1e4;return D};x.raw._y=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];x.raw.normalize=function(S,G){if(S.t50706!=null)return;
var j=S.t258[0],z=S.exifIFD,G=new Uint8Array(G);S.t50706=[1,2,0,0];var O=S.t272[0].trim();if(O.indexOf(" ")==-1)O=S.t271[0].trim()+" "+O;
S.t50708=[O];var i=x.raw.nd,C=i[O.toLowerCase()];if(C==null)for(var M in i)if(O.toLowerCase().startsWith(M))C=i[M];
if(C==null)throw O;var D=C[2];S.t50714=[D,D,D,D];S.t50717=[C[3]];S.t50721=C[0].slice(0);for(var X=0;
X<9;X++)S.t50721[X]=S.t50721[X]*(1/1e4);S.t50723=[1,0,0,0,1,0,0,0,1];if(S.t50728==null)S.t50728=[.35,1,.6];
S.t50778=[17];if(S.t271[0].startsWith("SONY")){var l=UTIF["_bin"+(S.isLE?"LE":"BE")],f=S.t28688,q;if(JSON.stringify(f)!="[8000,10400,12900,14100]")console.log(f);
if(f){var F=[0,0,0,0,0,4095],$=new Uint16Array(16385);for(var X=0;X<4;X++){var _=f[X]>>>2;F[X+1]=_;if(_>4095)throw"e"}for(var X=0;
X<16385;X++)$[X]=X;for(var X=0;X<5;X++)for(var P=F[X]+1;P<=F[X+1];P++)$[P]=$[P-1]+(1<<X);var k=G.length*8<S.width*S.height*j;
if(k)S.t50712=$}else console.log("no curve");var H=S.dngPrvt;if(H){var R=H.t29184[0],I=H.t29185[0],b=(S.isLE?W.zx:W.O)(H.t29217,0),Y=new Uint32Array(G.slice(R,R+(I&4294967292)).buffer),m=new Uint32Array(I>>>2);
x.raw.fQk(Y,m,I>>>2,b);var h=new Uint8Array(R+I);h.set(new Uint8Array(m.buffer),R);var e=[];UTIF._readIFD(l,h,R,e,0,!1);
var s=e.pop(),y=s.t29458;S.t50728=[y[1]/y[0],1,y[1]/y[3]];S.t50730=[.5];var T=s.t29891;S.t50829=[T[1],T[0],T[3],T[2]]}else if(z.makerNote&&z.makerNote.t8208){var q=z.makerNote,K=q.t8208,B=K.length,a=0,u=new Uint8Array(256);
for(var X=249;X<256;X++)u[X]=X;for(var X=0;X<249;X++)u[X*X*X%249]=X;for(var X=0;X<B;X++)K[X]=u[K[X]];
if(B==6604)a=612;else throw"e";var y=[];for(var X=0;X<3;X++)y.push(W.AT(K,a+X*2));console.log(y);S.t50728=[y[1]/y[0],1,y[1]/y[2]]}else console.log("no white balance");
if(S.width*S.height*1.5==S.t279[0]){D=D>>>2;S.t50714=[D,D,D,D];S.t50717=[C[3]>>>2]}}else if(S.t271[0].startsWith("Canon")){var G=S.data,r=G.slice(0),v=S.t50752,o=[],J=0;
if(v==null||v[0]==0&&v[1]==0)o.push(S.width);else{for(var X=0;X<v[0];X++)o.push(v[1]);o.push(v[2])}var V=S.width*2;
for(var d=0;d<o.length;d++){var oU=o[d],p=2*J,N=2*oU;for(var ob=0;ob<S.height;ob+=2){var oe=ob*V+p,oF=S.height*p+(ob>>1)*N*2;
for(var X=0;X<N;X++){G[oe+X]=r[oF+X];G[oe+X+V]=r[oF+X+N]}}J+=oU}var q=z.makerNote;if(q.t16385){var oN=q.t224,ox=0;
if(oN){S.t50719=[oN[5],oN[6]];S.t50720=[oN[7]+1-oN[5],oN[8]+1-oN[6]]}var YM=q.t16385,oE=YM.length;if(oE==582)ox=1;
else if(oE==653)ox=2;else if(oE==796)ox=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(oE)!=-1)ox=4;
else if(oE==5120){ox=5;YM=new Int16Array(YM.slice(0).buffer)}else if(oE==1273||oE==1275)ox=6;else if([1312,1313,1316,1506].indexOf(oE)!=-1)ox=7;
else if([1560,1592,1353,1602].indexOf(oE)!=-1)ox=8;else throw"e"+oE;var c=YM[0],oG=[null,[25,166],[34,286],[63,196],[63],[71,c==-4?333:264],[63,251],[63,c==10?504:728],[63,326]],a=oG[ox][0],or=oG[ox][1];
if(ox==4){if(YM[0]==2)or=231;else if(YM[0]==3)or=231;else if(YM[0]==4)or=231;else if(YM[0]==5)or=231;
else if(YM[0]==6)or=231;else if(YM[0]==7)or=231;else if(YM[0]==9)or=231;else throw"e"}S.t50728=[YM[a+1]/YM[a],1,YM[a+1]/YM[a+3]];
var D=or==null?1024:YM[or];S.t50714=[D,D,D,D]}else{S.t50728=[.4,1,.6]}}else if(S.t271[0].startsWith("NIKON")){var q=z.makerNote,Yf=S.isLE?W.AT:W.Et,Yz=0,YT=0,YQ,YJ=0;
if(q.t61){var oL=q.t61,YX=[];for(var X=0;X<4;X++)YX[X]=oL[X]/Math.pow(2,14-j);S.t50714=YX}if(q.t3585){var YC=q.t3585,X=0,R=22;
while(R<YC.length&&X!=-4){var Yp=W.zx(YC,R);R+=4;R+=14;X=W.zx(YC,R)-4;R+=4;if(Yp==1990472198){if(YC[R]!=0)throw"Flip"}if(Yp==1990472199){var YZ=W.AT(YC,R);
if(YZ==0)S.Ca=1;else if(YZ==270)S.Ca=8;else throw"e "+YZ}R+=X}}if(q.t183){var Yg=q.t183,YY=[];for(var X=0;
X<6;X++)YY.push(Yf(Yg,16+X*2));Yz=YY[0];YT=YY[1]}if(q.t3614){var Yo=q.t3614;Yz=W.zx(Yo,8);YT=W.zx(Yo,12)}if(Yz!=0){if(Yz<YT){var Ya=Yz;
Yz=YT;YT=Ya}var J=S.width-Yz>>>1,ob=S.height-YT>>>1;S.t50829=[ob,J,ob+YT,J+Yz]}if(q.t12)YQ=[1/q.t12[0],1,1/q.t12[1]];
else if(q.t151){var YK=x.raw.fQF(q,151),fa=YK[0],YO=YK[1],Yw=YK[2];if(fa=="0100"&&YO>=80)throw"e";else if(fa=="0103"&&YO>=26){var YV=[];
for(var X=0;X<4;X++)YV.push(Yf(Yw,16+X*2));YQ=[YV[1]/YV[0],1,YV[3]/YV[2]]}else if(fa=="0204"&&YO>=564||fa=="0205"&&YO>=284){var R=fa=="0204"?6:14,YV=[];
for(var X=0;X<4;X++)YV.push(Yf(Yw,R+X*2));YQ=[YV[1]/YV[0],1,YV[1]/YV[3]]}else throw"e"}else console.log("no white balance info");
if(O=="NIKON D1")YQ=[1,1,1];if(YQ)S.t50728=YQ;var Yu=q.t150?q.t150:q.t140;if(Yu){var fd=Yu[YJ++],Yq=Yu[YJ++],Yc;
if(fd==73||Yq==88)YJ+=2110;YJ+=8;var YU=1<<j&32767,YE=Yf(Yu,YJ);YJ+=2;var $=[];if(YE>1)Yc=Math.floor(YU/(YE-1));
if(fd==68&&Yq==32&&Yc>0){for(X=0;X<YE;X++){$[X*Yc]=Yf(Yu,YJ);YJ+=2}for(X=0;X<YU;X++)$[X]=Math.floor(($[X-X%Yc]*(Yc-X%Yc)+$[X-X%Yc+Yc]*(X%Yc))/Yc)}else if(fd!=70&&YE<=16385){YU=YE;
for(var X=0;X<YE;X++)$[X]=Yf(Yu,YJ+2*X);YJ+=2*YE}if($.length!=0)S.t50712=new Uint16Array($)}}else if(O.startsWith("FujiFilm")){}else alert("Unknown camera "+O)};
x.raw.fQk=function(S,G,j,z){if(0==j)return;var O=new Uint32Array(128),i=new Uint8Array(O.buffer),C=127,M=0,D=0;
for(var C=0;C<4;C++)O[C]=z=(z*15625>>>0)*3125+1>>>0;O[3]=O[3]<<1|(O[0]^O[2])>>>31;for(var C=4;C<127;
C++)O[C]=(O[C-4]^O[C-2])<<1|(O[C-3]^O[C-1])>>>31;for(var C=0;C<127;C++)O[C]=W.O(i,C*4);for(;j>0;j--){O[C&127]=O[C+1&127]^O[C+1+64&127];
var X=O[C&127],l=S[M];l^=X;G[D]=l;M++;D++;C++}};x.raw.fQH=function(S,G){var j=W.PP(G,0,4),z=x.raw.fTf;
for(var O=0;O<z.length;O++)if(z[O][0]==S&&j.startsWith(z[O][1])&&(z[O][2]==0||z[O][2]==G.length))return z[O];
throw"e"};x.raw.fQB=function(S){if(S.t29==null)return[];var G=x.raw.fTm,j=x.raw.fTB,z=S.t29[0],O=0,M=0;
for(var i=0;i<z.length;i++){var C=z.charCodeAt(i);O=O*10+(48<=C&&C<=57?C-48:C%10)}var D=S.t167[0];for(var i=0;
i<4;i++)M^=D>>>(i<<3)&255;var X=G[O&255],l=j[M&255];return[X,l,96]};x.raw.fQF=function(S,G){var j=S["t"+G],z=j.length,O=x.raw.fQH(G,j),i=W.PP(j,0,4),C,M=O[4];
if(M==null)C=j.slice(4);else{C=new Uint8Array(z-M);var D=x.raw.fQB(S),X=D[0],l=D[1],f=D[2];for(var F=0;
F<C.length;F++){l=l+X*f++&255;C[F]=j[M++]^l}}return[i,z,C]};x.raw.fTf=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
x.raw.fTm=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
x.raw.fTB=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
x.raw.nd={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
x.ZI={};x.ZI.ZI=function(S,G,j){var z=S.o,O=S.i,i=1/z,C=z*O,M=Date.now(),D=!1;if(D)console.log("expand known",Date.now()-M);
M=Date.now();var X=x.ZI._k(j,z,O,255),l=x.ZI._k(j,z,O,0),f=function(YY,Yo){var Ya=YY<<2,YQ=Yo<<2;return G[Ya]+G[Ya+1]+G[Ya+2]-(G[YQ]+G[YQ+1]+G[YQ+2])};
X.sort(f);l.sort(f);var F=x.S(C),$=x.S(C),_=[],P=new Uint32Array(z*O);x.GC(P,4294967295);for(var k=0;
k<C;k++)if(j[k]==0)$[k]=255;else if(j[k]==255)F[k]=255;else{P[k]=_.length;_.push(k)}if(D)console.log("Unknown:",_.length,X.length,l.length);
if(D)console.log(Date.now()-M);M=Date.now();var H=x.style.YD(F,z,O),q=x.style.YD($,z,O),R=new Float32Array(_.length),I=new Float32Array(_.length),b=new Uint32Array(_.length),Y=new Uint32Array(_.length),m=new Float32Array(_.length);
if(D)console.log("D trf",Date.now()-M);M=Date.now();for(var k=0;k<_.length;k++){var h=_[k],e=~~(h*i),s=h-e*z,y=H[h<<1],T=H[(h<<1)+1];
R[k]=1/Math.sqrt(y*y+T*T);var K=q[h<<1],B=q[(h<<1)+1];I[k]=1/Math.sqrt(K*K+B*B);var a=Math.floor(Math.random()*X.length),u=Math.floor(Math.random()*l.length);
b[k]=a;Y[k]=u;m[k]=x.ZI.oA(h,X[a],l[u],z,i,G,R[k],I[k],1e9)}var r=[-z,-1,1,z],v=x.ZI.oA;for(var o=0;
o<10;o++){var V=Math.pow(.5,o);for(var k=0;k<_.length;k++){var h=_[k],e=~~(h*i),s=h-e*z,J=R[k],d=I[k],oU=m[k],a=b[k],u=Y[k],oN=1;
for(var p=0;p<4;p++){if(p==0&&e==0||p==1&&s==0||p==2&&s==z-1||p==3&&e==O-1)continue;var N=P[h+r[p]];
if(N==4294967295)continue;var ob=b[N],oe=Y[N];if(ob==a&&oe==u)continue;var oF=v(h,X[ob],l[oe],z,i,G,J,d,oU);
if(oF<oU){oU=oF;a=ob;u=oe}}for(var YM=0;YM<1;YM++){var oE=~~(X.length*oN),ox=~~(l.length*oN);oN*=.5;
var c=Math.max(0,a-oE),oG=Math.min(a+oE,X.length-1),or=Math.max(0,u-ox),Yf=Math.min(u+ox,l.length-1),oL=c+~~(Math.random()*(oG-c)),YX=or+~~(Math.random()*(Yf-or)),oF=v(h,X[oL],l[YX],z,i,G,J,d,oU);
if(oF<oU){oU=oF;a=oL;u=YX}}m[k]=oU;b[k]=a;Y[k]=u}}if(D)console.log(Date.now()-M);M=Date.now();var YC=j.slice(0);
for(var k=0;k<_.length;k++)YC[_[k]]=~~(.5+255*x.ZI.alpha(_[k],X[b[k]],l[Y[k]],G));YC=x.EF.fTb(YC,G,new Q(0,0,z,O),16,.01*.01);
if(D)console.log("guided filter",Date.now()-M);M=Date.now();for(var k=0;k<C;k++)if(j[k]==255||j[k]==0)YC[k]=j[k];
var Yp=G.slice(0);for(var k=0;k<_.length;k++){var YZ=_[k],a=X[b[k]],oU=m[k],Yz=YZ<<2,YT=YC[YZ],Yg=(YT>=250?YZ:a)<<2;
Yp[Yz]=G[Yg];Yp[Yz+1]=G[Yg+1];Yp[Yz+2]=G[Yg+2]}x.Cy(YC,Yp,3);if(D)console.log(Date.now()-M);M=Date.now();
return Yp};x.ZI.oA=function(S,G,j,z,O,i,C,M,D){var X=~~(S*O),l=S-X*z,f=~~(G*O),F=G-f*z,$=~~(j*O),_=j-$*z,P=Math.sqrt((l-F)*(l-F)+(X-f)*(X-f))*C,k=Math.sqrt((l-_)*(l-_)+(X-$)*(X-$))*M,K=0;
if(P+k>=D)return 1e9;var H=S<<2,q=G<<2,R=j<<2,I=i[H],b=i[H+1],Y=i[H+2],m=i[q],h=i[q+1],e=i[q+2],s=i[R],y=i[R+1],T=i[R+2];
if(m!=s||h!=y||e!=T){var B=m-s,a=h-y,u=e-T,r=I-s,v=b-y,o=Y-T,V=(r*B+v*a+o*u)/(B*B+a*a+u*u);V=Math.max(0,Math.min(1,V));
var J=I-(V*m+(1-V)*s),d=b-(V*h+(1-V)*y),oU=Y-(V*e+(1-V)*T);K=Math.sqrt(J*J+d*d+oU*oU)}return K+P+k};
x.ZI.alpha=function(S,G,j,z){var O=S<<2,i=G<<2,C=j<<2,M=z[O],D=z[O+1],X=z[O+2],l=z[i],f=z[i+1],F=z[i+2],$=z[C],_=z[C+1],P=z[C+2];
if(l==$&&f==_&&F==P)return 1;var k=l-$,H=f-_,q=F-P,R=M-$,I=D-_,b=X-P,Y=(R*k+I*H+b*q)/(k*k+H*H+q*q);return Math.max(0,Math.min(1,Y))};
x.ZI.fzp=function(S){};x.ZI._k=function(S,G,j,z){var O=[];for(var i=0;i<j;i++)for(var C=0;C<G;C++){var M=i*G+C;
if(S[M]==z&&(i!=0&&S[M-G]!=z&&S[M-G]!=255-z||i>1&&S[M-G-G]!=z&&S[M-G-G]!=255-z||i!=j-1&&S[M+G]!=z&&S[M+G]!=255-z||i<j-2&&S[M+G+G]!=z&&S[M+G+G]!=255-z||C!=0&&S[M-1]!=z&&S[M-1]!=255-z||C>1&&S[M-1-1]!=z&&S[M-1-1]!=255-z||C!=G-1&&S[M+1]!=z&&S[M+1]!=255-z||C<G-2&&S[M+1+1]!=z&&S[M+1+1]!=255-z))O.push(M)}return O};
x.ZI.fzz=function(S,G,j,z){var O=S.slice(0),i=Math.round((j+z)/400);for(var C=0;C<z;C++)for(var M=0;
M<j;M++){var D=C*j+M;if(S[D]==0||S[D]==255)continue;var X=G[D<<2],l=G[(D<<2)+1],f=G[(D<<2)+2],F=Math.max(0,M-i),$=Math.min(M+i+1,j),_=Math.max(0,C-i),P=Math.min(C+i+1,z);
for(var k=_;k<P;k++)for(var H=F;H<$;H++){var q=k*j+H;if(S[q]==0||S[q]==255){var R=G[q<<2]-X,I=G[(q<<2)+1]-l,b=G[(q<<2)+2]-f;
if(R*R+I*I+b*b<15){O[D]=S[q];k=P;break}}}}return O};x.EF={};x.EF.fzk=function(S,G,j,z,O){var i=j.o,C=j.i,M=i*C,D=x.EF._H,X=x.S(M*4),l;
x.GC(X,4294967295);var f=j,F=S,$=G,_=z;x.Cy(S,X,0);l=x.LR(X,j);l=x.LR(l.hC,l.rect);f=l.rect;_=z>>>2;
console.log(f,_);F=x.S(f.h());x.tb(l.hC,F,0);x.Cy(G,X,0);l=x.LR(X,j);l=x.LR(l.hC,l.rect);$=x.S(f.h());
x.tb(l.hC,$,0);var P=x.EF.fTh(F,$,f,_,O),k=P[0],H=P[1],q=new Q(0,0,f.o*2,f.i*2);k=D(k,f,q,!0);k=D(k,q,j,!0);
H=D(H,f,q,!0);H=D(H,q,j,!0);var R=x.S(M);for(var I=0;I<M;I++)R[I]=Math.max(0,Math.min(255,Math.floor(.5+(k[I]*G[I]+255*H[I]))));
return R};x.EF._H=function(S,G,j,z){var O=j.o,i=j.i,C=G.o,M=G.i,D=x.EF.oj,X=new Float32Array(O*i);for(var l=0;
l<M;l++){var f=(l+l)*O;for(var F=0;F<C;F++){if(!0||F==0||l==0||F==C-1||l==M-1)X[f]=X[f+1]=X[f+O]=X[f+O+1]=S[l*C+F];
else{X[f]=D(F+.25,l+.25,S,C,M);X[f+1]=D(F+.75,l+.25,S,C,M);X[f+O]=D(F+.25,l+.75,S,C,M);X[f+O+1]=D(F+.75,l+.75,S,C,M)}f+=2}}return X};
x.EF.oj=function(S,G,j,z,O){S-=.499999;G-=.499999;var i=Math.floor(S),C=Math.floor(G),M=C*z+i,D=S-i,X=G-C,l=(1-X)*(1-D),f=(1-X)*D,F=X*(1-D),$=X*D;
if(j[M]==null||j[M+z+1]==null){console.log(S,G,z,O);throw"e"}return l*j[M+0]+f*j[M+1]+F*j[M+z+0]+$*j[M+z+1]};
x.EF.fTh=function(S,G,j,z,O){var i=j.o,C=j.i,M=i*C,D=x.EF._B,X=x.EF.S,l=x.blur.oY,f=x.EF.Cx,G=D(G),S=D(S),F=X(M);
l(G,F,j,z);var $=X(M);l(S,$,j,z);var _=X(M);f(G,G,_);l(_,_,j,z);var P=X(M);f(G,S,P);l(P,P,j,z);var k=X(M),H=X(M);
for(var q=0;q<M;q++){var R=F[q],I=$[q],b=_[q]-R*R,Y=P[q]-R*I,m=Y/(b+O),h=I-m*R;k[q]=m;H[q]=h}var e=X(M);
l(k,e,j,z);var s=X(M);l(H,s,j,z);return[e,s]};x.EF.fTb=function(S,G,j,z,O){var i=j.o,C=j.i,M=i*C,D=x.EF._H,X=Date.now(),l=!1,f=j,F=S,$=G,_=z;
f=new Q(0,0,i>>>2,C>>>2);_=z>>>2;F=x.EF.fZf(S,i,C);$=x.EF.fZm(G,i,C);if(l)console.log(Date.now()-X);
X=Date.now();var P=x.EF.fZn(F,$,f,_,O),k=P[0],H=P[1],q=P[2],R=P[3];if(l)console.log(Date.now()-X);X=Date.now();
var I=x.S(M);for(var b=0;b<C;b++)for(var Y=0;Y<i;Y++){var m=b*i+Y,h=(b>>>2)*(i>>>2)+(Y>>>2),e=m<<2,s=k[h]*G[e]+H[h]*G[e+1]+q[h]*G[e+2]+R[h]*255;
I[m]=Math.max(0,Math.min(255,~~(.5+s)))}if(l)console.log(Date.now()-X);X=Date.now();return I};x.EF.fZf=function(S,G,j){var z=G>>>2,O=j>>>2,i=x.S(G*j);
for(var C=0;C<O;C++)for(var M=0;M<z;M++)i[C*z+M]=S[C*G+M<<2];return i};x.EF.fZm=function(S,G,j){var z=G>>>2,O=j>>>2,i=x.S(G*j*4);
for(var C=0;C<O;C++)for(var M=0;M<z;M++){var D=C*z+M<<2,X=C*G+M<<4;i[D]=S[X];i[D+1]=S[X+1];i[D+2]=S[X+2];
i[D+3]=S[X+3]}return i};x.EF.fZn=function(S,G,j,z,O){var i=j.o,C=j.i,M=i*C,D=x.EF._B,X=x.EF.S,l=x.blur.oY,f=x.EF.Cx,S=D(S),F=new x.XL(i*C);
x.fy(G,F);var G=[D(F.H),D(F.X),D(F.C)],$=x.EF.fuM(S,G,j,z,O),_=X(M);l(S,_,j,z);var P=X(M);f(G[0],S,P);
l(P,P,j,z);var k=X(M);f(G[1],S,k);l(k,k,j,z);var H=X(M);f(G[2],S,H);l(H,H,j,z);var q=X(M),R=X(M),I=X(M),b=X(M);
for(var Y=0;Y<M;Y++){var m=_[Y],h=$.ur[Y],e=$.wf[Y],s=$.wz[Y],y=P[Y]-h*m,T=k[Y]-e*m,K=H[Y]-s*m;q[Y]=$.fCb[Y]*y+$.wK[Y]*T+$.wm[Y]*K;
R[Y]=$.wK[Y]*y+$.fSU[Y]*T+$.wZ[Y]*K;I[Y]=$.wm[Y]*y+$.wZ[Y]*T+$.fPJ[Y]*K;b[Y]=m-q[Y]*h-R[Y]*e-I[Y]*s}l(q,q,j,z);
l(R,R,j,z);l(I,I,j,z);l(b,b,j,z);return[q,R,I,b]};x.EF.fuM=function(S,G,j,z,O){var i=j.o,C=j.i,M=i*C,D=x.EF.S,X=x.blur.oY,l=x.EF.Cx,f={};
f.ur=D(M);X(G[0],f.ur,j,z);f.wf=D(M);X(G[1],f.wf,j,z);f.wz=D(M);X(G[2],f.wz,j,z);var F=D(M);l(G[0],G[0],F);
X(F,F,j,z);var $=D(M);l(G[0],G[1],$);X($,$,j,z);var _=D(M);l(G[0],G[2],_);X(_,_,j,z);var P=D(M);l(G[1],G[1],P);
X(P,P,j,z);var k=D(M);l(G[1],G[2],k);X(k,k,j,z);var H=D(M);l(G[2],G[2],H);X(H,H,j,z);f.fCb=F;f.wK=$;
f.wm=_;f.fSU=P;f.wZ=k;f.fPJ=H;for(var q=0;q<M;q++){var R=f.ur[q],I=f.wf[q],b=f.wz[q],Y=F[q]-R*R+O,m=$[q]-R*I,h=_[q]-R*b,e=P[q]-I*I+O,s=k[q]-I*b,y=H[q]-b*b+O,T=e*y-s*s,K=s*h-m*y,B=m*s-e*h,a=Y*y-h*h,u=h*m-Y*s,r=Y*e-m*m,v=T*Y+K*m+B*h,o=1/v;
f.fCb[q]=T*o;f.wK[q]=K*o;f.wm[q]=B*o;f.fSU[q]=a*o;f.wZ[q]=u*o;f.fPJ[q]=r*o}return f};x.EF.S=function(S){return new Float32Array(S)};
x.EF._B=function(S){var G=S.length,j=new Float32Array(G);for(var z=0;z<G;z++)j[z]=S[z]*(1/255);return j};
x.EF.Cx=function(S,G,j){for(var z=0;z<S.length;z++)j[z]=S[z]*G[z]};x.tn={};x.tn.fuY=function(S,G,j,z,O){var i=x.tn._R(S.buffer,G,j).Bk,C=Date.now(),M=new Uint32Array(i.length);
for(var D=0;D<i.length;D++)M[D]=i[D].vK;var X=UPNG.quantize.getKDtree(new Uint8Array(M.buffer),z),l=[G,1,-G,-1,G+1,-G+1,-G-1,G-1,G+G,2,-G-G,-2,G+G-1,G+G+1,G+2,-G+2,-G-G+1,-G-G-1,-G-2,G-2,G+G+2,-G-G+2-G-G-2,G+G-2],f=new Uint8Array(G*j),F=S;
for(var $=0;$<j;$++)for(var _=0;_<G;_++){var D=$*G+_<<2,P=F[D]*(1/255),k=F[D+1]*(1/255),H=F[D+2]*(1/255),q=F[D+3]*(1/255),R=x.tn.nc(X,P,k,H,q,O);
if(R==null){var I=[],b=0;while(b<20){var Y=$*G+_+l[b]<<2,m=F[Y]*(1/255),h=F[Y+1]*(1/255),e=F[Y+2]*(1/255),s=F[Y+3]*(1/255),y=x.tn.nc(X,m,h,e,s,.005);
if(y!=null){if(I.indexOf(y)==-1){I.push(y);y.Cq=1}else y.Cq++}b++}I.sort(function(q,H){return H.Cq-q.Cq});
while(I.length!=0&&I[I.length-1].Cq<3)I.pop();if(I.length==0)R=x.tn.nc(X,P,k,H,q,100);else if(I.length==1)R=I[0];
else if(I.length==2){var T=I[0],K=I[1],B=T.est.q,a=K.est.q,u=a[0]-B[0],r=a[1]-B[1],v=a[2]-B[2],o=a[3]-B[3],V=P-B[0],J=k-B[1],d=H-B[2],oU=q-B[3],p=u*u+r*r+v*v+o*o,N=V*V+J*J+d*d+oU*oU,ob=(V*u+J*r+d*v+oU*o)/p,oe=N-ob*ob*p;
if(oe<.5)R=ob<.5?T:K;else{R=x.tn.nc(X,P,k,H,q,100)}}else{var T=I[0],K=I[1],oF=I[2],B=T.est.q,a=K.est.q,oN=oF.est.q,YM=B[0]-oN[0],oE=B[1]-oN[1],ox=B[2]-oN[2],c=B[3]-oN[3],oG=a[0]-oN[0],or=a[1]-oN[1],Yf=a[2]-oN[2],oL=a[3]-oN[3],YX=oN[0]-P,YC=oN[1]-k,Yp=oN[2]-H,YZ=oN[3]-q,Yz=YM*YM+oE*oE+ox*ox+c*c,YT=YM*oG+oE*or+ox*Yf+c*oL,Yg=YX*YM+YC*oE+Yp*ox+YZ*c,YY=YM*oG+oE*or+ox*Yf+c*oL,Yo=oG*oG+or*or+Yf*Yf+oL*oL,Ya=YX*oG+YC*or+Yp*Yf+YZ*oL,YQ=1/(YT*YY-Yz*Yo),ob=(Yo*Yg-Ya*YT)*YQ,YK=(Ya*Yz-Yg*YY)*YQ,fa=1-ob-YK,YO=Math.max(ob,YK,fa);
if(YO==ob)R=T;else if(YO==YK)R=K;else R=oF}}f[D>>2]=R.ind}return{pj:f,Bk:X[1]}};x.tn._R=function(S,G,j){var z=[],O={},i=G-1,C=j-1,M=0,D=new Uint32Array(S),X=[-G-1,-G,-G+1,-1,1,G-1,G,G+1,G+G,2,-G-G,-2,G+G-1,G+G+1,G+2,-G+2,-G-G+1,-G-G-1,-G-2,G-2,G+G+2,-G-G+2-G-G-2,G+G-2];
for(var l=1;l<C;l++)for(var f=1;f<i;f++){var F=l*G+f,$=D[F],_=!0;for(var P=0;P<8;P++)_=_&&D[F+X[P]]==$;
if(_){M++;var k=O[$];if(k==null){O[$]=z.length;z.push({vK:$,JZ:1})}else z[k].JZ++}}return{Bk:z,fsQ:M}};
x.tn.nc=function(S,G,j,z,O,i){var C=UPNG.quantize.getNearest(S[0],G,j,z,O);return x.tn.fuS(C,G,j,z,O)<i?C:null};
x.tn.fuS=function(S,G,j,z,O){var i=S.est.q,C=G-i[0],M=j-i[1],D=z-i[2],X=O-i[3];return C*C+M*M+D*D+X*X};
x.tn.fzH=function(S,G,j,z){var O=x.tn.fua(S,G,j,z),i=O.pj,C=O.Bk,M=O.fsk,D=UPNG.quantize.getKDtree(new Uint8Array(M.buffer.slice(0)),200),X=[];
for(var l=0;l<C.length;l++){var f=C[l].sW,F=f[0],$=f[1],_=f[2],P=f[3];if(Math.min(F,$,_,P)<0)throw"e";
var k=UPNG.quantize.getNearest(D[0],F/255,$/255,_/255,P/255);X.push(D[1].indexOf(k))}for(var l=0;l<G*j;
l++)i[l]=X[i[l]];return{pj:i,Bk:D[1]}};x.tn.fua=function(S,G,j,z){var O=G*j,i=2*O,C=x.tn.fuK(S,G,j),M=65535+1,D=new Uint32Array(M),f=0;
for(var X=0;X<i;X++)D[C[X]]++;var l=new Uint32Array(M);for(var X=0;X<M;X++){l[X]=f;f+=D[X]}var F=new Uint32Array(i);
for(var X=0;X<i;X++){var $=C[X];F[l[$]]=X;l[$]++}var _=new UnionFind(O),P=new Uint16Array(O),k=new Uint32Array(O);
for(var X=0;X<O;X++)k[X]=1;var H=O,q=1e5/(z*10);for(var R=0;R<i;R++){var I=F[R],b=C[I];if(b==65535)continue;
var X=I>>1,Y=X+((I&1)==0?1:G),m=_.find(X),h=_.find(Y),e=Math.min(P[m]+q/Math.sqrt(k[m]),P[h]+q/Math.sqrt(k[h]));
if(m!=h&&b<=e){_.link(X,Y);H--;var s=_.find(X);k[s]=k[m]+k[h];P[s]=b}}var y=[],T={},K=new Uint16Array(O);
for(var X=0;X<O;X++){var s=_.find(X),B=T[s];if(B==null){T[s]=B=y.length;y.push({JZ:0,sW:[0,0,0,0]})}y[B].JZ++;
for(var Y=0;Y<4;Y++)y[B].sW[Y]+=S[(X<<2)+Y];K[X]=B}var a=new Uint32Array(y.length);for(var X=0;X<y.length;
X++){var B=y[X];for(var Y=0;Y<4;Y++)B.sW[Y]=Math.round(B.sW[Y]/B.JZ);a[X]=B.sW[3]<<24|B.sW[2]<<16|B.sW[1]<<8|B.sW[0]}return{pj:K,Bk:y,fsk:a}};
x.tn.fuK=function(S,G,j){var z=new Uint16Array(G*j*2);for(var O=0;O<j;O++)for(var i=0;i<G;i++){var C=O*G+i;
z[C+C]=i<G-1?x.tn._i(S,C,C+1):65535;z[C+C+1]=O<j-1?x.tn._i(S,C,C+G):65535}return z};x.tn._i=function(S,G,j){var z=G<<2,O=j<<2,i=S[z],C=S[z+1],M=S[z+2],D=S[z+3],X=S[O],l=S[O+1],f=S[O+2],F=S[O+3],$=i-X,_=C-l,P=M-f,k=D-F;
return $*$+_*_+P*P+k*k>>2};var fE=function(){function S(){this.h=0;this.rH=0;this.WK={};this.H_=[];this.qy=1e5;
this.qe=1e5;this.qN=-1;this.qr=-1;this.color=0}function G(O){this.RZ=O;this.vu=new Array(O);this.vK=new Array(O*6);
this.ffu=0;this.Ds=new Array(O*2);this.alpha=new Array(O);this.hv=new Array(O);this.hW=new Array(O)}function j(O,i,C,M){function D(H,q,O,i){return O[i*q+H]}function X(k){var h=O.length;
while(k<h&&O[k]==0)k++;return k<h?k:-1}function l(H,q,h){for(var k=2;k<5;k++){var e=0;for(var s=-k+1;
s<=k-1;s++){e+=D(H+s,q+k-1,O,i)==h?1:-1;e+=D(H+k-1,q+s-1,O,i)==h?1:-1;e+=D(H+s-1,q-k,O,i)==h?1:-1;e+=D(H-k,q+s,O,i)==h?1:-1}if(e>0)return 1;
else if(e<0)return 0}return 0}function f(h,_){var P=new S,H=h,q=_,e=0,s=1,y;P.color=O[_*i+h];P.sign=D(h,_,O,i)==P.color?"+":"-";
while(1){P.H_.push(H,q);if(H>P.qN)P.qN=H;if(H<P.qy)P.qy=H;if(q>P.qr)P.qr=q;if(q<P.qe)P.qe=q;P.rH++;H+=e;
q+=s;P.h-=H*s;if(H==h&&q==_)break;var T=D(H+(e+s-1>>1),q+(s-e-1>>1),O,i)==P.color,K=D(H+(e-s-1>>1),q+(s+e-1>>1),O,i)==P.color;
if(K&&!T){if(M.CU=="right"||M.CU=="black"&&P.sign=="+"||M.CU=="white"&&P.sign=="-"||M.CU=="majority"&&l(H,q,P.color)||M.CU=="minority"&&!l(H,q,P.color)){y=e;
e=-s;s=y}else{y=e;e=s;s=-y}}else if(K){y=e;e=-s;s=y}else if(!T){y=e;e=s;s=-y}}return P}var F=0,$=[];
while(!0){var F=X(F);if(F==-1)break;var _=Math.floor(F/ i),P=f(F-_*i,_);for(var k=0;k<P.H_.length-2;
k+=2){var H=P.H_[k],q=P.H_[k+1],R=q*i+H;if(H==P.H_[k+2]&&q+1==P.H_[k+3]&&O[R]!=0)fE.fill(R,O,i,0)}if(P.h>M.fs_)$.push(P)}for(var k=0;
k<$.length;k++)$[k].parent=-1;var I=Date.now();for(var k=1;k<$.length;k++){var b=$[k];for(var Y=k-1;
Y>=0;Y--){var m=$[Y];if(b.qy<m.qy||b.qN>m.qN||b.qe<m.qe||b.qr>m.qr)continue;if(!fE.fuw(m.H_,b.H_[0]+.5,b.H_[1]+.5))continue;
b.parent=Y;break}}return $}function z(O,i){function C(e,s,y,T,K){this.x=e;this.y=s;this.BH=y;this.BB=T;
this.BE=K}function M(e,s){return(s+e)%s}function D(e,s,y,T){return e*T-y*s}function X(e,s,y,T){return e*y+s*T}function l(e,s,y){if(e<=y)return e<=s&&s<y;
else return e<=s||s<y}function f(e,s,y){var T=0;T+=s*e[0]*s;T+=s*e[1]*y;T+=s*e[2];T+=y*e[3]*s;T+=y*e[4]*y;
T+=y*e[5];T+=e[6]*s;T+=e[7]*y;T+=e[8];return T}function F(e,s,y){return s+e*(y-s)}function $(e,s,y,T){var K=Math.sign(y-e),B=-Math.sign(T-s);
return K*(y-e)-B*(T-s)}function _(e,s){return Math.sqrt(e*e+s*s)}function P(e,s,y,T,K){var B=1-e;return B*B*B*s+3*(B*B*e)*y+3*(e*e*B)*T+e*e*e*K}function k(e,s,y,T,K,B,a,u){var r=D(e,s,a,u),v=D(y,T,a,u),o=D(K,B,a,u),V=r-2*v+o,J=-2*r+2*v,d=r,oU=J*J-4*V*d;
if(V==0||oU<0)return-1;var p=Math.sqrt(oU),N=(-J+p)/(2*V),ob=(-J-p)/(2*V);if(N>=0&&N<=1)return N;else if(ob>=0&&ob<=1)return ob;
else return-1}function H(h){var m,e,s;h.So=h.H_[0];h.fvM=h.H_[1];h.wu=[];var y=h.wu;y.push(new C(0,0,0,0,0));
for(m=0;m<h.rH;m++){e=h.H_[m<<1]-h.So;s=h.H_[(m<<1)+1]-h.fvM;y.push(new C(y[m].x+e,y[m].y+s,y[m].BH+e*s,y[m].BB+e*e,y[m].BE+s*s))}}function q(h){var e=h.rH,s=h.H_,y,T=new Array(e),K=new Array(e),B=new Array(4),a,u,r,v,o,V,J,d,oU,p,N,m,ob,oe,oF,oN,YM,oE,ox=0;
h.SS=new Array(e);for(m=e-1;m>=0;m--){if(s[m<<1]!=s[ox<<1]&&s[(m<<1)+1]!=s[(ox<<1)+1])ox=m+1;K[m]=ox}for(m=e-1;
m>=0;m--){var c=M(m+1,e)<<1;B[0]=B[1]=B[2]=B[3]=0;y=(3+3*(s[c]-s[m<<1])+(s[c+1]-s[(m<<1)+1]))/2;B[y]++;
a=0;u=0;r=0;v=0;ox=K[m];oe=m;while(1){N=0;y=(3+3*Math.sign(s[ox*2]-s[oe*2])+Math.sign(s[ox*2+1]-s[oe*2+1]))/2;
B[y]++;if(B[0]&&B[1]&&B[2]&&B[3]){T[m]=oe;N=1;break}oU=s[ox*2]-s[m*2];p=s[ox*2+1]-s[m*2+1];if(D(a,u,oU,p)<0||D(r,v,oU,p)>0){break}if(Math.abs(oU)<=1&&Math.abs(p)<=1){}else{o=oU+(p>=0&&(p>0||oU<0)?1:-1);
V=p+(oU<=0&&(oU<0||p<0)?1:-1);if(D(a,u,o,V)>=0){a=o;u=V}o=oU+(p<=0&&(p<0||oU<0)?1:-1);V=p+(oU>=0&&(oU>0||p<0)?1:-1);
if(D(r,v,o,V)<=0){r=o;v=V}}oe=ox;ox=K[oe];if(!l(ox,m,oe)){break}}if(N==0){J=Math.sign(s[ox*2]-s[oe*2]);
d=Math.sign(s[ox*2+1]-s[oe*2+1]);oU=s[oe*2]-s[m*2];p=s[oe*2+1]-s[m*2+1];oF=D(a,u,oU,p);oN=D(a,u,J,d);
YM=D(r,v,oU,p);oE=D(r,v,J,d);ob=1e7;if(oN<0){ob=Math.floor(oF/-oN)}if(oE>0){ob=Math.min(ob,Math.floor(-YM/oE))}T[m]=M(oe+ob,e)}}ob=T[e-1];
h.SS[e-1]=ob;for(m=e-2;m>=0;m--){if(l(m+1,T[m],ob)){ob=T[m]}h.SS[m]=ob}for(m=e-1;l(M(m+1,e),ob,h.SS[m]);
m--){h.SS[m]=ob}}function R(h){function e(h,m,s){var K=h.rH,oU=h.H_,p=h.wu,N,ob,oe,oF,oN,T,YM,oE,d,ox,c,oG,or,Yf,oL=0;
if(s>=K){s-=K;oL=1}if(oL==0){N=p[s+1].x-p[m].x;ob=p[s+1].y-p[m].y;oF=p[s+1].BB-p[m].BB;oe=p[s+1].BH-p[m].BH;
oN=p[s+1].BE-p[m].BE;T=s+1-m}else{N=p[s+1].x-p[m].x+p[K].x;ob=p[s+1].y-p[m].y+p[K].y;oF=p[s+1].BB-p[m].BB+p[K].BB;
oe=p[s+1].BH-p[m].BH+p[K].BH;oN=p[s+1].BE-p[m].BE+p[K].BE;T=s+1-m+K}c=(oU[m<<1]+oU[s<<1])/2-oU[0];oG=(oU[(m<<1)+1]+oU[(s<<1)+1])/2-oU[1];
Yf=oU[s<<1]-oU[m<<1];or=-(oU[(s<<1)+1]-oU[(m<<1)+1]);YM=(oF-2*N*c)/T+c*c;oE=(oe-N*oG-ob*c)/T+c*oG;d=(oN-2*ob*oG)/T+oG*oG;
ox=or*or*YM+2*or*Yf*oE+Yf*Yf*d;return Math.sqrt(ox)}var m,s,y,T,K=h.rH,B=new Array(K+1),a=new Array(K+1),u=new Array(K),r=new Array(K+1),v=new Array(K+1),o=new Array(K+1),V,J,d;
for(m=0;m<K;m++){d=M(h.SS[M(m-1,K)]-1,K);if(d==m){d=M(m+1,K)}if(d<m){u[m]=K}else{u[m]=d}}s=1;for(m=0;
m<K;m++){while(s<=u[m]){r[s]=m;s++}}m=0;for(s=0;m<K;s++){v[s]=m;m=u[m]}v[s]=K;y=s;m=K;for(s=y;s>0;s--){o[s]=m;
m=r[m]}o[0]=0;B[0]=0;for(s=1;s<=y;s++){for(m=o[s];m<=v[s];m++){J=-1;for(T=v[s-1];T>=r[m];T--){V=e(h,T,m)+B[T];
if(J<0||V<J){a[m]=T;J=V}}B[m]=J}}h.dK=y;h.fpC=new Array(y);for(m=K,s=y-1;m>0;s--){m=a[m];h.fpC[s]=m}}function I(h){function e(h,m,V,u,r,YX){var T=h.rH,YC=h.wu,Yp=0,d;
while(V>=T){V-=T;Yp+=1}while(m>=T){m-=T;Yp-=1}while(V<0){V+=T;Yp-=1}while(m<0){m+=T;Yp+=1}var YZ=YC[V+1].x-YC[m].x+Yp*YC[T].x,Yz=YC[V+1].y-YC[m].y+Yp*YC[T].y,YT=YC[V+1].BB-YC[m].BB+Yp*YC[T].BB,Yg=YC[V+1].BH-YC[m].BH+Yp*YC[T].BH,YY=YC[V+1].BE-YC[m].BE+Yp*YC[T].BE,J=V+1-m+Yp*T;
u[YX]=YZ/J;u[YX+1]=Yz/J;var Yo=(YT-YZ*YZ/J)/J,Ya=(Yg-YZ*Yz/J)/J,YQ=(YY-Yz*Yz/J)/J,YK=(Yo+YQ+Math.sqrt((Yo-YQ)*(Yo-YQ)+4*Ya*Ya))/2;
Yo-=YK;YQ-=YK;if(Math.abs(Yo)>=Math.abs(YQ)){d=Math.sqrt(Yo*Yo+Ya*Ya);if(d!=0){r[YX]=-Ya/d;r[YX+1]=Yo/d}}else{d=Math.sqrt(YQ*YQ+Ya*Ya);
if(d!=0){r[YX]=-YQ/d;r[YX+1]=Ya/d}}if(d==0){r[YX]=r[YX+1]=0}}var s=h.dK,y=h.fpC,T=h.rH,K=h.H_,B=h.So,a=h.fvM,u=new Array(s*2),r=new Array(s*2),v=new Array(s),o=new Array(3),m,V,J,d,ob,oe,oF,oN,YM,oE,ox;
h.WK=new G(s);for(m=0;m<s;m++){V=y[M(m+1,s)];V=M(V-y[m],T)+y[m];u[m<<1]=0;u[(m<<1)+1]=0;r[m<<1]=0;r[(m<<1)+1]=0;
e(h,y[m],V,u,r,m<<1)}for(m=0;m<s;m++){v[m]=[0,0,0,0,0,0,0,0,0];var oU=r[m<<1]*r[m<<1]+r[(m<<1)+1]*r[(m<<1)+1],p=1/oU;
if(oU!=0){o[0]=r[(m<<1)+1];o[1]=-r[m<<1];o[2]=-o[1]*u[(m<<1)+1]-o[0]*u[m<<1];for(d=0;d<3;d++){v[m][d*3+0]=o[d]*o[0]*p;
v[m][d*3+1]=o[d]*o[1]*p;v[m][d*3+2]=o[d]*o[2]*p}}}var N=[0,0,0,0,0,0,0,0,0];for(m=0;m<s;m++){N[0]=N[1]=N[2]=N[3]=N[4]=N[5]=N[6]=N[7]=N[8]=N[9]=0;
var c=K[y[m]<<1]-B,oG=K[(y[m]<<1)+1]-a,or=0,Yf=0;V=M(m-1,s);for(d=0;d<9;d+=3){N[d+0]=v[V][d+0]+v[m][d+0];
N[d+1]=v[V][d+1]+v[m][d+1];N[d+2]=v[V][d+2]+v[m][d+2]}while(1){var oL=N[0]*N[4]-N[1]*N[3];if(oL!=0){or=(-N[2]*N[4]+N[5]*N[0])/oL;
Yf=(N[2]*N[3]-N[5]*N[0])/oL;break}if(N[0]>N[4]){o[0]=-N[1];o[1]=N[0]}else if(N[4]){o[0]=-N[4];o[1]=N[3]}else{o[0]=1;
o[1]=0}var oU=o[0]*o[0]+o[1]*o[1],p=1/oU;o[2]=-o[1]*oG-o[0]*c;for(d=0;d<3;d++){N[d*3+0]+=o[d]*o[0]*p;
N[d*3+1]+=o[d]*o[1]*p;N[d*3+2]+=o[d]*o[2]*p}}ob=Math.abs(or-c);oe=Math.abs(Yf-oG);if(ob<=.5&&oe<=.5){h.WK.Ds[m<<1]=or+B;
h.WK.Ds[(m<<1)+1]=Yf+a;continue}oF=f(N,c,oG);YM=c;oE=oG;if(N[0]!=0){for(ox=0;ox<2;ox++){Yf=oG-.5+ox;
or=-(N[1]*Yf+N[2])/N[0];ob=Math.abs(or-c);oN=f(N,or,Yf);if(ob<=.5&&oN<oF){oF=oN;YM=or;oE=Yf}}}if(N[4]!=0){for(ox=0;
ox<2;ox++){or=c-.5+ox;Yf=-(N[3]*or+N[5])/N[4];oe=Math.abs(Yf-oG);oN=f(N,or,Yf);if(oe<=.5&&oN<oF){oF=oN;
YM=or;oE=Yf}}}for(d=0;d<2;d++){for(J=0;J<2;J++){or=c-.5+d;Yf=oG-.5+J;oN=f(N,or,Yf);if(oN<oF){oF=oN;YM=or;
oE=Yf}}}h.WK.Ds[m<<1]=YM+B;h.WK.Ds[(m<<1)+1]=oE+a}}function b(h){var e=h.WK.RZ,s=h.WK,m,y,T,K,B,a,u,r,v;
for(m=0;m<e;m++){y=M(m+1,e);T=M(m+2,e);var o=s.Ds[m<<1],V=s.Ds[(m<<1)+1],J=s.Ds[T<<1],d=s.Ds[(T<<1)+1],oU=s.Ds[y<<1],p=s.Ds[(y<<1)+1],N=F(.5,J,oU),ob=F(.5,d,p);
B=$(o,V,J,d);if(B!=0){K=D(oU-o,p-V,J-o,d-V)/B;K=Math.abs(K);a=K>1?1-1/K:0;a=a*(1/.75)}else{a=4/3}s.hv[y]=a;
var oe=3*y<<1;if(a>=i.fsG){s.vu[y]=0;s.vK[oe+0]=s.vK[oe+1]=0;s.vK[oe+2]=oU;s.vK[oe+3]=p;s.vK[oe+4]=N;
s.vK[oe+5]=ob}else{if(a<.55){a=.55}else if(a>1){a=1}var oF=.5+.5*a;s.vu[y]=1;s.vK[oe]=F(oF,o,oU);s.vK[oe+1]=F(oF,V,p);
s.vK[oe+2]=F(oF,J,oU);s.vK[oe+3]=F(oF,d,p);s.vK[oe+4]=N;s.vK[oe+5]=ob}s.alpha[y]=a;s.hW[y]=.5}s.fmf=1}function Y(h){function e(){this.ST=0;
this.wd=0;this.wc=0;this.wA=0;this.wJ=0;this.CM=0;this.sN=0;this.alpha=0}function s(h,m,o,fa,YO,oN,YM){var T=h.WK.RZ,Yw=h.WK.vK,YV=h.WK.Ds;
if(m==o)return 1;var Yu=m,oU=M(m+1,T),YJ=M(Yu+1,T),YT=YV[m<<1],Yg=YV[(m<<1)+1],fd=YV[oU<<1],Yq=YV[(oU<<1)+1],YU=oN[YJ];
if(YU==0)return 1;var YE=_(YT-fd,Yg-Yq);for(Yu=YJ;Yu!=o;Yu=YJ){var YJ=M(Yu+1,T),Yc=M(Yu+2,T),fJ=YV[YJ<<1],YB=YV[(YJ<<1)+1],YG=YV[Yc<<1],Yr=YV[(Yc<<1)+1];
if(oN[YJ]!=YU)return 1;if(Math.sign(D(fd-YT,Yq-Yg,YG-fJ,Yr-YB))!=YU)return 1;if(X(fd-YT,Yq-Yg,YG-fJ,Yr-YB)<YE*_(fJ-YG,YB-Yr)*-.999847695156)return 1}var Yb=M(m,T)*3+2<<1,Y$=M(m+1,T)<<1,CE=M(o,T)<<1,My=M(o,T)*3+2<<1,oL=Yw[Yb],YX=Yw[Yb+1],Cg=YV[Y$],CP=YV[Y$+1],fO=YV[CE],XT=YV[CE+1],Mc=Yw[My],Cj=Yw[My+1],oE=YV[0],ox=YV[1];
Yb=o*3+2<<1;var XQ=Yw[Yb],Cl=Yw[Yb+1],p=YM[o]-YM[m];p-=D(XQ-oE,Cl-ox,XQ-oE,Cl-ox)/2;if(m>=o){p+=YM[T]}var CZ=Cg-oL,CT=CP-YX,Cu=fO-oL,Cp=XT-YX,Cv=Mc-oL,fY=Cj-YX,fz=D(CZ,CT,Cu,Cp),Ce=D(CZ,CT,Cv,fY),fV=D(Cu,Cp,Cv,fY),CG=fz+fV-Ce;
if(Ce==fz)return 1;var oF=fV/(fV-CG),oe=Ce/(Ce-fz),fC=Ce*oF/2;if(fC==0)return 1;var CX=p/fC,N=2-Math.sqrt(4-CX/.3);
fa.wd=F(oF*N,oL,Cg);fa.wc=F(oF*N,YX,CP);fa.wA=F(oe*N,Mc,fO);fa.wJ=F(oe*N,Cj,XT);fa.alpha=N;fa.CM=oF;
fa.sN=oe;Cg=fa.wd;CP=fa.wc;fO=fa.wA;XT=fa.wJ;fa.ST=0;for(Yu=M(m+1,T);Yu!=o;Yu=YJ){YJ=M(Yu+1,T);var So=YV[Yu<<1],fn=YV[(Yu<<1)+1],fJ=YV[YJ<<1],YB=YV[(YJ<<1)+1];
oF=k(Cg-oL,CP-YX,fO-Cg,XT-CP,Mc-fO,Cj-XT,fJ-So,YB-fn);if(oF<-.5)return 1;var CC=P(oF,oL,Cg,fO,Mc),ff=P(oF,YX,CP,XT,Cj),YE=_(fJ-So,YB-fn);
if(YE==0)return 1;var CI=D(fJ-So,YB-fn,CC-So,ff-fn)/YE;if(Math.abs(CI)>YO)return 1;if(X(fJ-So,YB-fn,CC-So,ff-fn)<0||X(So-fJ,fn-YB,CC-fJ,ff-YB)<0){return 1}fa.ST+=CI*CI}for(Yu=m;
Yu!=o;Yu=YJ){YJ=M(Yu+1,T);var Yb=Yu*3+2<<1,Y$=YJ*3+2<<1,Xl=Yw[Yb],C_=Yw[Yb+1],CK=Yw[Y$],XJ=Yw[Y$+1];
oF=k(Cg-oL,CP-YX,fO-Cg,XT-CP,Mc-fO,Cj-XT,CK-Xl,XJ-C_);if(oF<-.5)return 1;var CC=P(oF,oL,Cg,fO,Mc),ff=P(oF,YX,CP,XT,Cj),YE=_(CK-Xl,XJ-C_);
if(YE==0)return 1;var CI=D(CK-Xl,XJ-C_,CC-Xl,ff-C_)/YE,fw=D(CK-Xl,XJ-C_,YV[YJ<<1]-Xl,YV[(YJ<<1)+1]-C_)/YE;
fw*=.75*h.WK.alpha[YJ];if(fw<0){CI=-CI;fw=-fw}if(CI<fw-YO)return 1;if(CI<fw){fa.ST+=(CI-fw)*(CI-fw)}}return 0}var y=h.WK,T=y.RZ,K=y.Ds,B=new Array(T+1),a=new Array(T+1),u=new Array(T+1),r=new Array(T+1),v,m,o,V,J=new e,d,oU,p,N,ob,oe,oF,oN=new Array(T),YM=new Array(T+1);
for(m=0;m<T;m++){if(y.vu[m]=="CURVE"){var oE=K[M(m-1,T)<<1],ox=K[(M(m-1,T)<<1)+1],c=K[m<<1],oG=K[(m<<1)+1],or=K[M(m+1,T)<<1],Yf=K[(M(m+1,T)<<1)+1];
oN[m]=Math.sign(D(c-oE,oG-ox,or-c,Yf-oG))}else{oN[m]=0}}p=0;YM[0]=0;var oL=y.Ds[0],YX=y.Ds[1];for(m=0;
m<T;m++){oU=M(m+1,T);if(y.vu[oU]=="CURVE"){N=y.alpha[oU];var YC=m*3+2<<1,Yp=oU*3+2<<1,YZ=y.vK[YC],Yz=y.vK[YC+1],YT=K[oU<<1],Yg=K[(oU<<1)+1],YY=y.vK[Yp],Yo=y.vK[Yp+1];
p+=.3*N*(4-N)*D(YT-YZ,Yg-Yz,YY-YZ,Yo-Yz)/2;p+=D(YZ-oL,Yz-YX,YY-oL,Yo-YX)/2}YM[m+1]=p}B[0]=-1;a[0]=0;
u[0]=0;for(o=1;o<=T;o++){B[o]=o-1;a[o]=a[o-1];u[o]=u[o-1]+1;for(m=o-2;m>=0;m--){V=s(h,m,M(o,T),J,i.fmM,oN,YM);
if(V){break}if(u[o]>u[m]+1||u[o]==u[m]+1&&a[o]>a[m]+J.ST){B[o]=m;a[o]=a[m]+J.ST;u[o]=u[m]+1;r[o]=J;J=new e}}}v=u[T];
ob=new G(v);oe=new Array(v);oF=new Array(v);o=T;for(m=v-1;m>=0;m--){var Ya=M(o,T),YQ=m*3+0<<1,YK=Ya*3+0<<1;
if(B[o]==o-1){ob.vu[m]=y.vu[Ya];ob.vK[YQ]=y.vK[YK];ob.vK[YQ+1]=y.vK[YK+1];ob.vK[YQ+2]=y.vK[YK+2];ob.vK[YQ+3]=y.vK[YK+3];
ob.vK[YQ+4]=y.vK[YK+4];ob.vK[YQ+5]=y.vK[YK+5];ob.Ds[m<<1]=y.Ds[Ya<<1];ob.Ds[(m<<1)+1]=y.Ds[(Ya<<1)+1];
ob.alpha[m]=y.alpha[Ya];ob.hv[m]=y.hv[Ya];ob.hW[m]=y.hW[Ya];oe[m]=oF[m]=1}else{ob.vu[m]="CURVE";ob.vK[YQ]=r[o].wd;
ob.vK[YQ+1]=r[o].wc;ob.vK[YQ+2]=r[o].wA;ob.vK[YQ+3]=r[o].wJ;ob.vK[YQ+4]=y.vK[YK+4];ob.vK[YQ+5]=y.vK[YK+5];
ob.Ds[m<<1]=F(r[o].sN,y.vK[YK+4],K[Ya<<1]);ob.Ds[(m<<1)+1]=F(r[o].sN,y.vK[YK+5],K[(Ya<<1)+1]);ob.alpha[m]=r[o].alpha;
ob.hv[m]=r[o].alpha;oe[m]=r[o].sN;oF[m]=r[o].CM}o=B[o]}for(m=0;m<v;m++){oU=M(m+1,v);ob.hW[m]=oe[m]/(oe[m]+oF[oU])}ob.fmf=1;
h.WK=ob}for(var m=0;m<O.length;m++){var h=O[m];H(h);q(h);R(h);I(h);b(h);if(i.fsF)Y(h)}}return{fsH:j,fsh:z}}();
fE.fuQ=function(S,G,j,z){var O={CU:"minority",fs_:z,fsF:!0,fsG:1,fmM:.2},i=fE.fsH(S,G,j,O);fE.fsh(i,O);
return i};fE.ya=function(S){var G=[];for(var j=0;j<S.length;j++){var z=S[j],O=z.WK,i=["M"],C=[O.vK[(O.RZ-1)*6+4],O.vK[(O.RZ-1)*6+5]];
for(var M=0;M<O.RZ;M++){var D=M*6;if(O.vu[M]==1){i.push("C");for(var X=0;X<6;X++)C.push(O.vK[D+X])}else if(O.vu[M]==0){i.push("L");
for(var X=2;X<4;X++)C.push(O.vK[D+X])}}G.push({parent:z.parent,color:z.color,path:{v:C,w:i}})}return G};
fE.fKz=function(S,G,j,z,O){function i(P){function k(D){var _="C "+(P.vK[D*3+0<<1]*G).toFixed(1)+" "+(P.vK[(D*3+0<<1)+1]*G).toFixed(1)+",";
_+=(P.vK[D*3+1<<1]*G).toFixed(1)+" "+(P.vK[(D*3+1<<1)+1]*G).toFixed(1)+",";_+=(P.vK[D*3+2<<1]*G).toFixed(1)+" "+(P.vK[(D*3+2<<1)+1]*G).toFixed(1)+" ";
return _}function H(D){var I="L "+(P.vK[D*3+1<<1]*G).toFixed(1)+" "+(P.vK[(D*3+1<<1)+1]*G).toFixed(1)+" ";
I+=(P.vK[D*3+2<<1]*G).toFixed(1)+" "+(P.vK[(D*3+2<<1)+1]*G).toFixed(1)+" ";return I}var q=P.RZ,D,R="M"+(P.vK[(q-1)*3+2<<1]*G).toFixed(1)+" "+(P.vK[((q-1)*3+2<<1)+1]*G).toFixed(1)+" ";
for(D=0;D<q;D++){if(P.vu[D]==1){R+=k(D)}else if(P.vu[D]==0){R+=H(D)}}return R}var j=j*G,z=z*G,C=S.length,M=[];
for(var D=0;D<256;D++)M.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var X="<svg id=\"svg\" version=\"1.1\" width=\""+j+"\" height=\""+z+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var D=0;D<C;D++){var l=O[S[D].color-1].ffb.ffx;if((l>>>24&255)==0)continue;X+="<path d=\"";var f=S[D].WK;
X+=i(f);var F=l>>0&255,$=l>>8&255,_=l>>16&255,l="rgb("+F+","+$+","+_+")";X+="\" fill=\""+l+"\" fill-rule=\"evenodd\"/>"}X+="</svg>";
return X};fE.fuw=function(S,G,j){var z=S.length>>1,O,i=S[2*z-3]-j,C=S[2*z-2]-G,M=S[2*z-1]-j,D=M>i,l=0;
for(var X=0;X<z;X++){O=C;i=M;C=S[2*X]-G;M=S[2*X+1]-j;if(i==M)continue;D=M>i}for(var X=0;X<z;X++){O=C;
i=M;C=S[2*X]-G;M=S[2*X+1]-j;if(i<0&&M<0)continue;if(i>0&&M>0)continue;if(O<0&&C<0)continue;if(i==M&&Math.min(O,C)<=0)return!0;
if(i==M)continue;var f=O+(C-O)*-i/(M-i);if(f==0)return!0;if(f>0)l++;if(i==0&&D&&M>i)l--;if(i==0&&!D&&M<i)l--;
D=M>i}return(l&1)==1};fE.fill=function(S,G,j,z){var O=G[S],i=[S],C=0;while(C<i.length){if(i.length>j*j*2)throw"e";
var M=i[C];C++;G[M]=z;if(G[M-j]==O){i.push(M-j);G[M-j]=254}if(G[M-1]==O){i.push(M-1);G[M-1]=254}if(G[M+1]==O){i.push(M+1);
G[M+1]=254}if(G[M+j]==O){i.push(M+j);G[M+j]=254}}};var Z={};Z.Gp=!1;Z._D=!1;Z.Y$=!1;Z.Io=document.createElement("canvas");
Z.um=null;Z.nJ=null;Z.Bq=0;(function(){var S={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},G;
if(!G)G=Z.Io.getContext("webgl",S);if(!G)G=Z.Io.getContext("experimental-webgl",S);if(G){Z.Gp=!0;Z._D=!0;
Z.um=G;Z.nJ=G.createFramebuffer();G.bindFramebuffer(G.FRAMEBUFFER,Z.nJ);G.disable(G.BLEND);G.disable(G.DEPTH_TEST);
var j=G.createBuffer();G.bindBuffer(G.ARRAY_BUFFER,j);G.bufferData(G.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),G.STATIC_DRAW);
G.enableVertexAttribArray(0);G.vertexAttribPointer(0,2,G.FLOAT,!1,0,0)}}());Z.fud=function(S){var G=Z.um;
if(S>G.getParameter(G.MAX_TEXTURE_SIZE)){Z.Gp=!1;alert("Disabling WebGL")}};Z.YL=function(S,G){return new Float32Array([(S.x-G.x)/G.o,(S.y-G.y)/G.i,S.o/G.o,S.i/G.i])};
Z.EA=function(){return this.Io};Z.XD=function(S,G){var j=Z.um;j.bindFramebuffer(j.FRAMEBUFFER,Z.nJ);
j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,S.Om,0);j.viewport(0,0,S.o,S.i);
if(G){j.enable(j.SCISSOR_TEST);j.scissor(G.x,G.y,G.o,G.i)}else j.disable(j.SCISSOR_TEST)};Z._j=function(S,G,j){if(j)throw"error";
var z=Z.um;z.disable(z.SCISSOR_TEST);z.bindFramebuffer(z.FRAMEBUFFER,null);z.viewport(0,0,S,G);if(j){z.enable(z.SCISSOR_TEST);
z.scissor(j.x,j.y,Math.round(j.o),Math.round(j.i))}else z.disable(z.SCISSOR_TEST)};Z.clear=function(){var S=Z.um;
S.clearColor(0,0,0,0);S.clear(S.COLOR_BUFFER_BIT)};Z.js=function(S,G){if(G==null)G=0;var j=(G>>>0&255)==0,z=(G>>>8&255)==0,O=(G>>>16&255)==0,i=(G>>>24&255)==0,C=(S>>>0&255)*(1/255),M=(S>>>8&255)*(1/255),D=(S>>>16&255)*(1/255),X=(S>>>24&255)*(1/255),l=Z.um;
l.colorMask(j,z,O,i);l.clearColor(C,M,D,X);l.clear(l.COLOR_BUFFER_BIT);l.colorMask(!0,!0,!0,!0)};Z.Mp=function(S,G,j,z,O){var i=G.tY(z);
if(O)i=i.tY(O);if(i.tR())return;var C=Z.um;Z.XD(S);C.bindTexture(C.TEXTURE_2D,j.Om);C.copyTexSubImage2D(C.TEXTURE_2D,0,i.x-z.x,i.y-z.y,i.x-G.x,i.y-G.y,i.o,i.i)};
Z.fKn=function(S,G,j){var z=Z._q[S];if(z==null||z.o!=G||z.i!=j){if(z)z.delete();z=new Z.XL(G,j)}Z._q[S]=z;
return z};Z._q=[];Z.DH=function(){this.wl=null;this.mQ=null};Z.DH.Hf=null;Z.DH.prototype.SV=function(S){if(this.mQ)return;
this.mQ={};var G=Z.um,j=this.wl,z=this.mQ;for(var O=0;O<S.length;O++){var i=S[O];z[i]=G.getUniformLocation(j,i)}};
Z.DH.prototype.tq=function(){};Z.DH.prototype.Yk=function(S,G){var j=Z.um,z=j.createShader(j.FRAGMENT_SHADER);
j.shaderSource(z,S);j.compileShader(z);if(!j.getShaderParameter(z,j.COMPILE_STATUS))console.log(j.getShaderInfoLog(z));
var O=j.createShader(j.VERTEX_SHADER);j.shaderSource(O,G);j.compileShader(O);if(!j.getShaderParameter(O,j.COMPILE_STATUS))console.log(j.getShaderInfoLog(O));
var i=j.createProgram();j.attachShader(i,O);j.attachShader(i,z);j.linkProgram(i);if(!j.getProgramParameter(i,j.LINK_STATUS))console.log("Could not initialise shaders");
this.wl=i};Z.DH.prototype.oX=function(){if(Z.DH.Hf!=this){Z.um.useProgram(this.wl);Z.DH.Hf=this}};Z.Cv=function(S,G){Z.Bb++;
Z.Bq+=S*G;if(Z.Y$)console.log("GL.Channels instances: "+Z.Bb+", memory: "+Z.Bq);var j=Z.um;this.o=S;
this.i=G;this.Om=j.createTexture();this.yu=null;this.nl(this.Om,S,G)};Z.Cv.prototype.nl=function(S,G,j){var z=Z.um;
z.bindTexture(z.TEXTURE_2D,S);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,z.NEAREST);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,z.NEAREST);
z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,z.CLAMP_TO_EDGE);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,z.CLAMP_TO_EDGE);
z.texImage2D(z.TEXTURE_2D,0,z.ALPHA,G,j,0,z.ALPHA,z.UNSIGNED_BYTE,null)};Z.Cv.prototype.set=function(S){var G=Z.um;
G.bindTexture(G.TEXTURE_2D,this.Om);G.pixelStorei(G.UNPACK_ALIGNMENT,1);G.texImage2D(G.TEXTURE_2D,0,G.ALPHA,this.o,this.i,0,G.ALPHA,G.UNSIGNED_BYTE,S);
G.pixelStorei(G.UNPACK_ALIGNMENT,4)};Z.Cv.prototype.delete=function(){var S=Z.um;if(this.Om){S.deleteTexture(this.Om);
Z.Bb--;Z.Bq-=this.o*this.i}if(Z.Y$)if(Z.Y$)console.log("GL.Channels instances: "+Z.Bb+", memory: "+Z.Bq*4)};
Z.Bb=0;Z.XL=function(S,G,j){if(j==null)j=!1;Z.Bb++;Z.Bq+=S*G*4;if(Z.Y$)console.log("GL.Channels instances: "+Z.Bb+", memory: "+Z.Bq);
var z=Z.um;this.fma=j;this.o=S;this.i=G;this.Om=z.createTexture();this.yu=null;this.nl(this.Om,S,G)};
Z.XL.prototype.set=function(S,G){var j=Z.um;j.disable(j.SCISSOR_TEST);j.bindTexture(j.TEXTURE_2D,this.Om);
if(S==null||S instanceof Uint8Array){var z=this.o*this.i;if(G==null||G.h()*10>z)j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.o,this.i,0,j.RGBA,j.UNSIGNED_BYTE,S);
else{var O=x.S(G.h()*4);x.yF(S,new Q(0,0,this.o,this.i),O,G);j.texSubImage2D(j.TEXTURE_2D,0,G.x,G.y,G.o,G.i,j.RGBA,j.UNSIGNED_BYTE,O)}}else j.texImage2D(j.TEXTURE_2D,0,j.RGBA,j.RGBA,j.UNSIGNED_BYTE,S)};
Z.XL.prototype.get=function(S){var G=Z.um;Z.XD(this);G.readPixels(0,0,this.o,this.i,G.RGBA,G.UNSIGNED_BYTE,S)};
Z.XL.prototype.Eq=function(S){if(S.tR())return;var G=Z.um;if(this.yu==null){this.yu=G.createTexture();
this.nl(this.yu,this.o,this.i);Z.Bb++;Z.Bq+=this.o*this.i*4}G.bindFramebuffer(G.FRAMEBUFFER,Z.nJ);G.bindTexture(G.TEXTURE_2D,this.yu);
if(S){var j=Math.max(S.x,0),z=Math.max(S.y,0);G.copyTexSubImage2D(G.TEXTURE_2D,0,j,z,j,z,S.o,S.i)}else G.copyTexImage2D(G.TEXTURE_2D,0,G.RGBA,0,0,this.o,this.i,0)};
Z.XL.prototype.nl=function(S,G,j){var z=Z.um;z.bindTexture(z.TEXTURE_2D,S);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,this.fma?z.LINEAR:z.NEAREST);
z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,z.NEAREST);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,z.CLAMP_TO_EDGE);
z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,z.CLAMP_TO_EDGE);z.texImage2D(z.TEXTURE_2D,0,z.RGBA,G,j,0,z.RGBA,z.UNSIGNED_BYTE,null)};
Z.XL.prototype.delete=function(){var S=Z.um;if(this.Om){S.deleteTexture(this.Om);Z.Bb--;Z.Bq-=this.o*this.i*4}if(this.yu){S.deleteTexture(this.yu);
Z.Bb--;Z.Bq-=this.o*this.i*4}if(Z.Y$)if(Z.Y$)console.log("GL.Channels instances: "+Z.Bb+", memory: "+Z.Bq)};
Z.XL.prototype.clone=function(){var S=Z.um,G=new Z.XL(this.o,this.i);Z.XD(this);S.bindTexture(S.TEXTURE_2D,G.Om);
S.copyTexImage2D(S.TEXTURE_2D,0,S.RGBA,0,0,this.o,this.i,0);return G};Z.oo={fuN:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  return mix( ONE3 - min(ONE3,(ONE3-b)/(a*f+ONE3-f))    ,   ZERO3  , vec3(equal(a  ,ZERO3)) );  }  ",fwM:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Cb:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",cp:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",_h:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",ca:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Au:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",HO:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",fwd:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",cc:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",fwk:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",MQ:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",_E:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Nk:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",fv:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Xn:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Lm:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",HV:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",cy:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",c_:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
Z.HH={};Z.HH.tF="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
Z.a$=function(S,G,j,z,O){if(Z.a$.Mn==null)Z.a$.Mn=new Z.a$.Wc;var i=G.H.length;if(Z.a$.C_["m"+i]==null){Z.a$.C_["m"+i]={fmu:new Z.XL(i,1),hC:x.S(i*4)}}var C=Z.a$.C_["m"+i];
x.Cy(G.H,C.hC,0);x.Cy(G.X,C.hC,1);x.Cy(G.C,C.hC,2);var M=C.fmu;M.set(C.hC);var D=Z.a$.Mn,X=Z.um;D.oX();
D.tq(S,M.Om,j?1:0,z?1:0);X.drawArrays(X.TRIANGLES,0,6)};Z.a$.Mn=null;Z.a$.C_={};Z.a$.Wc=function(){Z.DH.call(this);
var S="\t\t\tprecision mediump float;\t\t\t"+Z.oo.Au+"\t\t\t"+Z.oo.Cb+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Yk(S,Z.HH.tF)};Z.a$.Wc.prototype=new Z.DH;Z.a$.Wc.prototype.tq=function(S,G,j,z){this.SV(["source","map","toGray","presLum"]);
var O=Z.um,i=this.mQ;O.uniform1f(i.toGray,j);O.uniform1f(i.presLum,z);O.uniform1i(i.source,0);O.uniform1i(i.map,1);
O.activeTexture(O.TEXTURE0);O.bindTexture(O.TEXTURE_2D,S);O.activeTexture(O.TEXTURE1);O.bindTexture(O.TEXTURE_2D,G);
O.activeTexture(O.TEXTURE0)};Z.tc=function(S,G,j,z,O,i){if(Z.tc.Mn==null){Z.tc.Mn=new Z.tc.Wc;Z.tc.mJ=new Z.XL(256,1);
Z.tc._U=x.S(256*4)}G.A=x.S(256);var C=Z.tc._U;x.FP(G,C);var M=Z.tc.mJ;M.set(C);var D=Z.tc.Mn,X=Z.um;
D.oX();D.tq(S,M.Om,z,O,i);X.drawArrays(X.TRIANGLES,0,6)};Z.tc.Mn=null;Z.tc.mJ=null;Z.tc._U=null;Z.tc.Wc=function(){Z.DH.call(this);
var S="\t\t\tprecision mediump float;\t\t\t"+Z.oo.Xn+"\t\t\t"+Z.oo.Nk+"\t\t\t"+Z.oo.fv+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\tvec3 rgb = src.rgb;\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\tfloat ns = sc; \t\t\t\tif(colorize==0) {\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t}";
this.Yk(S,Z.HH.tF)};Z.tc.Wc.prototype=new Z.DH;Z.tc.Wc.prototype.tq=function(S,G,j,z,O){this.SV(["source","map","cfa","cfb","colorize"]);
var i=Z.um,C=this.mQ;i.uniform1f(C.cfa,j);i.uniform1f(C.cfb,z);i.uniform1i(C.colorize,O);i.uniform1i(C.source,0);
i.uniform1i(C.map,1);i.activeTexture(i.TEXTURE0);i.bindTexture(i.TEXTURE_2D,S);i.activeTexture(i.TEXTURE1);
i.bindTexture(i.TEXTURE_2D,G);i.activeTexture(i.TEXTURE0)};Z.ZA=function(S,G,j,z){if(Z.ZA.Mn==null)Z.ZA.Mn=new Z.ZA.Wc;
var O=Z.ZA.Mn,i=Z.um;O.oX();O.tq(S,G,j);i.drawArrays(i.TRIANGLES,0,6)};Z.ZA.Mn=null;Z.ZA.Wc=function(){Z.DH.call(this);
var S="\t\t\tprecision mediump float;\t\t\t"+Z.oo.Xn+"\t\t\t"+Z.oo.Lm+"\t\t\t"+Z.oo.HV+"\t\t\t"+Z.oo.Nk+"\t\t\t"+Z.oo.fv+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.Yk(S,Z.HH.tF)};Z.ZA.Wc.prototype=new Z.DH;Z.ZA.Wc.prototype.tq=function(S,G,j){this.SV(["source","vib","sat"]);
var z=Z.um,O=this.mQ;z.uniform1f(O.vib,G);z.uniform1f(O.sat,j);z.uniform1i(O.source,0);z.activeTexture(z.TEXTURE0);
z.bindTexture(z.TEXTURE_2D,S)};Z.Zk=function(S,G,j){if(Z.Zk.Mn==null)Z.Zk.Mn=new Z.Zk.Wc;var z=Z.Zk.Mn,O=Z.um;
z.oX();z.tq(S,G);O.drawArrays(O.TRIANGLES,0,6)};Z.Zk.Mn=null;Z.Zk.Wc=function(){Z.DH.call(this);var S="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Yk(S,Z.HH.tF)};Z.Zk.Wc.prototype=new Z.DH;Z.Zk.Wc.prototype.tq=function(S,G){this.SV(["source","trf"]);
var j=Z.um,z=this.mQ;j.uniformMatrix4fv(z.trf,!1,new Float32Array(x.Mt.jt(G)));j.uniform1i(z.source,0);
j.activeTexture(j.TEXTURE0);j.bindTexture(j.TEXTURE_2D,S)};Z.ZB=function(S,G,j,z,O,i){if(Z.ZB.Mn==null)Z.ZB.Mn=new Z.ZB.Wc;
var C=Z.ZB.Mn,M=Z.um;C.oX();C.tq(S,G,j,z,O);M.drawArrays(M.TRIANGLES,0,6)};Z.ZB.Mn=null;Z.ZB.Wc=function(){Z.DH.call(this);
var S="\t\t\tprecision mediump float; \t\t\t"+Z.oo.cy+"\t\t\t"+Z.oo.Xn+"\t\t\t"+Z.oo.fv+"\t\t\t"+Z.oo.Nk+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Yk(S,Z.HH.tF)};Z.ZB.Wc.prototype=new Z.DH;Z.ZB.Wc.prototype.tq=function(S,G,j,z,O){this.SV(["source","mnm","mxm","shift","lim"]);
var i=Z.um,C=this.mQ;i.uniform3fv(C.mnm,new Float32Array(G));i.uniform3fv(C.mxm,new Float32Array(j));
i.uniform3fv(C.shift,new Float32Array(z));i.uniform1f(C.lim,O);i.uniform1i(C.source,0);i.activeTexture(i.TEXTURE0);
i.bindTexture(i.TEXTURE_2D,S)};Z.wW=function(S,G,j){if(Z.wW.Mn==null){Z.wW.Mn=new Z.wW.Wc}var z=Z.wW.Mn,O=Z.um;
z.oX();z.tq(S,G);O.drawArrays(O.TRIANGLES,0,6)};Z.wW.Mn=null;Z.wW.Wc=function(){Z.DH.call(this);var S="\t\t\tprecision mediump float;\t\t\t"+Z.oo.Cb+"\t\t\t"+Z.oo.cp+"\t\t\t"+Z.oo._h+"\t\t\t"+Z.oo.Nk+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Yk(S,Z.HH.tF)};Z.wW.Wc.prototype=new Z.DH;Z.wW.Wc.prototype.tq=function(S,G){this.SV(["source","cfs"]);
var j=Z.um,z=this.mQ;j.uniform3fv(z.cfs,G);j.uniform1i(z.source,0);j.activeTexture(j.TEXTURE0);j.bindTexture(j.TEXTURE_2D,S)};
Z.ws=function(S,G,j,z){if(Z.ws.Mn==null){Z.ws.Mn=new Z.ws.Wc}var O=Z.ws.Mn,i=Z.um;O.oX();O.tq(S,G,j);
i.drawArrays(i.TRIANGLES,0,6)};Z.ws.Mn=null;Z.ws.Wc=function(){Z.DH.call(this);var S="\t\t\tprecision mediump float;\t\t\t"+Z.oo.Xn+"\t\t\t"+Z.oo.cp+"\t\t\t"+Z.oo._h+"\t\t\t"+Z.oo.Nk+"\t\t\t"+Z.oo.fv+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Yk(S,Z.HH.tF)};Z.ws.Wc.prototype=new Z.DH;Z.ws.Wc.prototype.tq=function(S,G,j){this.SV(["source","wght","prms"]);
var z=Z.um,O=this.mQ;z.uniform1fv(O.wght,new Float32Array(G));z.uniform1fv(O.prms,new Float32Array(j));
z.uniform1i(O.source,0);z.activeTexture(z.TEXTURE0);z.bindTexture(z.TEXTURE_2D,S)};Z.SA=function(S,G,j,z){if(Z.SA.Mn==null)Z.SA.Mn=new Z.SA.Wc;
if(Z.SA.CG["m"+G]==null)Z.SA.CG["m"+G]=new Z.XL(G,G*G);var O=Z.SA.CG["m"+G];O.set(j);var i=Z.SA.Mn,C=Z.um;
i.oX();i.tq(S,O.Om,G);C.drawArrays(C.TRIANGLES,0,6)};Z.SA.Mn=null;Z.SA.CG={};Z.SA.Wc=function(){Z.DH.call(this);
var S="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Yk(S,Z.HH.tF)};Z.SA.Wc.prototype=new Z.DH;Z.SA.Wc.prototype.tq=function(S,G,j){this.SV(["source","lut","N"]);
var z=Z.um,O=this.mQ;z.uniform1f(O.N,j);z.uniform1i(O.source,0);z.uniform1i(O.lut,1);z.activeTexture(z.TEXTURE0);
z.bindTexture(z.TEXTURE_2D,S);z.activeTexture(z.TEXTURE1);z.bindTexture(z.TEXTURE_2D,G);var i=z.LINEAR;
z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,i);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,i);
z.activeTexture(z.TEXTURE0)};Z.k={};Z.k.Ct={};Z.k.SY=null;Z.k.SP=null;Z.k.Sv=null;Z.k._x=function(S,G,j,z,O,i,C,M){if(M==null)M=Yv.WF();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(S)==-1){C=C*M.fill;M.fill=1;M.style=!1}var D=S+(M.tk?"1":"");
if(Z.k.Ct[D]==null)Z.k.Ct[D]=new Z.k.Wc(S,M.tk!=null);var X=Z.k.Ct[D],l=j.tY(O).tY(i);l.offset(-O.x,-O.y);
if(l.tR())return;var f=Z.um;Z.XD(z,l);z.Eq(l);X.oX();X.tq(G.Om,z.yu,Z.YL(j,O),C,M.fill,M.style?1:0,M.GJ?1:0,M.tk?new Float32Array(M.tk):null);
f.drawArrays(f.TRIANGLES,0,6)};Z.k.nk=function(S,G,j,z,O,i,C,M,D,X){if(Z.k.SY==null)Z.k.SY=new Z.k.EE(!0,!0);
if(Z.k.SP==null)Z.k.SP=new Z.k.EE(!0,!1);if(Z.k.Sv==null)Z.k.Sv=new Z.k.EE(!1,!0);var l=X?1:0,f=S?O?Z.k.SY:Z.k.SP:Z.k.Sv,F=G?G.tY(z).tY(M):z.tY(M);
if(F.tR())return;F.offset(-z.x,-z.y);var $=Z.um;Z.XD(j,F);j.Eq(F);f.oX();if(S==null)f.tq(null,j.yu,O.Om,Z.YL(z,z),Z.YL(i,z),C/255,D,l);
else if(O)f.tq(S.Om,j.yu,O.Om,Z.YL(G,z),Z.YL(i,z),C/255,D,l);else f.tq(S.Om,j.yu,null,Z.YL(G,z),null,C/255,D,l);
$.drawArrays($.TRIANGLES,0,6)};Z.k.fKx=function(S,G,j){if(Z.k.fpD==null)Z.k.fpD=new Z.k.Sa;var z=Z.k.fpD,O=new Q(0,0,S.o,S.i),i=Z.um;
Z.XD(G);G.Eq(O);z.oX();z.tq(O,S.Om,G.yu,j.Om);i.drawArrays(i.TRIANGLES,0,6)};Z.k.mV={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
Z.k.Wc=function(S,G){Z.DH.call(this);var j="\t\t\tprecision mediump float;\t\t\t"+Z.oo.Cb+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(G?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+Z.oo.ca+"\t\t\t"+Z.oo.Au+"\t\t\t"+Z.oo.HO+"\t\t\t"+Z.oo.fuN+"\t\t\t"+Z.oo.fwM+"\t\t\t"+Z.oo.fwd+"\t\t\t"+Z.oo.cc+"\t\t\t"+Z.oo.fwk+"\t\t\t"+Z.oo.MQ+"\t\t\t"+Z.oo.hash+"\t\t\t"+(G?Z.oo.c_:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+Z.k.mV[S]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",z="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(S=="diss")j+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else j+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(G?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Yk(j,z)};Z.k.Wc.prototype=new Z.DH;Z.k.Wc.prototype.tq=function(S,G,j,z,O,i,C,M){this.SV("srct alpha source target fill style keepBGA blIf".split(" "));
var D=Z.um,X=this.mQ;D.uniform4fv(X.srct,j);D.uniform1f(X.alpha,z);D.uniform1f(X.fill,O);D.uniform1f(X.style,i);
D.uniform1f(X.keepBGA,C);if(M)D.uniform4fv(X.blIf,M);D.uniform1i(X.source,0);D.uniform1i(X.target,1);
D.activeTexture(D.TEXTURE0);D.bindTexture(D.TEXTURE_2D,S);D.activeTexture(D.TEXTURE1);D.bindTexture(D.TEXTURE_2D,G);
D.activeTexture(D.TEXTURE0)};Z.k.EE=function(S,G){Z.DH.call(this);this.ffF=S;this.hw=G;var j="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+Z.oo._E+"\t\t\t"+Z.oo.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(S?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(G?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(S?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Yk(j,z)};Z.k.EE.prototype=new Z.DH;Z.k.EE.prototype.tq=function(S,G,j,z,O,i,C,M){if(this.hw)this.SV("srct wrct wcolor awg dissv source target weight".split(" "));
else this.SV(["srct","awg","dissv","source","target"]);var D=Z.um,X=this.mQ;D.uniform4fv(X.srct,z);if(this.hw){D.uniform4fv(X.wrct,O);
D.uniform1f(X.wcolor,i)}D.uniform1f(X.awg,C);D.uniform1f(X.dissv,M);D.uniform1i(X.source,0);D.uniform1i(X.target,1);
if(this.hw)D.uniform1i(X.weight,2);D.activeTexture(D.TEXTURE0);D.bindTexture(D.TEXTURE_2D,S);D.activeTexture(D.TEXTURE1);
D.bindTexture(D.TEXTURE_2D,G);if(this.hw){D.activeTexture(D.TEXTURE2);D.bindTexture(D.TEXTURE_2D,j)}D.activeTexture(D.TEXTURE0)};
Z.k.Sa=function(){Z.DH.call(this);var S="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",G="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Yk(S,G)};Z.k.Sa.prototype=new Z.DH;Z.k.Sa.prototype.tq=function(S,G,j,z){this.SV(["rct","prev","next","alpha"]);
var O=Z.um,i=this.mQ;O.uniform4fv(i.rct,[0,0,1,1]);O.uniform1i(i.prev,0);O.uniform1i(i.next,1);O.uniform1i(i.alpha,2);
O.activeTexture(O.TEXTURE0);O.bindTexture(O.TEXTURE_2D,G);O.activeTexture(O.TEXTURE1);O.bindTexture(O.TEXTURE_2D,j);
O.activeTexture(O.TEXTURE2);O.bindTexture(O.TEXTURE_2D,z);O.activeTexture(O.TEXTURE0)};function XU(){}XU.wD=function(S){var G=new Uint8Array(S),j=0,z={qH:[],ki:[],list:[]},O=W.GP(G,j);
j+=2;if(O<=2){return XU.fwj(G)}var i=W.GP(G,j);j+=2;var C=W.PP(G,j,8);j+=8;var M=W.O(G,j);j+=4;if(M>0)z.qH=XU._b(G,j,M,i,O);
j+=M;var D=W.PP(G,j,8);j+=8;var X=W.O(G,j);j+=4;if(X>0)z.ki=XU.ni(G,j,X);j+=X;var l=W.PP(G,j,8);j+=8;
var f=W.O(G,j);j+=4;if(f>0){var F={};YD.EV(G,F,j+4);z.list=F.Brsh.v}j+=f;var $=z.list;for(var _=0;_<$.length;
_++){oH.wr.check($[_].v)}return z};XU.Yp=function(S,G){S.v.Nm.v=G};XU.fwj=function(S){var G={qH:[],ki:[],list:[]},j=0,z=W.GP(S,j);
j+=2;if(z!=2)throw"e";var O=W.GP(S,j);j+=2;for(var i=0;i<O;i++){var C=W.GP(S,j);j+=2;var M=W.O(S,j);
j+=4;var D=j;if(C==2){var X={};G.qH.push(X);var l=W.O(S,D);D+=4;var f=W.GP(S,D);D+=2;var F=W.KC(S,D);
D+=4+F.length*2+2;X.id=Yi.KP()+"-d71c-11e5-b1ae-a548a96e5f9f";D++;D+=8;X.L=W.QX(S,D);D+=16;var $=W.GP(S,D);
D+=2;var _=S[D];D++;X.channel=MY.UG(!1,$,S,X.L.o,X.L.i,D,_);var P=oH.fR(X.id),k=P.Brsh.v;k.Dmtr.v.val=X.L.o;
k.Spcn.v.val=f;G.list.push({t:"Objc",v:P})}j+=M}return G};XU.CS=function(S){var G=new Ck,j=0,z=0;W.nG(G,j,6);
j+=2;W.nG(G,j,2);j+=2;W.cZ(G,j,"8BIMsamp");j+=8;j+=4;z=j;j=XU.NX(G,j,S.qH);W.W(G,z-4,j-z);W.cZ(G,j,"8BIMpatt");
j+=8;j+=4;z=j;j=XU.nO(G,j,S.ki);W.W(G,z-4,j-z);var O={classID:"null",Brsh:{t:"VlLs",v:S.list}};W.cZ(G,j,"8BIMdesc");
j+=8;j+=4;z=j;W.W(G,j,16);j+=4;j+=YD.MU(G,O,j);W.W(G,z-4,j-z);return G.data.slice(0,j).buffer};XU._b=function(S,G,j,z,O){var i=W.O,C=W.QX,M=G+j,D=[];
while(G<M){var X={};D.push(X);var l=i(S,G);G+=4;var f=G,F=W.Sg(S,G);G+=F.length;X.id=F.YW;if(z==1){G+=9;
X.L=C(S,G);G+=16}else{G+=7;var $=i(S,G);G+=4;X.L=C(S,G);G+=16;var _=i(S,G);G+=4;G+=_*4;var P=i(S,G);
G+=4;var k=i(S,G);G+=4;var H=C(S,G);G+=16}var q=W.GP(S,G);G+=2;var R=S[G];G+=1;X.channel=MY.UG(!1,q,S,X.L.o,X.L.i,G,R);
if(l%4!=0)l+=4-l%4;G=f+l}return D};XU.NX=function(S,G,j){var z=W.W,O=W.cW;for(var i=0;i<j.length;i++){var C=j[i],M=G+4,X=56,f=1;
G+=4;W.xA(S,G,C.id);G+=C.id.length+2;S.nv(G,1);S.data[G]=1;G+=3;z(S,G,3);G+=4;var D=G;G+=4;O(S,G,C.L);
G+=16;z(S,G,X);G+=4;G+=X*4;z(S,G-4,1);var l=G;G+=4;z(S,G,8);G+=4;O(S,G,C.L);G+=16;W.nG(S,G,8);G+=2;S.nv(G,1);
S.data[G]=f;G++;S.nv(G,C.L.h()*2);G=MY.nL(C.channel,S.data,C.L.o,C.L.i,G,f);S.nv(G,8);G+=8;var F=G-M;
z(S,M-4,F);z(S,D,F-49);z(S,l,F-305);if(F%4!=0)G+=4-F%4}return G};XU.ni=function(S,G,j){var z=G+j,O=[];
while(G<z){var i={};O.push(i);var C=W.O(S,G);G+=4;var M=G;G=Se.NC(S,G,i);if(C%4!=0)C+=4-C%4;G=M+C}return O};
XU.nO=function(S,G,j){for(var z=0;z<j.length;z++){var O=j[z];G+=4;var i=G;G=Se.NS(S,G,O);var C=G-i;W.W(S,i-4,C);
if(C%4!=0)i+=4-C%4;G=i+C}return G};function fp(){}fp.wD=function(S){var G=new Uint8Array(S),j=[],z=0,O=W.GP(G,z);
z+=2;if(O!=4){throw"Unknown version of curves: "+O}var i=W.GP(G,z);z+=2;for(var C=0;C<i;C++){var M=fp.NM(G,z);
z+=2+2*M.length;j.push(M)}if(z==G.length)return j;var D=W.PP(G,z,4);z+=4;var X=W.GP(G,z);z+=2;var l=W.GP(G,z);
z+=2;if(l!=0)throw"extra curves for channels";return j};fp.UY=function(S,G,j){var z=G,O=[],i=S[G];G+=3;
var C=W.O(S,G);G+=4;for(var M=0;M<4;M++){var D=C>>>M&1;if(D){if(i==0){var X=fp.NM(S,G);G+=2+2*X.length}else{var X=fp.fdY(S,G);
G+=256}O.push(X)}else O.push(i==0?[0,0,255,255]:fp.fwE())}var l=Yy.Cr("curv");for(var M=0;M<4;M++){if(i==0){var f=O[M],F=[];
for(var $=0;$<f.length;$+=2)F.push(x.aY.VS(f[$],f[$+1],!0));fp.mL(l,M,F)}else fp.mL(l,M,O[M])}return l};
fp.fwE=function(){var S=[];for(var G=0;G<256;G++)S.push(G);return S};fp.mL=function(S,G,j){var z=Cr.Ss("CrvA",G);
if(j.length<256)z.Crv={t:"VlLs",v:j};else{z.Mpng={t:"VlLs",v:[]};for(var O=0;O<256;O++)z.Mpng.v[O]={t:"long",v:j[O]}}z={t:"Objc",v:z};
var i=S.Adjs.v,C=Cr.RY(i,G);if(C==-1)i.push(z);else i[C]=z};fp.rf=function(S,G){var j=S.Adjs.v,z=Cr.RY(j,G);
if(z==-1){if(j.length==0||j[0].v.Crv)return[x.aY.VS(0,0,!0),x.aY.VS(255,255,!0)];var O=[];for(var i=0;
i<256;i++)O.push(i);return O}var C=j[z].v,M=C.Crv;if(M)return M.v;var O=[];for(var i=0;i<256;i++)O.push(C.Mpng.v[i].v);
return O};fp.NM=function(S,G){var j=[],z=W.GP(S,G);G+=2;for(var O=0;O<z;O++){var i=W.GP(S,G);G+=2;var C=W.GP(S,G);
G+=2;j.push(C,i)}return j};fp.fwL=function(S,G,j){var z=j.length/2;W.nG(S,G,z);G+=2;for(var O=0;O<z;
O++){W.nG(S,G,j[O*2+1]);G+=2;W.nG(S,G,j[O*2+0]);G+=2}};fp.fdY=function(S,G){var j=[];for(var z=0;z<256;
z++)j.push(S[G+z]);return j};fp.fdK=function(S,G,j){S.nv(G,256);for(var z=0;z<256;z++)S.data[G+z]=j[z]};
fp.US=function(S,G,j){var z=[];for(var O=0;O<4;O++){var i=fp.rf(j,O);if(i.length==256)z.push(i);else{var C=[];
for(var M=0;M<i.length;M++)C.push(i[M].v.Hrzn.v,i[M].v.Vrtc.v);z.push(C)}}var D=G,X=z[0].length==256?1:0;
S.nv(G,3);S.data[G]=X;S.data[G+1]=0;S.data[G+2]=1;G+=3;W.W(S,G,15);G+=4;for(var O=0;O<4;O++){var l=z[O];
if(X==0){fp.fwL(S,G,l);G+=2+2*l.length}else{fp.fdK(S,G,l);G+=256}}return G-D};function fu(){}fu.UY=function(S,G,j){var z={},O=W.GP(S,G);
G+=2;z.hn=S[G]==1;G++;G++;z.SH=[W.Et(S,G),W.Et(S,G+2),W.Et(S,G+4)];G+=6;z.Sj=[W.Et(S,G),W.Et(S,G+2),W.Et(S,G+4)];
G+=6;z.fb=[];for(var i=0;i<6;i++){var C={};C.I_=[W.Et(S,G),W.Et(S,G+2),W.Et(S,G+4),W.Et(S,G+6)];G+=8;
C.nB=[W.Et(S,G),W.Et(S,G+2),W.Et(S,G+4)];G+=6;z.fb.push(C)}var M=Yy.Cr("hue2"),D=z;if(M.Clrz==null)M.Clrz={t:"bool",v:!1};
M.Clrz.v=D.hn;for(var i=0;i<7;i++){var X=i==0?D.hn?D.SH:D.Sj:D.fb[i-1];fu.mL(M,i,X)}return M};fu.fdT=function(S){return{classID:"Hst2",H:{t:"long",v:S[0]},Strt:{t:"long",v:S[1]},Lght:{t:"long",v:S[2]}}};
fu.RY=function(S,G){for(var j=0;j<S.length;j++){var z=S[j].v.LclR;if(G==0&&z==null||z!=null&&z.v==G)return j}return-1};
fu.mL=function(S,G,j){var z=G==0?j:j.nB,O=fu.fdT(z);if(G!=0){var i=j.I_;O.LclR={t:"long",v:G},O.BgnR={t:"long",v:i[0]};
O.BgnS={t:"long",v:i[1]};O.EndS={t:"long",v:i[2]};O.EndR={t:"long",v:i[3]}}O={t:"Objc",v:O};var C=S.Adjs.v,M=fu.RY(C,G);
if(M==-1)C.push(O);else C[M]=O};fu.rf=function(S,G){var j=S.Adjs.v,z=fu.RY(j,G);if(z==-1){if(G==0)return[0,0,0];
else return[{I_:[315,345,15,45],nB:[0,0,0]},{I_:[15,45,75,105],nB:[0,0,0]},{I_:[75,105,135,165],nB:[0,0,0]},{I_:[135,165,195,225],nB:[0,0,0]},{I_:[195,225,255,285],nB:[0,0,0]},{I_:[255,285,315,345],nB:[0,0,0]}][G-1]}var O=j[z].v,i=[O.H.v,O.Strt.v,O.Lght.v];
if(G==0)return i;return{nB:i,I_:[O.BgnR.v,O.BgnS.v,O.EndS.v,O.EndR.v]}};fu.US=function(S,G,j){var z={hn:j.Clrz.v,fb:[]};
z.SH=z.Sj=fu.rf(j,0);for(var O=1;O<7;O++)z.fb.push(fu.rf(j,O));var i=2+2+12+6*14,C=S.data;S.nv(G,i);
W.iD(C,G,2);G+=2;C[G]=z.hn?1:0;G++;G++;W.iI(C,G+0,z.SH[0]);W.iI(C,G+2,z.SH[1]);W.iI(C,G+4,z.SH[2]);G+=6;
W.iI(C,G+0,z.Sj[0]);W.iI(C,G+2,z.Sj[1]);W.iI(C,G+4,z.Sj[2]);G+=6;for(var O=0;O<6;O++){var M=z.fb[O].I_,D=z.fb[O].nB;
W.iI(C,G+0,M[0]);W.iI(C,G+2,M[1]);W.iI(C,G+4,M[2]);W.iI(C,G+6,M[3]);G+=8;W.iI(C,G+0,D[0]);W.iI(C,G+2,D[1]);
W.iI(C,G+4,D[2]);G+=6}return i};function Cr(){}Cr.wD=function(S){var G=new Uint8Array(S),j=2,z=[];for(var O=0;
O<29;O++){var i=[];z.push(i);for(var C=0;C<5;C++)i.push(W.GP(G,j+O*10+C*2))}j+=29*10;if(j<G.length){var M=W.PP(G,j,4);
j+=4;var D=W.GP(G,j);j+=2;var X=W.GP(G,j);j+=2;var l=X-29;for(var O=0;O<l;O++){var i=[];z.push(i);for(var C=0;
C<5;C++)i.push(W.GP(G,j+O*10+C*2))}}var f=Yy.Cr("levl");for(var O=0;O<4;O++)Cr.mL(f,O,z[O]);return f};
Cr.Ss=function(S,G){var j=["Cmps","Rd","Grn","Bl"],z={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:j[G]}}]};
return{classID:S,Chnl:z}};Cr.RY=function(S,G){var j={Cmps:0,Rd:1,Grn:2,Bl:3};for(var z=0;z<S.length;
z++){var O=S[z].v,i=j[O.Chnl.v[0].v.enum];if(i==G)return z}return-1};Cr.mL=function(S,G,j){var z=Cr.Ss("LvlA",G);
z.Inpt={t:"VlLs",v:[{t:"long",v:j[0]},{t:"long",v:j[1]}]};z.Otpt={t:"VlLs",v:[{t:"long",v:j[2]},{t:"long",v:j[3]}]};
z.Gmm={t:"doub",v:j[4]/100};z={t:"Objc",v:z};var O=S.Adjs.v,i=Cr.RY(O,G);if(i==-1)O.push(z);else O[i]=z};
Cr.rf=function(S,G){var j=[0,255,0,255,100],z=S.Adjs.v,O=Cr.RY(z,G);if(O==-1)return j;var i=z[O].v;if(i.Inpt){j[0]=i.Inpt.v[0].v;
j[1]=i.Inpt.v[1].v}if(i.Otpt){j[2]=i.Otpt.v[0].v;j[3]=i.Otpt.v[1].v}if(i.Gmm){j[4]=Math.round(i.Gmm.v*100)}return j};
Cr.CS=function(S,G){var j=[],O=0;for(var z=0;z<4;z++)j.push(Cr.rf(G,z));while(j.length<29)j.push([0,255,0,255,100]);
S.nv(0,2+10*29);W.iD(S.data,O,2);O+=2;for(var z=0;z<29;z++){var i=j[z];for(var C=0;C<5;C++)W.iD(S.data,O+z*10+C*2,i[C])}O+=29*10;
if(j.length==29)return O;S.nv(O,8+10*(j.length-29));W.CL(S.data,O,"Lvls");O+=4;W.iD(S.data,O,3);O+=2;
W.iD(S.data,O,j.length);O+=2;var M=j.length-29;for(var z=0;z<M;z++){var i=j[29+z];for(var C=0;C<5;C++)W.iD(S.data,O+z*10+C*2,i[C])}O+=10*M;
return O};function PY(){}PY.wD=function(S){var G=new Uint8Array(S),j=2,z={hJ:[],fN:[]},O=W.PP(G,j,4);
j+=4;var i=W.GP(G,j);j+=2;var C=W.O(G,j);j+=4;z.hJ=XU.ni(G,j,C);j+=C;var M=W.O(G,j);j+=4;for(var D=0;
D<M;D++){var X=W.O(G,j);j+=4;var l=j,f={kT:{},qi:{}};z.fN.push(f);j+=4;j+=YD.EV(G,f.kT,j);j+=4;j+=YD.EV(G,f.qi,j);
j=l+X;var F=f.qi.blendOptions,$=f.qi.Lefx;if(F&&Object.keys(F.v).length>1){}if($){if($.v.masterFXSwitch==null)$.v.masterFXSwitch={t:"bool",v:!0};
fh.Sc($.v)}}return z};PY.Yp=function(S,G){S.kT.Nm.v=G};PY.CS=function(S){var G=new Ck,j=0;W.nG(G,j,2);
j+=2;W.cZ(G,j,"8BSL");j+=4;W.nG(G,j,3);j+=2;var z=j;j+=4;j=XU.nO(G,j,S.hJ);W.W(G,z,j-z-4);var O=S.fN.length;
W.W(G,j,O);j+=4;for(var i=0;i<O;i++){j+=4;var C=j,M=S.fN[i];W.W(G,j,16);j+=4;j+=YD.MU(G,M.kT,j);var D=M.qi.Lefx;
if(D){M.qi.Lefx=JSON.parse(JSON.stringify(D));fh.Sy(M.qi.Lefx.v)}W.W(G,j,16);j+=4;j+=YD.MU(G,M.qi,j);
if(D)M.qi.Lefx=D;W.W(G,C-4,j-C)}return G.data.slice(0,j).buffer};function Cx(){}Cx.UY=function(S,G,j){var z=W.GP(S,G);
G+=2;var O={};O.wy=W.GP(S,G)==1;G+=2;O.dW=[];for(var i=0;i<10;i++){var C=[];O.dW.push(C);for(var M=0;
M<4;M++)C.push(W.Et(S,G+M*2));G+=8}var D=Yy.Cr("selc");D.Mthd.v.CrcM=O.wy?"Absl":"Rltv";for(var i=1;
i<10;i++)Cx.mL(D,i-1,O.dW[i]);return D};Cx.nh="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
Cx.Ss=function(S,G){var j=["Cmps","Rd","Grn","Bl"],z={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:j[G]}}]};
return{classID:S,Chnl:z}};Cx.RY=function(S,G){var j=Cx.nh;for(var z=0;z<S.length;z++){var O=S[z].v,i=j.indexOf(O.Clrs.v.Clrs);
if(i==G)return z}return-1};Cx.mL=function(S,G,j){var z=["Cyn","Mgnt","Ylw","Blck"],O={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:Cx.nh[G]}}};
for(var i=0;i<4;i++)O[z[i]]={t:"UntF",v:{type:"#Prc",val:j[i]}};O={t:"Objc",v:O};var C=S.ClrC.v,M=Cx.RY(C,G);
if(M==-1)C.push(O);else C[M]=O};Cx.rf=function(S,G){var j=[0,0,0,0],z=S.ClrC.v,O=Cx.RY(z,G);if(O==-1)return j;
var i=["Cyn","Mgnt","Ylw","Blck"];for(var C=0;C<4;C++)j[C]=z[O].v[i[C]].v.val;return j};Cx.US=function(S,G,j){var z={wy:j.Mthd.v.CrcM=="Absl",dW:[[0,0,0,0]]};
for(var O=0;O<9;O++)z.dW.push(Cx.rf(j,O));S.nv(G,84);W.iD(S.data,G,1);G+=2;W.iD(S.data,G,z.wy?1:0);G+=2;
for(var O=0;O<10;O++){var i=z.dW[O];for(var C=0;C<4;C++)W.iI(S.data,G+C*2,i[C]);G+=8}return 84};function CO(){}CO.Cr=function(){return{HQ:new Q(0,0,50,50),kT:"",Xx:"play",z:x.p.Go.Vi([.1,.1,.9,.5,.1,.9],0)}};
CO.wD=function(S){S=new Uint8Array(S);var G=0,j=[],z=Date.now(),O=W.PP(S,0,4);G+=4;var i=W.O(S,G);G+=4;
var C=W.O(S,G);G+=4;for(var M=0;M<C;M++){var D=W.KC(S,G);G+=D.length*2+4+2;if((D.length&1)==0)G+=2;var X=W.O(S,G);
G+=4;var l=W.O(S,G);G+=4;var f=G,F=W.Sg(S,f).YW;f+=F.length+1;var $=W.QX(S,f);f+=16;var _=CO.nU(S,f,l-(f-G)),P=x.p.Vc(_),k=x.Y.wR(P),H=1/k.o,q=1/k.i;
x.p.hu(_,new Ym(H,0,0,q,-k.x*H,-k.y*q));j.push({Xx:D,kT:F,z:_,HQ:$});G+=l}return j};CO.Yp=function(S,G){S.Xx=G};
CO.CS=function(S){var G=new Ck,j=0;W.cZ(G,j,"cush");j+=4;W.W(G,j,2);j+=4;W.W(G,j,S.length);j+=4;for(var z=0;
z<S.length;z++){var O=S[z],i=O.Xx+"\0";W.Kw(G,j,i);j+=4+i.length*2;if((i.length&1)==1)j+=2;W.W(G,j,1);
j+=4;j+=4;var C=j;W.xA(G,j,O.kT);j+=O.kT.length+1;W.cW(G,j,O.HQ);j+=16;G.nv(j,O.z.length*26);CO.Sm(G.data,j,O.z,1,1);
j+=O.z.length*26;var M=j-C;if((M&3)!=0)M+=4-(M&3);W.W(G,C-4,M);j=C+M}return G.data.slice(0,j).buffer};
CO.nU=function(S,G,j,z,O){if(z==null)z=1;if(O==null)O=1;var i=W.Et,C=W.fgy,M=[],D=Math.floor(j/26);for(var X=0;
X<D;X++){var l=G+X*26,f={},F=0;M.push(f);f.type=i(S,l);l+=2;if(f.type==6){F=24}if(f.type==8){f.all=i(S,l);
l+=2;F=22}if(f.type==0||f.type==3){f.length=i(S,l);l+=2;f.ta=i(S,l);l+=2;f.lj=i(S,l);l+=2;f.vG=W.O(S,l);
l+=4;f.pS=W.O(S,l);l+=4;F=10}if(f.type==1||f.type==2||f.type==4||f.type==5){var $,_;_=C(S,l);l+=4;$=C(S,l);
l+=4;f.Cu=new A($*z,_*O);_=C(S,l);l+=4;$=C(S,l);l+=4;f.K=new A($*z,_*O);_=C(S,l);l+=4;$=C(S,l);l+=4;
f.tw=new A($*z,_*O);F=0}for(var P=0;P<F;P++)if(S[l+P]!=0){console.log("Unexpected non-zero byte!",f,P,S[l+P])}}return M};
CO.Sm=function(S,G,j,z,O){var i=W.iI,C=W.rP,M=j.length;for(var D=0;D<M;D++){var X=G+D*26,l=j[D];i(S,X,l.type);
X+=2;if(l.type==6){}if(l.type==8)i(S,X,l.all);if(l.type==0||l.type==3){i(S,X,l.length);X+=2;i(S,X,l.ta);
X+=2;i(S,X,l.lj);X+=2}if(l.type==1||l.type==2||l.type==4||l.type==5){C(S,X,l.Cu.y/O);X+=4;C(S,X,l.Cu.x/z);
X+=4;C(S,X,l.K.y/O);X+=4;C(S,X,l.K.x/z);X+=4;C(S,X,l.tw.y/O);X+=4;C(S,X,l.tw.x/z);X+=4}}};function SZ(){}SZ.wD=function(S){var G=new Uint8Array(S),j=[],z=0;
z=SZ.No(G,z,j);if(z+3<G.length){j=[];z=SZ.No(G,z,j)}return j};SZ.No=function(S,G,j){var z=W.GP,O=W.Et,i=z(S,G);
G+=2;var C=z(S,G);G+=2;for(var M=0;M<C;M++){var D=SZ.iy(S,G);G+=10;if(i==2){D.iS=W.KC(S,G);G+=4+D.iS.length*2+2}j.push(D)}return G};
SZ.iy=function(S,G){var j=W.GP,z=W.Et,O=j(S,G),$=null;G+=2;var i=j(S,G);G+=2;var C=j(S,G);G+=2;var M=j(S,G);
G+=2;var D=j(S,G);G+=2;var X=1/65535,l=255/65535,f=100/65535,F=255/1e4;if(O==0)$={H:i*l,X:C*l,C:M*l};
else if(O==1){$=x.HV(i*X,C*X,M*X);$.H*=255;$.X*=255;$.C*=255}else if(O==2)$=x.T.cx({classID:"CMYC",Cyn:{t:"doub",v:100-i*f},Mgnt:{t:"doub",v:100-C*f},Ylw:{t:"doub",v:100-M*f},Blck:{t:"doub",v:100-D*f}});
else if(O==7){var _=x.bW(i/100,z(S,G-6)/100,z(S,G-4)/100);$=_}else if(O==8){$={H:255-i*F,X:255-C*F,C:255-M*F}}else throw"e "+O+", ";
return $};SZ.CS=function(S){var G=new Ck,j=0,z=W.nG;z(G,j,2);j+=2;z(G,j,S.length);j+=2;for(var O=0;O<S.length;
O++){var i=S[O];G.nv(j,10);SZ.UO(G.data,j,i);j+=10;var C=(i.iS?i.iS:"")+"\0";W.Kw(G,j,C);j+=4+C.length*2}return G.data.slice(0,j).buffer};
SZ.Yp=function(S,G){S.iS=G};SZ.UO=function(S,G,j){var z=65535/255,O=W.iD;O(S,G,0);O(S,G+2,Math.round(j.H*z));
O(S,G+4,Math.round(j.X*z));O(S,G+6,Math.round(j.C*z));O(S,G+8,0)};function XH(){}XH.wD=function(S){var G=new Uint8Array(S),j=4,z={};
z.mj=W.KC(G,j);j+=4+z.mj.length*2+2;z.exp=G[j++]==1;z.G=[];var O=W.O(G,j);j+=4;for(var i=0;i<O;i++){var C={};
z.G.push(C);C.Qf=W.GP(G,j);j+=2;C.shift=G[j++]==1;C.fKd=G[j++]==1;C.color=W.GP(G,j);j+=2;C.mj=W.KC(G,j);
j+=4+C.mj.length*2+2;C.exp=G[j++]==1;C.G=[];var Cf=W.O(G,j);j+=4;for(var M=0;M<Cf;M++){var D={};C.G.push(D);
D.exp=G[j++]==1;D.b=G[j++]==1;D.fWZ=G[j++]==1;D.fWE=G[j++];var X=W.PP(G,j,4);j+=4;if(X=="TEXT"){D.mB=XH.UN(G,j);
j+=4+D.mB.length}else if(X=="long"){D.mB=W.PP(G,j,4);j+=4}else throw"e";D.hl=XH.UN(G,j);j+=4+D.hl.length;
var l=W.SM(G,j);j+=4;if(l==-1){D.MZ={};var f=YD.EV(G,D.MZ,j);j+=f}}}console.log(z);var F=new Uint8Array(XH.CS(z));
for(var i=0;i<F.length;i++)if(F[i]!=G[i]){console.log(F.length,G.length);var $=4*(i>>>2)-16;console.log(W.Ap(G,$,64));
console.log(W.Ap(F,$,64));console.log(G.slice($,$+64));console.log(F.slice($,$+64));throw i}console.log(z);
return[z]};XH.UN=function(S,G){var j=W.O(S,G);return W.PP(S,G+4,j)};XH.NY=function(S,G,j){W.W(S,G,j.length);
W.cZ(S,G+4,j)};XH.CS=function(S){var G=new Ck,j=0;W.W(G,j,16);j+=4;W.Kw(G,j,S.mj+"\0");j+=4+S.mj.length*2+2;
G.nv(j,1);G.data[j++]=S.exp?1:0;var z=S.G.length;W.W(G,j,z);j+=4;for(var O=0;O<z;O++){var i=S.G[O];W.nG(G,j,i.Qf);
j+=2;G.nv(j,2);G.data[j++]=i.shift?1:0;G.data[j++]=i.fKd?1:0;W.nG(G,j,i.color);j+=2;W.Kw(G,j,i.mj+"\0");
j+=4+i.mj.length*2+2;G.nv(j,1);G.data[j++]=i.exp?1:0;var Cf=i.G.length;W.W(G,j,Cf);j+=4;for(var C=0;
C<Cf;C++){var M=i.G[C];G.nv(j,4);G.data[j++]=M.exp?1:0;G.data[j++]=M.b?1:0;G.data[j++]=M.fWZ?1:0;G.data[j++]=M.fWE;
var D=M.mB=="LqFy"||M.mB=="Avrg"||M.mB=="GEfc";W.cZ(G,j,D?"long":"TEXT");j+=4;if(!D){XH.NY(G,j,M.mB);
j+=4+M.mB.length}else{W.cZ(G,j,M.mB);j+=4}XH.NY(G,j,M.hl);j+=4+M.hl.length;W.fn(G,j,M.MZ?-1:0);j+=4;
if(M.MZ){var X=YD.MU(G,M.MZ,j);j+=X}}}return G.data.slice(0,j).buffer};function Sc(){}Sc.wD=function(S){var G=new Uint8Array(S),j=0,z=W.O(G,j),D;
j+=4;var O=W.PP(G,j,8);j+=8;var i=W.zx(G,j);j+=4;var C=W.zx(G,j);j+=4;var M=W.zx(G,j);j+=4;if(z==2){D=new Float32Array(S,32,S.byteLength-32>>>2)}else if(z==3){D=new Float32Array(C*M*2);
var X=0,l=0,f=!0;j=32;while(j<G.length){var F=W.zx(G,j);j+=4;if(f)l+=F;else{for(var $=0;$<F;$++){D[X+l+$<<1]=W.PD(G,j);
D[(X+l+$<<1)+1]=W.PD(G,j+4);j+=8}l+=F}f=!f;if(F!=0&&l==C){X+=C;l=0;f=!0;if(X==C*M)break}}}else throw"unknown Mesh version: "+z;
return{YC:C,QM:M,map:D}};Sc.Rk=function(S){var G=S.YC,j=S.QM,z=S.map,O=new Uint8Array(32+j*G*8+j*8),i=0,C=0;
W.Wk(O,i,3);i+=4;W.CL(O,i,"yfqLhseM");i+=8;W.Wu(O,i,2);i+=4;W.Wu(O,i,G);i+=4;W.Wu(O,i,j);i+=4;W.Wu(O,i,0);
i+=4;W.Wu(O,i,1);i+=4;for(var M=0;M<j;M++){W.Wu(O,i,0);i+=4;W.Wu(O,i,G);i+=4;for(var D=0;D<G;D++){W.PO(O,i,z[C]);
W.PO(O,i+4,z[C+1]);C+=2;i+=8}}return O.buffer};function PJ(){}PJ.wD=function(S){var G=new Uint8Array(S),j=0,z=W.PP(G,j,4);
j+=4;var O=W.GP(G,j);j+=2;var i=W.O(G,j);j+=4;var C=[];for(var M=0;M<i;M++){var D=W.O(G,j);j+=4;var X={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
C.push(X);var l=W.KC(G,j);X.Nm.v=l;j+=4+l.length*2+2;var f=W.GP(G,j);j+=2;var F=W.GP(G,j);j+=2;for(var $=0;
$<F;$++){var _=x.aY.VS(0,0,!0);_.v.Vrtc.v=W.GP(G,j);j+=2;_.v.Hrzn.v=W.GP(G,j);j+=2;X.Crv.v.push(_)}if(D==1){}else if(D==2){for(var $=0;
$<F;$++){X.Crv.v[$].v.Cnty.v=G[j]==1;j+=1}}else throw"error";var P=W.O(G,j);j+=4;var k=W.O(G,j);j+=4}return C};
PJ.Yp=function(S,G){S.Nm.v=G};PJ.CS=function(S){var G=new Ck,j=0;W.cZ(G,j,"8BFS");j+=4;W.nG(G,j,1);j+=2;
W.W(G,j,S.length);j+=4;for(var z=0;z<S.length;z++){W.W(G,j,2);j+=4;var O=S[z];W.Kw(G,j,O.Nm.v+"\0");
j+=4+O.Nm.v.length*2+2;W.nG(G,j,2);j+=2;var i=O.Crv.v.length;W.nG(G,j,i);j+=2;for(var C=0;C<i;C++){var M=O.Crv.v[C];
W.nG(G,j,M.v.Vrtc.v);j+=2;W.nG(G,j,M.v.Hrzn.v);j+=2}G.nv(j,i);for(var C=0;C<i;C++){G.data[j]=O.Crv.v[C].v.Cnty.v;
j++}W.W(G,j,0);j+=4;W.W(G,j,0);j+=4}return G.data.slice(0,j).buffer};function Se(){}Se.wD=function(S){var G=new Uint8Array(S),j=4,z=W.GP(G,j);
j+=2;var O=W.O(G,j);j+=4;var i=[];for(var C=0;C<O;C++){var M={};i.push(M);j=Se.NC(G,j,M)}return i};Se.Yp=function(S,G){S.name=G};
Se.CS=function(S){var G=new Ck,j=0;W.cZ(G,j,"8BPT");j+=4;W.nG(G,j,1);j+=2;W.W(G,j,S.length);j+=4;for(var z=0;
z<S.length;z++){j=Se.NS(G,j,S[z])}return G.data.slice(0,j).buffer};Se.NC=function(S,G,j){var z=W.O(S,G);
G+=4;if(z!=1)alert("Unknown version of pattern");var O=W.O(S,G);G+=4;if(O!=1&&O!=2&&O!=3)console.log("Unsupported mode of pattern: "+O);
var i=W.GP(S,G);G+=2;var C=W.GP(S,G);G+=2;j.L=new Q(0,0,C,i);j.name=W.KC(S,G);G+=4+2*j.name.length+2;
var M=S[G];G++;j.id=W.PP(S,G,M);G+=j.id.length;var D=-1;if(O==2){D=G;G+=3*256+4}var X=new x.XL(C*i);
G=Se.fdZ(S,G,X);if(O==2){for(var l=0;l<X.H.length;l++){var f=3*X.H[l];X.H[l]=S[D+f+0];X.X[l]=S[D+f+1];
X.C[l]=S[D+f+2]}}j.hC=x.S(j.L.h()*4);x.FP(X,j.hC);return G};Se.NS=function(S,G,j){W.W(S,G,1);G+=4;W.W(S,G,3);
G+=4;W.nG(S,G,j.L.i);G+=2;W.nG(S,G,j.L.o);G+=2;W.Kw(S,G,j.name+"\0");G+=4+2*j.name.length+2;W.pb(S,G,j.id.length);
G++;W.cZ(S,G,j.id);G+=j.id.length;var z=new x.XL(j.L.h());x.fy(j.hC,z);G=Se.fcM(S,G,z,j);return G};Se.fdZ=function(S,G,j){var z=G,O={L:null,qk:[],fsJ:null,SU:null},i=W.O(S,G);
G+=4;var C=W.O(S,G);G+=4;O.L=W.QX(S,G);G+=16;var M=W.O(S,G);G+=4;for(var D=0;D<M+2;D++){var X=W.O(S,G);
G+=4;if(X==0)continue;var l=W.O(S,G);G+=4;if(l==0)continue;var f=W.O(S,G);G+=4;var F=W.QX(S,G);G+=16;
var $=W.GP(S,G);G+=2;var _=S[G];G++;var P=MY.UG(!1,f,S,F.o,F.i,G,_);if(D<M)O.qk.push(P);if(D==M)O.fsJ=P;
if(D==M+1)O.SU=P;G+=l-23}if(O.qk[0])j.H=O.qk[0];if(O.qk[1])j.X=O.qk[1];else j.X=x.clone(O.qk[0]);if(O.qk[2])j.C=O.qk[2];
else j.C=x.clone(O.qk[0]);if(O.SU)j.A=O.SU;else x.set(j.A,255);return G};Se.fcM=function(S,G,j,z){var O=G,i={L:z.L,qk:[j.H,j.X,j.C],fsJ:null,SU:j.A};
W.W(S,G,3);G+=4;W.W(S,G,0);G+=4;W.cW(S,G,i.L);G+=16;W.W(S,G,24);G+=4;for(var C=0;C<24+2;C++){var M=G,D=C<3||C==25?1:0;
W.W(S,G,D);G+=4;if(D==0)continue;W.W(S,G,0);G+=4;W.W(S,G,8);G+=4;W.cW(S,G,i.L);G+=16;W.nG(S,G,8);G+=2;
W.pb(S,G,1,1);G++;var X=C<3?i.qk[C]:i.SU;S.nv(G,z.L.h()+2);G=MY.nL(X,S.data,z.L.o,z.L.i,G,1);W.W(S,M+4,G-M-8)}W.W(S,O+4,G-O-8);
return G};function PB(){}PB.wD=function(S){var G=new Uint8Array(S),j=0,z=W.PP(G,j,4);j+=4;var O=W.GP(G,j);
j+=2;var i={},C=YD.EV(G,i,j+4),M=i.GrdL.v,D=[];for(var X=0;X<M.length;X++)D[X]=M[X].v.Grad.v;return D};
PB.Yp=function(S,G){S.Nm.v=G};PB.CS=function(S){var G=new Ck,j=0;W.cZ(G,j,"8BGR");j+=4;W.nG(G,j,5);j+=2;
W.W(G,j,16);j+=4;var z={classID:"null",GrdL:{t:"VlLs",v:[]}},O=z.GrdL.v;for(var i=0;i<S.length;i++)O[i]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:S[i]}}};
j+=YD.MU(G,z,j);return G.data.slice(0,j).buffer};function Pm(){}Pm.wD=function(S){var G=new Uint8Array(S),j=[],z=[],O=[],i=0,C=W.PP(G,i,4);
i+=4;var M=W.O(G,i);i+=4;var D=W.O(G,i);i+=4;while(i<G.length){var X=W.PP(G,i,4);i+=4;var l=W.PP(G,i,4);
i+=4;var f=W.O(G,i);i+=4;if(l=="tppa"){z=XU.ni(G,i,f);i+=f}else if(l=="tpbd"){O=XU._b(G,i,f,1,1);i+=f}else if(l=="tptp"){var F=W.O(G,i);
i+=4;for(var $=0;$<F;$++){var _=W.KC(G,i);i+=6+_.length*2;i+=4;var P={};i+=YD.EV(G,P,i);j.push([_,P])}while((i&3)!=0)i++}else{console.log(G.slice(i-8,i+64));
console.log(W.PP(G,i-8,64));throw l}}return{qH:O,ki:z,list:j}};Pm.Yp=function(S,G){S[0]=G};Pm.CS=function(S){var G=new Ck,j=0;
W.cZ(G,j,"8BTP");j+=4;W.W(G,j,3);j+=4;W.W(G,j,1);j+=4;var z=[S.ki,S.qH,S.list];for(var O=0;O<3;O++){if(z[O].length==0)continue;
W.cZ(G,j,"8BIM");j+=4;var i=["tppa","tpbd","tptp"][O];W.cZ(G,j,i);j+=4;var C=j;j+=4;if(i=="tppa"){j=XU.nO(G,j,S.ki)}else if(i=="tpbd"){j=XU.NX(G,j,S.qH)}else if(i=="tptp"){W.W(G,j,S.list.length);
j+=4;for(var M=0;M<S.list.length;M++){var D=S.list[M];W.Kw(G,j,D[0]+"\0");j+=6+D[0].length*2;W.W(G,j,16);
j+=4;j+=YD.MU(G,D[1],j)}}W.W(G,C,j-C-4);while((j&3)!=0)j++;G.nv(j,0)}return G.data.slice(0,j).buffer};
function f_(){}f_.wD=function(S,G){var j=new Uint8Array(S),z;if(W.O(j,0)==j.length)z="icc";else if(j[0]=="<".charCodeAt(0))z="look";
else if(W.Nq(j,"LUT_3D_SIZE")!=-1)z="cube";else z="3DL";if(z!="icc"){var O=f_.fcW(j,z),i=f_.fco(O[0],O[1]);
j=i}var C=[];for(var M=0;M<j.length;M++)C.push(j[M]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:G?G:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:C}}]};
f_.CS=function(S){var G=S[0],j=new Uint8Array(G.profile.v);return j.buffer};f_.Yp=function(S,G){S.Nm.v=G};
f_.fco=function(S,G){var j=new Ck,z=128;j.nv(0,128);var O=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var i=0;i<O.length;i++)j.data[i]=O[i];var C=["desc","A2B0"],M=C.length,D=128+4+M*12;W.W(j,z,M);z+=4;
for(var X=0;X<M;X++){var l=C[X];W.cZ(j,z,l);z+=4;W.W(j,z,D);z+=4;var f=D;if(l=="desc"){W.cZ(j,f,"mluc");
f+=4;f+=4;W.W(j,f,1);f+=4;W.W(j,f,12);f+=4;W.cZ(j,f,"enUS");f+=4;var F="ICC by Photopea\0",$=F.length*2+2;
W.W(j,f,$);f+=4;W.W(j,f,28);f+=4;j.nv(f,$);for(var i=0;i<F.length;i++)j.data[f+i*2+1]=F.charCodeAt(i);
f+=$}if(l=="A2B0"){W.cZ(j,f,"mAB ");f+=4;f+=4;j.nv(f,4);j.data[f]=3;j.data[f+1]=3;f+=4;j.nv(f,4*5);f+=4*3;
W.W(j,f,f+8-D);f+=4;f+=4;j.nv(f,20);j.data[f]=S;j.data[f+1]=S;j.data[f+2]=S;f+=16;j.data[f]=2;f+=4;var _=S*S*S*3;
j.nv(f,_*2);for(var i=0;i<_;i++)W.iD(j.data,f+i*2,Math.max(0,Math.min(65535,Math.round(G[i]*65535))));
f+=_*2}var P=f-D;while((P&3)!=0)P++;W.W(j,z,P);z+=4;D+=P}W.W(j,0,D);return j.data.slice(0,D)};f_.fcW=function(S,G){G="LUTFormat"+G.toUpperCase();
var j=[],z=0,O=W.X_(S,0,S.length),i="";for(var C=0;C<S.length&&i=="";C++){if(S[C]==10)i="\n";else if(S[C]==13){i="\r";
if(S[C+1]==10)i+="\n"}}if(G=="LUTFormatCUBE"){var M=O.split(i);for(var C=0;C<M.length;C++){if(M[C]==""||M[C][0]=="#")continue;
var D=M[C].split(" "),X=D[0];if(X=="LUT_3D_SIZE"){z=parseInt(D[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(X)!=-1)continue;
j.push(parseFloat(D[0]),parseFloat(D[1]),parseFloat(D[2]))}j=f_.NP(z,j)}else if(G=="LUTFormat3DL"){var M=O.split(i),l=1/4095;
for(var C=0;C<M.length;C++){var f=M[C];if(f==""||f=="3DMESH"||f.startsWith("Mesh")||f[0]=="#")continue;
var D=f.split(" "),X=D[0];if(z==0){z=D.length;continue}j.push(parseFloat(D[0])*l,parseFloat(D[1])*l,parseFloat(D[2])*l)}}else if(G=="LUTFormatLOOK"){var F=new DOMParser,$=F.parseFromString(O,"text/xml"),_=$.getElementsByTagName("LUT")[0],P=_.children[0].textContent;
z=parseInt(JSON.parse(P));var k=_.children[1].textContent;k=k.replace(/"/g,"").replace(/\s/g,"");var H=3*z*z*z,q=H*4,R=new Uint8Array(q);for(var C=0;C<q;C++){var I=k.charCodeAt(C*2),b=k.charCodeAt(C*2+1),Y=I<58?I-48:I-55,m=b<58?b-48:b-55;R[C]=(Y<<4)+m}for(var C=0;C<H;C++)j.push(W.PD(R,C<<2));j=f_.NP(z,j)}else throw G;return[z,j]};f_.NP=function(S,G){var j=[],z=S*S*S;for(var O=0;O<z;O++)j.push(0,0,0);for(var i=0;i<S;i++)for(var C=0;C<S;C++)for(var M=0;M<S;M++){var O=3*(M+C*S+i*S*S),D=3*(i+C*S+M*S*S);j[D]=G[O];j[D+1]=G[O+1];j[D+2]=G[O+2]}return j};function YD(){}YD.EV=function(S,G,j,z){var O=j,i,C=W.O(S,j);if(C==0){i="";j+=4}else{i=W.KC(S,j);j+=4+2*i.length+2}if(i!="")G.__name=i;if(z)console.log("---------------------",i,i.length);G.classID=YD.ff(S,j);if(z)console.log("- reading descriptor",G.classID,j);j+=YD.fM(S,j);var M=W.SM(S,j);j+=4;for(var D=0;D<M;D++){if(z)console.log(S.slice(j,j+32),W.Ap(S,j,32));var X=YD.ff(S,j);j+=YD.fM(S,j);if(z)console.log(X);var l=YD.Na(S,j,z);G[X]=l;j+=l.size;delete l.size}return j-O};YD.MU=function(S,G,j,z){var O=j,i=G.__name;if(i==null)i="";i+="\0";W.Kw(S,j,i);j+=4+2*i.length;YD.fK(S,j,G.classID);j+=YD.fM(S.data,j);W.fn(S,j,Object.keys(G).length-1-(G.__name==null?0:1));j+=4;for(var C in G){if(C=="classID")continue;if(C=="__name")continue;YD.fK(S,j,C);j+=YD.fM(S.data,j);j+=YD.NK(S,j,G[C])}return j-O};YD.Na=function(S,G,j){var z=G,O=W.PP(S,G,4);G+=4;var i={size:0,t:O,v:null};if(j)console.log("reading key",O,z);switch(O){case"obj ":case"VlLs":i.v=[];var C=W.O(S,G);G+=4;for(var M=0;M<C;M++){var D=YD.Na(S,G,j);G+=D.size;delete D.size;i.v.push(D)}break;case"UntF":i.v={type:W.PP(S,G,4),val:W.Xr(S,G+4)};G+=12;break;case"doub":i.v=W.Xr(S,G);G+=8;break;case"bool":i.v=S[G]==1;G+=1;break;case"long":i.v=W.SM(S,G);G+=4;break;case"Objc":i.v={};var X=YD.EV(S,i.v,G,j);G+=X;break;case"TEXT":var l=W.O(S,G);if(l==0){i.v="";G+=4}else{i.v=W.KC(S,G);G+=4+i.v.length*2+2}break;case"enum":var f=YD.ff(S,G);G+=YD.fM(S,G);var F=YD.ff(S,G);G+=YD.fM(S,G);i.v={};i.v[f]=F;break;case"tdta":var $=W.SM(S,G);G+=4;i.v=[];for(var M=0;M<$;M++)i.v.push(S[G+M]);G+=$;break;case"ObAr":var _=W.O(S,G);G+=4;var P=W.KC(S,G);G+=4+2*P.length+2;if(P!="")throw P;var k=YD.ff(S,G);G+=4+Math.max(4,k.length);i.v={classID:k,arr:[]};var H=W.O(S,G);G+=4;for(var M=0;M<H;M++){var k=YD.ff(S,G);G+=4+Math.max(4,k.length);var f=W.PP(S,G,4);G+=4;var q=W.PP(S,G,4);G+=4;var R={id:k,type:f,uID:q,arr:[]};i.v.arr.push(R);var I=W.O(S,G,4);G+=4;for(var b=0;b<I;b++){var Y=W.Xr(S,G);G+=8;R.arr.push(Y)}}break;case"Pth ":var m=G,$=W.O(S,G);G+=4;var h=W.PP(S,G,4);G+=4;var e=W.zx(S,G);G+=4;var s=W.flq(S,G);G+=4+s.length*2;i.v={sig:h,pth:s};break;case"Clss":case"type":var s=W.KC(S,G);G+=4+s.length*2+2;var y=YD.ff(S,G);G+=4+Math.max(4,y.length);i.v={classID:y};if(s!="")i.v.__name=s;break;case"prop":case"Enmr":case"indx":case"name":var T=YD.nb[O],s=W.KC(S,G);G+=4+s.length*2+2;if(s.length!=0){console.log(O,s);throw"e"}i.v={};for(var M=0;M<T.length;M++){var y=YD.ff(S,G);G+=4+Math.max(4,y.length);i.v[T[M]]=y}if(O=="name"){var s=W.KC(S,G);G+=4+s.length*2+2;i.v.val=s}if(O=="indx"){i.v.val=W.O(S,G);G+=4}break;case"alis":var $=W.O(S,G);G+=4;i.v=W.PP(S,G,$);G+=$;break;default:{console.log("unknown oskey: "+O+", "+z);throw"e";return i}}if(j)console.log(i.v,z);i.size=G-z;return i};YD.nb={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};YD.NK=function(S,G,j){var z=G,O=j.t;j=j.v;W.cZ(S,G,O);G+=4;switch(O){case"obj ":case"VlLs":W.fn(S,G,j.length);G+=4;for(var i=0;i<j.length;i++){var C=YD.NK(S,G,j[i]);G+=C}break;case"UntF":W.cZ(S,G,j.type);W.nu(S,G+4,j.val);G+=12;break;case"doub":W.nu(S,G,j);G+=8;break;case"bool":W.pb(S,G,j?1:0,1);G+=1;break;case"long":W.fn(S,G,j);G+=4;break;case"Objc":var C=YD.MU(S,j,G);G+=C;break;case"TEXT":W.Kw(S,G,j+"\0");G+=4+j.length*2+2;break;case"enum":var M=Object.keys(j)[0],D=j[M];YD.fK(S,G,M);G+=YD.fM(S.data,G);YD.fK(S,G,D);G+=YD.fM(S.data,G);break;case"tdta":W.W(S,G,j.length);G+=4;W.SZ(S,G,j);G+=j.length;break;case"ObAr":W.W(S,G,j.arr[0].arr.length);G+=4;W.Kw(S,G,"\0");G+=6;YD.fK(S,G,j.classID);G+=4+Math.max(4,j.classID.length);W.W(S,G,j.arr.length);G+=4;for(var X=0;X<j.arr.length;X++){var l=j.arr[X];YD.fK(S,G,l.id);G+=4+Math.max(4,l.id.length);W.cZ(S,G,l.type);G+=4;W.cZ(S,G,l.uID);G+=4;W.W(S,G,l.arr.length);G+=4;for(var i=0;i<l.arr.length;i++){W.nu(S,G,l.arr[i]);G+=8}}break;case"Pth ":var f=j.pth.length*2+4+8;W.W(S,G,f);G+=4;W.cZ(S,G,j.sig);G+=4;W.fI(S,G,f);G+=4;W.fyM(S,G,j.pth);G+=j.pth.length*2+4;break;case"Clss":case"type":var F=j.__name;if(F==null)F="";W.Kw(S,G,F+"\0");G+=4+F.length*2+2;var $=j.classID;YD.fK(S,G,$);G+=4+Math.max(4,$.length);break;case"prop":case"Enmr":case"indx":case"name":var _=YD.nb[O];W.W(S,G,1);G+=6;for(var X=0;X<_.length;X++){var $=j[_[X]];YD.fK(S,G,$);G+=4+Math.max(4,$.length)}if(O=="name"){W.Kw(S,G,j.val+"\0");G+=4+j.val.length*2+2}if(O=="indx"){W.W(S,G,j.val);G+=4}break;case"alis":var f=j.length;W.W(S,G,f);G+=4;W.cZ(S,G,j);G+=f;break;default:console.log("unknown oskey: "+O);G=z;break}return G-z};YD.ff=function(S,G){var j=W.SM(S,G);if(j>1e3)throw"e";if(j==0)j=4;return W.PP(S,G+4,j).trim()};YD.fM=function(S,G){var j=W.SM(S,G);return j==0?8:4+j};YD.fK=function(S,G,j){var z="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow".split(" "),O=4<j.length||z.indexOf(j)!=-1;W.fn(S,G,O?j.length:0);W.cZ(S,G+4,j);if(j.length<4&&!O){var i="";for(var C=j.length;C<4;C++)i+=" ";W.cZ(S,G+4+j.length,i)}};YD.fcc=function(S){var G={};for(var j in S){if(j=="classID")G[j]=S[j];else if(j=="__name")G[j]=S[j];else G[j]=YD.NW(S[j])}return G};YD.NW=function(S){if(S.CM=="Objc")return YD.fcc(S.v);else if(S.CM=="VlLs"){var G=[];for(var j=0;j<S.v.length;j++)G.push(YD.NW(S.v[j]));return G}else if(S.CM=="UntF")return S.v.val;else return S.v};function fh(){}fh.NQ=function(S,G,j,z,O,i){while(G<j){var C=W.PP(S,G,4);G+=4;if(C!="8BIM"&&C!="8B64"){console.log("layer information signature error! "+C,"PSB = "+O);alert("Error in PSD file: wrong signature.");throw"e"}var M=W.PP(S,G,4);G+=4;var D=W.SM(S,G);G+=4;if(O&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(M)!=-1){D=D<<32|W.SM(S,G);G+=4}if(O&&["pths"].indexOf(M)!=-1){D=D<<32|W.SM(S,G);G+=4}var X=["lrFX","PlLd"];if(X.indexOf(M)!=-1){if(D%4!=0)D+=4-D%4;G+=D;continue}switch(M){case"iOpa":z[M]=S[G];break;case"brst":z[M]=[1,1,1];for(var l=0;l<D;l+=4)z[M][W.O(S,G+l)]=0;break;case"knko":z[M]=S[G];break;case"infx":z[M]=S[G];break;case"clbl":z[M]=S[G];break;case"lmgm":z[M]=S[G];break;case"vmgm":z[M]=S[G];break;case"lyid":z[M]=W.O(S,G);break;case"lsct":z[M]={type:W.O(S,G)};if(D>=12)z[M].eD=W.PP(S,G+8,4);break;case"lsdk":z.lsct={type:W.O(S,G)};break;case"lyvr":z[M]=W.O(S,G);break;case"lnsr":var f={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};z[M]=W.PP(S,G,4);break;case"lspf":z[M]=W.O(S,G);break;case"lclr":z[M]=W.GP(S,G);break;case"luni":z[M]=W.dJ(S,G);break;case"fxrp":z[M]=new A(W.Xr(S,G),W.Xr(S,G+8));break;case"artb":case"artd":z[M]={};YD.EV(S,z[M],G+4);break;case"SoCo":z[M]={};YD.EV(S,z[M],G+4);break;case"GdFl":z[M]={};YD.EV(S,z[M],G+4);fh.Si(z[M],M);break;case"PtFl":z[M]={};YD.EV(S,z[M],G+4);fh.Si(z[M],M);break;case"CgEd":var F=z.brit=Yy.Cr("brit"),$={};YD.EV(S,$,G+4);F.Brgh.v=$.Brgh?$.Brgh.v:0;F.Cntr.v=$.Cntr?$.Cntr.v:0;F.useLegacy.v=$.useLegacy?$.useLegacy.v:0;break;case"brit":if(z.brit==null){var F=z.brit=Yy.Cr("brit"),$={};F.Brgh.v=W.Et(S,G);F.Cntr.v=W.Et(S,G+2);F.useLegacy.v=!1}break;case"levl":var _=S.buffer.slice(G,G+D);z[M]=Cr.wD(_);break;case"curv":z[M]=fp.UY(S,G,D);break;case"expA":var P=W.GP(S,G),k=z[M]=Yy.Cr("expA");k.Exps.v=W.dk(S,G+2);k.Ofst.v=W.dk(S,G+6);k.gammaCorrection.v=W.dk(S,G+10);break;case"vibA":z[M]={};YD.EV(S,z[M],G+4);break;case"hue2":z[M]=fu.UY(S,G,D);break;case"blnc":var k=z[M]=Yy.Cr(M);k.PrsL.v=S[G+18]==1;var H=["ShdL","MdtL","HghL"];for(var l=0;l<3;l++)for(var q=0;q<3;q++)k[H[l]].v[q].v=W.Et(S,G+l*6+q*2);break;case"blwh":var R={};YD.EV(S,R,G+4);var k=Yy.Cr(M),I="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var l=0;l<I.length;l++){k[I[l]]=R[I[l]];delete R[I[l]]}z[M]=k;break;case"phfl":var k=z[M]=Yy.Cr(M),b=k.Clr.v,P=W.GP(S,G);if(P==3){var Y=[W.O(S,G+2),W.O(S,G+6),W.O(S,G+10)],m=32768,h=x.bv(Y[0]/m,Y[1]/m,Y[2]/m);b.Lmnc.v=h.Fa;b.A.v=h.A;b.B.v=h.C}if(P==2){var e=W.GP(S,G+2);if(e!=7)throw"e";b.Lmnc.v=W.Et(S,G+4)/100;b.A.v=W.Et(S,G+6)/100;b.B.v=W.Et(S,G+8)/100}var s=G+2+(P==3?12:10);k.Dnst.v=W.O(S,s);s+=4;k.PrsL.v=S[s]==1;break;case"mixr":var y={dF:W.GP(S,G+2)==1,g:[]};for(var l=0;l<20;l++)y.g.push(W.Et(S,G+4+l*2));z[M]=Yd.TG(y);break;case"clrL":case"rplc":z[M]={};YD.EV(S,z[M],G+6);break;case"nvrt":z[M]={};break;case"post":z[M]=Yy.Cr("post");z[M].Lvls.v=W.GP(S,G);break;case"thrs":z[M]=Yy.Cr("thrs");z[M].Lvl.v=W.GP(S,G);break;case"grdm":var T={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{CM:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:""},Trns:{t:"VlLs",v:[]}},K={rev:S[G+2]==1,fmV:S[G+3]==1,T:T},B=G+4;T.Nm.v=W.dJ(S,B);B+=4+T.Nm.v.length*2;var a=W.GP(S,B);B+=2;if(a==0)throw"e";for(var l=0;l<a;l++){var u=W.O(S,B),r=W.O(S,B+4),b=SZ.iy(S,B+8),v={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:b.H},Grn:{t:"doub",v:b.X},Bl:{t:"doub",v:b.C}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:u},Mdpn:{t:"long",v:r}}};T.Clrs.v.push(v);B+=20}var o=W.GP(S,B);B+=2;for(var l=0;l<o;l++){var u=W.O(S,B),r=W.O(S,B+4),V=W.GP(S,B+8),v={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*V/255)}},Lctn:{t:"long",v:u},Mdpn:{t:"long",v:r}}};T.Trns.v.push(v);B+=10}var J=W.GP(S,B);B+=2;T.Intr.v=W.GP(S,B);B+=2;var d=W.GP(S,B);B+=2;K.mode=W.GP(S,B);B+=2;K.l_=W.O(S,B);B+=4;K.fmA=W.GP(S,B)==1;B+=2;K.fTe=W.GP(S,B)==1;B+=2;K.fdg=W.O(S,B);B+=4;K.fdX=W.GP(S,B);B+=2;K.wH=[];for(var l=0;l<4;l++)K.wH.push(W.GP(S,B+l*2));B+=8;K.dS=[];for(var l=0;l<4;l++)K.dS.push(W.GP(S,B+l*2));B+=8;var oU=W.GP(S,B);B+=2;var p=Yy.Cr("grdm");p.Rvrs.v=K.rev;p.Grad.v=K.T;z[M]=p;break;case"selc":z[M]=Cx.UY(S,G,D);break;case"vmsk":case"vsms":var N=z.vmsk=new g.XT,ob=W.SM(S,G+4),oe=(ob>>0&1)==1;N.KQ=(ob>>1&1)==0;N.isEnabled=(ob>>2&1)==0;N.z=CO.nU(S,G+8,D-8,i.o,i.i);break;case"shmd":z[M]={};var oF=W.O(S,G),s=G+4;for(var l=0;l<oF;l++){var C=W.PP(S,s,4);s+=4;var oN=W.PP(S,s,4);s+=4;s+=4;var YM=W.O(S,s);s+=4;if(oN=="cust"||oN=="cmls"||oN=="extn"||oN=="mlst"){var oE=W.O(S,s);if(oE!=16)s+=4;var R={};YD.EV(S,R,s+4,!1);z[M][oN]=R;if(oN=="cmls")fA.Gx.fZQ(z[M][oN])}else{console.log("unknown shmd key: "+oN+", size: "+YM)}s+=YM}break;case"shpa":var P=W.O(S,G),ox=W.O(S,G+4);if(ox!=0)console.log("some patterns present!");break;case"TySh":var c=z[M]={},P=W.GP(S,G);c.GY=W.xR(S,G+2);var oG=W.GP(S,G+2+48);c.Hd={};var or=YD.EV(S,c.Hd,G+56),Yf=o_.ffZ();for(var oL in Yf)if(c.Hd[oL]==null)c.Hd[oL]=Yf[oL];c.nX={};var YX=YD.EV(S,c.nX,G+56+or+6);c.Aw=W.fgN(S,G+56+or+6+YX);c.Nv=ST.wD(c.Hd.EngineData.v);o_.ffh(c.Nv.EngineDict.StyleRun.RunArray);if(c.Nv.ResourceDict==null)c.Nv.ResourceDict=JSON.parse(JSON.stringify(c.Nv.DocumentResources));delete c.Hd.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var YC=W.O(S,G),Yp=W.O(S,G+4);z.lmfx={};var or=YD.EV(S,z.lmfx,G+8);fh.Sc(z.lmfx);break;case"FMsk":z[M]=W.Sz(S,G,D);break;case"Txt2":z[M]={};z[M].raw=W.Sz(S,G,D);z[M].ds=MI.wD(z[M].raw);break;case"Patt":z[M]=XU.ni(S,G,D);break;case"SoLd":var YZ=W.PP(S,G,4),Yz=W.O(S,G+4),YT=W.O(S,G+8);z[M]={};var Yg=YD.EV(S,z[M],G+12);if(z[M].nonAffineTransform==null)z[M].nonAffineTransform=JSON.parse(JSON.stringify(z[M].Trnf));var YY=z[M].filterFX;if(YY){var Yo=YY.v.filterFXList.v;for(var l=0;l<Yo.length;l++){var Ya=Yo[l].v,YQ=Ya.filterID;if(YQ&&YQ.v==993)Ya.filterID.v=689}}break;case"vstk":case"pths":var Yz=W.O(S,G);z[M]={};var Yg=YD.EV(S,z[M],G+4);break;case"vscg":var oN=W.PP(S,G,4),Yz=W.O(S,G+4);z[oN]={};var Yg=YD.EV(S,z[oN],G+8);fh.Si(z[oN],oN);break;case"vogk":var YK=W.O(S,G),Yz=W.O(S,G+4);z[M]={};var Yg=YD.EV(S,z[M],G+8);z[M]=z[M].keyDescriptorList.v;for(var l=0;l<z[M].length;l++){}break;case"lnk2":case"lnkD__":case"lnk3__":z[M]=[];var B=G;while(B<G+D){var fa=new g.Ff;z[M].push(fa);var d=W.dI(S,B);B+=8;var YO=B;fa.type=W.PP(S,B,4);B+=4;if(fa.type!="liFD"){alert("Unknown Linked Layer type: "+fa.type);throw fa.type}fa.S_=W.O(S,B);B+=4;var Yw=W.Sg(S,B);B+=1+Yw.YW.length;fa.Pq=Yw.YW;fa.HU=W.KC(S,B);B+=4+fa.HU.length*2+2;fa.Gu=W.PP(S,B,4);B+=4;fa.dm=W.PP(S,B,4);B+=4;var YV=W.dI(S,B);B+=8;fa.open=S[B];B+=1;if(fa.open!=0){var Yu={},or=YD.EV(S,Yu,B+4);if(or%4!=0)or+=4-or%4;console.log(Yu);B+=or+4}fa.open=0;fa.raw=W.Sz(S,B,YV);B=YO+d;if(d%4!=0)B+=4-d%4}break;case"FEid":var B=G;z[M]=[];var YJ=B+D,P=W.O(S,B);B+=4;while(B<YJ){B+=4;var d=W.O(S,B);B+=4;var fd={};z[M].push(fd);fd.id=W.Sg(S,B).YW;B+=fd.id.length+1;var P=W.O(S,B);B+=4;B+=4;var Yq=W.O(S,B);B+=4;fd.rect=W.QX(S,B);B+=16;var YU=W.O(S,B);B+=4;var YE=W.O(S,B);B+=4;var Yc=new x.XL(0);for(var l=0;l<YE+2;l++){var fJ=W.O(S,B);B+=4;if(fJ!=0){B+=4;var YB=W.O(S,B),YG=null;B+=4;if(l<3||l==25)YG=MY.Sb(!0,YU,S,fd.rect.o,fd.rect.i,B,YB);if(l==0)Yc.H=YG;if(l==1)Yc.X=YG;if(l==2)Yc.C=YG;if(l==25)Yc.A=YG;B+=YB}}fd.buffer=x.S(fd.rect.h()*4);x.FP(Yc,fd.buffer);x.cU(fd);var Yr=S[B];B++;if(Yr!=0){fd.q=new g.QS;fd.q.rect=W.QX(S,B);B+=16;B+=4;var Yb=W.O(S,B);B+=4;fd.q.channel=MY.Sb(!0,YU,S,fd.q.rect.o,fd.q.rect.i,B,Yb);fd.q.color=255;fd.q.Gw();B+=Yb}if(d%4!=0)B+=4-d%4}break;case"Lr16":fo.CR(i,S,G);break;default:console.log("unknown layer tag: "+M+", size: "+D);break}var Y$="Lr16 LMsk Txt2 artd extd luni pths extn tySh".split(" ");if(Y$.indexOf(M)==-1)if(D%4!=0)console.log("size not multiple of 4!!!",M);if(M!="luni"&&M!="TySh"&&M!="tySh")if(D%4!=0)D+=4-D%4;G+=D}var CE=[];for(var l=0;l<CE.length;l++)delete z[CE[l]];return G};fh.NZ=function(S,G,j,z){for(var O in j)if(j[O]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+O+"\" tag was present with a null value.");
delete j[O]}for(var O in j){W.cZ(S,G,"8BIM");G+=4;var i=G,C=0;W.cZ(S,G,O);G+=4;W.fn(S,G,0);G+=4;switch(O){case"iOpa":W.pb(S,G,j[O],1);
C=4;break;case"brst":C=0;for(var M=0;M<3;M++)if(j[O][M]==0){W.W(S,G+C,M);C+=4}break;case"knko":W.pb(S,G,j[O],1);
C=4;break;case"infx":W.pb(S,G,j[O],1);C=4;break;case"clbl":W.pb(S,G,j[O],1);C=4;break;case"lmgm":W.pb(S,G,j[O],1);
C=4;break;case"vmgm":W.pb(S,G,j[O],1);C=4;break;case"lyid":W.W(S,G,j[O]);C=4;break;case"lsct":W.W(S,G,j[O].type);
C=4;if(j[O].eD){W.cZ(S,G+4,"8BIM");W.cZ(S,G+8,j[O].eD);C=12}break;case"lyvr":W.W(S,G,j[O]);C=4;break;
case"lnsr":W.cZ(S,G,j[O]);C=4;break;case"lspf":W.W(S,G,j[O]);C=4;break;case"lclr":W.nG(S,G,j[O]);C=8;
break;case"luni":W.Kw(S,G,j[O]);C=4+2*j[O].length;break;case"fxrp":W.nu(S,G,j[O].x);W.nu(S,G+8,j[O].y);
C=16;break;case"artb":case"artd":W.W(S,G,16);C=YD.MU(S,j[O],G+4)+4;break;case"SoCo":W.W(S,G,16);C=YD.MU(S,j[O],G+4)+4;
break;case"GdFl":W.W(S,G,16);C=YD.MU(S,j[O],G+4)+4;break;case"PtFl":W.W(S,G,16);C=YD.MU(S,j[O],G+4)+4;
break;case"CgEd":var D={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},X=D,l=j[O];
X.Brgh.v=l.Brgh.v;X.Cntr.v=l.Cntr.v;X.useLegacy.v=l.useLegacy.v;W.W(S,G,16);C=YD.MU(S,D,G+4)+4;break;
case"brit":S.nv(G,8);C=8;break;case"levl":var f=new Ck;C=Cr.CS(f,j[O]);W.SZ(S,G,f.data);break;case"curv":C=fp.US(S,G,j[O]);
break;case"expA":C=14;S.nv(G,14);W.iD(S.data,G,1);W.fH(S.data,G+2,j[O].Exps.v);W.fH(S.data,G+6,j[O].Ofst.v);
W.fH(S.data,G+10,j[O].gammaCorrection.v);break;case"vibA":W.W(S,G,16);C=YD.MU(S,j[O],G+4)+4;break;case"hue2":C=fu.US(S,G,j[O]);
break;case"blnc":C=19;S.nv(G,C);var F=["ShdL","MdtL","HghL"];for(var M=0;M<3;M++){var $=j[O][F[M]].v;
for(var _=0;_<3;_++)$.push(W.iI(S.data,G+M*6+_*2,$[_].v))}S.data[G+18]=j[O].PrsL.v?1:0;break;case"blwh":var D={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},P="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var M=0;M<P.length;M++){D[P[M]]=j[O][P[M]]}W.W(S,G,16);C=YD.MU(S,D,G+4)+4;break;case"phfl":W.nG(S,G,2);
var k=j[O].Clr.v;W.nG(S,G+2,7);W.nG(S,G+4,Math.round(k.Lmnc.v*100));W.nG(S,G+6,Math.round(k.A.v*100));
W.nG(S,G+8,Math.round(k.B.v*100));W.nG(S,G+10,0);var H=G+2+10;S.nv(H,5);W.Wk(S.data,H,j[O].Dnst.v);H+=4;
S.data[H]=j[O].PrsL.v?1:0;H++;C=H-G;break;case"mixr":C=44;S.nv(G,C);var q=Yd.BY(j[O]);W.iD(S.data,G,1);
W.iD(S.data,G+2,q.dF?1:0);for(var M=0;M<20;M++)W.iI(S.data,G+4+M*2,q.g[M]);break;case"clrL":case"rplc":W.nG(S,G,1);
W.W(S,G+2,16);C=YD.MU(S,j[O],G+6)+6;break;case"nvrt":C=0;break;case"post":W.nG(S,G,j[O].Lvls.v);C=2;
break;case"thrs":W.nG(S,G,j[O].Lvl.v);C=2;break;case"grdm":var R={rev:j[O].Rvrs.v,fmV:!1,T:j[O].Grad.v,mode:0,l_:867527939,fmA:!1,fTe:!0,fdg:2048,fdX:3,wH:[0,0,0,0],dS:[32768,32768,32768,32768]},I=R.T;
S.nv(G,4);W.iD(S.data,G,1);S.data[G+2]=R.rev?1:0;S.data[G+3]=R.fmV?1:0;var b=G+4;W.Kw(S,b,I.Nm.v);b+=4+I.Nm.v.length*2;
var Y=I.Clrs.v.length;W.nG(S,b,Y);b+=2;for(var M=0;M<Y;M++){var k=I.Clrs.v[M];W.W(S,b,k.v.Lctn.v);W.W(S,b+4,k.v.Mdpn.v);
W.nG(S,b+8,0);var m=x.T.qL(x.T.cx(k.v.Clr.v)),h=[m.Rd.v,m.Grn.v,m.Bl.v,0];for(var _=0;_<4;_++)W.nG(S,b+10+_*2,Math.round(65535*(h[_]/255)));
b+=20}var e=I.Trns.v.length;W.nG(S,b,e);b+=2;for(var M=0;M<e;M++){var k=I.Trns.v[M];W.W(S,b,k.v.Lctn.v);
W.W(S,b+4,k.v.Mdpn.v);W.nG(S,b+8,Math.round(255*k.v.Opct.v.val/100));b+=10}W.nG(S,b,2);b+=2;W.nG(S,b,I.Intr.v);
b+=2;W.nG(S,b,32);b+=2;W.nG(S,b,R.mode);b+=2;W.W(S,b,R.l_);b+=4;W.nG(S,b,R.fmA?1:0);b+=2;W.nG(S,b,R.fTe?1:0);
b+=2;W.W(S,b,R.fdg);b+=4;W.nG(S,b,R.fdX);b+=2;for(var M=0;M<4;M++)W.nG(S,b+M*2,R.wH[M]);b+=8;for(var M=0;
M<4;M++)W.nG(S,b+M*2,R.dS[M]);b+=8;b+=2;C=b-G;break;case"selc":C=Cx.US(S,G,j[O]);break;case"FMsk":W.SZ(S,G,j[O]);
C=j[O].length;break;case"Txt2":var s=new Ck,y=MI.Rk(j[O].ds,s),T=x.S(y,!0);for(var M=0;M<y;M++)T[M]=s.data[M];
W.SZ(S,G,T);C=T.length;break;case"vmsk":var K=j[O],B=0;W.W(S,G,3);if(!K.KQ)B+=1<<1;if(!K.isEnabled)B+=1<<2;
W.W(S,G+4,B);C=8;var a=K.z.length;S.nv(G+8,a*26);CO.Sm(S.data,G+8,K.z,z.o,z.i);C+=a*26;break;case"shmd":W.W(S,G,Object.keys(j[O]).length);
var H=G+4;for(var u in j[O]){W.cZ(S,H,"8BIM");H+=4;W.cZ(S,H,u);H+=4;W.W(S,H,0);H+=4;W.W(S,H,0);H+=4;
W.W(S,H,16);H+=4;var r=YD.MU(S,j[O][u],H);if(r%4!=0)r+=4-r%4;W.W(S,H-8,r+4);H+=r}C=H-G;break;case"TySh":var H=G;
W.AZ(S,H,1);H+=2;var v=j[O],s=new Ck;v.Nv.DocumentResources=JSON.parse(JSON.stringify(v.Nv.ResourceDict));
var y=ST.Rk(v.Nv,s),T=x.S(y,!0);for(var M=0;M<y;M++)T[M]=s.data[M];v.Hd.EngineData={t:"tdta",v:T};var o=v.Nv.EngineDict.Editor.Text;
v.Hd.Txt.v=o.substring(0,o.length-1);W.fgU(S,H,v.GY);H+=48;W.AZ(S,H,50);H+=2;W.W(S,H,16);H+=4;H+=YD.MU(S,v.Hd,H);
W.AZ(S,H,1);H+=2;W.W(S,H,16);H+=4;H+=YD.MU(S,v.nX,H);W.ffs(S,H,v.Aw);H+=16;C=H-G;break;case"lmfx":W.W(S,G,0);
W.W(S,G+4,16);var D=JSON.parse(JSON.stringify(j[O])),V=!1;fh.Sy(D);for(var M=0;M<n.lH.length;M++)if(D[n.lH[M]]!=null)V=!0;
W.cZ(S,i,V?"lmfx":"lfx2");C=YD.MU(S,D,G+8)+8;break;case"Patt":var H=XU.nO(S,G,j[O]);C=H-G;break;case"SoLd":W.cZ(S,G,"soLD");
W.W(S,G+4,4);W.W(S,G+8,16);C=YD.MU(S,j[O],G+12)+12;break;case"vstk":case"pths":W.W(S,G,16);C=YD.MU(S,j[O],G+4)+4;
break;case"vscg__":W.cZ(S,G,j[O].key);W.W(S,G+4,16);C=YD.MU(S,j[O].g,G+8)+8;break;case"vogk":W.W(S,G,1);
W.W(S,G+4,16);x.tS.fcT(j[O]);for(var M=0;M<j[O].length;M++){var J=j[O][M].v.keyOriginResolution;if(J)J.v=z.bY}var d={classID:"null",keyDescriptorList:{t:"VlLs",v:j[O]}};
C=YD.MU(S,d,G+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var b=G;for(var M=0;M<j[O].length;M++){var oU=j[O][M],p=b;
W.PB(S,b,0);b+=8;W.cZ(S,b,oU.type);b+=4;W.W(S,b,oU.S_);b+=4;S.nv(b,1);S.data[b]=oU.Pq.length;b++;W.cZ(S,b,oU.Pq);
b+=oU.Pq.length;W.Kw(S,b,oU.HU+"\0");b+=4+oU.HU.length*2+2;W.cZ(S,b,oU.Gu);b+=4;W.cZ(S,b,oU.dm);b+=4;
W.PB(S,b,oU.raw.length);b+=8;S.nv(b,1);S.data[b]=oU.open;b++;W.SZ(S,b,oU.raw);b+=oU.raw.length;W.W(S,b,1);
b+=4;b+=11;var N=b-p-8;W.PB(S,p,N);if(N%4!=0){S.nv(b,4-N%4);b+=4-N%4}}C=b-G;break;case"FEid":var b=G;
W.W(S,b,3);b+=4;for(var ob=0;ob<j[O].length;ob++){var oe=j[O][ob];b+=4;var oF=b;b+=4;W.xA(S,b,oe.id);
b+=oe.id.length+1;W.W(S,b,1);b+=4;b+=4;var oN=b;b+=4;W.cW(S,b,oe.rect);b+=16;W.W(S,b,8);b+=4;W.W(S,b,24);
b+=4;var YM=new x.XL(oe.rect.h());x.fy(oe.buffer,YM);for(var M=0;M<24+2;M++){var oE=null;if(M==0)oE=YM.H;
if(M==1)oE=YM.X;if(M==2)oE=YM.C;if(M==25)oE=YM.A;W.W(S,b,oE!=null?1:0);b+=4;if(oE!=null){b+=4;var ox=b;
b+=4;S.nv(b,oe.rect.h()+2);b=MY.S$(oE,S.data,oe.rect.o,oe.rect.i,b,3);W.W(S,ox,b-(ox+4))}}W.W(S,oN,b-(oN+4));
S.nv(b,1);S.data[b]=oe.q?1:0;b++;if(oe.q!=null){var c=oe.q.rect,oG=oe.q.channel;c=oe.rect;oG=x.S(c.h());
x.set(oG,oe.q.color);x.zP(oe.q.channel,oe.q.rect,oG,c);W.cW(S,b,c);b+=16;b+=4;var or=b;b+=4;S.nv(b,c.h()+2);
b=MY.S$(oG,S.data,c.o,c.i,b,3);W.W(S,or,b-(or+4))}var N=b-(oF+4);W.W(S,oF,N);if(N%4!=0)b+=4-N%4}C=b-G;
break;default:console.log("unknown layer tag: "+O+", size: "+C);G-=12;continue}var Yf=["Txt2","artd","extd","luni","pths"];
if(Yf.indexOf(O)==-1)if(C%4!=0)C+=4-C%4;W.fn(S,G-4,C);if(O!="luni"&&O!="TySh")if(C%4!=0)C+=4-C%4;G+=C}return G};
fh.Sc=function(S){for(var G=0;G<n.order.length;G++){var j=n.order[G],z=n.lH[G];if(S[z]==null)S[z]={t:"VlLs",v:[]};
if(S[j]!=null){S[z].v.push(S[j]);delete S[j]}var O=[];for(var i=0;i<S[z].v.length;i++){var C=S[z].v[i];
if(C.v.present==null||C.v.present.v==!0)O.push(C)}S[z].v=O}};fh.Sy=function(S){for(var G=0;G<n.order.length;
G++){var j=n.order[G],z=n.lH[G],O=S[z].v.length;if(O==0){delete S[z];continue}if(O==1){S[j]=S[z].v[0];
delete S[z];continue}}};fh.Si=function(S,G){if(G=="GdFl"){if(S.Angl==null)S.Angl={v:{type:"#Ang",val:90},t:"UntF"};
if(S.Algn==null)S.Algn={v:!0,t:"bool"};if(S.Scl==null)S.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(S.Ofst==null)S.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(S.Rvrs==null)S.Rvrs={v:!1,t:"bool"};if(S.Dthr==null)S.Dthr={v:!1,t:"bool"}}if(G=="PtFl"){if(S.Algn==null)S.Algn={v:!0,t:"bool"};
if(S.Scl==null)S.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(S.phase==null)S.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
fh.clone=function(S,G){var j={};if(S=="TySh"){j.GY=G.GY.clone();j.Hd=JSON.parse(JSON.stringify(G.Hd));
j.nX=JSON.parse(JSON.stringify(G.nX));j.Aw=G.Aw.clone();j.Nv=JSON.parse(JSON.stringify(G.Nv));return j}else if(S=="fxrp")return G.clone();
else if(S=="vmsk")return G.clone();else return JSON.parse(JSON.stringify(G))};function Ch(S,G){}Ch.wD=function(S,G,j,z){z=Ch.fcN(S,G,j,z);
return z};Ch.Rk=function(S,G,j,z,O){z=Ch.fcr(S,G,j,z,O);return z};Ch.fcN=function(S,G,j,z){var O=z;S.rect=W.QX(j,z);
z+=16;var i=W.GP(j,z);z+=2;S.PM=[];var C=G.QR;for(var M=0;M<i;M++){S.PM[M]={id:W.Et(j,z),length:(C?W.dI:W.O)(j,z+2)};
z+=C?10:6}var D=W.PP(j,z,4);z+=4;if(D!="8BIM"){console.log("Invalid Blend mode signature: "+D);alert("Error in Photoshop file: wrong signature.");
throw"e"}S.eD=W.PP(j,z,4);z+=4;S.opacity=j[z];z+=1;S.iH=j[z]==1;z+=1;S.Ge=j[z];z+=1;if(j[z]!=0)console.log("error in filler!");
z+=1;var X=W.O(j,z);z+=4;var l=z;z=Ch.fcL(S,j,z);z=Ch.fct(S,j,z);var f=W.Sg(j,z);S.name=f.YW;z+=f.length;
if(f.length%4!=0)z+=4-f.length%4;z=fh.NQ(j,z,l+X,S.add,C,G);if(S.dv){var F=S.dv;if(S.Ew()){S.Ew().iA=F[0];
S.Ew().vU=F[1]}if(S.add.vmsk){S.add.vmsk.iA=F[2];S.add.vmsk.vU=F[3]}}if(S.add.lsct){if(S.add.lsct.eD)S.eD=S.add.lsct.eD;
S.add.lsct=S.add.lsct.type}return z};Ch.fcr=function(S,G,j,z,O){var i=z;W.cW(j,z,S.rect);z+=16;var C=S.Zu();
W.nG(j,z,C.length);z+=2;O.push(z);for(var M=0;M<C.length;M++){W.AZ(j,z,C[M]);W.W(j,z+2,0);z+=6}W.cZ(j,z,"8BIM");
z+=4;W.cZ(j,z,S.eD);z+=4;W.pb(j,z,S.opacity,1);z+=1;W.pb(j,z,S.iH?1:0,1);z+=1;W.pb(j,z,S.Ge,1);z+=1;
W.pb(j,z,0,1);z+=1;var D=z;W.W(j,z,0);z+=4;var X=z;z=Ch.fcF(S,j,z);z=Ch.fVh(S,j,z);var l=W.xA(j,z,S.name.slice(0,255));
z+=l;if(l%4!=0)z+=4-l%4;if(S.add.lsct){S.add.lsct={type:S.add.lsct};if(S.eD=="pass"){S.add.lsct.eD="pass";
S.eD="norm"}}if(S.eD=="pass")S.add.lsct={type:S.add.lsct,eD:"pass"};if(S.add.brit)S.add.CgEd=S.add.brit;
z=fh.NZ(j,z,S.add,G);delete S.add.CgEd;if(S.add.lsct){if(S.add.lsct.eD)S.eD=S.add.lsct.eD;S.add.lsct=S.add.lsct.type}var f=z-X;
W.W(j,D,f);return z};Ch.fcL=function(S,G,j){var z=W.O(G,j);j+=4;if(z==0)return j;var O=j;S.q=new g.QS;
S.q.rect=W.QX(G,j);j+=16;S.q.color=G[j];j+=1;var i=Ch.NV(S.q,G,j);j+=1;if(i){var C=!1,D=255,X=0,l=255,f=0;
for(var M=0;M<S.PM.length;M++)if(S.PM[M].id==-3)C=!0;if(C){S.lm=Ch.Nc(G,j);j+=18}var F=j,$=G[j];j++;
if($>>0&1){D=G[j];j++}if($>>1&1){X=W.Xr(G,j);j+=8}if($>>2&1){l=G[j];j++}if($>>3&1){f=W.Xr(G,j);j+=8}if((j-F&1)==1)j++;
S.dv=[D,X,l,f]}else{if(z==20)j+=2;else{S.lm=Ch.Nc(G,j);j+=18}}return O+z};Ch.fcF=function(S,G,j){W.W(G,j,0);
j+=4;if(S.q==null)return j;var z=j,O=!0;W.W(G,j,0);W.cW(G,j,S.q.rect);j+=16;W.pb(G,j,S.q.color);j+=1;
Ch.Nn(S.q,G,j,O);j+=1;if(O){if(S.lm){Ch.fcG(G,j,S.lm);j+=18}W.pb(G,j,15);j+=1;var i=S.Ew(),C=S.add.vmsk;
W.pb(G,j,i?i.iA:255);j+=1;W.nu(G,j,i?i.vU:0);j+=8;W.pb(G,j,C?C.iA:255);j+=1;W.nu(G,j,C?C.vU:0);j+=8;
j++;W.W(G,z-4,j-z)}return j};Ch.Nc=function(S,G){var j=new g.QS;Ch.NV(j,S,G);G+=1;j.color=S[G];G+=1;
j.rect=W.QX(S,G);G+=16;return j};Ch.fcG=function(S,G,j){Ch.Nn(j,S,G,!1);G+=1;W.pb(S,G,j.color);G+=1;
W.cW(S,G,j.rect);G+=16};Ch.NV=function(S,G,j){var z=G[j];S.KQ=(z>>0&1)==0;S.isEnabled=(z>>1&1)==0;S.RI=(z>>3&1)==1;
return z>>4&1};Ch.Nn=function(S,G,j,z){var O=0;if(!S.KQ)O+=1<<0;if(!S.isEnabled)O+=1<<1;if(S.RI)O+=1<<3;
if(z)O+=1<<4;W.pb(G,j,O)};Ch.fct=function(S,G,j){var z=W.O(G,j);j+=4;if(z==0)return j;if(z!=5*8)console.log("unexpected Layer Blending Ranges content, size:",z);
for(var O=0;O<z;O++)S.uV[O]=G[j+O];return j+40};Ch.fVh=function(S,G,j){W.W(G,j,S.uV.length);j+=4;G.nv(j,40);
for(var z=0;z<40;z++){G.data[j+z]=S.uV[z]}return j+40};function MY(){}MY.wD=function(S,G,j,z){z=MY.fVE(G.QR,G.hj,G.PC,S,j,z);
return z};MY.CS=function(S,G,j,z,O){j=MY.fnK(S,G,j,z,O);return j};MY.fVE=function(S,G,j,z,O,i){var C=z.PM,M={},D=i;
for(var X=0;X<C.length;X++){var l=C[X],f=l.id,F=l.length,$;if(f==-3)$=z.lm.rect;else if(f==-2)$=z.q.rect;
else $=z.rect;var _=MY.Sb(S,G,O,$.o,$.i,i,F);i+=F;if(f==-3)z.lm.channel=_;else if(f==-2)z.q.channel=_;
else M["c"+f]=_}var P=new x.XL(0);P.A=null;if(j==3){P.H=M.c0;P.X=M.c1;P.C=M.c2;P.A=M["c-1"]}else if(j==1){P.H=M.c0;
P.X=M.c0;P.C=M.c0;P.A=M["c-1"]}else if(j==4){var k=M.c0,H=M.c1,q=M.c2,R=M.c3,I=k.length,b=1/255;for(var X=0;
X<I;X++){var Y=k[X],m=H[X],h=q[X],e=R[X]*b;k[X]=Math.round(Y*e);H[X]=Math.round((.2*Y+.8*m)*e);q[X]=Math.round((.2*m+.8*h)*e)}P.H=k;
P.X=H;P.C=q;P.A=M["c-1"];console.log("converting from CMYK to RGB")}if(P.H==null)P.H=x.S(0);if(P.A==null&&P.H!=null){P.A=x.clone(P.H);
x.set(P.A,255)}if(P.X==null)P.X=P.H.slice(0);if(P.C==null)P.C=P.H.slice(0);z.buffer=x.S(Math.max(0,z.rect.h()*4));
x.FP(P,z.buffer);return i};MY.fnK=function(S,G,j,z,O){var i=S.Zu(),C=new x.XL(S.rect.h());x.fy(S.buffer,C);
for(var M=0;M<i.length;M++){var D=i[M],X,l;if(D==-3)X=S.lm.rect;else if(D==-2)X=S.q.rect;else X=S.rect;
if(D==-3)l=S.lm.channel;if(D==-2)l=S.q.channel;if(D==-1)l=C.A;if(D==0)l=C.H;if(D==1)l=C.X;if(D==2)l=C.C;
G.nv(j,X.h()*3+4);var f=j;j=MY.S$(l,G.data,X.o,X.i,j,O[1]?3:1);var F=j-f;if(F%2!=0){F+=F%2;j++}W.Wk(G.data,z+M*6+2,F)}return j};
MY.Sb=function(S,G,j,z,O,i,C){var M=W.GP(j,i);i+=2;return MY.UG(S,G,j,z,O,i,M,C-2)};MY.S$=function(S,G,j,z,O,i){W.iI(G,O,i);
O+=2;O=MY.nL(S,G,j,z,O,i);return O};MY.UG=function(S,G,j,z,O,i,C,M){var D,X=z*O*(G>>>3),l=X&3,f=X+(l==0?0:4-l);
if(C>3){console.log("unknown compression: "+C,z,O,z*O,M);C=0}if(C==0){if(i+f<=j.length)D=j.slice(i,i+f);
else{D=x.S(X);for(var F=0;F<X;F++)D[F]=j[i+F]}i+=X}else if(C==1){D=x.S(X);var $=S?4:2,_=MY.NJ(j,D,z,O,i,i+$*O,$);
i+=$*O+_}else if(C==2||C==3){var P=new Uint8Array(j.buffer,i+2,M-6),k=pako.inflateRaw(P);if(C==3){if(G==8)for(var H=0;
H<O;H++){var q=H*z+1,R=q+z-1,I=k[q-1];for(var b=q;b<R;b++){I+=k[b];k[b]=I&255}}else for(var H=0;H<O;
H++){var q=H*z+1,R=q+z-1,I=k[2*q-2]<<8|k[2*q-1];for(var b=q;b<R;b++){var Y=b<<1;I+=k[Y]<<8|k[Y+1];k[Y]=I>>>8;
k[Y+1]=I&255}}}if(k.length==f)D=k;else{D=x.S(f);for(var F=0;F<k.length;F++)D[F]=k[F]}}if(G==16){var m=x.S(z*O);
for(var F=0;F<X;F+=2)m[F>>>1]=D[F];D=m}return D};MY.nL=function(S,G,j,z,O,i){var C=j*z;if(i==0)for(var M=0;
M<C;M++)G[O++]=S[M];else if(i==1){var D=MY.NI(S,G,j,z,O,O+2*z);O+=2*z+D}else if(i==2||i==3){if(i==3){var X=new Uint8Array(S.length);
for(var l=0;l<z;l++){var f=l*j+1,F=f+j-1,$=S[f-1];X[f-1]=$;for(var _=f;_<F;_++){X[_]=S[_]+(256-$)&255;
$=S[_]}}S=X}G[O]=120;G[O+1]=156;O+=2;var P=pako.deflateRaw(S,{fXN:4});W.rp(G,O,P);O+=P.length+4}else console.log("Unknown compression: "+i);
return O};MY.NJ=function(S,G,j,z,O,i,C){var M=i,D=z|0;if(C==2)for(var X=0;X<D;X++){var l=W.GP(S,O+(X<<1));
MY.SG(S,i,l,G,X*j,j);i+=l}else for(var X=0;X<D;X++){var l=W.O(S,O+(X<<2));MY.SG(S,i,l,G,X*j,j);i+=l}return i-M};
MY.NI=function(S,G,j,z,O,i){var C=i;for(var M=0;M<z;M++){var D=MY.fnZ(S,M*j,j,G,i);W.iD(G,O+M*2,D);i+=D}return i-C};
MY.fnZ=function(S,G,j,z,O){var i,C,M,D,X,l,f;D=G+j;for(M=G,C=O;j>0;M=i,j-=l){f=j<128?j:128;if(M<=D-3&&S[M+1]==S[M+0]&&S[M+2]==S[M+0]){for(i=M+3;
i<M+f&&S[i]==S[M+0];)++i;l=i-M;z[C++]=1+256-l;z[C++]=S[M+0]}else{for(i=M;i<M+f;)if(i<=D-3&&S[i+1]==S[i+0]&&S[i+2]==S[i+0])break;
else++i;l=i-M;z[C++]=l-1;for(var F=0;F<l;F++)z[C+F]=S[M+F];C+=l}}return C-O};MY.SG=function(S,G,j,z,O,i){for(var C=0;
C<j;){var M=S[G++];if(M>=128){var D=S[G++],X=O+(257-M);z.fill(D,O,X);O=X;C+=2}else{var X=O+(1+M);while(O<X)z[O++]=S[G++];
C+=1+1+M}}};function fo(){}fo.wD=function(S,G){G.QR=!1;G.hj=8;var j=new Uint8Array(S),z=0,O=0,J,oF=0,c=!1;
O=fo.PS(G,j,z);z=O;O=fo.fnH(G,j,z);z=O;O=fo.fni(G,j,z);z=O;O=fo.fnb(G,j,z);z=O;O=fo.fJM(G,j,z);z=O;if(G.d.length==0){var i=G.YJ();
i.lX("Background");G.d.push(i);i.buffer=x.clone(G.buffer);i.rect=new Q(0,0,G.o,G.i)}if(G.qJ.r1005){G.bY=W.GP(G.qJ.r1005,0)}if(G.qJ.r1026){var j=G.qJ.r1026;
for(var C=0;C<j.length;C+=2){var O=G.d[C>>>1];if(O)O.Xk=W.GP(j,C)}}if(G.qJ.r1032){var j=G.qJ.r1032,M=W.O(j,12);
for(var C=0;C<M;C++){var D=j[16+C*5+4],X=W.O(j,16+C*5)/32;G.WX[D].push(X)}}delete G.qJ.r1039;if(G.qJ.r1050){var l=W.O,f=G.qJ.r1050,F=W.O(f,0);
if(F==6){var $=4,_=W.QX(f,$);$+=16;var P=W.dJ(f,$);$+=4+P.length*2;var k=l(f,$);$+=4;var H=G.fF;for(var C=0;
C<k;C++){var q=t.Ga.Kt(),I;H.push(q);q=q.v;q.sliceID.v=l(f,$);$+=4;q.groupID.v=l(f,$);$+=4;var R=l(f,$);
$+=4;if(R==1){I=l(f,$);$+=4}var P=W.dJ(f,$);$+=4+P.length*2;var b=l(f,$);$+=4;var Y=[l(f,$),l(f,$+4),l(f,$+8),l(f,$+12)];
$+=16;t.Ga.lM(H,H.length-1,Y);var m=q.url.v=W.dJ(f,$);$+=4+m.length*2;var h=q.null.v=W.dJ(f,$);$+=4+h.length*2;
var e=q.Msge.v=W.dJ(f,$);$+=4+e.length*2;var s=q.altTag.v=W.dJ(f,$);$+=4+s.length*2;q.cellTextIsHTML.v=f[$]==1;
$++;var y=q.cellText.v=W.dJ(f,$);$+=4+y.length*2;var T=l(f,$);$+=4;var K=l(f,$);$+=4;var B=f.slice($,$+4);
$+=4;if(R!=2)H.pop()}}else if(F==8){var a={};YD.EV(f,a,8,!1);var f=G.fF=a.slices.v;for(var C=0;C<f.length;
C++){if(f[C].v.origin.v.ESliceOrigin!="userGenerated"){f.splice(C,1);C--}}}}if(G.qJ.r1065){var j=G.qJ.r1065;
G.hx={};YD.EV(j,G.hx,4,!1)}if(G.qJ.r1069){var j=G.qJ.r1069,u=[];for(var C=2;C<j.length;C+=4){var I=W.O(j,C);
for(var r=0;r<G.d.length;r++){var O=G.d[r];if(O.add.lyid==I&&O.add.lsct!=3)u.push(r)}}G.N=u}if(G.qJ.r1025){var v=G.qJ.r1025;
delete G.qJ.r1025;var o=CO.nU(v,0,v.length,G.o,G.i);G.qD[0]=Yi.kI("Working Path",o)}var V=G.add.pths;
delete G.add.pths;var d=G.qJ.r3000;if(d){J={};YD.EV(d,J,4,!1);delete G.qJ.r3000}for(var oU=0;oU<=997;
oU++){var p="r"+(2e3+oU),v=G.qJ[p];if(v==null)break;var o=CO.nU(v,0,v.length,G.o,G.i),N=V?V.pathList.v[oU].v.pathUnicodeName.v:"Path "+oU,ob=J?J.keyRootDescriptorList.v[oU].v.keyDescriptorList.v:g.Ko(o);
G.qD[oU+1]=Yi.kI(N,o,null,ob);delete G.qJ[p]}delete G.QR;var oe=new Q(0,0,G.o,G.i),oN=G.add.Txt2,YM=oN;
if(YM){YM=YM.ds;if(YM._DocumentResources==null)YM=CD.fYH(YM)}if(oN&&oN.ds._DocumentResources!=null){var oE="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),ox=oN.ds._DocumentResources._TextFrameSet._Resources;
for(var C=0;C<ox.length;C++){}}for(var C=0;C<G.d.length;C++){var O=G.d[C],oG=O.add.vmsk,or=O.Ew();if(O.name==""){O.name="Layer "+(C+1);
c=!0}if(c&&O.$P()&&O.eD=="norm")O.eD="pass";if(O.AG()&&O.td(G).q){var Yf=O.td(G);Yf.q.isEnabled=O.add.SoLd.filterFX.v.filterMaskEnable.v}if(oG&&O.dr()){var oL=n.GN.default;
if(O.add.vstk==null)O.add.vstk=JSON.parse(JSON.stringify(oL));else{var YX="strokeStyleLineDashSet";if(O.add.vstk[YX]==null)O.add.vstk[YX]=JSON.parse(JSON.stringify(oL[YX]))}}if(oG&&(O.add.vogk==null||x.p.Bv(oG.z)!=O.add.vogk.length))O.Ko();
if(or==null&&O.q!=null){if(O.q.RI==!1){O.q.RI=!0;O.lm=O.q.clone()}else{oG.lm=O.q;oG.io=!1;O.q.vU=oG.vU;
O.q.iA=oG.iA}}if(or!=null&&oG!=null&&(or.vU+oG.vU!=0||or.iA+oG.iA!=2*255))O.uf(G);var YC=O.add.vstk;
if(O.dr()&&(O.rect.tR()||oG&&oG.vU!=0||YC&&!YC.fillEnabled.v&&(!YC.strokeEnabled.v||YC.strokeStyleLineWidth.v.val==0)))O.BN(G);
if(O.add.TySh&&YM){var Yp=O.add.TySh.Nv,YZ=o_.sI(Yp),Yz=Yp.EngineDict.ParagraphRun.RunArray,YT=YM._DocumentObjects._TextObjects;
if(YT.length<=oF){console.log("Txt2 incomplete");continue}YT=YT[oF]._Model._ParagraphRun._RunArray;var Yg=Math.min(YT.length,Yz.length);
for(var r=0;r<Yg;r++){var YY=Yz[r].ParagraphSheet.Properties,Yo=YM._DocumentResources._ParagraphSheetSet._Resources,Ya=YT[r]._RunData._ParagraphSheet;
if(typeof Ya=="string")Ya=Yo[parseInt(Ya.slice(1))]._Resource;var YQ=Ya._Parent==null?Ya:Yo[parseInt(Ya._Parent.slice(1))]._Resource,YK=Ya._Features._ParagraphDirection;
if(YK==null)YK=YQ._Features._ParagraphDirection;if(YK)YY._Direction=parseInt(YK.slice(1))}var fa=YM._DocumentResources,YO=fa._TextFrameSet._Resources,Yw=YO[oF]._Resource,YV=new Ym(1,0,0,1,0,0);
if(Yw._0){var Yu=parseFloat(Yw._0[0].slice(1)),YJ=parseFloat(Yw._0[1].slice(1));YV.translate(Yu,YJ)}if(YZ){YV.translate(YZ[0],YZ[1]);
o_.xg(Yp,[0,0,YZ[2]-YZ[0],YZ[3]-YZ[1]])}else{if(Yw._Bezier&&Yw._Bezier._Points){var o=Yw._Bezier._Points,Yu=parseFloat(o[0].slice(1)),YJ=parseFloat(o[1].slice(1));
if(Yu!=0||YJ!=0){YV.translate(Yu,YJ)}}}if(Yw._Data&&Yw._Data._FrameMatrix){var fd=Yw._Data._FrameMatrix;
fd=fd.map(function(Yq){return parseFloat(Yq.slice(1))});YV.concat(new Ym(fd[0],fd[1],fd[2],fd[3],fd[4],fd[5]))}YV.concat(O.add.TySh.GY);
O.add.TySh.GY=YV;oF++}}fA.Gx.pH(G,!0)};fo.fWj=function(S,G,j,z){for(var O=0;O<z;O++)if(S[j+O]!=G[j+O])return!1;
return!0};fo.Rk=function(S,G,j){fA.Gx.kW(S);fA.Gx.pH(S,!1);var z=[],O=[],i=[],C=[],M=[],h=16,ob=0;for(var D=0;
D<S.d.length;D++){var X=S.d[D];if(X.AG()&&X.td(S).q){X.add.SoLd.filterFX.v.filterMaskEnable.v=X.td(S).q.isEnabled}if(X.add.SoLd){O.push(X.add.SoLd.Idnt.v);
i.push(X.add.SoLd.placed.v)}if(X.add.TySh){X.add.TySh.Hd.TextIndex={t:"long",v:z.length};z.push(X.add.TySh.Nv)}if(X.add.PtFl)C.push(X.add.PtFl.Ptrn.v.Idnt.v);
if(X.add.lmfx){for(var l=0;l<n.lH.length;l++){var f=X.add.lmfx[n.lH[l]].v;for(var F=0;F<f.length;F++)if(f[F].v.Ptrn)C.push(f[F].v.Ptrn.v.Idnt.v)}}var $=X.add.vstk;
if($&&$.strokeStyleContent.v.classID=="patternLayer"){C.push($.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(X.dr()){M[D]=[X.rect,X.buffer];
X.rect=new Q;X.buffer=x.S(0)}}if(z.length>0){var _=S.add.Txt2?S.add.Txt2.ds:null;S.add.Txt2={};S.add.Txt2.ds=Co.fMu(z,null,_)}var P=S.add.lnk2;
if(P){var k=S.add.lnk2=[];for(var D=0;D<P.length;D++)if(O.indexOf(P[D].Pq)!=-1)k.push(P[D]);if(k.length==0)delete S.add.lnk2}var H=S.add.FEid;
if(H){var q=S.add.FEid=[];for(var D=0;D<H.length;D++)if(i.indexOf(H[D].id)!=-1)q.push(H[D]);if(q.length==0)delete S.add.FEid}var R=S.add.Patt;
if(R){var I=S.add.Patt=[];for(var D=0;D<R.length;D++)if(C.indexOf(R[D].id)!=-1)I.push(R[D])}S.qJ.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
W.iD(S.qJ.r1005,0,S.bY);W.iD(S.qJ.r1005,8,S.bY);if(S.wh()){S.qJ.r1022=new Uint8Array([0,3+S.Ft.length-1,0])}else delete S.qJ.r1022;
S.qJ.r1026=new Uint8Array(S.d.length*2);for(var D=0;D<S.d.length;D++)W.iD(S.qJ.r1026,D*2,S.d[D].Xk);
var b=S.WX,Y=b[0].length+b[1].length,m=S.qJ.r1032=x.S(16+5*Y,!0);W.Wk(m,0,1);W.Wk(m,4,576);W.Wk(m,8,576);
W.Wk(m,12,Y);for(var D=0;D<2;D++)for(var F=0;F<b[D].length;F++){W.Wk(m,h,Math.round(b[D][F]*32));m[h+4]=D;
h+=5}delete S.qJ.r1045;delete S.qJ.r1006;delete S.qJ.r1077;var e=new Ck;h=0;var s=new Uint8Array(4+(1+S.Ft.length)*13);
s[3]=1;s[6]=s[7]=255;s[15]=100;s[16]=1;for(var D=0;D<1+S.Ft.length;D++){var y=S.Ft[D-(D==0?0:1)],T=(D==0?"Transparency":y.name)+"\0";
W.Kw(e,h,T);h+=4+T.length*2;if(D!=0){var K=4+D*13;SZ.UO(s,K,y.AE);s[K+11]=y.Pv;s[K+12]=y.Rp}}S.qJ.r1045=e.data.slice(0,h);
S.qJ.r1077=s;for(var D=0;D<S.fF.length;D++)S.fF[S.fF.length-D-1].v.sliceID.v=2+D*3;var B={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:S.fF}},e=new Ck;
W.W(e,0,8);W.W(e,4,16);var a=YD.MU(e,B,8);S.qJ.r1050=e.data.slice(0,a+8);var e=new Ck;W.W(e,0,16);var a=YD.MU(e,S.hx,4);
S.qJ.r1065=e.data.slice(0,a+4);var u=S.N;m=S.qJ.r1069=x.S(2+u.length*4,!0);W.iD(m,0,u.length);for(var D=0;
D<u.length;D++)W.Wk(m,2+4*D,S.d[u[D]].add.lyid);var r=new Date,v=[r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()];
for(var D=0;D<6;D++)v[D]=(v[D]+"").padStart(2,"0");var o=[{t274:[1],t282:[72],t283:[72],t296:[2],t305:["Photopea Editor (www.photopea.com)"],t306:[v[0]+":"+v[1]+":"+v[2]+" "+v[3]+":"+v[4]+":"+v[5]]},{t259:[6],t282:[72],t283:[72],t296:[2],t513:[302],t514:[0]}];
S.qJ.r1058=new Uint8Array(UTIF.encode(o));var V=[],J=[];for(var D=0;D<S.qD.length;D++){var d=S.qD[D],oU=d.add.vmsk.z;
if(D==0&&oU.length==2)continue;var p=x.S(oU.length*26);CO.Sm(p,0,oU,S.o,S.i);var N=D==0?1025:2e3+D-1;
S.qJ["r"+N]=p;if(D!=0){V.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:d.name}}});
J.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:d.add.vogk}}})}}if(V.length!=0){S.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:V}};
J={classID:"null",keyRootDescriptorList:{t:"VlLs",v:J}};var e=new Ck;W.W(e,0,16);var a=YD.MU(e,J,4);
S.qJ.r3000=e.data.slice(0,a+4)}else{delete S.add.pths;delete S.qJ.r3000}ob=fo.fnd(S,G,ob);ob=fo.fnR(S,G,ob);
ob=fo.fnj(S,G,ob);ob=fo.fAf(S,G,ob,j);ob=fo.fJW(S,G,ob,j[0]);for(var D=0;D<S.d.length;D++){var X=S.d[D];
if(X.dr()){X.rect=M[D][0];X.buffer=M[D][1]}}if(P)S.add.lnk2=P;if(H)S.add.FEid=H;if(R)S.add.Patt=R;fA.Gx.pH(S,!0);
return ob};fo.PS=function(S,G,j){var z=W.PP(G,j,4);j+=4;if(z!="8BPS")alert("invalid header signature: "+z);
var O=W.GP(G,j);j+=2;S.QR=O==2;if(O!=1&&O!=2)alert("invalid version: "+O);j+=6;S.PQ=W.GP(G,j);j+=2;S.i=W.SM(G,j);
j+=4;S.o=W.SM(G,j);j+=4;S.hj=W.GP(G,j);j+=2;S.PC=W.GP(G,j);j+=2;return j};fo.fnd=function(S,G,j){G.nv(0,64);
W.CL(G.data,j,"8BPS");j+=4;W.iD(G.data,j,1);j+=2;W.Wk(G.data,j,0);j+=4;W.iD(G.data,j,0);j+=2;W.iD(G.data,j,4+S.Ft.length);
j+=2;W.Rh(G.data,j,S.i);j+=4;W.Rh(G.data,j,S.o);j+=4;W.iD(G.data,j,8);j+=2;W.iD(G.data,j,3);j+=2;return j};
fo.fnH=function(S,G,j){var z=W.SM(G,j);j+=4;if(z!=0)S.hO=G.slice(j,j+z);j+=z;return j};fo.fnR=function(S,G,j){W.fn(G,j,0);
j+=4;return j};fo.fni=function(S,G,j){var z=W.O(G,j),O=0,f="";j+=4;var i=[];while(O<z){var C=W.PP(G,j+O,4);
O+=4;var M=W.GP(G,j+O);O+=2;var D=W.Sg(G,j+O);O+=D.length;if(C!="8BIM"){i.push(M);console.log("Unknown Image Resources signature: "+C+", ID: "+M)}var X=W.O(G,j+O);
O+=4;if(S.qJ["r"+M]!=null)console.log("--- two resources with same ID");S.qJ["r"+M]=W.Sz(G,j+O,X);O+=X+(X&1)}for(var l=0;
l<i.length;l++)delete S.qJ["r"+i[l]];if(S.kl()==null)S.fz(30);return j+z};fo.fnj=function(S,G,j){var z=j,O=0;
j+=4;for(var i in S.qJ){W.cZ(G,j+O,"8BIM");O+=4;var C=parseInt(i.substring(1));W.nG(G,j+O,C);O+=2;var M=W.xA(G,j+O,"");
O+=M;var D=S.qJ["r"+C],X=D.length;W.W(G,j+O,X);O+=4;W.SZ(G,j+O,D);O+=X;if(X%2==1)O++}W.W(G,z,O);return j+O};
fo.fnb=function(S,G,j){var z=j,O,i=S.QR?8:4;if(S.QR)O=W.dI(G,j);else O=W.O(G,j);j+=i;if(O==0)return z+i;
j=fo.fAK(S,G,j);j=fo.fAs(S,G,j);j=fh.NQ(G,j,z+i+O,S.add,S.QR,S);return z+i+O};fo.fAf=function(S,G,j,z){var O=j;
W.W(G,j,0);j+=4;j=fo.fAW(S,G,j,z);j=fo.fAx(S,G,j);j=fh.NZ(G,j,S.add,S);W.W(G,O,j-O-4);return j};fo.fAK=function(S,G,j){var z,O=S.QR?8:4;
if(S.QR)z=W.dI(G,j);else z=W.O(G,j);j+=O;if(z!=0)fo.CR(S,G,j);return j+z};fo.CR=function(S,G,j){var z=W.Et(G,j);
j+=2;var O=Math.abs(z);for(var i=0;i<O;i++){var C=new g;j=Ch.wD(C,S,G,j);S.d[i]=C}var M=new Q(0,0,S.o,S.i);
for(var i=0;i<O;i++){var D=S.d[i];j=MY.wD(D,S,G,j);var X=D.rect.h(),l=D.rect.tY(M),f=l.h()/X;if(X>2e3*3e3&&f<.5){var F=x.S(l.h()*4);
x.yF(D.buffer,D.rect,F,l);D.buffer=F;D.rect=l;alert("Removing hidden parts of layers")}}};fo.fAW=function(S,G,j,z){var O=j;
W.W(G,j,0);j+=4;var i=S.d.length;W.nG(G,j,-i);j+=2;var C=[];for(var M=0;M<i;M++)j=Ch.Rk(S.d[M],S,G,j,C);
for(var M=0;M<i;M++)j=MY.CS(S.d[M],G,j,C[M],z);var D=j-O-4;if(D%2!=0)D++;W.W(G,O,D);return O+D+4};fo.fAs=function(S,G,j){var z=W.O(G,j);
j+=4;j+=z;return j};fo.fAx=function(S,G,j){var z=W.W(G,j,0);j+=4;return j};fo.fJM=function(S,G,j){var z=S.PC,O="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),i=[1,1,1,3,4,1,1,3],C,P;
if(z!=3){if(z==1||z==2||z==4)alert("Project will be converted from "+O[z]+" to "+O[3]+" mode.");else{alert("Color mode "+O[z]+" is not supported yet :(")}}if(S.qJ.r1045){C=[];
var M=S.qJ.r1045,D=0;while(D<M.length){var X=W.KC(M,D);C.push(X);D+=4+2+X.length*2}}var l=i[z]+(C==null||C[0]=="Transparency"?1:0),f=S.o,F=S.i,$=f*F,_=W.GP(G,j);
j+=2;S.buffer=x.S($*4);x.GC(S.buffer,4278190080);var k=j;for(var H=0;H<S.PQ;H++){if(_==0){P=MY.UG(S.QR,S.hj,G,f,F,j,_);
j+=$*(S.hj>>>3)}else if(_==1){P=x.S($);var q=S.QR?4:2;if(H==0)j+=S.PQ*F*q;j+=MY.NJ(G,P,f,F,k+H*F*q,j,q)}else console.log("unknown compression of image data: ",_);
if(H<l){x.Cy(P,S.buffer,H);if(S.PQ==1&&H==0){x.Cy(P,S.buffer,1);x.Cy(P,S.buffer,2)}}else{var R=new g.QS,I=H-l,b=H-i[S.PC];
R.name=C?C[b]:"Alpha";if(R.name=="Quick Mask"){R.tO=!0;S.wE.push(I)}R.rect=new Q(0,0,f,F);R.channel=P;
R.color=0;R.Gw();S.Ft[I]=R;if(S.qJ.r1077){var M=S.qJ.r1077.slice(4+b*13);R.AE=SZ.iy(M,0);R.Pv=M[11];
R.Rp=M[12];if(R.Rp==2)R.tO=!0}}}S.PQ=4;if(S.PC==2)for(var Y=0;Y<$;Y++){var m=Y*4,h=S.buffer[m];S.buffer[m]=S.hO[0+h];
S.buffer[m+1]=S.hO[256+h];S.buffer[m+2]=S.hO[512+h]}return j};fo.fJW=function(S,G,j,z){var O=1,i=16,C=S.o,M=S.i,X,l;
W.nG(G,j,O);j+=2;var D=C*M;if(!z){l=new x.XL(C*M);x.fy(S.buffer,l);for(var f=0;f<D;f++){var F=l.A[f]*(1/255);
l.H[f]=~~(l.H[f]*F+255*(1-F));l.X[f]=~~(l.X[f]*F+255*(1-F));l.C[f]=~~(l.C[f]*F+255*(1-F))}}else X=x.S(D);
var $=[X,X,X,X];if(!z)$=[l.H,l.X,l.C,l.A];for(var f=0;f<S.Ft.length;f++){$.push(S.Ft[f].Jy(new Q(0,0,S.o,S.i)))}var _=j;
for(var P=0;P<$.length;P++){G.nv(j,C*M+4);X=$[P];if(O==0||O==2||O==3)j=MY.nL(X,G.data,C,M,j,O);else{if(P==0)j+=$.length*M*2;
var k=j;j+=MY.NI(X,G.data,C,M,_+P*M*2,j)}}return j};function ST(){}ST.wD=function(S){var G={};ST.nt(S,G,0,0);
return G};ST.Rk=function(S,G){var j=0;j=ST.Af(S,G,j,0);return j};ST.nt=function(S,G,j,z){while(S[j]!="<".charCodeAt(0))j++;
j+=2;while(!0){if(S[j]=="/".charCodeAt(0)){j++;var O=W.indexOf(S," ".charCodeAt(0),j,j+50),i=W.indexOf(S,"\n".charCodeAt(0),j,j+50);
if(i==-1)i=Infinity;if(O==-1)O=Infinity;var C=Math.min(i,O),M=W.PP(S,j,C-j),D=ST.xY(S,C+1,z+1,M);G[M]=D.g;
j=C+1;j+=D.size}else if(S[j]==">".charCodeAt(0)){j+=2;break}else{var X=S[j];if(X==10||X==9||X==32)j++;
else{console.log("unknown byte: "+X+", char: "+String.fromCharCode(X),j);j++}}}return j};ST.Af=function(S,G,j,z){W.cZ(G,j,"<<\n");
j+=3;var O=ST.fJT;for(var i in S){W.pb(G,j,"\t".charCodeAt(0),z+1);j+=z+1;W.cZ(G,j,"/"+i);j+=1+i.length;
if(O(S[i])||S[i]instanceof Array){W.cZ(G,j," ");j++}else{W.cZ(G,j,"\n");j++;W.pb(G,j,"\t".charCodeAt(0),z+1);
j+=z+1}j=ST.xp(S[i],G,j,z+1);W.cZ(G,j,"\n");j++}W.pb(G,j,"\t".charCodeAt(0),z);j+=z;W.cZ(G,j,">>");j+=2;
return j};ST.xY=function(S,G,j,z){var O=G,i={size:0,g:0};while(!0){while(S[G]==" ".charCodeAt(0)||S[G]=="\t".charCodeAt(0)||S[G]=="\n".charCodeAt(0))G++;
if(S[G]=="<".charCodeAt(0)){i.g={};G=ST.nt(S,i.g,G,j+1);break}else if(S[G]=="(".charCodeAt(0)){G+=3;
var C=G;while(!0){if(S[C-1]!="\\".charCodeAt(0)&&S[C]==")".charCodeAt(0)&&(S[C+1]=="\n".charCodeAt(0)||S[C+1]==" ".charCodeAt(0)))break;
else C++}i.g=W.NU(S,G,C);G=C+2;break}else if(S[G]=="[".charCodeAt(0)){G++;i.g=[];while(S[G]==" ".charCodeAt(0)||S[G]=="\t".charCodeAt(0)||S[G]=="\n".charCodeAt(0))G++;
while(S[G]!="]".charCodeAt(0)){var M=ST.xY(S,G,j+1,z);i.g.push(M.g);G+=M.size;while(S[G]==" ".charCodeAt(0)||S[G]=="\t".charCodeAt(0)||S[G]=="\n".charCodeAt(0))G++}G++;
break}else{var D=W.indexOf(S," ".charCodeAt(0),G,G+50),X=W.indexOf(S,"\n".charCodeAt(0),G,G+50);if(X==-1)X=Infinity;
if(D==-1)D=Infinity;var l=W.PP(S,G,Math.min(D,X)-G).trim(),f=parseFloat(l);if(!isNaN(f)){i.g=parseFloat(l);
G=Math.min(D,X)+1;break}else if(l=="true"||l=="false"){i.g=l=="true";G=Math.min(D,X)+1;break}else if(l=="null"){i.g=0;
G=Math.min(D,X)+1;break}else{console.log("unknown identifier: "+l);throw"e"}G=Math.min(D,X)+1}}i.size=G-O;
return i};ST.xp=function(S,G,j,z){if(S instanceof Array){var O=S.length==0||typeof S[0]=="number";if(O){W.cZ(G,j,"[ ");
j+=2;for(var i=0;i<S.length;i++){var C=S[i]+" ";W.cZ(G,j,C);j+=C.length}W.cZ(G,j,"]");j+=1}else{W.cZ(G,j,"[\n");
j+=2;for(var i=0;i<S.length;i++){W.pb(G,j,"\t".charCodeAt(0),z);j+=z;j=ST.xp(S[i],G,j,z);W.cZ(G,j,"\n");
j++}W.pb(G,j,"\t".charCodeAt(0),z);j+=z;W.cZ(G,j,"]");j+=1}}else if(S instanceof Object){j=ST.Af(S,G,j,z)}else if(typeof S=="string"){W.cZ(G,j,"(");
j++;W.pb(G,j,254);j++;W.pb(G,j,255);j++;j=W.Ne(G,j,S);W.cZ(G,j,")");j+=1}else{var C=S+"";W.cZ(G,j,C);
j+=C.length}return j};ST.fJT=function(S){var G=typeof S;return G=="string"||G=="number"||G=="boolean"};
function MI(){}MI.wD=function(S){var G={};MI.NR(S,G,0,0);return G};MI.Rk=function(S,G){var j=0;W.cZ(G,j," ");
j++;j=MI.Ni(S,G,j,0);j--;G.nv(j,2);G.data[j]=G.data[j+1]=0;j+=2;return j};MI.nt=function(S,G,j,z){while(S[j]!="<".charCodeAt(0)){j++;
console.log("\u0161ipka")}j+=2;j=MI.NR(S,G,j,z);return j};MI.Af=function(S,G,j,z){W.cZ(G,j,"<< ");j+=3;
j=MI.Ni(S,G,j,z);W.cZ(G,j,">>");j+=2;return j};MI.Ci=function(S){return S==9||S==10||S==32};MI.NR=function(S,G,j,z){while(!0){while(MI.Ci(S[j])||S[j]==0)j++;
if(j>=S.length)break;if(S[j]=="/".charCodeAt(0)){j++;var O=j;while(!MI.Ci(S[O]))O++;var i=W.PP(S,j,O-j);
j=O+1;var C=MI.xY(S,j,z,i);G["_"+i]=C.g;j+=C.size}else if(S[j]==">".charCodeAt(0)){j+=2;break}else{var M=S[j];
console.log(W.PP(S,j,j+100));console.log("unknown byte: "+M+", char: "+String.fromCharCode(M)+", offset: "+j);
j++;throw"e";return-1}}return j};MI.Ni=function(S,G,j,z){for(var O in S){var i=O.substring(1,O.length);
W.cZ(G,j,"/"+i);j+=1+i.length;W.cZ(G,j," ");j++;j=MI.xp(S[O],G,j,z+1);W.cZ(G,j," ");j++}return j};MI.xY=function(S,G,j,z){var O=G,i={type:"",size:0,g:0};
while(MI.Ci(S[G]))G++;if(S[G]=="<".charCodeAt(0)){i.type="Object";i.g={};G=MI.nt(S,i.g,G,j+1)}else if(S[G]=="(".charCodeAt(0)){i.type="String";
G++;if(S[G]==")".charCodeAt(0)){i.g="s";G++}else{G+=2;var C=G,Cf=0;while(!0){if(S[C]==")".charCodeAt(0)&&S[C-1]!="\\".charCodeAt(0))break;
else C+=1}i.g="s"+W.NU(S,G,C);G=C+2}}else if(S[G]=="[".charCodeAt(0)){G++;i.g=[];i.type="Array";while(MI.Ci(S[G]))G++;
while(S[G]!="]".charCodeAt(0)){var M=MI.xY(S,G,j+1,z);if(M==-1)return-1;i.g.push(M.g);G+=M.size;delete M.size;
while(MI.Ci(S[G]))G++}G++}else{var D=G;while(!MI.Ci(S[D]))D++;var X=W.PP(S,G,D-G),l=parseFloat(X);if(!isNaN(l)&&X.indexOf(".")!=-1){i.type="Float";
var f=parseFloat(X);i.g="f"+f}else if(!isNaN(l)&&X.indexOf(".")==-1){i.type="Integer";i.g="i"+parseInt(X)}else if(X=="true"||X=="false"){i.type="Boolean";
i.g=X=="true"}else if(X.charAt(0)=="/"){i.type="BString";i.g=X}else{console.log("unknown value",JSON.stringify(X));
throw"e"}G=D+1}i.size=G-O;return i};MI.fJw=function(S){if(S==Math.round(S))return S+".0";var G=S.toFixed(5);
if(0<S&&S<1)G=G.substring(1,G.length);if(-1<S&&S<0)G="-"+G.substring(2,G.length);return G};MI.xp=function(S,G,j,z){var O=typeof S=="string"?S.charAt(0):"";
if(S instanceof Array){W.cZ(G,j,"[ ");j+=2;for(var i=0;i<S.length;i++){j=MI.xp(S[i],G,j,z);W.cZ(G,j," ");
j++}W.cZ(G,j,"]");j+=1}else if(S instanceof Object){j=MI.Af(S,G,j,z)}else if(O=="s"){W.cZ(G,j,"(");j++;
W.pb(G,j,254);j++;W.pb(G,j,255);j++;j=W.Ne(G,j,S.substring(1));W.cZ(G,j,")");j++}else if(O=="/"){W.cZ(G,j,S);
j+=S.length}else if(O=="f"){var C=parseFloat(S.substring(1)),M=MI.fJw(C);W.cZ(G,j,M);j+=M.length}else if(O=="i"){W.cZ(G,j,S.substring(1));
j+=S.length-1}else{var M=S+"";W.cZ(G,j,M);j+=M.length}return j};function A(S,G){if(!S)S=0;if(!G)G=0;
this.x=S;this.y=G}A.prototype.add=function(S){return new A(this.x+S.x,this.y+S.y)};A.prototype.clone=function(){return new A(this.x,this.y)};
A.prototype.du=function(S){this.x=S.x;this.y=S.y};A.prototype.Xs=function(S){return this.x==S.x&&this.y==S.y};
A.prototype.normalize=function(S){var G=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=S/G;this.y*=S/G};
A.prototype.offset=function(S,G){this.x+=S;this.y+=G};A.prototype.cK=function(S,G){this.x=S;this.y=G};
A.prototype.aB=function(S){return new A(this.x-S.x,this.y-S.y)};A.nM=function(S,G){return A.fJn(S.x,S.y,G.x,G.y)};
A.Yw=function(S,G,j){return new A(S.x+j*(G.x-S.x),S.y+j*(G.y-S.y))};A.fJV=function(S,G){return new A(S*Math.cos(G),S*Math.sin(G))};
A.fJn=function(S,G,j,z){return Math.sqrt((j-S)*(j-S)+(z-G)*(z-G))};A.PW={};A.Vh={};A.PW.create=function(){var S=new Float32Array(4);
return S};A.Vh.create=function(S){var G=new Float32Array(16);G[0]=G[5]=G[10]=G[15]=1;if(S)A.Vh.set(S,G);
return G};A.PW.add=function(S,G,j){j[0]=S[0]+G[0];j[1]=S[1]+G[1];j[2]=S[2]+G[2];j[3]=S[3]+G[3]};A.PW.set=function(S,G){G[0]=S[0];
G[1]=S[1];G[2]=S[2];G[3]=S[3]};A.Vh.set=function(S,G){G[0]=S[0];G[1]=S[1];G[2]=S[2];G[3]=S[3];G[4]=S[4];
G[5]=S[5];G[6]=S[6];G[7]=S[7];G[8]=S[8];G[9]=S[9];G[10]=S[10];G[11]=S[11];G[12]=S[12];G[13]=S[13];G[14]=S[14];
G[15]=S[15]};A.Vh.multiply=function(S,G,j){var z=S[0],O=S[1],i=S[2],C=S[3],M=S[4],D=S[5],X=S[6],l=S[7],f=S[8],F=S[9],$=S[10],_=S[11],P=S[12],k=S[13],H=S[14],q=S[15],R=G[0],I=G[1],b=G[2],Y=G[3];
j[0]=R*z+I*M+b*f+Y*P;j[1]=R*O+I*D+b*F+Y*k;j[2]=R*i+I*X+b*$+Y*H;j[3]=R*C+I*l+b*_+Y*q;R=G[4];I=G[5];b=G[6];
Y=G[7];j[4]=R*z+I*M+b*f+Y*P;j[5]=R*O+I*D+b*F+Y*k;j[6]=R*i+I*X+b*$+Y*H;j[7]=R*C+I*l+b*_+Y*q;R=G[8];I=G[9];
b=G[10];Y=G[11];j[8]=R*z+I*M+b*f+Y*P;j[9]=R*O+I*D+b*F+Y*k;j[10]=R*i+I*X+b*$+Y*H;j[11]=R*C+I*l+b*_+Y*q;
R=G[12];I=G[13];b=G[14];Y=G[15];j[12]=R*z+I*M+b*f+Y*P;j[13]=R*O+I*D+b*F+Y*k;j[14]=R*i+I*X+b*$+Y*H;j[15]=R*C+I*l+b*_+Y*q;
return j};A.Vh.inverse=function(S,G){var j=S[0],z=S[1],O=S[2],i=S[3],C=S[4],M=S[5],D=S[6],X=S[7],l=S[8],f=S[9],F=S[10],$=S[11],_=S[12],P=S[13],k=S[14],H=S[15],q=j*M-z*C,R=j*D-O*C,I=j*X-i*C,b=z*D-O*M,Y=z*X-i*M,m=O*X-i*D,h=l*P-f*_,e=l*k-F*_,s=l*H-$*_,y=f*k-F*P,T=f*H-$*P,K=F*H-$*k,B=q*K-R*T+I*y+b*s-Y*e+m*h;
if(!B){return null}B=1/B;G[0]=(M*K-D*T+X*y)*B;G[1]=(O*T-z*K-i*y)*B;G[2]=(P*m-k*Y+H*b)*B;G[3]=(F*Y-f*m-$*b)*B;
G[4]=(D*s-C*K-X*e)*B;G[5]=(j*K-O*s+i*e)*B;G[6]=(k*I-_*m-H*R)*B;G[7]=(l*m-F*I+$*R)*B;G[8]=(C*T-M*s+X*h)*B;
G[9]=(z*s-j*T-i*h)*B;G[10]=(_*Y-P*I+H*q)*B;G[11]=(f*I-l*Y-$*q)*B;G[12]=(M*e-C*y-D*h)*B;G[13]=(j*y-z*e+O*h)*B;
G[14]=(P*R-_*b-k*q)*B;G[15]=(l*b-f*R+F*q)*B;return G};A.Vh.fWO=function(S,G,j){var z=G[0],O=G[1];j[0]=z*S[0]+O*S[4]+S[12];
j[1]=z*S[1]+O*S[5]+S[13]};A.Vh.fWq=function(S,G,j){var z=G[0],O=G[1],i=G[2],C=G[3];j[0]=S[0]*z+S[4]*O+S[8]*i+S[12]*C;
j[1]=S[1]*z+S[5]*O+S[9]*i+S[13]*C;j[2]=S[2]*z+S[6]*O+S[10]*i+S[14]*C;j[3]=S[3]*z+S[7]*O+S[11]*i+S[15]*C};
function Ym(S,G,j,z,O,i){if(typeof S==="undefined"){S=1;G=0;j=0;z=1;O=0;i=0}this.A=S;this.C=G;this.vK=j;
this.JE=z;this.cg=O;this.tL=i}Ym.prototype.HR=function(){return Math.sqrt(Math.abs(this.A*this.JE-this.C*this.vK))};
Ym.prototype.Nj=function(){var S=this,G=function(j){return Math.abs(j)<1e-9?0:j};S.A=G(S.A);S.C=G(S.C);
S.vK=G(S.vK);S.JE=G(S.JE);S.cg=G(S.cg);S.tL=G(S.tL)};Ym.prototype.LU=function(S){return new A(S.x*this.A+S.y*this.vK+this.cg,S.x*this.C+S.y*this.JE+this.tL)};
Ym.prototype.translate=function(S,G){this.cg+=S;this.tL+=G};Ym.prototype.rotate=function(S){var G=new Ym(Math.cos(S),-Math.sin(S),Math.sin(S),Math.cos(S),0,0);
this.concat(G)};Ym.prototype.scale=function(S,G){var j=new Ym(S,0,0,G,0,0);this.concat(j)};Ym.prototype.concat=function(S){this.du(new Ym(this.A*S.A+this.C*S.vK,this.A*S.C+this.C*S.JE,this.vK*S.A+this.JE*S.vK,this.vK*S.C+this.JE*S.JE,this.cg*S.A+this.tL*S.vK+S.cg,this.cg*S.C+this.tL*S.JE+S.tL))};
Ym.prototype.uT=function(){var S=this.A*this.JE-this.C*this.vK;this.du(new Ym(this.JE/S,-this.C/S,-this.vK/S,this.A/S,(this.vK*this.tL-this.JE*this.cg)/S,(this.C*this.cg-this.A*this.tL)/S))};
Ym.prototype.clone=function(){return new Ym(this.A,this.C,this.vK,this.JE,this.cg,this.tL)};Ym.prototype.du=function(S){this.A=S.A;
this.C=S.C;this.vK=S.vK;this.JE=S.JE;this.cg=S.cg;this.tL=S.tL};function W(){}W.Pd=function(S){var G="";
for(var j=3;j>=0;j--)G+=String.fromCharCode(S>>j*8&255);return G};W.fJU=function(S){var G=0;for(var j=S.length-1;
j>=0;j--)G|=S.charCodeAt(j)<<(3-j)*8;return G};W.indexOf=function(S,G,j,z){if(j==null)j=0;if(z==null)z=S.length;
z=Math.min(z,S.length);for(var O=j;O<z;O++)if(S[O]==G)return O;return-1};W.Nq=function(S,G,j){if(j==null)j=0;
if(typeof G=="string"){var z=[];for(var O=0;O<G.length;O++)z.push(G.charCodeAt(O));G=z}for(var O=j;O<S.length;
O++){var i=!0;for(var C=0;C<G.length;C++)if(G[C]!=S[O+C]){i=!1;break}if(i)return O}return-1};W.NU=function(S,G,j){var z=[],i="";
while(G<j){var O=S[G++];if(O=="\\".charCodeAt(0))z.push(S[G++]);else z.push(O)}for(var C=0;C<z.length;
C+=2)i+=String.fromCharCode(z[C]<<8|z[C+1]);return i};W.fJ_=function(S,G,j){var z=new Uint8Array(2);
for(var O=0;O<j.length;O++){W.iD(z,0,j.charCodeAt(O));if(z[0]==")".charCodeAt(0)||z[0]=="(".charCodeAt(0)||z[0]=="\\".charCodeAt(0)){S[G]="\\".charCodeAt(0);
G++}S[G]=z[0];G++;if(z[1]==")".charCodeAt(0)||z[1]=="(".charCodeAt(0)||z[1]=="\\".charCodeAt(0)){S[G]="\\".charCodeAt(0);
G++}S[G]=z[1];G++}return G};W.Ne=function(S,G,j){S.nv(G,4*j.length);return W.fJ_(S.data,G,j)};W.N$=function(S,G,j){var z="";
for(var O=0;O<j;O++){var i=S[G++]|S[G++]<<8;z+=String.fromCharCode(i)}return z};W.Pn=function(S,G,j){var z="";
for(var O=0;O<j;O++){var i=S[G++]<<8|S[G++];z+=String.fromCharCode(i)}return z};W.flg=function(S,G,j){for(var z=0;
z<j.length;z++){var O=j.charCodeAt(z);W.AW(S,G+2*z,O)}};W.N_=function(S,G,j){for(var z=0;z<j.length;
z++){var O=j.charCodeAt(z);W.iD(S,G+2*z,O)}};W.fWh=function(S,G,j){S.nv(G,2*j.length);W.N_(S.data,G,j)};
W.flM=function(S,G,j){var z=[],O=0,i=0;j+=G;while(G<j){O=S[G++];if((O&128)==0)i=O;else if((O&224)==192){i=(O&31)<<6;
O=S[G++];i|=O&63}else if((O&240)==224){i=(O&15)<<12;O=S[G++];i|=(O&63)<<6;O=S[G++];i|=O&63}else if((O&248)==240){i=(O&7)<<18;
O=S[G++];i|=(O&63)<<12;O=S[G++];i|=(O&63)<<6;O=S[G++];i|=O&63}else throw"e";z.push(i)}return z};W.NF=window.TextDecoder?new window.TextDecoder("utf8"):null;
W.X_=function(S,G,j){if(G==null)G=0;if(j==null)j=S.length;if(W.NF&&G==0&&j==S.length)return W.NF.decode(S);
var z=W.flM(S,G,j),O=z.length;for(var i=0;i<O;i++)z[i]=String.fromCharCode(z[i]);return z.join("")};
W.rY=window.TextEncoder?new window.TextEncoder("utf8"):null;W.flp=function(S){if(W.rY)return W.rY.encode(S);
var G=new Uint8Array(S.length*4),j=W.CN(S,G,0);return G.slice(0,j)};W.CN=function(S,G,j){var z=S.length,O=0;
for(var i=0;i<z;i++){var C=S.charCodeAt(i);if((C&4294967295-(1<<7)+1)==0){G[j+O]=C;O++}else if((C&4294967295-(1<<11)+1)==0){G[j+O]=192|C>>6;
G[j+O+1]=128|C>>0&63;O+=2}else if((C&4294967295-(1<<16)+1)==0){G[j+O]=224|C>>12;G[j+O+1]=128|C>>6&63;
G[j+O+2]=128|C>>0&63;O+=3}else if((C&4294967295-(1<<21)+1)==0){G[j+O]=240|C>>18;G[j+O+1]=128|C>>12&63;
G[j+O+2]=128|C>>6&63;G[j+O+3]=128|C>>0&63;O+=4}else throw"e"}return O};W.Pk=function(S,G){var j=W.O(S,G),z=W.X_(S,G+4,j-1);
return{sN:z,we:4+j}};W.flq=function(S,G){var j=W.zx(S,G),z=W.N$(S,G+4,j);return z};W.dJ=function(S,G){var j=W.O(S,G),z=W.Pn(S,G+4,j);
return z};W.KC=function(S,G){var j=W.O(S,G),z=W.Pn(S,G+4,j-1);return z};W.fle=function(S,G,j){W.Wu(S,G,j.length);
G+=4;W.flg(S,G,j)};W.fl$=function(S,G,j){W.Wk(S,G,j.length);G+=4;W.N_(S,G,j)};W.Kw=function(S,G,j){S.nv(G,4+2*j.length);
W.fl$(S.data,G,j)};W.fyM=function(S,G,j){S.nv(G,4+2*j.length);W.fle(S.data,G,j)};W.Ap=function(S,G,j){var z=[];
for(var O=0;O<j;O++)z.push(String.fromCharCode(S[G+O]));return z};W.fWG=function(S,G,j){var z=!1,O=S.length-j.length;
for(var i=G;i<O;i++){for(var C=0;C<j.length;C++){if(S[i+C]!=j.charCodeAt(C))break;if(C==j.length-1)return i}}};
W.PP=function(S,G,j){var z="";for(var O=0;O<j;O++)z+=String.fromCharCode(S[G+O]);return z};W.CL=function(S,G,j){for(var z=0;
z<j.length;z++)S[G+z]=j.charCodeAt(z)};W.cZ=function(S,G,j){S.nv(G,j.length);W.CL(S.data,G,j)};W.fyQ=function(S,G,j){var z="";
for(var O=0;O<j;O++){var i=S[G+O];if(i<10)z+="  ";else if(i<100)z+=" ";z+=i+", "}return z};W.GP=function(S,G){return S[G]<<8|S[G+1]};
W.iD=function(S,G,j){S[G]=j>>8&255;S[G+1]=j&255};W.nG=function(S,G,j){S.nv(G,4);W.iD(S.data,G,j)};W.V$=function(S,G){return S[G+1]<<8|S[G]};
W.AW=function(S,G,j){S[G+1]=j>>8&255;S[G]=j&255};W.CF=function(S,G,j){S.nv(G,4);W.AW(S.data,G,j)};W.Et=function(S,G){W.Ac[0]=S[G+1];
W.Ac[1]=S[G];return W.Pb[0]};W.AT=function(S,G){W.Ac[0]=S[G];W.Ac[1]=S[G+1];return W.Pb[0]};W.iI=W.iD;
W.AZ=W.nG;W.SM=function(S,G){W.KO[0]=S[G+3];W.KO[1]=S[G+2];W.KO[2]=S[G+1];W.KO[3]=S[G];return W.ny[0]};
W.Rh=function(S,G,j){W.ny[0]=j;S[G+3]=W.KO[0];S[G+2]=W.KO[1];S[G+1]=W.KO[2];S[G+0]=W.KO[3]};W.fn=function(S,G,j){S.nv(G,4);
W.Rh(S.data,G,j)};W.Ad=function(S,G,j,z){j[z+0]=S[G+0];j[z+1]=S[G+1];j[z+2]=S[G+2];j[z+3]=S[G+3]};W.zx=function(S,G){W.Ad(S,G,W.KO,0);
return W.rz[0]};W.Wu=function(S,G,j){W.rz[0]=j;W.Ad(W.KO,0,S,G)};W.fI=function(S,G,j){S.nv(G,4);W.Wu(S.data,G,j)};
W.rC=function(S,G){W.Ad(S,G,W.KO,0);return W.ny[0]};W.fgz=function(S,G,j){W.ny[0]=j;W.Ad(W.KO,0,S,G)};
W.fsC=function(S,G,j){S.nv(G,4);W.fgz(S.data,G,j)};W.O=function(S,G){var j=S[G]*(256*256*256)+(S[G+1]<<16|S[G+2]<<8|S[G+3]);
return j};W.Wk=function(S,G,j){S[G]=j>>24&255;S[G+1]=j>>16&255;S[G+2]=j>>8&255;S[G+3]=j>>0&255};W.W=function(S,G,j){S.nv(G,4);
W.Wk(S.data,G,j)};W.dI=function(S,G){return W.O(S,G)<<32|W.O(S,G+4)};W.fgW=function(S,G,j){W.Wk(S,G,j>>16>>16);
W.Wk(S,G+4,j&4294967295)};W.PB=function(S,G,j){S.nv(G,8);W.fgW(S.data,G,j)};W.Xr=function(S,G){var j=new Uint8Array(8);
for(var z=0;z<8;z++)j[z]=S[G+7-z];var O=new Float64Array(j.buffer);return O[0]};W.fgw=function(S,G){var j=new Uint8Array(8);
for(var z=0;z<8;z++)j[z]=S[G+z];var O=new Float64Array(j.buffer);return O[0]};W.VL=function(S,G,j){var z=new Float64Array(1);
z[0]=j;var O=new Uint8Array(z.buffer);for(var i=0;i<4;i++){var C=O[i];O[i]=O[7-i];O[7-i]=C}for(var i=0;
i<8;i++)S[G+i]=O[i]};W.nu=function(S,G,j){S.nv(G,8);W.VL(S.data,G,j)};W.dk=function(S,G){W.KO[0]=S[G+3];
W.KO[1]=S[G+2];W.KO[2]=S[G+1];W.KO[3]=S[G+0];return W.AV[0]};W.PD=function(S,G){W.KO[0]=S[G+0];W.KO[1]=S[G+1];
W.KO[2]=S[G+2];W.KO[3]=S[G+3];return W.AV[0]};W.fH=function(S,G,j){W.AV[0]=j;S[G+0]=W.KO[3];S[G+1]=W.KO[2];
S[G+2]=W.KO[1];S[G+3]=W.KO[0]};W.fsS=function(S,G,j){S.nv(G,4);W.fH(S.data,G,j)};W.PO=function(S,G,j){W.AV[0]=j;
S[G+0]=W.KO[0];S[G+1]=W.KO[1];S[G+2]=W.KO[2];S[G+3]=W.KO[3]};W.fsP=function(S,G,j){S.nv(G,4);W.PO(S.data,G,j)};
W.fgy=function(S,G){var j=W.SM(S,G),z=j*(1/(1<<24));return z};W.rP=function(S,G,j){var z=Math.floor(j*(1<<24));
W.Rh(S,G,z)};W.fsv=function(S,G,j){S.nv(G,4);W.rP(S.data,G,j)};W.Sg=function(S,G){var j=S[G],z=W.PP(S,G+1,j);
j+=1-j%2;return{YW:z,length:j+1}};W.fgi=function(S,G,j){var z=j.length;S[G]=z;W.CL(S,G+1,j);if(z%2==0){S[G+1+z]=0;
++z}return z+1};W.xA=function(S,G,j){S.nv(G,j.length+2);return W.fgi(S.data,G,j)};W.xR=function(S,G){var j=new Ym;
j.A=W.Xr(S,G+0*8);j.C=W.Xr(S,G+1*8);j.vK=W.Xr(S,G+2*8);j.JE=W.Xr(S,G+3*8);j.cg=W.Xr(S,G+4*8);j.tL=W.Xr(S,G+5*8);
return j};W.SC=function(S,G,j){W.VL(S,G+0*8,j.A);W.VL(S,G+1*8,j.C);W.VL(S,G+2*8,j.vK);W.VL(S,G+3*8,j.JE);
W.VL(S,G+4*8,j.cg);W.VL(S,G+5*8,j.tL)};W.fgU=function(S,G,j){S.nv(G,48);W.SC(S.data,G,j)};W.fgN=function(S,G){var j=W.dk(S,G),z=W.dk(S,G+4),O=W.dk(S,G+8),i=W.dk(S,G+12);
return new Q(j,z,O-j,i-z)};W.ffW=function(S,G,j){W.fH(S,G,j.x);W.fH(S,G+4,j.y);W.fH(S,G+8,j.x+j.o);W.fH(S,G+12,j.y+j.i)};
W.ffs=function(S,G,j){S.nv(G,16);W.ffW(S.data,G,j)};W.QX=function(S,G){var j=W.SM(S,G),z=W.SM(S,G+4),O=W.SM(S,G+8),i=W.SM(S,G+12);
return new Q(z,j,i-z,O-j)};W.ra=function(S,G,j){W.Rh(S,G,j.y);W.Rh(S,G+4,j.x);W.Rh(S,G+8,j.y+j.i);W.Rh(S,G+12,j.x+j.o)};
W.cW=function(S,G,j){S.nv(G,16);W.ra(S.data,G,j)};W.Sz=function(S,G,j){var z=new Uint8Array(j);for(var O=0;
O<j;O++)z[O]=S[G+O];return z};W.rp=function(S,G,j){S.set(j,G)};W.SZ=function(S,G,j){S.nv(G,j.length);
W.rp(S.data,G,j)};W.ffm=function(S,G,j,z){if(!z)z=1;for(var O=0;O<z;O++)S[G+O]=j};W.pb=function(S,G,j,z){if(!z)z=1;
S.nv(G,z);W.ffm(S.data,G,j,z)};W.Pb=new Int16Array(1);W.Ac=new Uint8Array(W.Pb.buffer);W.ny=new Int32Array(1);
W.rz=new Uint32Array(W.ny.buffer);W.KO=new Uint8Array(W.ny.buffer);W.AV=new Float32Array(W.ny.buffer);
function Q(S,G,j,z){if(!S)S=0;if(!G)G=0;if(!j)j=0;if(!z)z=0;this.x=S;this.y=G;this.o=j;this.i=z}Q.prototype.h=function(){return this.o*this.i};
Q.prototype.clone=function(){return new Q(this.x,this.y,this.o,this.i)};Q.prototype.contains=function(S,G){return S>=this.x&&S<=this.x+this.o&&(G>=this.y&&G<=this.y+this.i)};
Q.prototype.oO=function(S){return this.contains(S.x,S.y)};Q.prototype.Ym=function(S){return this.x<=S.x&&this.y<=S.y&&S.x+S.o<=this.x+this.o&&S.y+S.i<=this.y+this.i};
Q.prototype.du=function(S){this.x=S.x;this.y=S.y;this.o=S.o;this.i=S.i};Q.prototype.Xs=function(S){return this.x==S.x&&this.y==S.y&&this.o==S.o&&this.i==S.i};
Q.prototype.En=function(S,G){this.x-=S;this.y-=G;this.o+=2*S;this.i+=2*G};Q.prototype.fsV=function(S){this.En(S.x,S.y)};
Q.prototype.tY=function(S){var G=Math.max(this.x,S.x),j=Math.max(this.y,S.y),z=Math.min(this.x+this.o,S.x+S.o),O=Math.min(this.y+this.i,S.y+S.i);
if(z<G||O<j)return new Q;else return new Q(G,j,z-G,O-j)};Q.prototype.f$=function(S){if(S.y+S.i<this.y||S.x>this.x+this.o||S.y>this.y+this.i||S.x+S.o<this.x)return!1;
return!0};Q.prototype.tR=function(){return this.o<=0||this.i<=0};Q.prototype.offset=function(S,G){this.x+=S;
this.y+=G};Q.prototype.An=function(S){this.offset(S.x,S.y)};Q.prototype.fsI=function(){this.x=this.y=this.o=this.i=0};
Q.prototype.cK=function(S,G,j,z){this.x=S;this.y=G;this.o=j;this.i=z};Q.prototype.wB=function(S){if(this.tR())return S.clone();
if(S.tR())return this.clone();var G=this.clone();G.ffQ(S);return G};Q.cG=new Float32Array(2);Q.prototype.ffQ=function(S){if(S.tR())return;
if(this.tR()){this.du(S);return}this.AJ(S.x,S.y);this.AJ(S.x+S.o,S.y+S.i)};Q.prototype.AJ=function(S,G){var j=Math.min(this.x,S),z=Math.min(this.y,G);
this.o=Math.max(this.x+this.o,S)-j;this.i=Math.max(this.y+this.i,G)-z;this.x=j;this.y=z};Q.prototype.fsD=function(S,G,j,z){if(this.o==0&&this.i==0)this.ffd(S,G);
else this.AJ(S,G);this.AJ(j,z)};Q.prototype.ffd=function(S,G){this.x=S;this.y=G;this.o=this.i=0};function MS(){}MS.wD=function(S,G){var j=new Uint8Array(S),z=0,O=W.PP(j,z,9),M=4,D=100;
z+=9;var i=W.PP(j,z,4);z+=4;z++;G.o=W.O(j,z);z+=4;G.i=W.O(j,z);z+=4;var C=W.O(j,z);z+=4;if(C!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(i)==-1){D=W.O(j,z);z+=4;if(parseInt(i.slice(1))>=7){D=D}else alert("Unknown XCF version: "+i);
M=8}var X={};z=MS.PN(j,z,X);var l=[];z=MS.P_(j,z,l,M);var f=[];z=MS.P_(j,z,f,M);G.RR=0;for(var F=0;F<l.length;
F++)MS.ffc(j,l[F],G,X,M,D);while(G.RR>0){G.d.push(G.hP());G.RR--}G.d.reverse();delete G.RR;G.buffer=x.S(G.o*G.i*4);
if(G.d.length==0)console.log("No layers!!!");for(var F=0;F<f.length;F++){var $=MS.ru(j,f[F],X,M,D);if($.hd[CU.fMK])G.f={channel:$.Wz,rect:new Q(0,0,G.o,G.i)}}};
MS.ffc=function(S,G,j,z,O,i){var C=j.YJ(),M=W.O(S,G),f=0;G+=4;var D=W.O(S,G);G+=4;C.rect=new Q(0,0,M,D);
var X=W.O(S,G);G+=4;var l=W.Pk(S,G);G+=l.we;C.lX(l.sN);var F={};G=MS.PN(S,G,F);if(F[CU.ri]){var $=F[CU.ri];
f=$.length/4-1}if(F[CU.Pr]){C.rect.x=W.SM(F[CU.Pr],0);C.rect.y=W.SM(F[CU.Pr],4)}if(F[CU.rJ]){C.opacity=W.O(F[CU.rJ],0)}if(F[CU.fMd]){C.add.lsct=YF.WY;
C.rect=new Q(0,0,0,0);C.buffer=x.S(0);C.Ge=24}if(F[CU.rl]){var _=W.O(F[CU.rl],0);C.eD=CU.fMc[_];if(C.$P()&&C.eD=="norm")C.eD="pass"}if(F[CU.rI]){if(W.O(F[CU.rI],0)==0)C.Ge+=2}if(F[CU.rD]){var P=W.O(F[CU.rD],0);
C.add.lsct=P&1==1?YF.WY:YF.Aa}if(F[CU.PL]){var k=F[CU.PL];for(var H in k){var q=k[H];if(H=="gimp-text-layer"){var R=MS.ffG(q),I=R.text,b=R.font,Y=R.color,m=R["font-size"];
if(I==null&&R.markup){var h=new DOMParser,e=h.parseFromString(R.markup,"image/svg+xml");while(e.firstChild!=null&&e.firstChild.tagName!=null){e=e.firstChild;
var s=e.getAttribute("font"),y=e.getAttribute("foreground"),T=e.getAttribute("size");if(s!=null)b=s;
if(y!=null){y=CSS.iy(y);Y=[1,y.H/255,y.X/255,y.C/255]}if(T!=null){m=""+parseFloat(T)/245}}I=e.textContent}C.add.lnsr="rend";
C.add.TySh=o_.lR(0,0);C.add.TySh.Aw=new Q(0,0,100,100);C.add.TySh.GY=new Ym(1,0,0,1,C.rect.x,C.rect.y);
var K=C.add.TySh.Nv;o_.bs(K,0,I);var B=o_.KT(K,0,1),a=R.justify,u=R["line-spacing"];if(Y)B.Ed.FillColor={Type:1,Values:[1,parseFloat(Y[1]),parseFloat(Y[2]),parseFloat(Y[3])]};
if(m){m=Math.round(parseFloat(m));B.Ed.FontSize=m;C.add.TySh.GY.tL+=Math.min(17,m*.17)}if(u){u=Math.round(parseFloat(u)+B.Ed.FontSize*1.2);
B.Ed.Leading=u;B.Ed.AutoLeading=!1}if(a)B.HJ.Justification=["left","right","center","fill"].indexOf(a);
if(b&&b!="Sans-serif"){var r=b.toLowerCase(),v="bold italic semi extra regular condensed light".split(" "),o=r.length;
for(var V=0;V<v.length;V++){var J=r.indexOf(v[V]);if(J!=-1&&J<o&&r[J-1]==" ")o=J}if(o!=r.length)b=b.slice(0,o-1).split(" ").join("")+"-"+b.slice(o).split(" ").join("");
o_.cf(B,b)}o_.QN(K,0,I.length,B);var d=R["box-width"],oU=R["box-height"],p=d?parseFloat(d):C.rect.o,N=oU?parseFloat(oU):C.rect.i;
o_.cn(K,1);o_.xg(K,[0,0,Math.ceil(p),Math.ceil(N)])}else console.log("Unknown property "+H)}}while(j.RR>f){j.d.push(j.hP());
j.RR--}j.RR=f;if(C.add.lsct==YF.WY||C.add.lsct==YF.Aa)j.RR++;var ob=O==4?W.O:W.dI;if(C.Jl()){C.buffer=x.S(C.rect.h()*4);
var oe=new x.XL(C.rect.h()),oF=ob(S,G);G+=O;var oN=ob(S,G);G+=O;MS.rA(S,oF,oe,z,O,i);x.FP(oe,C.buffer);
if(oN!=0){C.q=new g.QS;C.q.color=0;C.q.rect=C.rect.clone();C.q.channel=MS.ru(S,oN,z,O,i).Wz;if(F[CU.rR])C.q.isEnabled=W.O(F[CU.rR],0)==1}}j.d.push(C)};
MS.ffG=function(S){var G="("+W.X_(S,0,S.length-1)+")",j=[],z={};MS.rZ(G,1,j);MS.fXf(j,z);return z};MS.fXf=function(S,G){for(var j=0;
j<S.length;j++){var z=S[j],O=z[0];if(z.length==2)G[O]=z[1];else G[O]=z.slice(1)}};MS.rZ=function(S,G,j){while(!0){if(G>=S.length)throw"e";
var z=S.charAt(G);G++;if(z=="("){var O=[];G=MS.rZ(S,G,O);j.push(O)}else if(z==" "||z=="\n"||z=="\r"){}else if(z==")")return G;
else if(z=="\""){var i=G;while(!0){var C=S[G];G++;if(C=="\"")break;if(C=="\\")G++}j.push(JSON.parse(S.slice(i-1,G)))}else{var i=G-1;
while(S[G]!=" "&&S[G]!=")")G++;j.push(S.slice(i,G))}}};MS.ru=function(S,G,j,z,O){var i=W.O(S,G);G+=4;
var C=W.O(S,G);G+=4;var M=W.Pk(S,G);G+=M.we;var D={};G=MS.PN(S,G,D);var X=new x.XL(i*C),l=z==4?W.O:W.dI,f=l(S,G);
G+=z;MS.rA(S,f,X,j,z,O);return{Wz:X.H,hd:D}};MS.rA=function(S,G,j,z,O,i){var C=W.O(S,G);G+=4;var M=W.O(S,G);
G+=4;var D=W.O(S,G);G+=4;var X=O==4?W.O:W.dI,l=X(S,G);G+=O;MS.fXC(S,l,j,z,D,O,i)};MS.fXC=function(S,G,j,z,O,i,C){var M=W.O(S,G),l=0,q=0;
G+=4;var D=W.O(S,G);G+=4;var X=new Q(0,0,M,D);if(C==100)l=1;else if(C==150)l=1;else if(C==600)l=4;else alert("unsupported bit depth "+C);
var f=O/l,l=Math.round(O/f),F=[];G=MS.P_(S,G,F,i);var $=new x.XL(64*64*l),_=new Q,P=z[CU.fMQ][0],k=[$.H,$.X,$.C,$.A];
if(f==3)x.set($.A,255);var H=Date.now();for(var R=0;R<D;R+=64)for(var I=0;I<M;I+=64){var b=Math.min(M-I,64),Y=Math.min(D-R,64),m=b*Y;
_.cK(I,R,b,Y);MS.fX$(S,F[q++],m*l,P,f,k);if(C==600){var h=MS.fXm(),e=new Uint32Array(1),s=new Float32Array(e.buffer);
for(var y=0;y<f;y++){var T=k[y];for(var K=0;K<m;K++){e[0]=T[K]<<24|T[m+K]<<16|T[(m<<1)+K]<<8|T[(m<<1)+m+K]<<0;
var B=s[0];if(B<0)B=0;else if(B>1)B=1;T[K]=h[~~(.5+B*1e3)]}}}x.Mp($,_,j,X)}};MS.fXm=function(){var S=MS.fmw;
if(S!=null)return S;S=MS.fmw=new Uint8Array(1001);for(var G=0;G<1001;G++)S[G]=~~(.49+255*x.XZ(G*.001));
return S};MS.fX$=function(S,G,j,z,O,i){if(z==1){for(var C=0;C<O;C++){var M=i[C],D=0;while(D<j){var X=S[G];
G++;if(X<127){var l=S[G];G++;X++;for(var f=0;f<X;f++)M[D+f]=l}else if(X==127){var F=S[G];G++;var $=S[G];
G++;var l=S[G];G++;X=F<<8|$;for(var f=0;f<X;f++)M[D+f]=l}else if(X==128){var F=S[G];G++;var $=S[G];G++;
X=F<<8|$;for(var f=0;f<X;f++)M[D+f]=S[G+f];G+=X}else{X=256-X;for(var f=0;f<X;f++)M[D+f]=S[G+f];G+=X}D+=X}}}else if(z==2){var _=pako.inflate(S.slice(G)),P=Math.round(_.length/j);
for(var f=0;f<j;f++){var k=f*P;i[0][f]=_[k];i[1][f]=_[k+1];i[2][f]=_[k+2];i[3][f]=P==3?255:_[k+3]}}else alert("Unknown compression "+z)};
MS.P_=function(S,G,j,z){var O=z==4?W.O:W.dI;while(!0){var i=O(S,G);G+=z;if(i==0)break;else j.push(i)}return G};
MS.PN=function(S,G,j){while(!0){var z=W.O(S,G);G+=4;var O=W.O(S,G);G+=4;if(z==CU.fMa)break;else if(z==CU.PL)j[z]=MS.fMY(S,G,G+O);
else j[z]=W.Sz(S,G,O);G+=O}return G};MS.fMY=function(S,G,j){var z={};while(G<j){var O=W.Pk(S,G);G+=O.we;
var i=W.O(S,G);G+=4;if(i!=1)console.log("unknown flags",i);var C=W.O(S,G);G+=4;z[O.sN]=W.Sz(S,G,C);G+=C}return z};
var CU={fMa:0,fmg:1,fmn:2,fmO:3,fMK:4,fm$:5,rJ:6,rl:7,rI:8,fQf:9,fQN:10,rR:11,fQt:12,fTa:13,fTp:14,Pr:15,fTs:16,fMQ:17,fTN:18,fZv:19,fZz:20,PL:21,fZs:22,fZA:23,fZI:24,fZk:25,fZE:26,fZ$:27,fZ_:28,fMd:29,ri:30,rD:31,fuh:32,fuL:33,fut:34,fwg:35,fws:36,fca:37,fcn:38,fcA:0,fci:1,fcq:2,fcx:3,fcb:1,fVp:2,fVK:0,fVu:1,fVw:1};
CU.fMc="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function fy(){}fy.wD=function(S,G){var j=fy,z=oI.parse(S),i=0;if(z.pages.length>1)console.log(z.pages.length,"pages");
var O=[],C=new Q;for(var M=0;M<z.pages.length;M++){var D=z.pages[M],X=D.layers,l=j.wR(X,M),F=!1;if(l.h()>8e3*8e3||l.o>3e4||l.i>3e4){j.rh(X,!0);
var f=j.wR(X,M);if(f.h()>=l.h())j.rh(X,!1)}l=j.wR(X,M);for(var $=0;$<X.length;$++){var _=X[$];if(j.Xw(_)=="artboard")F=!0}if(!F){console.log("no artboard");
var P={};for(var k in D)P[k]=D[k];P._class="group";D.layers=[P]}O.push(l.clone());if(l.tR())continue;
l.x=0;l.y=i;i+=l.i+200;C=C.wB(l)}var H={};if(z.foreignSymbols)for(var q=0;q<z.foreignSymbols.length;
q++){var R=z.foreignSymbols[q].symbolMaster;H[R.symbolID]={hq:R}}j.rb(z.pages,H,G);for(var I in H){var _=H[I].hq,b=j.re(_.layers)}var Y=fy.PG(C,8192*8192);
G.dD=!0;G.o=Math.round(C.o/Y);G.i=Math.round(C.i/Y);G.buffer=x.S(G.o*G.i*4);G.R$(z.pages[0].layers.length);
G.Be={};G.hE=[];i=0;for(var M=0;M<z.pages.length;M++){var m=z.pages[M],l=O[M],h=new Ym(Y,0,0,Y,l.x,l.y-i);
j.vf(m.layers,G,h,z,H,{},[]);i+=l.i+200}delete G.Be;delete G.hE;if(Y!=1)alert("File scaled down "+Y+"x")};
fy.fVd=0;fy.Xw=function(S){return S._class?S._class:S.$class};fy.PG=function(S,G){var j=1;while(Math.round(S.o/j)*Math.round(S.i/j)>G)j++;
if(j!=1&&!window.confirm("Your image is quite large ("+S.o+" x "+S.i+" px).\n"+"Press OK to scale it down "+j+"x, or Cancel to keep the size."))j=1;
return j};fy.wR=function(S,G){var j=[],z=fy;for(var O=0;O<S.length;O++){var i=S[O],C=z.QX(i.frame);if(G==0||z.Xw(i)=="artboard")j.push(C)}return x.rect.V_(j)};
fy.rh=function(S,G){var j=[],z=fy;for(var O=0;O<S.length;O++){var i=S[O],C=z.QX(i.frame);C.o+=150;C.i+=150;
j.push(C)}var M=x.rect.V_(j);x.rect.fAX(j,G);var D=x.rect.V_(j);if(D.h()*1.5<M.h()||M.o>3e4&&D.o<=3e4||M.i>3e4&&D.i<=3e4){alert("Re-arranging artboards");
for(var O=0;O<S.length;O++){var X=j[O],i=S[O],l=i.frame;l.x=X.x;l.y=X.y}}};fy.rb=function(S,G,j){var z=fy;
for(var O=0;O<S.length;O++){var i=S[O],C=z.Xw(i);if(["page","artboard","group"].indexOf(C)!=-1)z.rb(i.layers,G,j);
else if(C=="symbolMaster")G[i.symbolID]={hq:i}}};fy.re=function(S){var G=fy;for(var j=0;j<S.length;j++){var z=S[j],O=G.Xw(z),i=null;
if(["page","artboard","group"].indexOf(O)!=-1)i=G.re(z.layers);if(O=="symbolMaster"||O=="symbolInstance")i=z;
if(i!=null)return i}return null};fy.vf=function(S,G,j,z,O,i,C){var M=fy,D=[];for(var X=0;X<S.length;
X++){var l=S[X],f=l.frame?M.QX(l.frame):null,F=l.style,q="",h=null,e=!1;if(F==null){console.log("no styles")}var $=M.Lg(l,j),_=M.Xw(l),P=_=="shapeGroup"||_=="shapePath"||_=="rectangle"||_=="oval"||_=="triangle",k=["page","artboard","group"].indexOf(_)!=-1;
if(_=="shapeGroup"){for(var H=0;H<l.layers.length;H++)if(M.Xw(l.layers[H])=="shapeGroup")k=!0}var R=l.exportOptions;
if(R){var I=R.exportFormats;if(I==null)I=R.sizes;if(_!="artboard"&&(I&&I.length!=0)){var b=I[0].scale;
q="-e"+(b==1?"":b)+"-"}}var Y=G.YJ();Y.aA(l.isVisible);var m=l.name;if(!(typeof m=="string"))m=_;Y.lX(q+m.slice(0,250));
if(F!=null)h=M.fYV(z,G,F,f,$,Y.getName(),P||_=="artboard"||k);if(_=="rectangle"&&F&&F.fills&&F.fills[0]){var s=F.fills[0];
if(s.fillType==4&&s.patternFillType>1)e=!0}if(l.shouldBreakMaskChain){while(D.length!=0)M.rF(D.pop(),G)}if(k){Y.add.lsct=l.layerListExpandedType==2?YF.WY:YF.Aa;
Y.eD="pass";Y.Ge=24;Y.aA(l.isVisible);G.d.push(G.hP());if(_=="artboard"){var y=f.clone(),T=$.HR();y.x=-Math.floor($.cg/T);
y.y=-Math.floor($.tL/T);y.o=Math.floor(y.o/T);y.i=Math.floor(y.i/T);Y.pY(y);var K=l.backgroundColor,B=Math.round(255*K.blue)<<16|Math.round(255*K.green)<<8|Math.round(255*K.red);
if(B!=16777215){var a=G.YJ();a.lX("Artboard Background");a.rect=y;a.buffer=x.S(a.rect.h()*4);x.GC(a.buffer,255<<24|B);
G.d.push(a)}}M.vf(l.layers,G,$,z,O,i,C)}else if(P&&!e){Y.add.vmsk=new g.XT;Y.add.vstk=JSON.parse(JSON.stringify(n.GN.default));
Y.add.vstk.strokeEnabled.v=!1;Y.add.vogk=[];var u=h!=null&&h.frameFXMulti.v.length==1,r=F?F.fills:null,v=F?M.r$(z,r,f,$,Y.getName(),G,M.vY(C,l.do_objectID+"_image")):[];
if(v.length==0){if(u)Y.add.vstk.fillEnabled.v=!1;else Y.add.iOpa=0;Y.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.T.qL({H:0,X:0,C:0})}}}else{var o=v[0],V=null,J=null;
if(o.type=="SoFi"){V="SoCo";J=n.W$}if(o.type=="GrFl"){V="GdFl";J=n.wU}if(o.type=="patternFill"){V="PtFl";
J=n.dH}if(V!=null){Y.add[V]={classID:"null"};for(var H=0;H<J.length;H++){var d=J[H];Y.add[V][d]=o.g.v[d]}var oU=o.g.v.Opct.v.val;
if(u&&oU==0)Y.add.vstk.fillEnabled.v=!1;else Y.add.iOpa=Math.round(255*oU/100)}}Y.Ge|=16;Y.add.vmsk.z=M.iV(l.layers?l.layers:[l],l.layers?$:j,Y.add.vogk);
var p=F?F.blur:null;if(p&&p.isEnabled&&p.type<=1)Y.add.vmsk.vU=p.radius;if(Y.add.vmsk.z.length==2){console.log("shape with no content:",Y.getName())}if(u){var N=h.frameFXMulti.v[0].v,ob=Y.add.vstk,oe=F.borders[0];
h.frameFXMulti.v=[];Yv.fYw(N,ob);var oF=F.borderOptions,oN=F.miterLimit;if(oF){var YM=oF.dashPattern;
ob.strokeStyleLineCapType.v.strokeStyleLineCapType=n.GN.Ej[oF.lineCapStyle];ob.strokeStyleLineJoinType.v.strokeStyleLineJoinType=n.GN.join[oF.lineJoinStyle];
if(YM)ob.strokeStyleLineDashSet.v=Yv.Wi(YM,1/N.Sz.v.val);if(oN!=null)ob.strokeStyleMiterLimit.v=oN}}Y.uf(G)}else if(_=="bitmap"||e){var oE=e?F.fills[0]:null,ox=e?oE.image.bdata:l.image.bdata,c=G.Wf(ox,Y.getName(),0,0);
c.Ge=Y.Ge;Y=c;var p=F.blur,oG=F.colorControls;if(p||oG){Y.add.SoLd.filterFX=Yy.zD();G.KL({id:Y.add.SoLd.placed.v,rect:new Q,buffer:x.S(1),q:new g.QS});
var r=Y.add.SoLd.filterFX.v.filterFXList.v;if(p){var or=Yy.BI("GsnB",{});or.v.enab.v=p.isEnabled;or.v.Fltr.v.Rds.v.val=p.radius;
r.push(or)}if(oG){var Yf=oG.brightness,oL=oG.contrast,YX=oG.hue,YC=oG.saturation;if(YX!=0||YC!=1){var or=Yy.BI("hue2",{});
or.v.enab.v=oG.isEnabled;fu.mL(or.v.Fltr.v,0,[Math.round(YX*180/Math.PI),Math.round((YC-1)*100),0]);
r.push(or)}if(Yf!=0||oL!=1){var or=Yy.BI("brit",{});or.v.enab.v=oG.isEnabled;oL=oL-1;if(oL>0)oL/=2;var Yp=or.v.Fltr.v;
Yp.Brgh.v=Math.round(Yf*255);Yp.Cntr.v=Math.round(oL*255);Yp.useLegacy.v=!0;r.push(or)}}}if(e){var YZ=oE.patternFillType;
if(YZ==3){var Yz=Y.rect.o/Y.rect.i,YT=f.o/f.i;if(Yz<YT){$.translate(-(f.o*(1-Yz/YT))/2,0);$.scale(YT/Yz,1)}else{$.translate(0,-(f.i*(1-YT/Yz))/2);
$.scale(1,Yz/YT)}}}f.x=f.y=0;var Yg=x.Y.pu(f).v;$.uT();x.Y.GY(Yg,$,Yg);Y.add.SoLd.Trnf=t.Gh.Zl(Yg);Y.add.SoLd.nonAffineTransform=t.Gh.Zl(Yg);
Y.pi(G,!1)}else if(_=="text"){if(l.attributedString==null)continue;var YY=$.clone(),Yo,Ya,Yw=0;YY.uT();
YY.A=YY.JE=Math.min(YY.A,YY.JE);Y.add.lnsr="rend";Y.add.TySh=o_.lR(0,0);Y.add.TySh.Aw=new Q(0,0,f.o,f.i);
Y.add.TySh.GY=YY;var YQ=l.attributedString;if(YQ.archivedAttributedString)YQ=YQ.archivedAttributedString;
var YK=YQ.NSString;if(YK==null)YK=YQ.string;if(YK["NS.string"])YK=YK["NS.string"];if(i[l.do_objectID]!=null)YK=i[l.do_objectID];
var fa=M.vY(C,l.do_objectID+"_stringValue");if(fa)YK=fa.value;if(YQ.attributes!=null){Yo=[];Ya=[];var YO=YQ.attributes;
for(var H=0;H<YO.length;H++){Yo.push(YO[H].length,H);Ya.push(YO[H].attributes)}}else if(YQ.NSAttributeInfo==null){Yo=[YK.length,0];
Ya=[YQ.NSAttributes]}else{Yo=YQ.NSAttributeInfo["NS.data"];Ya=YQ.NSAttributes;Yo=fy.fMJ(Yo,Ya)}for(var H=0;
H<Yo.length;H+=2)Yw+=Yo[H];if(Yw!=YK.length){while(Yw>YK.length){Yo[Yo.length-2]--;Yw--;if(Yo[Yo.length-2]==0){Yo.pop();
Yo.pop()}}Yo[Yo.length-2]+=YK.length-Yw}YK=YK.replace(/\u2028/g,"\n");YK=YK.replace(/\u2029/g,"\n");
YK=YK.replace(/\r/g,"\n");var YV=Y.add.TySh.Nv;o_.bs(YV,0,YK);if(YK!=""){var Yu=M.foS(YV,Yo,Ya,YK),T=YY.HR(),YJ=o_.KT(YV,0,1),YU=0;
if(YJ.Ed.Font){var fd=YJ.GQ[YJ.Ed.Font].Name;if(fd=="FontAwesome"||fd=="Ionicons")Yu*=.87}var Yq=YJ.Ed.AutoLeading?0:YJ.Ed.Leading*.6,YE=Math.max(Yu,Yq)*T,Yc=f.o,fJ=f.i;
if(l.textBehaviour==0){o_.cn(YV,0);var YB=o_.f_(YJ.HJ);if(YB==1)YU=Yc*T;if(YB==2)YU=Yc*T*.5}else{o_.cn(YV,1);
o_.xg(YV,[0,0,Math.round(Yc),Math.round(fJ)]);YE=YE*.35}Y.add.TySh.GY.translate(YU,YE)}}else if(_=="symbolInstance"||_=="symbolMaster"){var YG=l.symbolID;
if(i[l.do_objectID])YG=i[l.do_objectID].symbolID;var Yr=M.vY(C,l.do_objectID+"_symbolID");if(Yr)YG=Yr.value;
if(YG=="")continue;var Yb={};for(var d in i)Yb[d]=i[d];if(l.overrides)for(var d in l.overrides)Yb[d]=l.overrides[d];
var Y$=C.slice(0);if(l.overrideValues)Y$=Y$.concat(l.overrideValues);var CE=O[YG];if(CE==null){console.log("Unknown master master",l.symbolID);
continue}var My=fy.QX(CE.hq.frame),Cg=My.o/f.o,CP=My.i/f.i,fO=$.clone();fO.scale(Cg,CP);Y.add.lsct=YF.Aa;
Y.eD="pass";Y.Ge=24;Y.aA(l.isVisible);G.d.push(G.hP());var XT=CE.hq;if(G.hE.indexOf(XT)==-1){G.hE.push(XT);
M.vf(XT.layers,G,fO,z,O,Yb,Y$);G.hE.pop()}}else if(_=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+_,l);continue}if(F&&F.contextSettings){var Mc=F.contextSettings,Cj=Mc.blendMode;
if(Cj<M.xO.length){Y.eD=YR.fh[YR.kC.indexOf(M.xO[Cj])]}Y.opacity=Math.round(Y.opacity*Mc.opacity)}if(h!=null){Y.add.lmfx=h}G.d.push(Y);
if(l.hasClippingMask&&S.length>1){D.push(Y);G.d.push(G.hP())}}while(D.length!=0)M.rF(D.pop(),G)};fy.vY=function(S,G){for(var j=0;
j<S.length;j++)if(S[j].overrideName.startsWith(G))return S[j]};fy.fMJ=function(S,G){var j=0,z=[];while(j+1<S.length){var O=S[j];
j++;if(O>127){O+=128*(S[j]-1);j++;if(S[j-1]>127){O+=128*(S[j]-1);j++}}var i=S[j];j++;z.push(O,i)}return z};
fy.foS=function(S,G,j,z){var O=fy,i=0,f=0,F=0;for(var C=0;C<z.length;C++){var M=z.charCodeAt(C),D=1473<=M&&M<=1479||1488<=M&&M<=1514||1520<=M&&M<=1524,X=1569<=M&&M<=1594||1600<=M&&M<=1749;
if(D||X)i++}var l=i>z.length/2;for(var C=0;C<G.length;C+=2){var $=G[C],Y=0,m="";if($==0)continue;var _=G[C+1],P=j[_],k=o_.KT(S,f,f+$-1),H=P.NSColor;
if(H==null){var H=P.MSAttributedStringColorDictionaryAttribute;if(H==null)H=P.MSAttributedStringColorAttribute;
if(H==null)H="0 0 0";else H=[H.red,H.green,H.blue].join(" ")}else if(O.Xw(H)=="MSArchivedColor")H=H.dr+" "+H.dg+" "+H.db;
else if(H.NSRGB){H=H.NSRGB;H=W.PP(H,0,H.length-1)}else if(H.NSCMYK){H=H.NSCMYK;H=W.PP(H,0,H.length-1);
H=H.split(" ").map(parseFloat);var q=1-H[0],R=1-H[1],I=1-H[2],b=1-H[3];H=q*b+" "+R*b+" "+I*b}else if(H.NSWhite){H="1 1 1"}H=H.split(" ");
k.Ed.FillColor={Type:1,Values:[1,parseFloat(H[0]),parseFloat(H[1]),parseFloat(H[2])]};if(P.NSFont){Y=P.NSFont.NSSize;
m=P.NSFont.NSName}else{var h=P.MSAttributedStringFontAttribute;if(h.attributes){h=h.attributes;Y=h.size;
m=h.name}else{h=h.NSFontDescriptorAttributes;Y=h.NSFontSizeAttribute;m=h.NSFontNameAttribute}if(m==null)m="DejaVuSans"}var F=Math.max(F,Y);
k.Ed.FontSize=Math.round(Y);o_.cf(k,m);var e=P.NSKern;if(e==null)e=P.kerning;if(e!=null)k.Ed.Tracking=Math.round(1e3*e/Y);
if(P.NSUnderline!=null)k.Ed.Underline=P.NSUnderline>0;if(P.NSStrikethrough!=null)k.Ed.Strikethrough=P.NSStrikethrough>0;
if(P.MSAttributedStringTextTransformAttribute==1)k.Ed.FontCaps=2;var s=P.NSParagraphStyle;if(s==null)s=P.paragraphStyle;
if(s){var y=s.paragraphSpacing;if(y!=null){k.HJ.SpaceAfter=y}var T=s.NSAlignment;if(T==null)T=s.alignment;
if(T!=null){var K=0;if(!1){}else if(T==1)K=1;else if(T==2)K=2;else if(T==4)K=0;else{K=T;console.log("unknown align",T)}if(l&&K<2)K=1-K;
k.HJ.Justification=K}var B=s.NSMinLineHeight;if(B==null)B=s.minimumLineHeight;if(B!=null){k.Ed.AutoLeading=!1;
k.Ed.Leading=Math.round(B)}}k.HJ._Direction=l?1:0;o_.QN(S,f,f+$,k);f+=$}return F};fy.fYV=function(S,G,j,z,O,i,C){var M=fy,D=JSON.parse(n.default),l=!1;
for(var X=0;X<n.order.length;X++)D[n.lH[X]]={t:"VlLs",v:[]};var f=j.fills,F=M.r$(S,f,z,O,i,G);for(var $=0;
$<2;$++){var _=j[["shadows","innerShadows"][$]];if(_==null)continue;var P=["DrSh","IrSh"][$],k=n.lH[n.order.indexOf(P)];
for(var X=0;X<_.length;X++){var H=_[X];if(!H.isEnabled)continue;if(H.contextSettings.opacity==0||H.color.alpha==0)continue;
var q=JSON.parse(n.s_[n.order.indexOf(P)]);D[k].v.unshift({t:"Objc",v:q});l=!0;q.Clr.v=M.iy(H.color);
q.blur.v.val=Math.round(H.blurRadius/O.HR());var R=O.clone();R.cg=R.tL=0;R.uT();var I=R.LU(new A(H.offsetX,H.offsetY)),b=Math.sqrt(I.x*I.x+I.y*I.y);
q.Dstn.v.val=Math.round(b);q.lagl.v.val=Math.round(Math.atan2(I.y,-I.x)*(180/Math.PI));if(q.layerConceals)q.layerConceals.v=F.length!=0;
M.vv(H,q)}}var Y=j.borders;if(Y!=null&&(F.length==0||j.blur==null||!j.blur.isEnabled))for(var X=0;X<Y.length;
X++){var m=Y[X];if(!m.isEnabled)continue;var q=JSON.parse(n.s_[n.order.indexOf("FrFX")]),k=n.lH[n.order.indexOf("FrFX")];
D[k].v.unshift({t:"Objc",v:q});l=!0;q.Clr.v=M.iy(m.color);if(m.fillType!=0&&m.gradient){var h=M.xF(m.gradient,z,O,i),e=["Type","Angl","Ofst","Scl"];
for(var X=0;X<e.length;X++)q[e[X]]=h[e[X]];q.Grad.v=h.Grad.v;q.PntT.v.FrFl="GrFl"}q.Sz.v.val=m.thickness/O.HR();
q.Styl.v.FStl=["CtrF","InsF","OutF"][m.position];M.vv(m,q)}for(var X=C?1:0;X<F.length;X++){var s=F[X],k=n.lH[n.order.indexOf(s.type)];
D[k].v.unshift(s.g);l=!0}return l?D:null};fy.r$=function(S,G,j,z,O,i,C){if(G==null)return[];var M=fy,D=[];
for(var X=0;X<G.length;X++)if(G[X].isEnabled)D.push(G[X]);G=D;var l=[];for(var X=0;X<G.length;X++){var f=G[X],F=null,$=null;
if(f.fillType==0){F="SoFi";var _=JSON.parse(n.s_[n.order.indexOf("SoFi")]);$={t:"Objc",v:_};$.v.Clr.v=M.iy(f.color)}else if(f.fillType==1){F="GrFl";
$={t:"Objc",v:M.xF(f.gradient,j,z,O)}}else if(f.fillType==4&&f.image!=null){var P=f.image;if(C)P=C.value;
var k=ot.AM(P.bdata.buffer);if(k!=null&&k!="pdf"&&k!="eps"){var H,b=0,Y=0,m=0;if(i.Be[P.key])H=i.Be[P.key];
else{var q=ot.Lc(k).Uf(P.bdata)[0];H={data:q.data,L:new Q(0,0,q.tv.o,q.tv.i)};H.id=Yi.KP()+"-d71c-11e5-b1ae-a548a96e5f9f";
H.name="someImage";H.hC=new Uint8Array(H.data);delete H.data;i.kJ(H);i.Be[P.key]=H}var _=JSON.parse(n.s_[n.order.indexOf("patternFill")]);
F="patternFill";$={t:"Objc",v:_};var R=f.patternFillType,I=f.patternTileScale;_.Algn.v=!0;_.Ptrn.v.Idnt.v=H.id;
if(R==0){b=I*H.L.o/Math.min(H.L.o,H.L.i);Y=-z.cg;m=-z.tL}else{b=Math.max(j.o/H.L.o,j.i/H.L.i);Y=-z.cg-(H.L.o*b-j.o)/2;
m=-z.tL-(H.L.i*b-j.i)/2}_.Scl.v.val=100*b*(1/z.HR());_.phase.v.Hrzn.v=Math.round(Y/z.HR());_.phase.v.Vrtc.v=Math.round(m/z.HR())}}else if(f.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",f.fillType);
if(F!=null){M.vv(f,$.v);l.push({type:F,g:$})}}return l};fy.fVc=function(S){var G=fy,j=new Q(0,0,1,1);
S=S.slice(0);while(!0){var z=!1;for(var O=0;O<S.length-1;O++){var i=S[O],C=S[O+1],M=null,D=i.contextSettings;
if(i.fillType==0&&(D==null||D.opacity==1&&D.blendMode==0)&&i.color.alpha==1){var X="norm",l=1,D=C.contextSettings;
if(D){l=D.opacity;X=YR.im(G.xO[D.blendMode])}if(C.fillType==0){M=JSON.parse(JSON.stringify(C));G.rN(M.color,i.color,M.color,j,X,l)}if(C.fillType==1){M=JSON.parse(JSON.stringify(C));
var f=M.gradient.stops;for(var F=0;F<f.length;F++)G.rN(f[F].color,i.color,f[F].color,j,X,l)}if(M!=null&&M.contextSettings){var D=M.contextSettings;
D.opacity=1;D.blendMode=0}}if(M!=null){S.splice(O,0,M);z=!0;break}}if(!z||S.length<2)break}return S};
fy.rN=function(S,G,j,z,O,i){var C=fy,M=x.S(4);C.rr(S,M);var D=x.S(4);C.rr(G,D);x.k.me(O,M,z,D,z,z,i);
C.fYJ(D,j)};fy.rr=function(S,G){G[0]=255*S.red;G[1]=255*S.green;G[2]=255*S.blue;G[3]=255*S.alpha};fy.fYJ=function(S,G){G.red=S[0]/255;
G.green=S[1]/255;G.blue=S[2]/255;G.alpha=S[3]/255};fy.rF=function(S,G){S=S.clone();S.Ge=24;S.lX("Mask by "+S.getName());
G.d.push(S);S.add.lsct=YF.WY;S.add.lyid=G.RN();delete S.add.lmfx;delete S.add.SoCo;delete S.add.GdFl;
delete S.add.PtFl;delete S.add.iOpa;if(S.add.vmsk)S.add.vmsk.io=!0;S.uf(G);if((S.Ge&16)==16)S.Ge-=16;
if((S.Ge&2)==2)S.Ge-=2;S.eD="pass";S.opacity=255};fy.xO="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
fy.xF=function(S,G,j,z){j=j.clone();j.uT();j.cg=j.tL=0;var O=j.HR(),F=0,$=0;j.scale(1/O,1/O);var i=fy,C=JSON.parse(n.s_[n.order.indexOf("GrFl")]),M=C.Grad.v;
M.Intr.v=0;if(S==null)return C;var D=S.gradientType,X=i.cB(S.from),l=i.cB(S.to);X.offset(-.5,-.5);l.offset(-.5,-.5);
X=j.LU(X);l=j.LU(l);var f=Math.atan2(-(l.y-X.y),l.x-X.x);C.Type.v.GrdT=["Lnr","Rdl","Angl"][D];C.Scl.v.val=100*A.nM(X,l);
if(D==0){C.Angl.v.val=180/Math.PI*f;C.Scl.v.val=100*A.nM(X,l);F=(X.x+l.x)/2;$=(X.y+l.y)/2}if(D==1){C.Scl.v.val=200*A.nM(X,l);
F=X.x;$=X.y}if(D==2){C.Angl.v.val=180/Math.PI*(f-Math.PI/2)}var _=C.Ofst.v;_.Hrzn.v.val=F*100;_.Vrtc.v.val=$*100;
var P=[];for(var k=0;k<S.stops.length;k++){var H=S.stops[k],q=H.color;P.push([H.position,q?[q.red,q.green,q.blue]:[0,0,0],q.alpha])}x.T.Vw(P,M);
return C};fy.vv=function(S,G){var j=fy,z=1,O=S.contextSettings;if(O!=null){G.Md.v.BlnM=j.xO[O.blendMode];
z*=O.opacity}else G.Md.v.BlnM=j.xO[0];G.enab.v=S.isEnabled;if(G.uglg!=null)G.uglg.v=!1;if(S.color!=null)z*=S.color.alpha;
G.Opct.v.val=Math.round(z*100)};fy.iy=function(S){return x.T.qL(S?{H:S.red*255,X:S.green*255,C:S.blue*255}:{H:0,X:0,C:0})};
fy.iV=function(S,G,j){var z=fy,O=[{type:6},{type:8,all:0}];for(var i=0;i<S.length;i++){var C=S[i],M=C.booleanOperation,D=0,X=C._class,P=!1;
if(X=="group"||X=="text"||X=="symbolInstance"||X=="slice"){console.log(X+" inside ShapeGroup");continue}if(M==-1)D=0;
else if(M==0)D=1;else if(M==1)D=2;else if(M==2)D=3;else if(M==3)D=0;if(i==0)D=1;var l=fy.QX(C.frame),f=z.Lg(C,G),F=C.path?C.path:C,$=[{type:0,length:0,ta:D,lj:2,vG:0,pS:0}],_=F.points;
for(var k=0;k<_.length;k++){var H=_[k],q=z.cB(H.curveTo),R=z.cB(H.point),I=z.cB(H.curveFrom);P=P||H.hasCurveFrom&&!I.Xs(R)||H.hasCurveTo&&!q.Xs(R)}var b=[];
if(!P){var Y=[],m=_.length;if(m==0)continue;for(var k=0;k<m;k++){b[k]=_[k].cornerRadius;var H=z.cB(_[k].point);
Y.push(H.x,H.y)}f.scale(1/l.o,1/l.i);f.uT();x.Y.GY(Y,f,Y);var h=x.p.nP(Y,b);$=$.concat(h);$[0].length=$.length-1}else{var e=_.length;
$[0].length=e;var s=[];for(var k=0;k<e;k++){var H=_[k],y=H.curveMode,T=z.cB(H.point);$[1+k]={type:y==2||y==4?1:2,Cu:H.hasCurveTo?z.cB(H.curveTo):T.clone(),K:T,tw:H.hasCurveFrom?z.cB(H.curveFrom):T.clone()}}f.scale(1/l.o,1/l.i);
f.uT();x.p.hu($,f);for(var k=0;k<e;k++){var H=_[k],y=H.curveMode,K=H.cornerRadius;if(y==1&&K!=0){var B=$[1+(k-1+e)%e].K,a=$[1+(k+0+e)%e].K,u=$[1+(k+1+e)%e].K;
K=Math.min(K,A.nM(B,a)/2,A.nM(a,u)/2);var r=x.Y.$d(B.x,B.y,a.x,a.y,u.x,u.y,0,K),v={type:1,Cu:new A(r[2],r[3]),K:new A(r[2],r[3]),tw:new A(r[4],r[5])},o={type:1,Cu:new A(r[6],r[7]),K:new A(r[8],r[9]),tw:new A(r[8],r[9])};
$.splice(k+1,1,v,o);$[0].length++}}}if(!F.isClosed)for(var k=0;k<$.length;k++)$[k].type+=3;O=O.concat($);
var V=x.tS.Xh(),J=z.Xw(C);if(f.C==0&&f.vK==0){var d=f.cg,oU=f.tL,p=d+f.A,N=oU+f.JE,ob=[d,oU,p,N];if(J=="rectangle"&&b.length==4)V=x.tS.Xd(2,ob,b);
if(J=="oval")V=x.tS.Xd(5,ob)}j.push(V)}return O};fy.Lg=function(S,G){var j=G.clone(),z=S.frame?fy.QX(S.frame):null;
if(z)j.translate(-z.x-z.o/2,-z.y-z.i/2);if(S.isFlippedHorizontal)j.scale(-1,1);if(S.isFlippedVertical)j.scale(1,-1);
j.rotate(-S.rotation*(Math.PI/180));if(z)j.translate(z.o/2,z.i/2);return j};fy.cB=function(S){S=S.slice(1,S.length-1).split(",");
return new A(parseFloat(S[0]),parseFloat(S[1]))};fy.QX=function(S){return new Q(S.x,S.y,S.width,S.height)};
fy.ra=function(S){return{_class:"rect",constrainProportions:!1,x:S.x,y:S.y,width:S.o,height:S.i}};function XM(){}XM.wD=function(S,G){var j=XM,z=UZIP.parse(S),O=JSON.parse(W.X_(z.manifest)),i=JSON.parse(W.X_(z["resources/graphics/graphicContent.agc"])).resources,C=[],M=O.children;
for(var D=0;D<M.length;D++){var X=M[D];if(X.name=="artwork"){var l=X.children;for(var f=0;f<l.length;
f++)if(l[f]["uxdesign#bounds"]){var F=l[f],$=JSON.parse(W.X_(z["artwork/"+F.path+"/graphics/graphicContent.agc"]));
if($.children.length!=1)throw"e";F._node=$.children[0];C.push(F)}}}var _=[],P=new Q;for(var D=0;D<C.length;
D++){var F=C[D],k=fy.QX(F["uxdesign#bounds"]);_.push(k);P=P.wB(k)}var H=fy.PG(P,8192*8192);G.dD=!0;G.o=Math.round(P.o/H);
G.i=Math.round(P.i/H);G.buffer=x.S(G.o*G.i*4);G.R$(C.length);var q=new Ym(H,0,0,H,P.x,P.y);G.Be={};for(var D=0;
D<C.length;D++){var F=C[D],k=fy.QX(F["uxdesign#bounds"]),R=F._node,I=q.clone(),b=k.clone(),Y=I.HR();
I.translate(-k.x,-k.y);b.x=-Math.floor(I.cg/Y);b.y=-Math.floor(I.tL/Y);b.o=Math.floor(b.o/Y);b.i=Math.floor(b.i/Y);
I.translate(k.x,k.y);XM.xt(R,G,I,i,z,b);var m=G.d[G.d.length-1];m.lX(F.name);m.pY(b);if(D!=C.length-1)m.add.lsct=YF.Aa}delete G.Be;
console.log(G.N)};XM.xR=function(S){if(S==null)return new Ym;return new Ym(S.a,S.b,S.c,S.d,S.tx,S.ty)};
XM.xt=function(S,G,j,z,O,i){var C=XM,M=S.type,D=S[M],X=S.style,l=C.xR(S.transform),_,P="none",k,H="none",q,R;
l.uT();var f=j.clone();f.concat(l);var F=G.YJ(),$=S.name;F.lX($?$.slice(0,250):"Layer");if(S.visible!=null)F.aA(S.visible);
if(X){_=X.stroke;P=_?_.type:"none";k=X.fill;H=k?k.type:"none";q=X.filters;R=X.clipPath;if(X.opacity)F.opacity=Math.round(255*X.opacity);
if(H=="solid"&&k.color.alpha)F.opacity=Math.round(F.opacity*k.color.alpha);if(q){F.add.lmfx=C.fYU(q);
for(var I=0;I<q.length;I++)if(q[I].type=="uxdesign#blur"){var b=q[I],Y=b.params,m=Y.brightnessAmount;
if(m==null)m=0;m=Math.abs(m/100);if((b.visible==null||b.visible==!0)&&Y.backgroundEffect)F.opacity=Math.round(F.opacity*(m+(1-m)*Y.fillOpacity))}}if(H=="pattern"&&k.pattern.meta.ux.uid=="")H="none"}if(M=="artboard"||M=="group"){if(R&&z.clipPaths[R.ref]){var h=z.clipPaths[R.ref].children[0],l=C.xR(h.transform);
l.uT();var e=f.clone();e.concat(l);F.add.vmsk=new g.XT;F.add.vmsk.z=C.iV(h.shape);e=e.clone();e.uT();
x.p.hu(F.add.vmsk.z,e);F.uf(G)}F.add.lsct=YF.WY;F.eD="pass";F.Ge=24;if(S.visible!=null)F.aA(S.visible);
G.d.push(G.hP());var s=D.children,y=k;if(y)y=y.color;if(y)y=y.value;if(k&&(H!="solid"||y.r!=255||y.g!=255||y.b!=255)){var T=G.YJ();
T.lX("BACKGROUND");T.Ge|=16;T.add.vstk=JSON.parse(JSON.stringify(n.GN.default));T.add.vmsk=new g.XT;
T.add.vmsk.z=C.iV({type:"rect",x:i.x,y:i.y,width:i.o,height:i.i});C.bX(k,H,f,i,i,T,G,z,O);T.uf(G);G.d.push(T)}for(var I=0;
I<s.length;I++){XM.xt(s[I],G,f,z,O,i)}}else if(M=="shape"&&S.shape.type=="rect"&&(S.shape.r==null||S.shape.r==0)&&H=="pattern"){var K=k.pattern,B=K.meta.ux,a=B.uid,u=O["resources/"+a];
if(u==null){console.log(K);return}var r=G.Wf(u,F.getName(),0,0);r.Ge=F.Ge;r.opacity=F.opacity;F=r;var v=x.Y.pu(new Q(0,0,K.width,K.height)).v,o=new Ym;
o.scale(K.width/S.shape.width,K.height/S.shape.height);f.concat(o);f.uT();x.Y.GY(v,f,v);F.add.SoLd.Trnf=t.Gh.Zl(v);
F.add.SoLd.nonAffineTransform=t.Gh.Zl(v);F.pi(G,!1)}else if(M=="shape"){F.Ge|=16;F.add.vstk=JSON.parse(JSON.stringify(n.GN.default));
F.add.vmsk=new g.XT;F.add.vmsk.z=C.iV(D);var V=x.p.Mq(F.add.vmsk.z,null),e=f.clone();e.uT();x.p.hu(F.add.vmsk.z,e);
var J=x.p.Mq(F.add.vmsk.z,null);if(P=="none"){}else{var d=_.color.value,oU,p;oU="SoFi";var N=JSON.parse(n.s_[n.order.indexOf("SoFi")]);
p={t:"Objc",v:N};p.v.Clr.v=x.T.qL({H:d.r,X:d.g,C:d.b});var ob=_.align,oe=_.cap;if(ob==null)ob="center";
var oF=F.add.vstk;oF.strokeEnabled.v=!0;oF.strokeStyleLineWidth.v.val=_.width;if(ob)oF.strokeStyleLineAlignment.v.strokeStyleLineAlignment=n.GN.Uw[["inside","center","outside"].indexOf(ob)];
if(oe)oF.strokeStyleLineCapType.v.strokeStyleLineCapType=n.GN.Ej[["butt","round","square"].indexOf(oe)];
var oN=["SoFi","GrFl","patternFill"].indexOf(oU),YM=[n.W$,n.wU,n.dH][oN];oF.strokeStyleContent.v={classID:n.GN.iX[0]};
var oE=oF.strokeStyleContent.v={classID:n.GN.iX[oN]};for(var I=0;I<YM.length;I++)oE[YM[I]]=p.v[YM[I]]}if(q)for(var I=0;
I<q.length;I++)if(q[I].type=="uxdesign#blur"&&q[I].visible){var ox=q[I];F.add.vmsk.vU=ox.params.blurAmount}C.bX(k,H,f,V,J,F,G,z,O);
F.uf(G)}else if(M=="text"&&S.text){var c=S.text,oG=c.frame,or=X.font,Yf=X.textAttributes,l=f.clone(),Yz=0;
l.uT();F.add.lnsr="rend";F.add.TySh=o_.lR(0,0);F.add.TySh.Aw=new Q(0,0,100,100);F.add.TySh.GY=l;var oL=F.add.TySh.Nv,YX=c.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
o_.bs(oL,0,YX);if(YX!=""){var d=k.color.value,YC=o_.KT(oL,0,1),Yp=or.postscriptName;if(Yp==null)Yp=or.family;
o_.cf(YC,Yp);YC.Ed.FontSize=Math.round(or.size);YC.Ed.FillColor={Type:1,Values:[1,d.r/255,d.g/255,d.b/255]};
if(Yf){if(Yf.paragraphAlign)YC.HJ.Justification=["left","right","center"].indexOf(Yf.paragraphAlign);
if(Yf.letterSpacing)YC.Ed.Tracking=Math.round(Yf.letterSpacing);if(Yf.lineHeight){YC.Ed.AutoLeading=!1;
YC.Ed.Leading=Math.round(Yf.lineHeight)}}o_.QN(oL,0,YX.length,YC)}var YZ=S.meta.ux.rangedStyles;if(YZ)for(var I=0;
I<YZ.length;I++){var D=YZ[I],YT=Math.min(D.length,YX.length-Yz),YC=o_.KT(oL,Yz,Yz+YT),Yg=D.textScript,YY=D.underline,Yo=D.fontSize,b=D.fill;
if(Yg&&Yg!="none")YC.Ed.FontBaseline=Yg=="superscript"?1:2;if(YY!=null)YC.Ed.Underline=YY;if(Yo!=null)YC.Ed.FontSize=Math.round(Yo);
if(b!=null){var Ya=b.value;YC.Ed.FillColor={Type:1,Values:[1,(Ya>>>16&255)/255,(Ya>>>8&255)/255,(Ya>>>0&255)/255]}}o_.QN(oL,Yz,Yz+YT,YC);
Yz+=YT}if(oG.type=="area"){o_.cn(oL,1);o_.xg(oL,[0,0,oG.width,oG.height])}}else console.log(M,S);G.d.push(F)};
XM.iV=function(S){var G=S.type,j=[{type:6},{type:8,all:0}];if(G=="rect"){var z=S.r,O=S.x,i=S.y,C=S.width,M=S.height;
if(z==null)j=x.p.Go.Rect(O,i,C,M,0);else j=j.concat([{type:0,ta:1,length:8,vG:0,pS:0,lj:1}]).concat(x.p.nP([O,i,O+C,i,O+C,i+M,O,i+M],z,!1))}else if(G=="circle"){var z=S.r;
j=x.p.Go.Bz(S.cx-z,S.cy-z,2*z,2*z)}else if(G=="ellipse"){var D=S.rx,X=S.ry;j=x.p.Go.Bz(S.cx-D,S.cy-X,2*D,2*X)}else if(G=="path"||G=="compound"){var l=Typr.U.SVGToPath(S.path);
j=x.Y.oe({w:l.cmds,v:l.crds},!1)}else if(G=="line"){var f=S.x1,F=S.x2,$=S.y1,_=S.y2;j=j.concat([{type:0,ta:1,length:2,vG:0,pS:0,lj:1}]).concat(x.p.nP([f,$,F,_],0,!0))}else if(G=="polygon"){var P=S.points,k=[];
for(var H=0;H<P.length;H++)k.push(P[H].x,P[H].y);j=j.concat(x.p.Go.Vi(k,0,!1).slice(2))}else console.log(G,S);
return j};XM.fYU=function(S){var G=JSON.parse(n.default);for(var j=0;j<n.order.length;j++)G[n.lH[j]]={t:"VlLs",v:[]};
for(var j=0;j<S.length;j++){var z=S[j],O=z.type,i=z.params,C=z.visible;if(O=="dropShadow"){var M=n.lH[n.order.indexOf("DrSh")],D=JSON.parse(n.s_[n.order.indexOf("DrSh")]);
G[M].v.unshift({t:"Objc",v:D});var X=i.dropShadows;if(X.length!=1)throw"e";var l=X[j],f=l.color,F=f.value,$=l.dx,_=l.dy;
D.Clr.v=x.T.qL({H:F.r,X:F.g,C:F.b});D.Opct.v.val=Math.round((f.alpha!=null?f.alpha:1)*100);D.uglg.v=!1;
D.enab.v=C!=null?C:!0;D.lagl.v.val=Math.round(180/Math.PI*Math.atan2(_,-$));D.Dstn.v.val=Math.round(Math.sqrt($*$+_*_));
D.blur.v.val=Math.round(l.r*2.3)}}return G};XM.bX=function(S,G,j,z,O,i,C,M,X){var l=XM;if(G=="none"){i.add.vstk.fillEnabled.v=!1;
i.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.T.qL({H:0,X:0,C:0})}}}else{var f,F,$;if(G=="solid"){var _=S.color.value;
f="SoCo";F=n.W$;var P=JSON.parse(n.s_[n.order.indexOf("SoFi")]);$={t:"Objc",v:P};$.v.Clr.v=x.T.qL({H:_.r,X:_.g,C:_.b})}else if(G=="gradient"){f="GdFl";
F=n.wU;var P=JSON.parse(n.s_[n.order.indexOf("GrFl")]),k=P.Grad.v,b,Y,m;k.Intr.v=0;var H=S[G],q=M.gradients[H.ref],R=["linear","radial"].indexOf(q.type),I=q.stops;
P.Type.v.GrdT=["Lnr","Rdl","Angl"][R];if(R==0){var b=new A(H.x1,H.y1),Y=new A(H.x2,H.y2);b.x=Y.x+.5*(b.x-Y.x);
b.y=Y.y+.5*(b.y-Y.y)}else{var b=new A(H.cx,H.cy),Y=new A(H.cx+H.r,H.cy)}m=O;if(H.units=="objectBoundingBox"){var h=new Ym(z.o,0,0,z.i,z.x,z.y);
b=h.LU(b);Y=h.LU(Y)}var h=l.xR(H.transform);b=h.LU(b);Y=h.LU(Y);h=j.clone();h.uT();b=h.LU(b);Y=h.LU(Y);
x.T.oc(b,Y,m,P);var e=[];for(var s=0;s<I.length;s++){var y=I[s],T=y.color,_=T.value,K=T.alpha;if(K==null)K=1;
e.push([y.offset,[_.r/255,_.g/255,_.b/255],K])}x.T.Vw(e,k);$={t:"Objc",v:P}}else if(G=="pattern"){f="PtFl";
F=n.dH;var P=JSON.parse(n.s_[n.order.indexOf("patternFill")]),o,J=1,d=0,oU=0,p=1;$={t:"Objc",v:P};var B=S[G],a=B.meta.ux,u=a.uid,r=X["resources/"+u].buffer,v=ot.AM(r);
if(C.Be[u])o=C.Be[u];else{var V=ot.Lc(v).Uf(r)[0];o={data:V.data,L:new Q(0,0,B.width,B.height)};o.id=Yi.KP()+"-d71c-11e5-b1ae-a548a96e5f9f";
o.name="someImage";o.hC=new Uint8Array(o.data);delete o.data;C.kJ(o);C.Be[u]=o}P.Algn.v=!0;P.Ptrn.v.Idnt.v=o.id;
if(a.scaleBehavior=="cover"){J=p*Math.max(O.o,O.i)/Math.min(o.L.o,o.L.i);d=O.x-(o.L.o*J-O.o)/2;oU=O.y-(o.L.i*J-O.i)/2}else if(a.scaleBehavior=="fill"){J=p*Math.min(O.o,O.i)/Math.max(o.L.o,o.L.i);
d=O.x-(o.L.o*J-O.o)/2;oU=O.y-(o.L.i*J-O.i)/2}else throw"Unknown scale behaviour";P.Scl.v.val=100*J;P.phase.v.Hrzn.v=Math.round(d);
P.phase.v.Vrtc.v=Math.round(oU)}else console.log(G);if(f!=null){i.add[f]={classID:"null"};for(var s=0;
s<F.length;s++){var N=F[s];i.add[f][N]=$.v[N]}}}};function YA(){}YA.wD=function(S,G){S=new Uint8Array(S);
var j=W.X_(S,0,S.length),z=new DOMParser,O=z.parseFromString(j,"image/svg+xml"),i=O.getElementsByTagName("style")[0];
if(i)i=Typr.U.SVG.cssMap(i.textContent);else i={};var C=O.firstChild;while(C.tagName!="svg")C=C.nextSibling;
var M=new Q(0,0,100,100),D=C.getAttribute("viewBox");if(D){var X=D.split(" ").map(parseFloat);M.x=X[0];
M.y=X[1];M.o=X[2];M.i=X[3]}else if(C.getAttribute("width")){M.o=parseFloat(C.getAttribute("width"));
M.i=parseFloat(C.getAttribute("height"))}M=x.Y.tE(M);G.dD=!0;G.o=M.o;G.i=M.i;G.buffer=x.S(M.h()*4);var l=new Ym(1,0,0,1,-M.x,-M.y),f={qi:YA.Ak(C),fcj:i};
YA.CR(O,C.children,G,l,f,new Ym);if(G.d.length==0){var F=G.YJ();F.lX("Layer");G.d.push(F)}};YA.CR=function(S,G,j,z,O,i){var C=YA,M=["display","opacity","fill-opacity"];
for(var D=0;D<G.length;D++){var X=G[D],l=X.tagName,f=X.getAttribute("id"),F=C.Ak(X,O.fcj),_=13,R=1,Y="clip-path",m=null;
for(var $ in O.qi)if(M.indexOf($)==-1&&F[$]==null)F[$]=O.qi[$];if(F["font-size"])_=C.va(F["font-size"],_);
if(X.getAttribute("dx"))z.cg+=C.va(X.getAttribute("dx"),_);if(X.getAttribute("dy"))z.tL+=C.va(X.getAttribute("dy"),_);
var P=C.Al(X);P.concat(z);var k=X.getAttribute("visibility"),H=F.display,q=j.YJ();if(k=="hidden"||H=="none")q.aA(!1);
q.lX(f!=null?f.split(":::")[0]:"Layer");if(F.opacity)R*=parseFloat(F.opacity);if(F["fill-opacity"]){var I=parseFloat(F["fill-opacity"]);
if(I!=0)R*=I}q.opacity=Math.round(255*R);if(F["mix-blend-mode"]){var b=YR.Zf.indexOf(F["mix-blend-mode"]);
if(b!=-1)q.eD=YR.fh[b]}if(X.getAttribute(Y)==null)Y="mask";if(X.getAttribute(Y)!=null){var h=X.getAttribute(Y);
h=h.slice(4,h.length-1);var e=S.getElementById(h.slice(1));if(e){var s=e.children;m=j.YJ();m.lX("Clip-Path"+(f?": "+f:""));
m.add.lsct=YF.WY;m.eD="pass";m.Ge=24;var y=m.add.vmsk=new g.XT;j.d.push(j.hP());var T=[];if(e.getAttribute(Y)){var h=e.getAttribute(Y);
h=h.slice(4,h.length-1);T=S.getElementById(h.slice(1)).children}for(var K=0;K<s.length;K++){var B=C.Al(s[K]);
B.concat(P);var a=C.iV(S,s[K],!1).slice(2);x.p.hu(a,B);y.z=y.z.concat(a)}for(var K=0;K<T.length;K++){var B=C.Al(s[K]);
B.concat(P);var a=C.iV(S,T[K],!1).slice(2);for(var u=0;u<a.length;u++)if(a[K].ta!=null)a[K].ta=3;x.p.hu(a,B);
y.z=y.z.concat(a)}m.Ko();m.uf()}}if(l=="g"||l=="a"||l=="svg"||l=="switch"||(l=="text"||l=="textPath")&&X.children.length>0){if(l=="text")i=C.nI(X,i);
var r=X.getAttribute("viewBox"),v=X.getAttribute("width"),o=X.getAttribute("height");if(r&&v&&o){var V=r.split(" ").map(parseFloat),J=C.nI(X),d=new Ym;
d.scale(parseFloat(v)/V[2],parseFloat(o)/V[3]);d.translate(J.cg,J.tL);d.concat(P);P=d}var oU=X.children.length,p=O.qi;
O.qi=F;var N=l!="text"&&l!="textPath"||oU>1;if(N){var ob=q.Gg();q.add.lsct=ob&&(f==null||!f.endsWith(":::"))?YF.WY:YF.Aa;
q.eD="pass";q.Ge=24;q.aA(ob);j.d.push(j.hP())}C.CR(S,X.children,j,P,O,i);if(N)j.d.push(q);O.qi=p}else if(l=="use"){var d=C.nI(X);
d.concat(P);var oe=C.Ah(X),oF=S.getElementById(oe.slice(1)),p=O.qi;O.qi=F;C.CR(S,[oF],j,d,O,i);O.qi=p}else if(l=="path"||l=="rect"||l=="circle"||l=="ellipse"||l=="polygon"||l=="polyline"||l=="line"){q.Ge|=16;
q.add.vmsk=new g.XT;q.add.vstk=JSON.parse(JSON.stringify(n.GN.default));q.add.vstk.strokeEnabled.v=!1;
var oN=q.add.vstk,y=q.add.vmsk;y.z=C.iV(S,X,F["fill-rule"]=="evenodd");x.p.hu(y.z,P);var YM=x.p.Mq(y.z),oE=F.stroke,ox=F["stroke-width"],c=F["stroke-dasharray"],oG=F.fill,or=F["stroke-linejoin"],Yf=F["stroke-linecap"],oL=F["paint-order"];
if(oE==null||oE=="none"){}else{var YX=C.Lf(S,oE,P,YM),YC=["SoFi","GrFl","patternFill"].indexOf(YX.type),Yp=[n.W$,n.wU,n.dH][YC],YZ=oN.strokeStyleContent.v={classID:n.GN.iX[YC]},Yz=1;
for(var K=0;K<Yp.length;K++)YZ[Yp[K]]=YX.g.v[Yp[K]];ox=ox?parseFloat(ox):1;if(oL&&oL.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){Yz=2;
ox/=2}oN.strokeEnabled.v=!0;if(or)oN.strokeStyleLineJoinType.v.strokeStyleLineJoinType=n.GN.join[["miter","round","bevel"].indexOf(or)];
if(Yf)oN.strokeStyleLineCapType.v.strokeStyleLineCapType=n.GN.Ej[["butt","round","square"].indexOf(Yf)];
oN.strokeStyleLineWidth.v.val=ox*t.Gh.HR(P);oN.strokeStyleLineAlignment.v.strokeStyleLineAlignment=n.GN.Uw[Yz];
oN.strokeStyleOpacity.v.val=100*(F["stroke-opacity"]?parseFloat(F["stroke-opacity"]):1);if(c!=null&&c!="none")oN.strokeStyleLineDashSet.v=Yv.Wi(c.split(",").map(parseFloat),1/ox)}if(oG=="none"||F["fill-opacity"]&&parseFloat(F["fill-opacity"])==0){q.add.vstk.fillEnabled.v=!1;
q.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.T.qL({H:0,X:0,C:0})}}}else{var YX=C.Lf(S,oG,P,YM),YT=null,Yg=null;
if(YX.type=="SoFi"){YT="SoCo";Yg=n.W$}if(YX.type=="GrFl"){YT="GdFl";Yg=n.wU}if(YX.type=="patternFill"){YT="PtFl";
Yg=n.dH}if(YT!=null){q.add[YT]={classID:"null"};for(var K=0;K<Yg.length;K++){var $=Yg[K];q.add[YT][$]=YX.g.v[$]}}}if(F.filter&&F.filter!="none"){var YY=F.filter;
YY=YY.slice(5,YY.length-1);var Yo=S.getElementById(YY).children[0];if(Yo.tagName=="feGaussianBlur"){q.add.vmsk.vU=parseFloat(Yo.getAttribute("stdDeviation"))*t.Gh.HR(P)}}q.Ko();
q.uf(j);j.d.push(q)}else if((l=="text"||l=="tspan")&&X.textContent!=""){i=C.nI(X,i);var d=i.clone();
d.concat(P);if(X.children.length>0){var Ya=C.Ak(X.children[0],O.fcj);for(var $ in Ya)if(M.indexOf($)==-1)F[$]=Ya[$]}var YQ=F["xml:space"],YK=X.textContent;
if(YQ=="preserve")YK=YK.replace(/\t/g," ").replace(/\n/g," ");if(f==null)q.lX(YK);q.add.lnsr="rend";
q.add.TySh=o_.lR(0,0);q.add.TySh.Aw=new Q(0,0,100,100);q.add.TySh.GY=d.clone();var fa=q.add.TySh.Nv;
o_.bs(fa,0,YK);var oG=F.fill,YO=F["font-weight"],Yw=F["font-family"],YV=F["text-decoration"],oE=F.stroke,ox=F["stroke-width"];
if(F["dominant-baseline"]=="text-before-edge")q.add.TySh.GY.translate(0,_);var Yu=o_.KT(fa,0,1);if(oG&&oG!="none"){var YJ=CSS.iy(oG);
Yu.Ed.FillColor={Type:1,Values:[1,YJ.H/255,YJ.X/255,YJ.C/255]}}if(YV=="underline")Yu.Ed.Underline=!0;
Yu.Ed.FontSize=Math.round(_);o_.cf(Yu,"LiberationSans");if(YO=="bold")o_.cf(Yu,"LiberationSans-Bold");
if(Yw){var fd=Yw+":"+(YO?YO:"normal"),Yq={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(Yq[fd])o_.cf(Yu,Yq[fd]);else o_.cf(Yu,Yw)}if(F["text-anchor"])Yu.HJ.Justification=["start","end","middle"].indexOf(F["text-anchor"]);
o_.QN(fa,0,YK.length,Yu);if(oE==null||oE=="none"){}else{var YU=JSON.parse(n.s_[n.order.indexOf("FrFX")]);
YU.Clr.v=x.T.qL(CSS.iy(oE));YU.Sz.v.val=Math.round(parseFloat(ox)*t.Gh.HR(d));var YE=JSON.parse(n.default);
for(var K=0;K<n.order.length;K++)YE[n.lH[K]]={t:"VlLs",v:[]};YE.frameFXMulti.v.push({t:"Objc",v:YU});
q.add.lmfx=YE}j.d.push(q)}else if(l=="image"){var oe=C.Ah(X);if(oe.slice(0,4)=="data"){var Yc=ot.xe(oe),fJ=Yc,YB=j.Wf(fJ,q.getName(),0,0);
YB.Ge=q.Ge;q=YB;var YG=q.rect.clone();YG.x=YG.y=0;var Yr=X.getAttribute("width"),Yb=X.getAttribute("height");
if(Yr)YG.o=parseFloat(Yr);if(Yb)YG.i=parseFloat(Yb);var Y$=C.nI(X);Y$.concat(P);var CE=x.Y.pu(YG).v;
x.Y.GY(CE,Y$,CE);q.add.SoLd.Trnf=t.Gh.Zl(CE);q.add.SoLd.nonAffineTransform=t.Gh.Zl(CE);q.pi(j,!1);j.d.push(q)}}else console.log("unknown tag: "+l,X.children.length,X.textContent.length);
if(m!=null)j.d.push(m)}};YA.iV=function(S,G,j){var z=YA,O=[{type:6},{type:8,all:0}],i=G.tagName;if(i=="use"){var C=z.Ah(G),M=S.getElementById(C.slice(1)),D=new Ym;
if(M.tagName!="rect")D=z.nI(M);D.concat(z.Al(M));O=z.iV(S,M,j);x.p.hu(O,D)}else if(i=="path"){var X=G.getAttribute("d");
if(X==null)return O;var l=Typr.U.SVGToPath(X);O=x.Y.oe({v:l.crds,w:l.cmds},j)}else if(i=="rect"){var f=G.getAttribute("rx"),F=z.nI(G);
O=x.p.Go.Rect(F.cg,F.tL,parseFloat(G.getAttribute("width")),parseFloat(G.getAttribute("height")),f?parseFloat(f):0)}else if(i=="circle"||i=="ellipse"){var $=[0,0,0,0],_=["cx","cy","rx","ry","r"];
for(var P=0;P<5;P++){var k=G.getAttribute(_[P]);if(k){k=parseFloat(k);if(P<4)$[P]=k;else $[2]=$[3]=k}}O=x.p.Go.Bz($[0]-$[2],$[1]-$[3],2*$[2],2*$[3])}else if(i=="polygon"||i=="polyline"||i=="line"){var H;
if(i=="line")H=[G.getAttribute("x1"),G.getAttribute("y1"),G.getAttribute("x2"),G.getAttribute("y2")].map(parseFloat);
else H=G.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
O=x.p.Go.Vi(H,0,i!="polygon")}return O};YA.va=function(S,G){if(S.charAt(S.length-1)=="m")return G*parseFloat(S.slice(0,S.length-2));
else return parseFloat(S)};YA.Lf=function(S,G,j,z){var O,i,C=YA,M=G!=null?G.indexOf("("):-1;if(M!=-1){var D=G.indexOf(")"),X=G.slice(0,M).trim(),l=G.slice(M+1,D).trim();
if(X=="url"){if(l.charAt(0)=="#"){var f=S.getElementById(l.slice(1));if(f.tagName.toLowerCase().endsWith("gradient")){var F=C.xF(S,f,j,z);
O="GrFl";i={t:"Objc",v:F}}}else console.log("unknown url",url)}else if(X=="rgb"){O="SoFi";var $=JSON.parse(n.s_[n.order.indexOf("SoFi")]);
i={t:"Objc",v:$};i.v.Clr.v=x.T.qL(CSS.iy(G))}else console.log("unknown fill",G)}else{O="SoFi";var $=JSON.parse(n.s_[n.order.indexOf("SoFi")]);
i={t:"Objc",v:$};i.v.Clr.v=x.T.qL(CSS.iy(G))}return{type:O,g:i}};YA.Al=function(S){var G=new Ym,j=S.getAttribute("transform");
if(j)G=YA.vp(j);var z=S.getAttribute("style");if(z!=null){var O={};YA.vz(O,z,["transform"]);z=O.transform;
if(z)G.concat(YA.vp(z))}return G};YA.nI=function(S,G){var j=new Ym,z=S.getAttribute("x"),O=S.getAttribute("y");
if(z)j.cg=parseFloat(z);else if(G)j.cg=G.cg;if(O)j.tL=parseFloat(O);else if(G)j.tL=G.tL;return j};YA.vp=function(S){var G=Typr.U.SVG.readTrnf(S);
return new Ym(G[0],G[1],G[2],G[3],G[4],G[5])};YA.Ak=function(S,G){var j={},z="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var O=0;O<z.length;O++){var i=S.getAttribute(z[O]);if(i!=null&&i!="inherit")j[z[O]]=i}var C=S.getAttribute("class");
if(G!=null&&C!=null&&G["."+C]!=null)YA.vz(j,G["."+C],z);var M=S.getAttribute("style");if(M!=null)YA.vz(j,M,z);
return j};YA.vz=function(S,G,j){G=G.trim().split(";");for(var z=0;z<G.length;z++){var O=G[z].split(":"),i=O[0]?O[0].trim():"",C=O[1]?O[1].trim():"";
for(var M=0;M<j.length;M++)if(i==j[M]&&C!="inherit")S[j[M]]=C}};YA.Ah=function(S){var G=S.getAttribute("xlink:href");
if(G==null)G=S.getAttribute("href");return G};YA.xF=function(S,G,j,z){var O=YA,i=new Ym,C=G.getAttribute("gradientTransform");
if(C)i=O.vp(C);i.concat(j);var M=JSON.parse(n.s_[n.order.indexOf("GrFl")]),D=M.Grad.v;D.Intr.v=0;var X=G.tagName,l=new A(0,0),f=new A(z.o,0);
if(X=="linearGradient"){M.Type.v.GrdT="Lnr";if(G.getAttribute("x1"))l.x=parseFloat(G.getAttribute("x1"));
if(G.getAttribute("y1"))l.y=parseFloat(G.getAttribute("y1"));if(G.getAttribute("x2"))f.x=parseFloat(G.getAttribute("x2"));
if(G.getAttribute("y2"))f.y=parseFloat(G.getAttribute("y2"));l.x=f.x+.5*(l.x-f.x);l.y=f.y+.5*(l.y-f.y)}if(X=="radialGradient"){M.Type.v.GrdT="Rdl";
if(G.getAttribute("cx"))l.x=parseFloat(G.getAttribute("cx"));if(G.getAttribute("cy"))l.y=parseFloat(G.getAttribute("cy"));
f.cK(l.x,l.y);if(G.getAttribute("r"))f.x+=parseFloat(G.getAttribute("r"))}if(G.getAttribute("gradientUnits")=="userSpaceOnUse"){l=i.LU(l);
f=i.LU(f)}else{l.x=z.x+l.x*z.o;l.y=z.y+l.y*z.i;f.x=z.x+f.x*z.o;f.y=z.y+f.y*z.i}x.T.oc(l,f,z,M);var F=G.children;
if(F.length==0){var $=O.Ah(G);if($==null)throw"gradient has no stops";var _=S.getElementById($.slice(1));
if(_==null){console.log($.slice(1));throw"e"}var P=O.xF(S,_,i,z);M.Grad=P.Grad}else{var k=[];for(var H=0;
H<F.length;H++){var q=F[H],R=O.Ak(q),I=R["stop-color"],b=R["stop-opacity"],Y=q.getAttribute("offset");
if(I==null)I="#000000";if(b==null)b="1";var m=Y?parseFloat(Y):0;I=CSS.iy(I);k.push([m,[I.H/255,I.X/255,I.C/255],parseFloat(b)])}x.T.Vw(k,D)}return M};
YA.CS=function(S,G,j){var z=[],O=YA;O.LY=G.fmy?"\t":"";var i=G.fWH,C=G.fWL;z.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+S.o+" "+S.i+"\" width=\""+i+"\" height=\""+C+"\">");
var M={BX:[],G:[],h$:0,da:0,wV:0,dz:{},dT:{},dU:0,fN:{},h_:{},hN:0,UW:[]};YA.LC(S,M,S.root.children,1,G,j);
if(M.BX.length!=0){z.push(O.Gm(1)+"<defs>");z=z.concat(M.BX);z.push(O.Gm(1)+"</defs>")}z.push(O.Gm(1)+"<style>");
z.push(O.Gm(2)+"tspan { white-space:pre }");for(var D in M.fN)z.push(O.Gm(2)+"."+D+" { "+M.fN[D]+" } ");
z.push(O.Gm(1)+"</style>");z=z.concat(M.G);z.push("</svg>");z=z.join(G.fmy?"\n":"");var X=x.S(Math.round(z.length*1.5)),l=W.CN(z,X,0);
if(O.uL){console.log(O.uL);var f="SVGParser.gen.db = [\n";for(var F=0;F<O.uL.length;F++){var $=O.uL[F];
f+="{\n\tnam: \""+$.zs+"\",\n\tpts: [\n";for(var _=0;_<$.mk.length;_++){var P=$.mk[_];f+="\t\t[\""+P[0]+"\", { cmds: "+JSON.stringify(P[1].w)+", crds:"+JSON.stringify(P[1].v)+" } ]"+(_==$.mk.length-1?"":",")+"\n"}f+="\t]\n}"+(F==O.uL.length-1?"":",")+"\n"}f+="]\n";
console.log(f)}return X.buffer.slice(0,l)};YA.LY="";YA.Gm=function(S){var G="";for(var j=0;j<S;j++)G+=YA.LY;
return G};YA.Ce=function(S){return""+parseFloat(S.toFixed(3))};YA.LC=function(S,G,j,z,O,i){var C=YA;
for(var M=0;M<j.length;M++){var D=j[M].B,X=D.add.lsct,l=D.add.vmsk,f=D.add.vstk,F=D.add.TySh,$=[];if(!O.hidden&&!D.Gg())continue;
var _=D.opacity/255,P=D.add.iOpa?D.add.iOpa/255:1;if(_!=1)$.push("opacity: "+C.Ce(_));if(P!=1)$.push("fill-opacity: "+C.Ce(P));
if(D.eD!="norm"){var k=YR.Zf[YR.fh.indexOf(D.eD)];if(k!=null)$.push("mix-blend-mode: "+k)}if(!D.Gg())$.push("display: none");
var H=[],q=[],R=D.getName(),I=R.indexOf(" .");if(I!=-1){q.push(R.slice(I+2));R=R.slice(0,I)}if(O.names)H.push("id=\""+C.YW(R)+"\"");
var b=D.add.lmfx;if(b)b=b.solidFillMulti.v[0];if(b)b=b.v;if(b&&!b.enab.v)b=null;if(D.$P()){if(C.uL&&D.getName().split("-").length==3){C.uL.push({zs:D.getName(),rH:0,mk:[]})}if(l||D.add.artb){var Y;
if(l)Y=x.p._X(l.z).uU;else{var m=D.he(),h=x.Y.pu(m);Y=Typr.U.pathToSVG({crds:h.v,cmds:h.w},2)}G.wV++;
H.push("clip-path=\"url(#cp"+G.wV+")\"");G.BX.push(C.Gm(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+G.wV+"\">");
G.BX.push(C.Gm(3)+"<path d=\""+Y+"\" />");G.BX.push(C.Gm(2)+"</clipPath>")}if($.length!=0)H.push("style=\""+$.join(";")+"\"");
G.G.push(C.Gm(z)+"<g "+C.nq(H,q)+">");C.LC(S,G,j[M].children,z+1,O,i);G.G.push(C.Gm(z)+"</g>")}else if(D.dr()&&l==null){var e=new Q(0,0,S.o,S.i);
C.Lp($,D.add,G,e);if($.length!=0)H.push("style=\""+$.join(";")+"\"");G.G.push(C.Gm(z)+"<rect width=\""+S.o+"\" height=\""+S.i+"\" "+C.nq(H,q)+" />")}else if(l){var e=x.p.Mq(l.z),Y=x.p._X(l.z);
if(Y.nj!=0){H.push("fill-rule=\"evenodd\"")}var s=Y.uU;C.Lp($,D.add,G,e);if($.length!=0){var y=$.join(";"),T=G.h_[y];
if(T==null){T="shp"+G.hN;G.hN++;G.h_[y]=T;G.fN[T]=y}q.push(T)}G.G.push(C.Gm(z)+"<path "+C.nq(H,q)+" d=\""+s+"\" />");
if(C.uL&&C.uL[C.uL.length-1]){var K=x.Y.tH(l.z);K.v=K.v.map(Math.round);var B=C.uL[C.uL.length-1];B.rH+=JSON.stringify(K).length;
B.mk.push([$[0].split("#").pop(),K])}}else if(F&&O.fWw){var a=F.Nv,u=new fv(a,i);if(b)H.push("fill=\""+CSS.ec(b.Clr.v)+"\"");
var r=Cw.Du(u,F),v=x.Y.Yu(r);for(var o in v){if(b==null)H.push("fill=\""+o+"\"");var h=v[o],s=Typr.U.pathToSVG({crds:h.v,cmds:h.w},2);
G.G.push(C.Gm(z)+"<path "+C.nq(H,q)+" d=\""+s+"\" />");if(b==null)H.pop()}}else if(F&&!O.fWA){var a=F.Nv,V=F.GY.clone(),YM=0,oE=0;
if(o_.QK(a)==1){var J=o_.KT(a,0,0).HJ.Justification,d=0,oU=o_.sI(a)[2];if(J==2)d=oU/2;if(J==1)d=oU;V.translate(d,0)}$.push("transform: "+C.SC(V));
var p=o_.Kj(a),N=a.EngineDict.ParagraphRun,ob=N.RunArray,oe=N.RunLengthArray;if($.length!=0)H.push("style=\""+$.join(";")+"\"");
G.G.push(C.Gm(z)+"<text "+C.nq(H,q)+" >");var oF=D.add.lmfx;if(oF)oF=oF.frameFXMulti.v[0];if(oF)oF=oF.v;
var oN=b?CSS.ec(b.Clr.v):null;for(var ox=0;ox<ob.length;ox++){var c=[],oG=oe[ox],or=p.slice(YM,YM+oG-1),Yf=o_.KT(a,YM,YM),oL=Yf.GQ[Yf.Ed.Font].Name;
if(G.UW.indexOf(oL)==-1)G.UW.push(oL);CSS.fXx(c,Yf,F.GY,!0,O.UW,oN);if(oF){$.push("stroke: "+CSS.ec(oF.Clr.v));
$.push("stroke-width: "+oF.Sz.v.val)}var YX=Yf.Ed.FontSize*1.12;if(ox==0)YX=o_.QK(a)==0?0:Yf.Ed.FontSize;
oE+=YX;if(or!=""){var y=c.join(";"),T=G.h_[y],Yp="";if(T==null){T="txt"+G.hN;G.hN++;G.h_[y]=T;G.fN[T]=y}var YC=Yf.Ed.Tracking;
if(YC!=null&&YC!=0){YC=Math.round(YC*Yf.Ed.FontSize/1e3);Yp=" dx=\"0";for(var YZ=1;YZ<or.length;YZ++)Yp+=" "+YC;
Yp+="\" "}G.G.push(C.Gm(z+1)+"<tspan x=\"0\" y=\""+C.Ce(oE)+"\" class=\""+T+"\""+Yp+">"+C.YW(or)+"</tspan>")}YM+=oG}G.G.push(C.Gm(z)+"</text>")}else if(D.add.SoLd){var Yz=D.add.SoLd,YT=Yz.Idnt.v,Yg=0,YY=Yz.Crop?Yz.Crop.v:null;
if(G.dT[YT]!=null)Yg=G.dT[YT];else{G.dU++;Yg=G.dU;G.dT[YT]=G.dU;var Yo=S.iZ(YT,YY),YK="";if(Yo==null)return;
var Ya=Yo.DA,YQ=ot.AM(Yo.raw.buffer);if(YQ=="pdf"){var fa=new Yi("h");ot.PDF.Uf(Yo.raw.buffer,fa);fa.C$();
fa.iB();fa.I();fa.qE();if(Yz.Crop&&Yz.Crop.v==1){t.yc.eE(fa,fa.root.to(fa,!0))}var YO=ot.SVG.tu(fa,fa.o,fa.i,null,{UW:i});
YK="data:image/svg+xml;base64,"+ot.co(YO)}else if(YQ=="jpg"||YQ=="png"||YQ=="gif"||YQ=="svg"){var Yw={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
YK="data:"+Yw[YQ]+";base64,"+ot.co(Yo.raw.buffer)}else{YK=ot.Db(Ya[0].buffer,Ya[1].o,Ya[1].i)}G.BX.push(C.Gm(2)+"<image width=\""+Ya[1].o+"\" height=\""+Ya[1].i+"\" id=\"img"+Yg+"\" href=\""+YK+"\"/>")}var YV=x.Z.ea(Yz);
if($.length!=0)H.push("style=\""+$.join(";")+"\"");var Yu=C.nq(H,q);G.G.push(C.Gm(z)+"<use "+Yu+" href=\"#img"+Yg+"\" transform=\""+C.SC(YV)+"\"/>")}else if(!D.rect.tR()&&(O.fWm||F)){if($.length!=0)H.push("style=\""+$.join(";")+"\"");
var Yu=C.nq(H,q),YJ=D.buffer;if(b)YJ=Yv.fgv(YJ,b,D.rect);var fd=D.rect;G.dU++;var YK=ot.Db(YJ.buffer,fd.o,fd.i,"png",null,!0);
G.BX.push(C.Gm(2)+"<image width=\""+D.rect.o+"\" height=\""+D.rect.i+"\" id=\"img"+G.dU+"\" href=\""+YK+"\"/>");
G.G.push(C.Gm(z)+"<use "+Yu+" href=\"#img"+G.dU+"\" x=\""+fd.x+"\" y=\""+fd.y+"\" />")}}};YA.nq=function(S,G){if(G.length!=0)S.push("class=\""+G.join(" ")+"\"");
return S.join(" ")};YA.YW=function(S){return String(S).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
YA.SC=function(S){var G=[S.A,S.C,S.vK,S.JE,S.cg,S.tL].map(YA.Ce);return"matrix("+G.join(",")+")"};YA.Lp=function(S,G,j,z){var O=YA,i=G.vstk,C=G.vmsk,M=G.lmfx;
if(C&&C.vU!=0){var D=O.Ce(C.vU);if(j.dz[D]==null){j.da++;j.dz[D]=j.da;j.BX.push(O.Gm(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+j.da+"\"> <feGaussianBlur stdDeviation=\""+D+"\" /> </filter>")}S.push("filter: url(#flt"+j.dz[D]+")")}var X=Yv.WZ(M,G),l=X[0],f=X[1];
if(i&&!i.fillEnabled.v)S.push("fill: none");else if(l){var F=CSS.ec(l.Clr.v);S.push("fill: "+F)}else if(f){O.AU(f,j,z);
S.push("fill: url(#grd"+j.h$+")")}if(i==null||!i.strokeEnabled.v)i=Yv.WR(M);if(i&&i.strokeEnabled.v){var $=i.strokeStyleContent.v,_=$.classID;
if(_=="solidColorLayer")S.push("stroke: "+CSS.ec($.Clr.v));else{O.AU($,j,z);S.push("stroke: url(#grd"+j.h$+")")}var P=n.GN.Ej.indexOf(i.strokeStyleLineCapType.v.strokeStyleLineCapType),k=n.GN.join.indexOf(i.strokeStyleLineJoinType.v.strokeStyleLineJoinType),H=i.strokeStyleOpacity.v.val/100,q=i.strokeStyleLineWidth.v.val,R=n.GN.Uw.indexOf(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(R==2){q*=2;S.push("paint-order:stroke fill markers")}var I=i.strokeStyleLineDashSet.v,b=[];for(var Y=0;
Y<I.length;Y++)b.push(Math.round(I[Y].v.val*q));if(P!=0)S.push("stroke-linecap:"+["butt","round","square"][P]);
if(k!=0)S.push("stroke-linejoin:"+["miter","round","bevel"][k]);if(H!=1)S.push("stroke-opacity:"+O.Ce(H));
if(q!=1)S.push("stroke-width: "+O.Ce(q));if(b.length!=0)S.push("stroke-dasharray: "+b.join(","))}};YA.AU=function(S,G,j){G.h$++;
var z=YA,O=S.Grad.v,i=O.Clrs.v.slice(0),C=O.Trns.v.slice(0),M=S.Ofst.v,D=S.Type.v.GrdT=="Rdl"?1:0,X=(D==1?"radial":"linear")+"Gradient",l=x.T.od(S,j);
if(D==0){l[0].x=l[1].x+2*(l[0].x-l[1].x);l[0].y=l[1].y+2*(l[0].y-l[1].y)}var f=z.Gm(2)+"<"+X+" id=\"grd"+G.h$+"\" gradientUnits=\"userSpaceOnUse\" ";
if(D==0)G.BX.push(f+" x1=\""+z.Ce(l[0].x)+"\" y1=\""+z.Ce(l[0].y)+"\" x2=\""+z.Ce(l[1].x)+"\" y2=\""+z.Ce(l[1].y)+"\">");
if(D==1)G.BX.push(f+" cx=\""+z.Ce(l[0].x)+"\" cy=\""+z.Ce(l[0].y)+"\" r=\""+z.Ce(A.nM(l[0],l[1]))+"\">");
var F=S.Rvrs.v;if(F){i.reverse();C.reverse()}for(var $=0;$<i.length;$++){var _=i[$].v,P=$<C.length?C[$].v.Opct.v.val/100:1,P=P==1?"":"stop-opacity=\""+z.Ce(P)+"\"",k=_.Lctn.v/4096;
if(F)k=1-k;G.BX.push(z.Gm(3)+"<stop offset=\""+z.Ce(k)+"\" stop-color=\""+CSS.ec(_.Clr.v)+"\" "+P+" />")}G.BX.push(z.Gm(2)+"</"+X+">")};
YA.Go=function(S,G,j,z,O){var i=[],C=YA.Go,M=!1,D={YC:S,QM:G,hL:[!0,!0,!0],PA:!1,l_:j,fVJ:0};D.hs=Math.round(Math.max(S,G)*(.02+C.XF(D)*.03));
D.Pl=C.fSE(D);D.XG=C.fSI(D.Pl,(C.XF(D)<.5?-1:1)*(.2+C.XF(D)*.3));if(C.XF(D)<.5){var X=D.Pl;D.Pl=D.XG;
D.XG=X}D.fmc=C.XF(D)<.4&&C.fSi(D.XG,{H:1,X:1,C:1})>.3;D.fmD=C.XF(D)<.5?0:1;i.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+S+" "+G+"\" width=\""+S+"\" height=\""+G+"\">");
D.dn=z[Math.floor(C.vs(D)*z.length)];D.dl=z[Math.floor(C.vs(D)*z.length)];i.push("<style>");i.push("@font-face {  font-family: "+D.dn[2]+";  src: url(rsrc/fonts/"+D.dn[5]+");  }");
i.push("@font-face {  font-family: "+D.dl[2]+";  src: url(rsrc/fonts/"+D.dl[5]+");  }");i.push("</style>");
var l=[0,0,S,G],f=l;if(O==null)i.push("<path style=\"fill: "+C.VQ(D.Pl)+"\" d=\""+C.Rect(l[0],l[1],l[2]-l[0],l[3]-l[1])+"\" id=\"Background\" />");
else{D.PA=!0;C.Ls(D,l,i,O)}if(C.XF(D)<.25&&!D.PA){D.hL[0]=D.hL[2]=!1;C.fYx(l,D,i);f=l}else if(C.XF(D)<.25||D.PA)f=l;
else{var F=.52+C.XF(D)*.2;if(C.XF(D)<.5)F=1-F;var $=l.slice(0),_=l.slice(0);if(C.XF(D)<.5)$[2]=_[0]=Math.round(F*S);
else $[3]=_[1]=Math.round(F*G);if(C.XF(D)<.5){var X=$;$=_;_=X}f=$;C.fCs(D,_,i,O)}C.fCv(D,f,i);i.push("</svg>");
i=i.join("\n");var P=x.S(Math.round(i.length*1.5)),k=W.CN(i,P,0);return[P.buffer.slice(0,k),D.Hc]};YA.Go.fYx=function(S,G,j){var z=YA.Go,O=S[2]-S[0],i=S[3]-S[1];
if(z.XF(G)<.5){j.push("<path id=\"Border\" style=\"fill: "+z.VQ(G.XG)+"\" d=\""+z.fST(S[0],S[1],S[2]-S[0],S[3]-S[1],G.hs)+"\" />")}else if(z.XF(G)<-.4){z.fCB(G,S,j)}else{var C=z.XF(G)<.5?0:1,M=(C==0?i:O)/4,D=z.vW(G,C,S,j,M,!0),D=z.vW(G,C+2,S,j,M,!0,D)}};
YA.Go.fCv=function(S,G,j){var z=YA.Go,O="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),i=2*Math.floor(z.XF(S)*O.length/2),C=G[2]-G[0],M=G[3]-G[1],X=0,f=0;
S.mV=(S.YC+C)*.5*(.04+z.XF(S)*.05);S.mV=Math.min(S.mV,M*.4,C*.12);S.mV=Math.round(S.mV);var D=Math.min(S.mV*O[i].length*(.35+.3*z.XF(S)),C*.9),l=(G[1]+G[3])/2,F=x.Au(S.Pl)<.85?{H:1,X:1,C:1}:{H:.1,X:.1,C:.1};
if(z.XF(S)<.25&&S.hL[0]){f=0;X=G[0]+S.hs}else if(z.XF(S)<.33&&S.hL[2]){f=2;X=G[2]-S.hs}else{f=1;X=(G[0]+G[2])/2}var $=F.H==1?"0,0,0":"255,255,255",_=S.PA&&z.XF(S)<1;
if(_){var P=G[0],k=C,H=l-S.mV*1.1,q=S.mV*2.2,R=.7;if(f==1&&z.XF(S)<.5){P=H=.2*Math.min(C,M);k=C-2*H;
q=M-H-H}else if(z.XF(S)<.7){P=H=0;k=C;q=M;R=.25}j.push("<path id=\"Strip\" style=\"fill: rgb("+$+"); opacity: "+R+"\" d=\""+z.Rect(P,H,k,q)+"\" />")}if(z.XF(S)<.4){var I=S.mV*.07;
I*=1.5+z.XF(S)*1;if(f==-1&&C/M<3&&!_){j.push("<path id=\"Bar-bottom\" style=\"fill: "+z.VQ(F)+"\" d=\""+z.Rect(X-D/2,l+S.mV*1.1-I/2,D,I)+"\" />");
j.push("<path id=\"Bar-top\"    style=\"fill: "+z.VQ(F)+"\" d=\""+z.Rect(X-D/2,l-S.mV*1.1-I/2,D,I)+"\" />")}if(f!=1){j.push("<path id=\"Bar\" style=\"fill: "+z.VQ(F)+"\" d=\""+z.Rect(X-I/2,l-S.mV*.8,I,S.mV*.8*2)+"\" />");
X+=(f==0?1:-1)*S.mV/3}}var b=S.mV*.4;j.push(z.LQ(O[i+1],X,l+b*1.6,b,F,f,S.dl));j.push(z.LQ(O[i],X,l+S.mV*.04,S.mV,F,f,S.dn))};
YA.Go.fCs=function(S,G,j,z){var O=G[2]-G[0],i=G[3]-G[1],C=Math.max(O,i),M=Math.min(O,i),D=YA.Go;if(C/M<5&&!S.PA&&!1){D.Ls(S,G,j,z)}else if(D.XF(S)<0)j.push("<path style=\"fill: "+D.VQ(S.XG)+"\" d=\""+D.Rect(G[0],G[1],O,i)+"\" />");
else{var X=0;if(G[3]!=S.QM)X=0;if(G[2]!=S.YC)X=3;if(G[0]!=0)X=1;if(G[1]!=0)X=2;var l=X+2&3;if(C/M<3){var f=D.fSf(l),F=f[Math.round(D.XF(S)*(f.length-1))],$=F.zs.slice(0,4),_=$.indexOf(1);
F=JSON.parse(JSON.stringify(F));var P=-1;if($!="0000"){var k=new Ym;if(F.zs[5]=="0"){if(_==3&&X==1){P=1;
k.scale(-1,1)}else P=_}else{var H=l;while(H==l)H=Math.floor(D.XF(S)*4)&3;k.rotate((-_+H)*Math.PI/2)}D.GY(F,k)}var q=D.wR(F),R=O-2*S.hs,I=i-2*S.hs;
if(P!=-1){if((P&1)==0)I-=S.hs;else R-=S.hs}var b=Math.min(R/q.o,I/q.i),Y=new Ym;Y.translate(-q.x,-q.y);
Y.scale(b,b);var m=(O-q.o*b)/2,h=(i-q.i*b)/2;if(P!=-1){if(P==3)m=0;if(P==0)h=0;if(P==1)m=O-q.o*b;if(P==2)h=i-q.i*b}Y.translate(G[0]+m,G[1]+h);
D.qP(S,F,Y,S.XG,j)}else{D.vW(S,X,G,j,1e9)}}};YA.Go.Ls=function(S,G,j,z){var O=G[2]-G[0],i=G[3]-G[1],C=Math.max(O,i),M=Math.min(O,i),D=YA.Go,X=D.vs(S),l,f,F,$=z[0]instanceof ArrayBuffer;
if($){l="data:image/jpg;base64,"+fm.uX(z[0]);f=z[1];F=z[2]}else{var _=Math.floor(X*z.length),P=z[_];
S.Hc=P;l=P.webformatURL;f=P.webformatWidth;F=P.webformatHeight}var k=G[0],H=G[1],q=O,R=i;if(O/ i>f/F){R=q*F/f;
H=H-(R-i)/2}else{q=R*f/F;k=k-(q-O)/2}if($){j.push("<defs>");j.push("<image width=\""+f+"\" height=\""+F+"\" id=\"Background\" href=\""+l+"\" />");
j.push("</defs>");var I=q/f;j.push("<use href=\"#Background\" transform=\""+YA.SC(new Ym(I,0,0,I,k,H))+"\" />")}else{var b="cp"+Math.random();
j.push("<clipPath id=\""+b+"\">");j.push("<path style=\"fill: "+D.VQ(S.XG)+"\" d=\""+D.Rect(G[0],G[1],O,i)+"\" />");
j.push("</clipPath>");j.push("<image  clip-path=\"url(#"+b+")\" xlink:href=\""+l+"\" x=\""+k+"\" y=\""+H+"\" width=\""+q+"\" height=\""+R+"\" />")}};
YA.Go.LQ=function(S,G,j,z,O,i,C){var M=YA.Go;return"<text x=\""+G+"\" y=\""+j+"\" style=\"fill:"+M.VQ(O)+"; font-size:"+z+"px; text-anchor:"+["start","middle","end"][i]+"; font-family:"+C[2]+";\"><tspan>"+S+"</tspan></text>"};
YA.Go.qP=function(S,G,j,z,O){var i=YA.Go,C=[];for(var M=0;M<G.mk.length;M++){C.push(z);if(S.fmc){z=(M&1)==S.fmD?{H:1,X:1,C:1}:C[0]}}O.push("<g id=\""+G.zs.split("-")[2]+":::\" style=\"transform: "+YA.SC(j)+";\" >");
for(var M=0;M<G.mk.length;M++){var D=G.mk[M];z=C.pop();O.push("<path style=\"fill: "+(z?i.VQ(z):"#"+D[0])+"\" d=\""+Typr.U.pathToSVG({crds:D[1].v,cmds:D[1].w})+"\" />")}O.push("</g>")};
YA.Go.fCB=function(S,G,j){var z=YA.Go,O=YA.Go.XV,i=[];for(var C=0;C<O.length;C++){var M=O[C],D=M.zs.slice(0,4);
if(D!="1001")continue;i.push(M)}var M=i[Math.floor(z.XF(S)*i.length)];if(z.XF(S)<.5)z.GY(M,new Ym(0,1,1,0,0,0));
var X=G[3]-G[1],l=G[2]-G[0],f=z.wR(M),F=.7*Math.min(l,X,.5*Math.max(l,X))/Math.max(f.o,f.i),$=new Ym;
$.scale(F,F);if(z.XF(S)<.5){$.scale(1,-1);$.translate(0,X)}z.qP(S,M,$,S.XG,j);$.rotate(Math.PI);$.translate(l,X);
z.qP(S,M,$,S.XG,j)};YA.Go.fSf=function(S){var G=YA.Go.XV,j=[];for(var z=0;z<G.length;z++){var O=G[z],i=O.zs.slice(0,4);
if(i=="0000"){j.push(O);continue}if(["1000","0100","0010","0001"].indexOf(i)==-1)continue;var C=i.indexOf("1");
if(O.zs[5]=="0"&&S==C&&C!=3)continue;j.push(O)}return j};YA.Go.vW=function(S,G,j,z,O,i,C){var M=YA.Go.XV,D=YA.Go,X=[],R,I;
for(var l=0;l<M.length;l++){var f=M[l],F=f.zs.slice(0,4);if(["1110","1101","1011","0111"].indexOf(F)==-1)continue;
var $=F.indexOf("0")+2&3;if(f.zs[5]=="0")if(i==!0||G!=$&&!(G==1&&$==3))continue;X.push(f)}var _=C!=null?C:Math.floor(D.XF(S)*X.length),f=X[_],f=JSON.parse(JSON.stringify(f)),F=f.zs.slice(0,4),$=F.indexOf("0")+2&3;
if($==3&&G==1)x.GY(f,new Ym(1,0,0,-1,0,1e3));var P=new Ym;P.translate(-500,-500);P.rotate(-$*Math.PI/2);
P.translate(500,500);D.GY(f,P);var k=j[3]-j[1],H=j[2]-j[0],q=D.wR(f);if(q.y<0){q.i+=q.y;q.y=0}if(q.y>0){q.i+=q.y;
q.y=0}if((G&1)==0){I=k;R=H}else{R=k;I=H}var b=Math.min(Math.min(.5+.5*D.XF(S))*Math.min(H,k),O)/q.i,Y=Math.ceil(R/(1e3*b)),m=new Ym,h=new Ym;
h.scale(b,b);if(G==0||G==2){h.translate(-(H/2),-(k/2));h.rotate(-G*Math.PI/2);h.translate(H/2+j[0],k/2+j[1])}else{h.rotate(Math.PI/2);
h.scale(1,-1);h.translate(j[0],j[1]);if(G==1){h.scale(-1,1);h.translate(H,0)}}z.push("<g id=\"Border-"+["top","right","bottom","left"][G]+":::\">");
for(var l=0;l<Y;l++){var e=m.clone();e.concat(h);D.qP(S,f,e,S.XG,z);m.translate(1e3-2,0)}z.push("</g>");
return _};YA.Go.Rect=function(S,G,j,z){return Typr.U.pathToSVG({crds:[S,G,S+j,G,S+j,G+z,S,G+z],cmds:["M","L","L","L","Z"]})};
YA.Go.fST=function(S,G,j,z,O){var i=[S,G,S+j,G,S+j,G+z,S,G+z];S+=O;G+=O;j-=2*O;z-=2*O;i.push(S,G,S,G+z,S+j,G+z,S+j,G);
return Typr.U.pathToSVG({crds:i,cmds:"M L L L Z M L L L Z".split(" ")})};YA.Go.fSI=function(S,G){var j=x.Nk(S.H,S.X,S.C);
j.we=Math.max(.1,Math.min(.9,j.we+G));return x.fv(j.QM,j.sN,j.we)};YA.Go.fVV=function(S,G){var j=x.Nk(S.H,S.X,S.C);
j.QM+=G;return x.fv(j.QM,j.sN,j.we)};YA.Go.fVl=function(S){var G=x.Nk(S.H,S.X,S.C);G.we=1-G.we;return x.fv(G.QM,G.sN,G.we)};
YA.Go.fSi=function(S,G){var j=S.H-G.H,z=S.X-G.X,O=S.C-G.C;return Math.sqrt(j*j+z*z+O*O)};YA.Go.fSE=function(S){var G=YA.Go;
return{H:G.XF(S),X:G.XF(S),C:G.XF(S)}};YA.Go.VQ=function(S){return CSS.UO({H:S.H*255,X:S.X*255,C:S.C*255})};
YA.Go.wR=function(S){var G=S.mk,j=new Q;for(var z=0;z<G.length;z++)j=j.wB(x.Y.wR(G[z][1].v));return j};
YA.Go.GY=function(S,G){var j=S.mk;for(var z=0;z<j.length;z++)x.Y.GY(j[z][1].v,G,j[z][1].v)};YA.Go.XF=function(S){S.fVJ++;
var G=S.fVJ&3;if(G==0)S.l_=YA.Go.Hr(S.l_);var j=S.l_>>>8*G&255;return j*(.99999999/255)};YA.Go.vs=function(S){var G=YA.Go.Hr(S.l_);
S.l_=YA.Go.Hr(G);return G*(1/4294967295)};YA.Go.Hr=function(S){S=(S^61^S>>>16)>>>0;S=S+(S<<3)>>>0;S=(S^S>>>4)>>>0;
S=S*668265261>>>0;S=(S^S>>>15)>>>0;return S};YA.Go.XV=[{zs:"0001-0-bird",mk:[["4b3c34",{w:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),v:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{w:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),v:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{w:"M C C C C C C C C C C C C L Z".split(" "),v:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{zs:"0001-0-bird2",mk:[["ff7f2a",{w:"M L L L Z M L L L Z".split(" "),v:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{w:"M C C C C C C C C C C C L Z".split(" "),v:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{w:"M C C C C C C L Z M C C Z".split(" "),v:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{w:"M L L L Z M L L L Z".split(" "),v:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{w:"M L C C C C C C C C L Z".split(" "),v:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{w:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),v:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{zs:"0000-1-flower",mk:[["7a59a2",{w:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),v:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{zs:"0000-1-flower",mk:[["d13777",{w:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),v:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{zs:"0000-1-flower",mk:[["ffac42",{w:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),v:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{zs:"0000-1-flower",mk:[["d04040",{w:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{zs:"0000-1-flower",mk:[["ec7272",{w:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),v:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{w:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),v:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{zs:"0000-0-hearts",mk:[["d17070",{w:"M C C C C C C C C C L Z".split(" "),v:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{w:"M C C C C C C C C C L Z".split(" "),v:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{w:"M C C C C C C C C C L Z".split(" "),v:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{zs:"0000-0-anchor",mk:[["2a3b66",{w:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),v:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{zs:"0000-1-leaf",mk:[["fbb600",{w:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),v:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{zs:"0000-1-acorn",mk:[["a05a2c",{w:"M C C C C C C C L Z".split(" "),v:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{w:"M C C C C C C C C C C C Z".split(" "),v:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{zs:"0000-0-skull",mk:[["808080",{w:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),v:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{zs:"0000-0-ghost",mk:[["e6e6e6",{w:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),v:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{w:"M C C C C Z M C C C C Z".split(" "),v:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{zs:"1001-1-rose",mk:[["9e1460",{w:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),v:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{w:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),v:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{zs:"1001-1-curls",mk:[["53a7ab",{w:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{w:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{zs:"0111-0-pines",mk:[["e9e9e9",{w:"M C C C C C C C C L L L Z".split(" "),v:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{w:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),v:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{zs:"0111-0-flowers",mk:[["8cae40",{w:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),v:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{w:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{zs:"1101-1-confetti",mk:[["e789ff",{w:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{w:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{zs:"1101-1-branch",mk:[["7f500b",{w:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),v:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{w:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{zs:"1101-1-sticks",mk:[["ec7272",{w:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{w:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{zs:"1101-1-dots",mk:[["ec7272",{w:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{w:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{w:["M","C","C","Z"],v:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{zs:"1101-1-strips",mk:[["ffc88c",{w:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{w:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{w:["M","C","C","Z"],v:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{zs:"1101-1-circs",mk:[["ec7272",{w:"M C C C C Z M C C C C Z".split(" "),v:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{w:"M C C C C Z M C C C C Z".split(" "),v:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{w:["M","C","C","Z"],v:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{zs:"1101-1-squares",mk:[["014ea7",{w:"M L L L L Z M L L L L Z".split(" "),v:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{w:"M L L L L Z M L L L L Z".split(" "),v:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{w:["M","C","C","Z"],v:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{zs:"1101-0-christmas",mk:[["014ea7",{w:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{w:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var oI={};oI.parse=function(S){var G=new Uint8Array(S),j=null;if(G[0]==80&&G[1]==75){var z=Date.now(),O=UZIP.parse(G.buffer),j=O["document.json"];
j=JSON.parse(W.X_(j,0,j.length));oI.vm(j,O)}else{var i=Y_.parse(S);j=oI.LZ(i[2][0][1])}return j};oI.vm=function(S,G){var j=typeof S;
if(j=="string"||j=="number"||j=="boolean")return S;if(S instanceof Array){for(var z=0;z<S.length;z++)S[z]=oI.vm(S[z],G);
return S}var O=S._class;if(O==null)return S;if(O=="MSJSONFileReference"){var i=S._ref;if(!1){}else if(G[i+".json"]!=null){var C=G[i+".json"],M=C.length;
for(var z=0;z<M;z++)if(C[z]==11)C[z]=32;var D=W.X_(C,0,M);S=JSON.parse(D)}else if(G[i+".png"]!=null)return{key:i.split("/").pop(),bdata:G[i+".png"]};
else if(G[i+".jpg"]!=null)return{key:i.split("/").pop(),bdata:G[i+".jpg"]};else if(G[i+".pdf"]!=null)return{key:i.split("/").pop(),bdata:G[i+".pdf"]};
else if(G[i]!=null)return{key:i.split("/").pop(),bdata:G[i]};else{console.log(S,G);throw"e"}}else if(O=="MSAttributedString"){var D=atob(S.archivedAttributedString._archive),X=D.length-1,l=new Uint8Array(X);
for(var z=0;z<X;z++)l[z]=D.charCodeAt(z);S.archivedAttributedString=oI.LZ(l)}for(var f in S)S[f]=oI.vm(S[f],G);
return S};oI.LT=function(S,G,j,z){if(S instanceof Uint8Array)return null;if(z.indexOf(S)!=-1)return null;
z.push(S);if(S==G)return j;for(var O in S){j.push(O);var i=oI.LT(S[O],G,j,z);if(i){console.log(S,i);
throw"e"}j.pop()}};oI.LZ=function(S){var G=fI.parse(S,0),j=G.$objects,z=new Uint8Array(j.length),O=oI.XE(j,z,G.$top.root);
for(var i=0;i<j.length;i++)if(z[i]==0&&i!=0){console.log(i,j[i]);oI.LT(O,i,[],[])}for(var i=0;i<j.length;
i++){var C=j[i];if(C._class&&(C._class=="bitmap"||C._class=="fill"&&C.fillType==4&&(C.image||C.imageSHA))){var M=null,D=null;
if(C.image&&C.image.data){D=C.image.sha1["NS.bytes"];D=btoa(W.PP(D,0,D.length));M=C.image.data instanceof Uint8Array?C.image.data:C.image.data["NS.bytes"]}else{if(C.imageSHA)D=C.imageSHA instanceof Uint8Array?C.imageSHA:C.imageSHA["NS.bytes"];
else D=C.image.sha1["NS.bytes"];D=btoa(W.PP(D,0,D.length));var X=O.assets?O.assets.imageCollection:O.images,M=X.images[D].data;
if(M["NS.bytes"])M=M["NS.bytes"]}M=new Uint8Array(M.buffer.slice(M.byteOffset,M.byteOffset+M.length));
delete C.imageSHA;C.image={key:D,bdata:M}}}return O};oI.fPY=function(S){return S.slice(0,11)=="MSImmutable"?"MS"+S.slice(11):S};
oI.XE=function(S,G,j){var z=S[j];if(G[j]==1){return z}G[j]=1;if(typeof z=="string")return z;if(typeof z=="number")return z;
if(typeof z=="boolean")return z;if(z instanceof Array)return z;if(z instanceof Uint8Array){return z}if(S[z.$class]==null){if(z.$class==null&&z["NS.data"]!=null)return z;
console.log(j,z);throw"e"}var O=S[z.$class],i=oI.fPY(O.$classname);G[z.$class]=1;z.$class=i;if(oI.Lu[i]){delete z.$class;
z._class=oI.Lu[i]}var C=oI.XE;if(i=="NSMutableArray"||i=="NSArray"){var M=[];if(z["NS.objects"]!=null)for(var D=0;
D<z["NS.objects"].length;D++)M.push(C(S,G,z["NS.objects"][D]));else for(var D=0;z["NS.object."+D]!=null;
D++)M.push(C(S,G,z["NS.object."+D]));S[j]=M;return M}if(i=="NSDictionary"||i=="NSMutableDictionary"){var X={$class:i};
if(z["NS.keys"]!=null)for(var D=0;D<z["NS.keys"].length;D++){var l=C(S,G,z["NS.keys"][D]);if(l instanceof Uint8Array)l=btoa(oI.Su.PP(l,0,l.length));
else if(typeof l!="string"&&typeof l!="number")l=btoa(oI.Su.PP(l["NS.bytes"],0,l["NS.bytes"].length));
X[l]=C(S,G,z["NS.objects"][D])}else for(var D=0;z["NS.key."+D]!=null;D++){var l=C(S,G,z["NS.key."+D]);
if(l instanceof Uint8Array)l=btoa(oI.Su.PP(l,0,l.length));else if(typeof l!="string"&&typeof l!="number")l=btoa(oI.Su.PP(l["NS.bytes"],0,l["NS.bytes"].length));
X[l]=C(S,G,z["NS.object."+D])}for(var f in z)delete z[f];for(var f in X)z[f]=X[f];return z}if(i=="NSURL")return{$class:i,base:C(S,G,z["NS.base"]),relative:C(S,G,z["NS.relative"])};
if(oI.fPd.indexOf(i)!=-1){S[j]=C(S,G,z.array_do);return S[j]}if(z.do_objectID!=null)z.do_objectID=C(S,G,z.do_objectID);
if(oI.fPy.indexOf(i)!=-1)return z;var F=oI.fPq[i];if(F==null){console.log(S,z);throw"unknown class "+i}for(var D=0;
D<F.length;D++)if(z[F[D]]!=null)z[F[D]]=C(S,G,z[F[D]]);if(i=="MSTextLayer"){var $=z,_,P,k,H;if($.attributedString)_=$.attributedString.archivedAttributedString;
else _=$.storage;H=_.NSString;if(typeof H!="string")H=W.X_(H["NS.bytes"],0,H["NS.bytes"].length);if(_.NSAttributeInfo)P=_.NSAttributeInfo["NS.bytes"];
else{var q=H.length,R=[];while(q>0){var I=Math.min(100,q);R.push(I,0);q-=I}P=new Uint8Array(R)}k=_.NSAttributes instanceof Array?_.NSAttributes:[_.NSAttributes];
var b={$class:"NSAttributedString",NSString:H,NSAttributes:k};$.attributedString={_class:"MSAttributedString",archivedAttributedString:b};
b.NSAttributeInfo={$class:"NSMutableData","NS.data":P};delete $.storage}return z};oI.Su={GP:function(S,G){return S[G+1]<<8|S[G]},O:function(S,G){return S[G+3]<<24|S[G+2]<<16|S[G+1]<<8|S[G]},PP:function(S,G,j){var z="";
for(var O=0;O<j;O++)z+=String.fromCharCode(S[G+O]);return z}};oI.Lu={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
oI.fPd=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
oI.fPy="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
oI.fPq={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"]};
var fI={};fI.parse=function(S,G){var j=W.PP(S,G,8);G+=8;var z=fI.parse.fPb(S,S.length-31),O=[];if(z.d$==1){var G=S.length-31-z.d$*z.cP;
for(var i=0;i<z.cP;i++)O.push(S[G+i])}else if(z.d$==2){var G=S.length-31-z.d$*z.cP;for(var i=0;i<z.cP;
i++)O.push(W.GP(S,G+i*2))}else if(z.d$==4){var G=S.length-31-z.d$*z.cP;for(var i=0;i<z.cP;i++)O.push(W.O(S,G+i*4))}else{throw"e"}var C=fI.parse.XE(S,O,z.root,z);
return C};fI.parse.XE=function(S,G,j,z){var O=fI.Su,i=z.fm_,C=i==4?O.O:i==2?O.GP:O.fP$,M=fI.parse,D=G[j],X=S[D],l=X>>4,f=X&15,$=null;
D+=1;if([4,5,6,10,12,13].indexOf(l)!=-1&&f==15){var F=M.SM(S,D);D+=F.rH;f=F.g}if(!1){}else if(l==0)$=f==8?!1:f==9?!0:null;
else if(l==1)$=M.SM(S,D-1).g;else if(l==2)$=1<<f==4?W.dk(S,D):W.Xr(S,D);else if(l==3)$=W.Xr(S,D);else if(l==4)$=new Uint8Array(S.buffer,D,f);
else if(l==5)$=W.PP(S,D,f);else if(l==6)$=W.Pn(S,D,f);else if(l==8){$=0;for(var _=0;_<f+1;_++)$=$<<8|S[D+_]}else if(l==10){$=[];
for(var _=0;_<f;_++)$.push(M.XE(S,G,C(S,D+i*_),z))}else if(l==12){$=[];for(var _=0;_<f;_++)$.push(M.XE(S,G,C(S,D+i*_),z))}else if(l==13){$={};
for(var _=0;_<f;_++){var P=M.XE(S,G,C(S,D+i*_),z),k=M.XE(S,G,C(S,D+i*(f+_)),z);$[P]=k}}else throw"unknown mask "+l;
return $};fI.parse.SM=function(S,G){var j=1<<(S[G]&15),z=0;for(var O=0;O<j;O++)z=z<<8|S[G+1+O];return{g:z,rH:j+1}};
fI.parse.fPb=function(S,G){var j={};G+=6;j.d$=S[G];G++;j.fm_=S[G];G++;G+=4;j.cP=W.O(S,G);G+=4;G+=4;j.root=W.O(S,G);
G+=4;G+=4;j.fMq=W.O(S,G);G+=4;return j};fI.Su={fP$:function(S,G){return S[G]},GP:function(S,G){return S[G]<<8|S[G+1]},O:function(S,G){return S[G]<<24|S[G+1]<<16|S[G+2]<<8|S[G+3]},PP:function(S,G,j){var z="";
for(var O=0;O<j;O++)z+=String.fromCharCode(S[G+O]);return z}};var Y_={parse:function(S){var G=new Uint8Array(S),j=Y_.PS(G),z=[],O=new Uint8Array(G.length),i=[];
z.push(i);Y_.vZ(G,j,1,O,i);for(var C=0;C<i.length;C++){var M=[];z.push(M);Y_.vZ(G,j,i[C][3],O,M);i[C][3]=C+1}return z},vZ:function(S,G,j,z,O){j--;
var i=j*G.Rx+(j==0?100:0),C=S[i],M=Y_.GP(S,i+1);if(M!=0)throw"free block in a page";var D=Y_.GP(S,i+3),X=Y_.GP(S,i+5);
if(X==0)X=65536;var l=S[i+7],f=Y_.GP(S,i+8);if(C==2||C==5)i+=4;else f=0;for(var F=0;F<D;F++){var $=j*G.Rx+Y_.GP(S,i+8+2*F),_=-1,P=0,k=0,H=0;
if(C==2||C==5){_=Y_.O(S,$);$+=4}if(C==2||C==10||C==13){P=Y_.Ab(S,$);$+=P.rH}if(C==5||C==13){k=Y_.Ab(S,$);
$+=k.rH}if(C==5){Y_.vZ(S,G,_,z,O);continue}var q=G.Rx-(j==0?100:0),R=P.Gf,I=C==13?q-35:Math.floor((q-12)*64/255)-23,b=Math.floor((q-12)*32/255)-23,Y=b+(R-b)%(q-4);
if(R<=I){Y_.Fj(S,$,z,0,R)}else{var m=Y<=I?Y:b,h=0;Y_.Fj(S,$,z,0,m);h+=m;H=Y_.O(S,$+m);while(H!=0){var e=(H-1)*G.Rx;
H=Y_.O(S,e);var s=Math.min(G.Rx-4,R-h);Y_.Fj(S,e+4,z,h,s);h+=s}}O.push(Y_.fvo(z,R))}},fvo:function(S,G){var j=0,z=Y_.Ab(S,j);
j+=z.rH;var O=[],i=[];while(j<z.Gf){var C=Y_.Ab(S,j);j+=C.rH;O.push(C.Gf)}if(j!=z.Gf)throw"e";for(var M=0;
M<O.length;M++){var C=O[M];if(!1){}else if(C==0)i.push(null);else if(C==1){i.push(Y_.fv_(S,j));j+=1}else if(C==2){i.push(Y_.Et(S,j));
j+=2}else if(C==3){i.push(Y_.fvd(S,j));j+=3}else if(C==4){i.push(Y_.SM(S,j));j+=4}else if(C==7){i.push(Y_.fvN(S,j));
j+=16}else if(C==8)i.push(0);else if(C==9)i.push(1);else if(C>=12&&(C&1)==0){var D=C-13>>1,X=new Uint8Array(D);
Y_.Fj(S,j,X,0,D);i.push(X);j+=D}else if(C>=13&&(C&1)==1){var D=C-12>>1;i.push(Y_.X_(S,j,D));j+=D}else throw"unknonw type "+C}return i},PS:function(S){if(!(S[18]==1&&S[19]==1&&S[20]==0&&S[21]==64&&S[22]==32&&S[23]==32))throw"unexpected SQL3 header";
var G={dy:Y_.PP(S,0,15),Rx:Y_.GP(S,16),fMU:Y_.O(S,24),size:Y_.O(S,28),fMx:Y_.O(S,32),fMb:Y_.O(S,36),fMe:Y_.O(S,40),fM$:Y_.O(S,44),fM_:Y_.O(S,48),fMN:Y_.O(S,52),flW:Y_.O(S,56),fML:Y_.O(S,60),fMF:Y_.O(S,64)!=0,fMG:Y_.O(S,68),fMt:Y_.O(S,92),fog:Y_.O(S,96)};
if(G.Rx==1)G.Rx=65536;if(G.flW!=1)throw"unsupported text encoding "+G.flW;return G},fvY:function(S,G){return S[G]<<16|S[G+1]<<8|S[G+2]},fvd:function(S,G){var j=Y_.fvY(S,G),z=j&8388608;
return z?-(16777215-j+1):j},fv_:function(S,G){Y_.MV[0]=S[G];return Y_.faC[0]},SM:function(S,G){var j=Y_.MV;
for(var z=0;z<4;z++)j[z]=S[G+3-z];return Y_.faI[0]},Et:function(S,G){var j=Y_.MV;j[0]=S[G+1];j[1]=S[G];
return Y_.faK[0]},GP:function(S,G){return S[G]<<8|S[G+1]},O:function(S,G){return S[G]<<24|S[G+1]<<16|S[G+2]<<8|S[G+3]},fvN:function(S,G){var j=Y_.MV;
for(var z=0;z<8;z++)j[z]=S[G+7-z];return Y_.fax[0]},Ab:function(S,G){var j=G,z=0;while(!0){var O=S[G];
G++;z=z*128+(O&127);if(O<128)break}return{Gf:z,rH:G-j}},PP:function(S,G,j){var z="";for(var O=0;O<j;
O++)z+=String.fromCharCode(S[G+O]);return z},X_:function(S,G,j){var z="";for(var O=0;O<j;O++)z+="%"+Y_.faX(S[G+O].toString(16));
return decodeURIComponent(z)},Fj:function(S,G,j,z,O){if(S[G+O-1]==null||j[z+O-1]==null){console.log(G,z,O);
throw"e"}for(var i=0;i<O;i++)j[z+i]=S[G+i]},faX:function(S){return S.length<2?"0"+S:S}};Y_.MV=new Uint8Array(8);
Y_.faC=new Int8Array(Y_.MV.buffer);Y_.faK=new Int16Array(Y_.MV.buffer);Y_.faI=new Int32Array(Y_.MV.buffer);
Y_.fax=new Float64Array(Y_.MV.buffer);function Ye(S,G,j){this.HX=S;this.pO=G;this.fmN=j;this.Re=new A(0,0);
this.pq=-1;this.ph=0;this.ht=0;this.Py=new Q;this.RG=[];this.cR=null;this.fyl=null;this.cD=null;this.cz=null;
this.fMX=null}Ye.prototype.StartPage=function(S,G,j,z){var O=this.pO,i=O.HR(),C=1;while((j-S)*(z-G)*i*i/(C*C)>8e3*8e3)C++;
O.scale(1/C,1/C);this.fyl=[S,G,j,z];var C=O.HR();S=Math.round(S*C);G=Math.round(G*C);j=Math.round(j*C);
z=Math.round(z*C);var M=this.HX,D=this.cD;if(D==null){O.cg=-S}else{var X=D[2]-D[0]+30,l=Math.round(j-S)+30;
if(this.Re.x+X+l>8192){O.cg=-S;this.Re.x=0;this.Re.y+=this.ht+120;this.ht=0}else{O.cg+=X;this.Re.x+=X}}O.tL=this.Re.y+(this.fmN?z:-G);
this.ht=Math.max(this.ht,Math.round(z-G));this.cD=[S,G,j,z];M.d.push(M.hP())};Ye.prototype.Ld=function(){var S=this.HX,G=S.d[S.d.length-1];
return G};Ye.prototype.Ll=function(){var S=JSON.parse(JSON.stringify(n.GN.default));S.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
S.strokeEnabled.v=!1;S.fillEnabled.v=!1;return S};Ye.prototype.Ly=function(){var S=this.HX,G=S.YJ();
G.lX("Path "+S.d.length);this.HX.d.push(G);G.Ge|=16;G.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.T.qL({H:0,X:0,C:0})}};
G.add.vmsk=new g.XT;G.add.vstk=this.Ll();return G};Ye.prototype.vw=function(S){var G={v:S.crds,w:S.cmds},j=x.Y.oe(G,!1);
x.p.hu(j,this.pO);return j};Ye.LI=function(S,G){for(var j=0;j<S.length;j++)if(S[j].ta!=null)S[j].ta=G};
Ye.fpY=function(S){return Math.sqrt(Math.abs(S[0]*S[3]-S[1]*S[2]))};Ye.SJ=function(S){return x.T.qL({H:S[0]*255,X:S[1]*255,C:S[2]*255})};
Ye.AL=function(S){return new Ym(S[0],S[1],S[2],S[3],S[4],S[5])};Ye.prototype.Stroke=function(S){if(this.pq!=-1&&this.pq!=this.ph)return;
if(S.pth.cmds.length<=1)return;var G=this.vw(S.pth);if(G.length<=2)return;this.Jf(S);Ye.LI(G,-1);G[2].ta=1;
var j=Ye.SJ(S.COLR),z=this.Ld(),O=this.Ll();O.strokeEnabled.v=!0;O.strokeStyleMiterLimit.v=S.mlimit;
O.strokeStyleLineDashSet.v=Yv.Wi(S.dash,1/S.lwidth);O.strokeStyleLineDashOffset.v.val=S.doff;O.strokeStyleLineJoinType.v.strokeStyleLineJoinType=n.GN.join[S.ljoin];
O.strokeStyleLineCapType.v.strokeStyleLineCapType=n.GN.Ej[S.lcap];O.strokeStyleLineWidth.v.val=Math.max(.4,S.lwidth*Ye.fpY(S.ctm)*this.pO.HR());
O.strokeStyleContent.v.Clr.v=j;var i=z!=null&&z.add.vmsk!=null&&!z.$P(),C=i&&!z.add.vstk.strokeEnabled.v&&g.XT.fnY(z.add.vmsk.z,G,!0),M=i&&!z.add.vstk.fillEnabled.v&&JSON.stringify(O)==JSON.stringify(z.add.vstk);
if(M){Ye.LI(G,-1);z.add.vmsk.z=z.add.vmsk.z.concat(G.slice(2))}else if(C){z.add.vstk=O;O.fillEnabled.v=!0}else{z=this.Ly();
z.add.vmsk.z=G;z.add.vstk=O}};Ye.prototype.Fill=function(S,G){if(this.pq!=-1&&this.pq!=this.ph)return;
if(S.ca==0)return;var j=S.pth.cmds;if(j.length==0)return;if(j.length==2&&JSON.stringify(j)=="[\"M\",\"L\"]")return;
var z=x.Y.wR(S.cpth.crds),O=x.Y.wR(S.pth.crds);if(O.tY(z).tR())return;var i=S.pth;if(this.cz==null&&UDOC.G.isBox(i,[O.x,O.y,O.x+O.o,O.y+O.i])&&O.Ym(z)){i=S.cpth}else this.Jf(S);
var C=this.vw(i),M=x.Y.pu(O);x.Y.GY(M.v,this.pO,M.v);O=x.Y.wR(M.v);var D=Ye.LH(S.colr,this.pO,O),X=this.Ld(),l=X!=null&&X.add.vstk!=null&&!X.add.vstk.strokeEnabled.v&&X.add.SoCo&&D.type=="SoFi"&&JSON.stringify(X.add.SoCo.Clr.v)==JSON.stringify(D.g.v.Clr.v);
if(l){var f=!1;for(var F=0;F<C.length;F++){if(C[F].ta==0||C[F].ta==2)f=!0}if(f){var $=x.Y.wR(x.p.Vc(X.add.vmsk.z)),_=x.Y.wR(x.p.Vc(C));
l=$.tY(_).tR()}}if(l){var P=X.add.vmsk.z;for(var F=2;F<C.length;F++)P.push(C[F])}else{X=this.Ly();delete X.add.SoCo;
X.add.vmsk.z=g.XT.yS(C);Ye.bX(S.colr,X,this.pO,O);Ye.Li(S,X)}};Ye.bX=function(S,G,j,z){var O=Ye.LH(S,j,z),i=null,C=null;
G.add.vstk.fillEnabled.v=!0;if(O.type=="SoFi"){i="SoCo";C=n.W$}if(O.type=="GrFl"){i="GdFl";C=n.wU}if(O.type=="patternFill"){i="PtFl";
C=n.dH}if(i!=null){G.add[i]={classID:"null"};for(var M=0;M<C.length;M++){var D=C[M];G.add[i][D]=O.g.v[D]}}};
Ye.prototype.Jf=function(S){var G=this.HX,j=S.cpth,z=j.cmds.join(""),O=j.crds,i=z+" "+O.join(","),C=UDOC.G.isBox(j,this.fyl);
if(C&&this.cz==null)return;if(i==this.cz)return;this.Lk();if(!C){this.cz=i;G.d.push(G.hP());var M=G.YJ();
M.lX("Mask");M.add.lsct=YF.Aa;M.eD="pass";M.Ge=24;var D=M.add.vmsk=new g.XT;D.z=this.vw(S.cpth);this.fMX=M}};
Ye.prototype.Lk=function(){var S=this.HX;if(this.cz!=null){var G=S.d.length-1,j=G,z=S.d[G],O=this.fMX;
while(j>=0&&S.d[j].add.lsct!=YF.px)j--;if(S.d.length-1-j==1&&z.add.TySh){this.RG[G-1]=this.RG[G];this.RG[G]=null;
S.d.pop();S.d.pop();S.d.push(z)}else{S.d.push(O)}this.cz=null}};Ye.LH=function(S,G,j){var z,O;if(S.length!=null){z="SoFi";
var i=JSON.parse(n.s_[n.order.indexOf("SoFi")]);O={t:"Objc",v:i};O.v.Clr.v=Ye.SJ(S)}else{var C=Ye.fpP(S,G,j);
z="GrFl";O={t:"Objc",v:C}}return{type:z,g:O}};Ye.fpP=function(S,G,j){var z=JSON.parse(n.s_[n.order.indexOf("GrFl")]),O=z.Grad.v;
O.Intr.v=0;var i=Ye.AL(S.mat);i.concat(G);var C=new A(0,0),M=new A(j.o,0),D=S.crds;if(S.typ=="rad"){z.Type.v.GrdT="Rdl";
var X=.7;C.x=(1-X)*D[0]+X*D[3];C.y=(1-X)*D[1]+X*D[4];M.x=C.x;M.y=C.y;M.x+=Math.max(D[2],D[5])}else{z.Type.v.GrdT="Lnr";
C.x=D[0];C.y=D[1];M.x=D[2];M.y=D[3];C.x=M.x+.5*(C.x-M.x);C.y=M.y+.5*(C.y-M.y)}C=i.LU(C);M=i.LU(M);x.T.oc(C,M,j,z);
var l=S.grad;x.T.Vw(l,O);return z};Ye.prototype.PutText=function(S,G,j){var z=G.charCodeAt(0),f=null;
if(this.pq!=-1&&this.pq!=this.ph)return;if(G.length==0||G.length==1&&(z==0||z==8203))return;this.Jf(S);
var O=this.HX,i=S.font,C=Ye.AL(S.ctm);C.concat(this.pO);var M=Ye.AL(i.Tm);M.concat(C);var D=t.Gh.HR(M),X=new Ym(1/D,0,0,-1/D,0,0);
X.concat(M);var l=i.Tfs*D;if(i.Th!=100||i.Trise!=0){console.log(i)}var F=O.d.length-1;while(F>=0&&O.d[F].add.TySh==null)F--;
if(F>=0&&O.d[F].add.TySh){var $=O.d[F],_=this.RG[F],P=$.add.TySh.GY,k=(P.cg+_.PH-X.cg)/l,H=Math.abs(k),q=G.indexOf(" ")==-1,R=P.A==X.A&&P.C==X.C&&P.vK==X.vK&&P.JE==X.JE,I=R&&Math.abs(_.Pi-X.tL)<1e-5&&H<.6,b=X.tL-_.Pi;
if(I){f=$;_.PH=X.cg-P.cg;if(k>.2&&q&&[".",",","?",":","!"].indexOf(G)==-1)G=" "+G}else if(R&&Math.abs(X.cg-P.cg)<1e-5&&0<b&&b<l*1.7&&_.fCp==l){f=$;
this.LB(_);_.Pi=X.tL;G="\n"+G}}if(f==null){F=O.d.length;this.RG[F]={MW:[],PH:0,Pi:X.tL,cj:"",fCp:l};
f=O.YJ();O.d.push(f);f.add.lnsr="rend";f.add.TySh=o_.lR(0,0);f.add.TySh.GY=X}var _=this.RG[F];_.PH+=j*l;
_.cj+=G;var Y=f.add.TySh.Nv,m=o_.Kj(Y),h=m.length-1,e=h+G.length;o_.bs(Y,h,G);if(this.cR==null)this.cR=o_.KT(Y,h,h);
var s=this.cR;s.Ed.FontSize=Math.round(l);s.Ed.Tracking=Math.round(i.Tc*100);s.Ed.Underline=i.Tun==1;
s.Ed.FillColor={Type:1,Values:[1,S.colr[0],S.colr[1],S.colr[2]]};if(i.Tal!=0)s.HJ.Justification=i.Tal;
if(_.MW.length!=0){s.Ed.AutoLeading=!1;s.Ed.Leading=_.Pi-_.MW[_.MW.length-1].y}var y=i.Tf;y=y.replace(/#2B/g,"+");
y=y.replace(/#2C/g,"-");y=y.split("+").pop();var T={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(T[y])y=T[y];o_.cf(s,y);o_.QN(Y,h,e-1,s);f.zr()};Ye.prototype.LB=function(S){S.MW.push({YC:S.PH,CM:S.cj.slice(S.MW.length==0?0:1)+"\n",y:S.Pi,sN:S.fCp});
S.PH=0;S.cj=""};Ye.prototype.PutImage=function(S,G,j,z,O,i,C){if(this.pq!=-1&&this.pq!=this.ph)return;
this.Jf(S);var M=Ye.AL(S.ctm);M.concat(this.pO);var D=new Ym(1/j,0,0,-1/z,0,1);D.concat(M);M=D;G=Ye.LD(G,j,z);
if(O)O=Ye.LD(O,j,z);if(O==null){if(G.length==j*z*4)G=new Uint8Array(ot.PNG.tu([[G.buffer,0]],j,z))}else{G=this.LE(G,j,z,i,!1);
O=this.LE(O,j,z,C,!0);var X=x.S(j*z);x.tb(O,X,0);x.Cy(X,G,3);G=new Uint8Array(ot.PNG.tu([[G.buffer,0]],j,z))}var l=this.HX,f=l.Wf(G,"Bitmap",0,0),F=f.rect.clone();
F.x=F.y=0;var $=x.Y.pu(F).v;x.Y.GY($,M,$);f.add.SoLd.Trnf=t.Gh.Zl($);f.add.SoLd.nonAffineTransform=t.Gh.Zl($);
f.pi(l,!1);Ye.Li(S,f);l.d.push(f)};Ye.Li=function(S,G){G.opacity=Math.round(255*S.ca);var j=Ye.vc[S.bmode];
if(j==null)console.log("Unknown blend mode",j);else G.eD=j};Ye.vc={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
Ye.LD=function(S,G,j){var z=ot.AM(S.buffer);if(z=="jpg"){try{S=new Uint8Array(ot.JPG.fnP(S.buffer))}catch(fI){S=new Uint8Array(G*j*4)}}if(z==null&&S.length!=G*j*4){var O=new Uint8Array(G*j*4),i=new Uint8Array(Math.ceil(G*j/8));
UTIF.decode._decodeG4(S,0,S.length,i,0,G,1);for(var C=0;C<G*j;C++){var M=C*4,D=(i[C>>3]>>7-(C&7)&1)*255;
O[M]=D;O[M+1]=D;O[M+2]=D;O[M+3]=255}S=O}return S};Ye.prototype.LE=function(S,G,j,z,O){if(S.length!=G*j*4){var i=ot.AM(S.buffer),C=ot.Lc(i);
if(C==null)C=ot.Lc("jpg");S=new Uint8Array(C.Uf(S,z,O)[0].data)}return S};Ye.prototype.ShowPage=function(){var S=this.HX;
this.ph++;var G=this.cD;this.Lk();var j=S.YJ();S.d.push(j);var z=new Q(Math.round(this.Re.x),Math.round(this.Re.y),Math.round(G[2]-G[0]),Math.round(G[3]-G[1]));
this.Py=this.Py.wB(z);j.pY(z);j.lX("Page "+this.ph);j.add.lsct=YF.Aa;j.eD="pass";j.Ge=24};Ye.prototype.Print=function(S){console.log("Print:",S)};
Ye.prototype.Done=function(){var S=this.HX;if(this.ph==1)S.d[S.d.length-1].add.lsct=YF.WY;S.R$(this.ph);
for(var G=0;G<S.d.length;G++){var j=S.d[G],z=j.add.vmsk,O=j.add.TySh,i=this.RG[G];j.Ko();j.uf(S);if(O&&i.MW.length!=0){this.LB(i);
var C=O.Nv,M=i.MW.length,D=i.MW[0],X=0,f=0;for(var l=0;l<M;l++)X=Math.max(X,i.MW[l].YC);o_.cn(C,1);O.GY.tL-=D.sN*.7;
o_.xg(C,[0,0,Math.ceil(X*1.1),Math.ceil(i.MW[M-1].y-D.y+D.sN*2)])}if(O){var C=O.Nv;o_.fXl(C);var F=o_.Kj(C).split("\n");
for(var l=0;l<F.length-1;l++){var $=F[l],_=0;for(var P=0;P<$.length;P++){var k=$.charCodeAt(P);if(1473<=k&&k<=1524)_++}if(_>$.length/2){F[l]=$.split("").reverse().join("");
var H=C.EngineDict.ParagraphRun.RunArray[l].ParagraphSheet.Properties;H._Direction=1;H.Justification=o_.f_(H)}}o_.sa(C,F.join("\n"))}}S.dD=!0;
S.o=this.Py.o;S.i=this.Py.i;S.buffer=x.S(this.Py.h()*4)};var Pn={};Pn.CS=function(S,G,j,z){var O=!1,i=[S.root],C=S.root.children;
if(S.add.artd){O=!0;for(var M=0;M<C.length;M++)if(C[M].B.add.artb==null)O=!1;if(O)i=C}var D=new Q(0,0,S.o,S.i),X=G[0];
X=X.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();X=X.split(" ");var l=[];for(var M=0;
M<X.length;M++){var f=X[M];if(f=="-"){var F=l.pop(),$=parseInt(X[M+1]);while(F<$){l.push(F);F++}}else l.push(parseInt(f))}X=l;
for(var M=0;M<X.length;M++)if(isNaN(X[M])||X[M]<1||X[M]>i.length){X.splice(M,1);M--}var _=72/S.bY;for(var M=0;
M<i.length;M++){if(X.length!=0&&X.indexOf(M+1)==-1)continue;var P=i[M],k=O?P.B.he():D,H=Math.round(k.o*_),q=Math.round(k.i*_);
j.StartPage(0,0,H,q);var R=UDOC.getState([[0,0,H,q]]),I=new Ym;I.translate(-k.x,-k.y-k.i);I.scale(_,-_);
if(G[1]){var b=S.yA();if(!D.Xs(k)){b=x.S(k.h()*4);x.yF(S.yA(),D,b,k)}var Y=new Ym;Y.translate(k.x,k.y);
Pn.Lb(R,j,b,k,Y,I)}else Pn.Lx(S,P,R,j,I,G,z);j.ShowPage()}j.Done()};Pn.iq=function(S){S=x.T.cx(S);return[S.H/255,S.X/255,S.C/255]};
Pn.Lx=function(S,G,j,z,O,i,C){var M=G.B,D=M.add.lsct,X=M.add.lmfx,l=M.add.vmsk,f=M.add.vstk,F=M.add.TySh;
if(!M.Gg())return;var $=M.opacity/255,_=M.add.iOpa?M.add.iOpa/255:1;for(var P in Ye.vc)if(Ye.vc[P]==M.eD)j.bmode=P;
j.ca=j.CA=$*_;var k=X;if(k)k=k.solidFillMulti.v[0];if(k)k=k.v;if(k&&!k.enab.v)k=null;if(M.$P()){for(var H=0;
H<G.children.length;H++)Pn.Lx(S,G.children[H],j,z,O,i,C)}else if(l){var q=l.z,R=x.p.Mq(q),I=x.Y.tH(q),b=!1,Y=!1,m=!1;
x.Y.GY(I.v,O,I.v);j.pth={cmds:I.w,crds:I.v};if(f.fillEnabled.v){var h=Yv.WZ(X,M.add),e=h[0],s=h[1];if(e){j.colr=Pn.iq(e.Clr.v)}else if(s){var y=s,T=[],K,B=y.Type.v.GrdT=="Rdl"?"rad":"lin",a=x.T.od(y,R),u=O.LU(a[0]),r=O.LU(a[1]);
if(B=="rad")K=[u.x,u.y,0,u.x,u.y,A.nM(u,r)];else{u.cK(r.x+(u.x-r.x)*2,r.y+(u.y-r.y)*2);K=[u.x,u.y,r.x,r.y]}var v=y.Grad.v.Clrs.v;
for(var H=0;H<v.length;H++){var o=v[H].v;T.push([o.Lctn.v/4096,Pn.iq(o.Clr.v)])}j.colr={typ:B,mat:[1,0,0,1,0,0],grad:T,crds:K}}b=!0}var V=Yv.WR(X);
if(!f.strokeEnabled.v&&V)f=V;if(f.strokeEnabled.v){var J=f.strokeStyleContent.v,d=f.strokeStyleLineDashSet.v,oU=n.GN.Uw.indexOf(f.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(J.Clr==null)return;var p=x.T.cx(J.Clr.v);j.COLR=[p.H/255,p.X/255,p.C/255];j.lwidth=f.strokeStyleLineWidth.v.val*(oU==2?2:1)*O.HR();
j.mlimit=f.strokeStyleMiterLimit.v;j.doff=f.strokeStyleLineDashOffset.v.val;j.ljoin=n.GN.join.indexOf(f.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
j.lcap=n.GN.Ej.indexOf(f.strokeStyleLineCapType.v.strokeStyleLineCapType);j.dash=[];for(var H=0;H<d.length;
H++)j.dash.push(d[H].v.val*j.lwidth);if(j.dash.length==1&&j.dash[0]==0)j.dash=[];Y=!0;if(oU==2)m=!0}if(b&&!m)z.Fill(j);
if(Y)z.Stroke(j);if(b&&m)z.Fill(j)}else if(F&&i[3]){var N=F.Nv,ob=new fv(N,C),I=Cw.Du(ob,F),oe=x.Y.Yu(I);
for(var p in oe){var oF=parseInt(p.slice(1),16);j.colr=k?Pn.iq(k.Clr.v):[(oF>>>16&255)/255,(oF>>>8&255)/255,(oF&255)/255];
var oN=oe[p];x.Y.GY(oN.v,O,oN.v);oN=x.Y.fVj(oN);j.pth={cmds:oN.w,crds:oN.v};z.Fill(j)}}else if(F&&i[2]==!1){var N=F.Nv,YM=F.GY.clone(),oE=new Ym(1,0,0,-1,0,0);
oE.concat(YM);oE.concat(O);var ox=o_.Kj(N),ob=new fv(N,C);for(var H=0;H<ob.HJ.length;H++){var c=ob.HJ[H];
if(c.kj.length==1&&c.kj[0].cs)continue;for(var oG=0;oG<c.KW.length;oG++){var or=c.KW[oG],Yf=c.MY.y+or.MY.y,oL=c.kj[or.start].start,YX=c.kj[or.end-1].end,YC=o_.fXJ(N,oL,YX);
for(var Yp=0;Yp<YC.length;Yp++){var YZ=ob.Dw(oL),Yz=YC[Yp],YT=o_.KT(N,oL,oL),Yg=YT.GQ[YT.Ed.Font].Name;
j.font.Tf=Yg;var p=o_.cx(YT.Ed);j.colr=k?Pn.iq(k.Clr.v):[p.H/255,p.X/255,p.C/255];j.font.Tfs=Math.round(YT.Ed.FontSize);
var YY=ox.slice(oL,oL+Yz);if(YT.Ed.FontCaps==2)YY=YY.toUpperCase();var Yo=new Ym;Yo.translate(YZ.L.x,-Yf);
Yo.concat(oE);j.ctm=[Yo.A,Yo.C,Yo.vK,Yo.JE,Yo.cg,Yo.tL];z.PutText(j,YY,0);j.ctm=[1,0,0,1,0,0];oL+=Yz}}}}else if(!M.rect.tR()){var Ya,YQ,YK=new Ym;
if(M.add.SoLd){var fa=M.add.SoLd,YO=fa.Idnt.v,Yw=S.iZ(YO,fa.Crop?fa.Crop.v:null),YJ="";if(Yw==null)return;
var YV=Yw.DA,Yu=ot.AM(Yw.raw.buffer);if(i[4].indexOf(Yu)!=-1)Ya=Yw.raw;else Ya=YV[0];YQ=YV[1];YK=x.Z.ea(fa)}else{Ya=M.buffer;
YQ=M.rect;YK.translate(YQ.x,YQ.y)}if(k)Ya=Yv.fgv(Ya,k,YQ);Pn.Lb(j,z,Ya,YQ,YK,O)}};Pn.Lb=function(S,G,j,z,O,i){var C=new Ym;
C.scale(z.o,-z.i);C.translate(0,z.i);C.concat(O);C.concat(i);S.ctm=[C.A,C.C,C.vK,C.JE,C.cg,C.tL];G.PutImage(S,j,z.o,z.i);
S.ctm=[1,0,0,1,0,0]};var Xf={};Xf.wD=function(S){var G=new Uint8Array(S);return Xf.Vn(G,0)};Xf.Vn=function(S,G){var j=W.O,z=W.PP,O={Pq:z(S,G,4),c:G+8,size:j(S,G+4)},i=O.Pq=="FORM"||O.Pq=="LIST"||O.Pq=="CAT ";
if(i)O.iX=z(S,G+8,4);if(O.size<0||O.c+O.size>S.length)throw"e";if(i){O.sub=[];G+=12;var C=O.c+O.size;
while(G<C){var M=Xf.Vn(S,G);O.sub.push(M);G+=8+M.size+(M.size&1)}}return O};var Mw={};Mw.wD=function(S,G){var j=new Uint8Array(S);
return Mw.Vn(j,0,G)};Mw.Vn=function(S,G,j){var z=W.zx,O=W.PP,i={Pq:O(S,G,4),c:G+8,size:z(S,G+4)};if(j&&j[i.size]!=null)i.size=j[i.size];
if(i.Pq=="RIFF"||i.Pq=="LIST"){i.iX=O(S,G+8,4)}if(i.size<0||i.c+i.size>S.length)throw"e";if(i.Pq=="RIFF"||i.Pq=="LIST"&&(i.iX!="cmpr"&&i.iX!="stlt")){i.sub=[];
G+=12;var C=i.c+i.size;while(G<C){var M=Mw.Vn(S,G,j);i.sub.push(M);G+=8+M.size+(M.size&1)}}return i};
var Xf={};Xf.wD=function(S){var G=new Uint8Array(S);return Xf.Vn(G,0)};Xf.Vn=function(S,G){var j=W.O,z=W.PP,O={Pq:z(S,G,4),c:G+8,size:j(S,G+4)},i=O.Pq=="FORM"||O.Pq=="LIST"||O.Pq=="CAT ";
if(i)O.iX=z(S,G+8,4);if(O.size<0||O.c+O.size>S.length)throw"e";if(i){O.sub=[];G+=12;var C=O.c+O.size;
while(G<C){var M=Xf.Vn(S,G);O.sub.push(M);G+=8+M.size+(M.size&1)}}return O};function Yj(){}Yj.wD=function(S,G){var j=new Uint8Array(S);
G.dD=!0;var z=W.PP(j,0,2);if(z=="WL"){alert("Unsupported CDR version")}else{var O=Yj.vA,i=Mw.wD(j.buffer),C={data:j,c:0,ww:Yj.fWS(j[11])},F=300;
C.VZ=C.ww<600?16:32;Yj.vI(C,i.sub,G,0);var M=O(i,"cmpr").sub,D=M[0],X=M.slice(1),l=O(D,"mcfg").g,f=l.fmr;
F/=fy.PG(new Q(0,0,Math.round(f.x*F),Math.round(f.y*F)),8192*8192);var $=Math.round(f.x*F),_=Math.round(f.y*F);
G.o=$;G.i=_;G.buffer=x.S(G.o*G.i*4);var P=O(D,"filt").sub,k=O(D,"otlt").sub;D.Vu={};for(var H=0;H<P.length;
H++)D.Vu[P[H].sub[0].g.id]=P[H].sub[0].g;D.VB={};for(var H=0;H<k.length;H++)D.VB[k[H].g.id]=k[H].g;var q=new Ym(F,0,0,-F,f.x*F/2,f.y*F/2),R=X[1];
Yj.xt(R,D,G,q);G.R$(1);G.d[G.d.length-1].pY(new Q(0,0,$,_))}};Yj.vA=function(S,G){var j=null;for(var z=0;
z<S.sub.length;z++){var O=S.sub[z];if(O.Pq==G||O.iX==G)j=O}return j};Yj.xt=function(S,G,j,z){var O=Yj.vA,i=S.iX?S.iX:S.Pq,C=O(S,"lgob"),M=O(S,"txsm"),D,X;
if(C){D=O(C,"trfl");X=O(C,"loda")}var l=D?D.sub[0].Mt.clone():new Ym;l.concat(z);var f=j.YJ();if(i=="page"||i=="layr"||i=="grp "){f.lX((i=="page"?"Page":"Group")+" "+j.d.length);
f.add.lsct=YF.WY;f.eD="pass";f.Ge=24;var F=[];if(i=="page")F=O(S,"gobj").sub;if(i=="layr")F=S.sub.slice(2);
if(i=="grp ")F=S.sub.slice(4);if(F.length==0)return;j.d.push(j.hP());for(var $=F.length-1;$>=0;$--)Yj.xt(F[$],G,j,z)}else if(i=="obj "&&X.g&&X.g.path){f.lX("Object "+j.d.length);
var _=G.Vu[X.g.fmG],P=G.VB[X.g.fQM],k=f.getName(),H=_&&_.type!=0,q=H&&_.g!=null?_.g:[0,0,0];f.Ge|=16;
f.add.vstk=JSON.parse(JSON.stringify(n.GN.default));var R=f.add.vstk;R.strokeEnabled.v=!1;f.add.vmsk=new g.XT;
if(P&&P.fQV!=1){R.strokeEnabled.v=!0;R.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
R.strokeStyleLineWidth.v.val=P.lineWidth*z.HR();var I=P.color;R.strokeStyleContent.v.Clr.v=x.T.qL({H:I[0]*255,X:I[1]*255,C:I[2]*255})}var b=X.g.path;
f.add.vmsk.z=x.Y.oe(b,!1);x.p.hu(f.add.vmsk.z,l);Ye.bX(q,f,l,x.p.Mq(f.add.vmsk.z));R.fillEnabled.v=H;
f.Ko();f.uf(j)}else if(i=="obj "&&M){var Y=X.g.fQn,m=X.g.fQA,s="";f.add.TySh=o_.lR(0,0);var h=l.HR();
f.add.TySh.GY.translate(l.cg,l.tL);var e=f.add.TySh.Nv,y=M.g.fCx;for(var $=0;$<y.length;$++){var T=y[$],K=s.length;
s+=T.text+"\n";o_.bs(e,K,T.text+"\n");var B=Yj.fpQ(T.fQJ,G),a=o_.KT(e,K,s.length);if(B.align==3)a.HJ.Justification=1;
else a.HJ.Justification=0;var u=B.fill.g;a.Ed.FillColor={Type:1,Values:[1,u[0],u[1],u[2]]};a.Ed.FontSize=Math.round(B.fQD.fontSize*l.HR());
o_.QN(e,K,s.length-1,a)}if(m){o_.cn(e,0)}else{o_.cn(e,1);o_.xg(e,[0,0,Math.round(Y.x*l.A),Math.round(-Y.y*l.JE)])}f.lX(s.slice(0,10))}else{f=null}if(f)j.d.push(f)};
Yj.fpQ=function(S,G){var j=Yj.vA(G,"stlt").g,z=JSON.parse(JSON.stringify(j.HK[S]));if(z.VE!=0){var O=j.HK[z.VE];
for(var i in O)if(z[i]==null||z[i]==0)z[i]=O[i];delete z.VE}z.align=j.fQE[z.fTC];z.fill=G.Vu[j.fTv[z.fSg]];
z.fox=G.VB[j.fTw[z.fPj]];z.fQD=j.fak[z.fTJ];return z};Yj.fpZ=function(S){var G=S.data[S.c];S.c+=1;return G};
Yj.bQ=function(S){var G=W.V$(S.data,S.c);S.c+=2;return G};Yj.bh=function(S){var G=W.zx(S.data,S.c);S.c+=4;
return G};Yj.fpu=function(S){var G=W.zx(S.data,S.c);S.c+=8;return G};Yj.JX=function(S){var G=W.AT(S.data,S.c);
S.c+=2;return G};Yj.JM=function(S){var G=W.rC(S.data,S.c);S.c+=4;return G};Yj.Xr=function(S){var G=W.fgw(S.data,S.c);
S.c+=8;return G};Yj.UN=function(S){if(S.c>=S.data.length)throw"e";var G=0;while(S.data[S.c+G]!=0)G++;
var j=W.PP(S.data,S.c,G);S.c+=G+1;return j};Yj.fp_=function(S){if(S.ww<600)return Math.PI*Yj.JX(S)/1800;
return Math.PI*Yj.JM(S)/18e7};Yj.fzv=function(S){if(S.ww<1500)return Yj.SR(S);else return Yj.Xr(S)/254e3};
Yj.SR=function(S){if(S.ww<600)return Yj.JX(S)/1e3;else return Yj.JM(S)/254e3};Yj.fzW=function(S){if(S.ww<600)return CRDParser.bQ(S);
else return Yj.bh(S)};Yj.fze=function(S){if(S.ww<600)return CRDParser.JX(S);else return Yj.JM(S)};Yj.vI=function(S,G,j,z){var O=Yj,i=O.fpZ,C=O.bQ,M=O.bh,D=O.fpu,X=O.JX,l=O.JM,f=O.Xr,F=O.SR,$=O.fzv,_=O.fp_,P=O.fzW,k=O.fze;
for(var H=0;H<G.length;H++){var q=S.ww,R=G[H];S.c=R.c+(R.Pq=="LIST"?4:0);if(R.Pq=="vrsn"){var I=C(S);
S.ww=I;console.log("Version",I);S.VZ=I<600?16:32}else if(R.Pq=="DISP"){}else if(R.Pq=="LIST"&&R.iX=="cmpr"){var b=M(S),Y=M(S),m=M(S),h=M(S),e=new Uint8Array(S.data.buffer,S.c+8+2,b-6-8),s=pako.inflateRaw(e),B=0;
S.c+=b;e=new Uint8Array(S.data.buffer,S.c+8+2);var y=pako.inflateRaw(e),T=[];for(var K=0;K<y.length;
K+=4)T.push(W.zx(y,K));R.sub=[];while(B<s.length){var a=Mw.Vn(s,B,T);B=a.c+a.size;R.sub.push(a)}var u={data:s,c:0,ww:q,VZ:S.VZ};
Yj.vI(u,R.sub,j,z+1)}else if(R.Pq=="LIST"&&R.iX=="stlt"){var r=S.c,c=32;R.g={};var v=M(S);if(v==0)return;
R.g.fTv=Yj.vH(S,q>=1300);R.g.fTw=Yj.vH(S);R.g.fak={};var o=M(S);for(var V=0;V<o;V++){var J=M(S);S.c+=q<1e3?12:20;
var d=C(S),oU=C(S);S.c+=8;var p=F(S);S.c+=q<1e3?12:20;R.g.fak[J]={fTI:d,foL:oU,fontSize:p}}R.g.fQE=Yj.vH(S);
var N=M(S);S.c+=52*N;var ob=M(S);S.c+=152*ob;var oe=M(S);S.c+=784*oe;var oF=M(S);for(var V=0;V<oF;V++){S.c+=40;
if(q>1300)S.c+=4;if(q>=1300){if(M(S))S.c+=68;else S.c+=12}else{S.c+=20;if(q>=1e3)S.c+=8;if(M(S))S.c+=8;
S.c+=8}}var oN=M(S);R.g.fTU={};for(var V=0;V<oN;V++){var YM=M(S),oE={};S.c+=12;oE.right=F(S);oE.foG=F(S);
oE.left=F(S);R.g.fTU[YM]=oE}var ox=M(S);if(q>=1300)c+=4;S.c+=c*ox;var oG=M(S);S.c+=28*oG;if(q>800){var or=M(S);
S.c+=12*or}R.g.HK={};for(var V=0;V<v;V++){var Yf=M(S),oL=M(S),YX={};YX.VE=M(S);S.c+=8;var YC=M(S);if(q>=1200)YC*=2;
S.c+=YC;YX.fSg=M(S);YX.fPj=M(S);if(Yf>1){YX.fTJ=M(S);YX.fTC=M(S);YX.fot=M(S);YX.fYg=M(S);if(q>800)YX.fYf=M(S)}if(Yf>2){YX.fYX=M(S);
YX.fYM=M(S);YX.fYo=M(S);YX.fYY=M(S);YX.fYC=M(S)}R.g.HK[oL]=YX}}else if(R.Pq=="LIST")Yj.vI(S,R.sub,j,z+1);
else if(R.Pq=="txsm"){R.g={};if(q<600)throw"e";if(q<700)throw"e";if(q>=1600)throw"e";if(q>=1500)S.c+=37;
else S.c+=36;if(M(S)){if(q<800)S.c+=32}if(q<800)S.c+=4;R.g.fYS=M(S);R.g.fCx=[];S.c+=48;if(q>=800){if(M(S)){S.c+=32;
if(q>=1300)S.c+=8}}if(q>=1500)S.c+=12;var Yf=M(S),Yp=1,YZ=!1;if(!Yf){if(q>=800)S.c+=4;if(q>800)S.c+=2;
if(q>=1400)S.c+=2;S.c+=24;if(q<800)S.c+=8;Yp=M(S)}for(var K=0;K<Yp;K++){var Yz=M(S),V=0;if(q>=1300&&Yf)S.c++;
S.c++;var v=M(S),YT=[];for(V=0;V<v;V++){var Yg=i(S),Yo=0;i(S);var YY=i(S);if(q>=800)Yo=i(S);var YX={};
if(YY&1){YX.fTI=C(S);var Ya=C(S);if(Ya)YX.fYP=Ya}if(YY&2)S.c+=4;if(YY&4)YX.fYv=F(S);if(YY&8)S.c+=4;if(YY&16)S.c+=4;
if(YY&32)S.c+=4;if(YY&64){YX.fSg=M(S);if(q>=1500)S.c+=48}if(YY&128){YX.fPj=M(S)}if(Yo&8){if(q>=1300){var YQ=M(S);
if(S.c+YQ*2>=S.data.length){YZ=!0;break}S.c+=YQ*2}else S.c+=4}if(Yo&32){var YK=i(S);if(YK)S.c+=52}if(Yg==2)if(q>=1300)S.c+=48;
YT.push(YX)}if(YZ){break}var fa=M(S);if(S.c+fa*4>S.data.length)break;var YO=[];for(V=0;V<fa;V++){var Yw=0;
if(q>=1200)Yw=D(S)&4294967295;else Yw=M(S);YO[V]=Yw>>16|Yw&1}var YV=fa;if(q>=1200)YV=M(S);var Yu=Yj.UN(S);
R.g.fCx.push({fQJ:Yz,text:Yu,HK:YT})}}else if(R.Pq=="font"){var YJ=C(S),fd=C(S);S.c+=14;var Yq=Yj.UN(S);
R.g={id:YJ,fYa:fd,name:Yq}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(R.Pq)!=-1){}else if(R.Pq=="flgs")R.g=M(S);
else if(R.Pq=="bbox"){var YU=F(S),Yc=F(S),fJ=F(S),YB=F(S);R.g=new Q(YU,Yc,fJ-YU,YB-Yc)}else if(R.Pq=="fild"){var YG=M(S),Yr=0,Y$;
if(q>=1300){S.c+=4;Yr=C(S);S.c+=2}var Yb=C(S);if(Yb==0){}else if(Yb==1){S.c+=q>=1300?13:2;Y$=Yj.iy(S)}else if(Yb==2){S.c+=q>=1300?8:2;
var CE=i(S),My=0;if(q>=1300){S.c+=17;My=X(S)}else if(q>=600){S.c+=19;My=l(S)}else{S.c+=11;My=X(S)}var Cg=_(S),CP=.5+k(S),fO=.5+k(S)-.5;
if(q>=600)S.c+=2;var XT=P(S)&255,Mc=i(S)/100;S.c++;var Cj=P(S)&65535;if(q>=1300)S.c+=3;var XQ=[];for(var V=0;
V<Cj;V++){var Cl=Yj.iy(S);if(q>=1300){if(Yr==158||q>=1600&&Yr==150)S.c+=26;else S.c+=5}var CZ=P(S)/100;
if(q>=1300)S.c+=3;XQ.push([CZ,Cl])}Y$={typ:CE==1?"lin":"rad",crds:[CP-Math.cos(Cg)/2,fO-Math.sin(Cg)/2,CP,fO],grad:XQ,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",Yb);
R.g={id:YG,type:Yb,g:Y$}}else if(R.Pq=="outl"){var CT=M(S);if(q>=1300){var Cu=0,Cp=0;while(Cu!=1){S.c+=Cp;
Cu=M(S);Cp=M(S)}}var Cv=C(S),fY=C(S),fz=C(S);if(q<1300&&q>=600)S.c+=2;var Ce=F(S),fV=C(S)/100;if(q>=600)S.c+=2;
var CG=_(S);if(q>=1300)S.c+=46;else if(q>=600)S.c+=52;var Y$=Yj.iy(S,CT==270963208||CT==276198e3,CT);
R.g={id:CT,fQV:Cv,fYp:fY,fYz:fz,lineWidth:Ce,color:Y$}}else if(R.Pq=="mcfg"){if(1300<=q)S.c+=12;else if(900<=q)S.c+=4;
else if(600<=q&&q<700)S.c+=28;var fC=0,CX=0;if(q<400)throw"e";else{fC=F(S);CX=F(S)}R.g={fmr:new A(fC,CX)}}else if(R.Pq=="loda"){var r=S.c,So=P(S),fn=P(S),CC=P(S),ff=P(S),CI=P(S),Xl=[],C_=[];
S.c=r+CC;for(var V=0;V<fn;V++)Xl[V]=P(S);S.c=r+ff;for(var V=fn-1;V>=0;V--)C_[V]=P(S);R.g={};for(var V=0;
V<fn;V++){S.c=r+Xl[V];var CK=C_[V];if(CK==10)R.g.fQM=M(S);else if(CK==20)R.g.fmG=M(S);else if(CK==200)R.g.fYK=P(S);
else if(CK==30){if(q<400)CI--;if(CI==1){var YU=$(S),Yc=$(S),XJ=0,fw=0,Xp=0,CS=0;if(q<1500){CS=$(S);Xp=q<900?CS:$(S);
fw=q<900?CS:$(S);XJ=q<900?CS:$(S)}else throw"e";R.g.path=x.Y.tH(x.p.Go.Rect(0,0,YU,Yc,XJ))}else if(CI==2){var fr=F(S),Cy=F(S),fG=_(S),XE=_(S),CN=Math.abs(fr),oa=Math.abs(Cy);
R.g.path=x.Y.tH(x.p.Go.Bz(0,0,CN,-oa))}else if(CI==3){R.g.path=Yj.fWo(S)}else if(CI==4){R.g.fQA=Yj.fzG(S)}else if(CI==6){R.g.fQn=Yj.fKD(S)}else if(CI==37){R.g.path=Yj.fKL(S)}else console.log(CI)}}}else if(R.Pq=="trfd"){var r=S.c,So=P(S),fn=P(S),CC=P(S);
S.c=r+CC;var Xl=[];for(var V=0;V<fn;V++)Xl[V]=P(S);for(var V=0;V<fn;V++){S.c=r+Xl[V];if(q>=1300)S.c+=8;
var Pq=C(S);if(Pq==8){var Sr,Cm,YU,Cn,MC,Yc;if(q>=600)S.c+=6;if(q>=500){Sr=f(S);Cm=f(S);YU=f(S)/(q<600?1e3:254e3);
Cn=f(S);MC=f(S);Yc=f(S)/(q<600?1e3:254e3)}else throw"e";R.Mt=new Ym(Sr,Cn,Cm,MC,YU,Yc)}else console.log(Pq)}}else if(!1){console.log(R);
var CA=Math.min(R.size,32);console.log(W.Ap(data,R.c,CA));console.log(W.fyQ(data,R.c,CA))}}};Yj.vH=function(S,G){var j=Yj.bh,z={},O=j(S);
for(var i=0;i<O;i++){var C=j(S);S.c+=4;var M=j(S);z[C]=M;if(G)S.c+=48}return z};Yj.fzG=function(S){var G=Yj,j=G.SR,z=j(S),O=j(S);
return new A(z,O)};Yj.fKD=function(S){var G=Yj,j=G.SR;S.c+=4;var z=j(S),O=j(S);return new A(z,O)};Yj.fKL=function(S){var G=Yj,j=G.bh,z=G.bQ,O=G.SR;
S.c+=4;var i=z(S)+z(S);S.c+=16;var C=Yj.Le(S,i);return C};Yj.fWo=function(S){var G=Yj.bQ(S);S.c+=2;return Yj.Le(S,G)};
Yj.Le=function(S,G){var j=Yj,z=j.SR,O=S.ww<600?2:4,i=S.c,C={v:[],w:[]},M=0,D=0,X=0;for(var l=0;l<G;l++){var M=z(S),D=z(S),f=S.data[i+G*O*2+l];
if(!(f&64)&&!(f&128)){C.v.push(M,D);C.w.push("M");X+=2}else if(f&64&&!(f&128)){C.v.push(M,D);C.w.push("L");
X+=2}else if(!(f&64)&&f&128){C.v.push(M,D);C.w.push("C");X+=6}else if(f&64&&f&128){C.v.push(M,D)}}if(X!=C.v.length)throw"e";
return C};Yj.fVy=function(S,G){var j=W.zx;G+=8;var z=j(S,G);G+=4;var O=j(S,G);G+=4;G+=4*7;var i=G,C=x.S(z*O*4);
G+=1024;for(var M=0;M<O;M++)for(var D=0;D<z;D++){var X=M*z+D,l=(O-M-1)*z+D,f=S[G+X]<<2,F=l<<2;C[F+0]=S[i+f+2];
C[F+1]=S[i+f+1];C[F+2]=S[i+f+0];C[F+3]=255}return{hC:C,rect:new Q(0,0,z,O)}};Yj.fWS=function(S){if(S==32)return 300;
else if(S<49)return 0;else if(S<58)return 100*(S-48);else if(S<65)return 0;return 100*(S-55)};Yj.iy=function(S,G,j){var z=Yj.bQ,O=Yj.bh,i=S.ww,C=0,M=0;
if(i>=500){C=z(S);if(C==1&&i>=1300)C=25;if(C==25||C==30)throw"e";else if(C==14)throw"e";else{S.c+=6;
M=O(S)}}else throw"e";var D=[];if(C==2||C==9||C==17){var X=[M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255];
if(C==2)for(var l=0;l<4;l++)X[l]=Math.round(255*X[l]/100);for(var l=0;l<4;l++)X[l]/=255;D=UDOC.C.cmykToRgb(X)}else if(C==1||C==5){D=[M>>>0&255,M>>>8&255,M>>>16&255];
for(var l=0;l<3;l++)D[l]=D[l]/255}else console.log("Unknown color model "+C,M,M.toString(16));return D};
var t={};t.wx=function(S,G,j){this.name=S;this.id=G;this.Og=null;if(j!=null)this.P$=j};t.wx.prototype.Wq=function(S,G,j,z,O){};
t.wx.prototype.enable=function(S,G,j,z,O,i){var C=new L(E.E.e,!0);C.data={r:E.a.IY,vM:"default"};G.D(C)};
t.wx.prototype.disable=function(S,G,j,z){};t.wx.prototype.L$=function(S,G,j,z,O){return!1};t.wx.prototype.ti=function(S,G,j,z,O){};
t.wx.prototype.JK=function(S,G,j,z,O){};t.wx.prototype.Xt=function(S,G,j,z,O){};t.wx.prototype.Va=function(S,G,j,z,O){};
t.wx.prototype.nr=function(S,G,j,z,O){};t.wx.prototype.HE=function(S,G,j,z){};t.wx.prototype.nF=function(S,G,j,z){};
t.wx.prototype.YQ=function(S,G){};t.wx.prototype.m$=function(S,G){};t.wx.prototype.Sr=function(S,G,j,z,O){};
t.wx.prototype.uQ=function(S,G){};t.wx.prototype.DW=function(S,G){return!1};t.wx.prototype.tV=function(S,G){return!1};
t.wx.prototype.Zx=function(){return!1};t.wx.prototype.vR=function(S,G){return!0};t.wx.prototype.JW=function(){return null};
t.wx.prototype.LN=function(S,G,j){};t.wx.prototype.LF=function(){return!1};t.wx.prototype.Lt=function(S,G,j,z){};
t.wx.prototype.track=function(S){var G=new L(E.E.Hz,!0);G.data=S;S.Pe=!0;this.Og.D(G)};t.wx.Jm=function(S,G,j,z,O){t.wx.Fv(S,G,[YP.get([12,41]).charAt(0)+": "+x.Sx.sq(j.o,z.bY,O,z.o,!0),YP.get([12,42]).charAt(0)+": "+x.Sx.sq(j.i,z.bY,O,z.i,!0)],z)};
t.wx.Fv=function(S,G,j,z){var O=14,i=130,C=j.length*17+8,M=new Q(S,G-C,i,C),D=t.wx.FK;if(D==null)D=t.wx.FK=document.createElement("canvas");
D.width=i;D.height=C;var X=D.getContext("2d");X.fillStyle="rgba(0,0,0,1)";X.fillRect(0,0,i,C);X.font=O+"px monospace";
X.fillStyle="rgba(255,255,"+(Z.Gp?0:255)+",1)";for(var l=0;l<j.length;l++)X.fillText(j[l],6,(l+1)*17);
z.m.dj=[[X.getImageData(0,0,i,C).data,M.clone()]]};t.wx.FK=null;t.PK="0";t.SN="1";t.fWv="2";t.FW="5";
t.fWp="6";t.fWs="7";t.MA="8";t.fWT="9";t.PY="10";t.vq="11";t.v_="12";t.vN="13";t.Fs="14";t.fWd="16";
t.Fc="18";t.bU="19";t.FJ="20";t.Fl="22";t.bk="23";t.JT="24";t.fWc="25";t.JI="27";t.eS="31";t.fWB="34";
t.fWR="35";t.ep="36";t.eW="37";t.AY="38";t.Fy="39";t.FI="40";t.Fk="41";t.vF="42";t.Sq="43";t.Pg="47";
t.Ml="51";t.Jk="52";t.JD="54";t.aX="55";t.Jj="56";t.Jx="57";t.aM="58";t.Pf="59";t.wb="61";t.Kk="100";
t.Jb="101";t.PU="230";t.fVR="231";t.YU="232";t.HA="233";t.AS="234";t.DT="235";t.J$="236";t.FH=function(S){var G=t.VI,j=null;
for(var z in G)if(G[z][1].indexOf(S[1].classID)!=-1)j=z;return j};t.VI={};t.VI[t.bk]=["tools/brush",["PbTl"]];
t.VI[t.JT]=["tools/pencil",["PcTl"]];t.VI[t.eS]=["tools/eraser",["ErTl"]];t.ha=function(S,G,j){t.wx.call(this,S,G,j);
this.MP={brush:S?oH.fR():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],wconf:[40,!0,!0],algnd:!1,sfrom:0,expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.G$=null;this.LM=null;this.ik=null;this.Ef=null;this.Hh=null;this.zJ=null;this.EX=null;this.vC=null;
this.jG=null;this.aC=null;this.Vb=null;this.ng=null;this.Qy=null;this.BC=1;this.dO=!1;this.i$=null;this.caller=null};
t.ha.prototype=new t.wx;t.ha.prototype.tV=function(S,G){return S.Uq&&G.U(w.H$)};t.ha.prototype.JK=function(S,G,j,z,O){if(z.U(w.Ki)){this.zJ=new A(O.x,O.y);
var i=this.MP.brush.Brsh.v,C=i.Dmtr.v.val,M=i.Hrdn!=null?i.Hrdn.v.val:-1;this.EX=[C,M,!0,JSON.parse(JSON.stringify(this.MP.brush)),O];
this.HT(j)}};t.ha.prototype.up=function(S,G,j){var z=this.EX,O=S.Q.u,i=j.x-z[4].x,C=j.y-z[4].y,M=z[0],D=z[1],X=Math.abs(i)>Math.abs(C);
if(X&&z[2]){var l=Math.round(2*i/O);M+=l;j.x-=i-.5*l*O}if(!X&&!z[2]&&D!=-1){var l=Math.round(.25*C);
D+=l;j.y-=C-4*l}M=Math.max(1,M);D=z[1]==-1?-1:Math.max(0,Math.min(100,D));var f=z[3];f.Brsh.v.Dmtr.v.val=M;
if(D!=-1)f.Brsh.v.Hrdn.v.val=D;this.EX=[M,D,X,f,j];var F=fs.sM(f,G.fO.qH,O),$=F[1];$.x=Math.round(this.zJ.x-$.o/2);
$.y=Math.round(this.zJ.y-$.i/2);S.m.cu=[F];var _=S.Q.ie(this.zJ.x,this.zJ.y);S.m.nQ={EC:[],Ez:[_.x-M/2,_.y,_.x+M/2,_.y]};
if(D!=-1)S.m.nQ.Ez.push(_.x+50/O,_.y-D/2,_.x+50/O,_.y+D/2);S.yK=!0};t.ha.prototype.nr=function(S,G,j,z,O){if(this.id==t.FJ)return;
if(this.zJ){this.zJ=null;this.ao(JSON.parse(JSON.stringify(this.EX[3])));S.m.cu=[];S.m.nQ=null;S.yK=!0;
return}var i=new L(E.E.e,!0);i.data={r:E.a.Qe,s:this.id,fTx:"showBrushOpts",vB:new A(O.B_+4,O.cd)};G.D(i)};
t.ha.prototype.ao=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.zv,zC:o$.Ae,vJ:S};this.caller.D(G)};
t.ha.Dn=function(S,G,j,z){if(S==null)S="FrgC";if(G==null)G="norm";if(j==null)j=1;var O={classID:"Fl",Usng:{t:"enum",v:{FlCn:S}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(j*100)}},Md:{t:"enum",v:{BlnM:YR.Lj(G)}}};
if(S=="Clr")O.Clr={t:"Objc",v:z};if(S=="contentAware")O.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{mB:"fill",MZ:O}};t.ha.prototype.Wq=function(S,G,j,z,O){this.Og=G;var i=j.wE.length;if(i==0&&!j.OX())return;
var C=i!=0?-1-j.wE[0]:j.N[0],M=j.d[C];if(S.r=="fromAction"){var D=S.cA,X=D.MZ;if(D.mB=="fill"){var l=(X.Opct?X.Opct.v.val:100)/100,f=X.Md?YR.im(X.Md.v.BlnM):"norm",F=X.Usng.v.FlCn,$;
if(F=="contentAware"){if(j.f==null){alert("Select an area to heal first.");return}if(!j.OX())return;
this.es(j);var _=j.f,P=x.S(_.rect.h()*4);x.Cy(_.channel,P,3);this.AP(j,"sheal",P,_.rect,_.rect);this.I(j,_.rect);
this.finish(j,_.rect)}else{if(F=="FrgC")$=O.Cj;else if(F=="BckC")$=O.iw;else if(F=="Blck")$=0;else if(F=="Wht")$=16777215;
else if(F=="Gry")$=8421504;else if(F=="Clr"){var k=x.T.cx(X.Clr.v);$=k.H<<16|k.X<<8|k.C}var H=$>>16&255,q=$>>8&255,R=$>>0&255;
this.FD(j,M,j.f,H,q,R,Math.round(255*l),f,[2,3])}}else if(D.mB=="delete"){var I=C<0?1:M.hz,_=j.f,e;if(_==null)return;
var b=C<0?j.Ft[-C-1]:I<=0?null:I==1?M.Ew():M.td(j).q,Y=I<=0?M.rect:b.rect,m=I<=0?_.rect.tY(Y):_.rect.clone();
if(m.tR())return;var h=m.h();if(I<=0){e=x.S(h*4);x.yF(M.buffer,M.rect,e,m)}else{e=x.S(h);b.extend(m);
x.zP(b.channel,b.rect,e,m)}if(0<=C&&M.Br(j,_)){if(I<=0){x.GC(e,0);x.yF(M.ke.HQ,M.ke.BL,e,m)}else{x.set(e,255);
x.zP(M.ke.HQ,M.ke.BL,e,m)}}else{if(I<=0){var s=x.S(e.length>>2);x.tb(e,s,3);x.k.MH(x.Xh(_.rect.h()),_.rect,s,m,_.channel,m,1);
x.Cy(s,e,3)}else{var y=x.S(_.rect.h()),H=O.iw>>16&255,q=O.iw>>8&255,R=O.iw>>0&255;x.set(y,Math.round(x.cJ(H,q,R)));
x.k.MH(y,_.rect,e,m,_.channel,m,1)}}this.aW(j,!0,[2,2],C,I,m,e)}}if(S.r=="stroke"){var T=S.fZM,_=j.f;
if(_==null){_={rect:M.rect.clone(),channel:x.S(M.rect.h())};x.tb(M.buffer,_.channel,3)}var K=Yv.ix(T),B=t.tC.tK(_,Math.ceil(K[0]),Math.ceil(K[1])),$=x.T.cx(T.Clr.v),H=Math.round($.H),q=Math.round($.X),R=Math.round($.C);
this.FD(j,M,B,H,q,R,Math.round(255*T.Opct.v.val/100),YR.im(T.Md.v.BlnM),[14,9])}if(S.r=="fillBMP"){this.Fq(j,M,j.f,S.uD,S.mM,S.mj)}if(S.r=="draw"){var a=S.d_,u=S.fZa?fA.vg.QL(a,j):a.rect,r=this.MP.bmode;
this.es(j);this.MP.bmode="norm";this.AP(j,"draw",a.buffer,u,u.tY(new Q(0,0,j.o,j.i)));this.MP.bmode=r;
this.I(j,u);this.finish(j,u,S.mj)}};t.ha.prototype.FD=function(S,G,j,z,O,i,C,M,D){var X=j==null?new Q(0,0,S.o,S.i):j.rect,l=C<<24|i<<16|O<<8|z<<0,f=x.S(X.h()*4);
x.GC(f,l);this.Fq(S,G,j,f,M,D)};t.ha.prototype.Fq=function(S,G,j,z,O,i){var C=S.wE.length!=0?-1-S.wE[0]:S.N[0],M=C<0?1:G.hz,D=C<0?S.Ft[-1-C]:M<=0?null:M==1?G.Ew():G.td(S).q,X=M<=0?G.rect:D.rect,l=j==null?new Q(0,0,S.o,S.i):j.rect,f=j==null?x.bJ(S.o*S.i):j.channel,F=l.h(),$,_=null;
if(M<=0){$=x.S(F*4);x.yF(G.buffer,G.rect,$,l)}else{$=x.S(F);D.extend(l);x.zP(D.channel,D.rect,$,l)}if(j!=null)x.bA(f,z);
if(M>0){_=x.S(F);x.Lw(z,_)}if(0<=C&&j&&G.Br(S,j)){var P=G.ke.qz,k=x.clone(G.ke.qz);if(M<=0)x.Fj(z,k);
else x.Fj(_,k);var H=new fX([2,3],this);H.data={r:"drawtemp",B:S.N[0],oW:M,fZK:P,fZW:k};S.Aq(H);this.YQ(H.data,S)}else{if(M<=0)x.k.me(O,z,l,$,l,l,1);
else x.k.MH(_,l,$,l,f,l,1);this.aW(S,!0,i,C,M,l,$)}};t.ha.prototype.DW=function(S){if(w.zo.indexOf(S)!=-1)return!0;
return!1};t.ha.prototype.HE=function(S,G,j,z){var O=this.MP.brush,i=z.U(w.Ki),C=i!=this.dO,M=t.ha.aP(O,z);
if(M!=null)this.ao(M);if(!z.U(w.kw)&&z.pF()!=-1){var D=E.fCT(Math.round(this.MP.opacity*100),z.pF())/100;
this.MP.opacity=D;var X=new L(E.E.e,!0);X.data={r:E.a.Qe,s:this.id,zA:{opacity:D}};G.D(X)}if(this.id==t.MA&&C&&S!=null){var l=this.MP.qsmode;
if(l==2)l=S.f==null?0:1;else l=2;this.ap(l,G)}this.dO=i;if(C){if(S)this.BC=S.Q.u;this.HT(j,z)}};t.ha.aP=function(S,G){var j=S.Brsh.v.Dmtr.v.val,z=S.Brsh.v.Hrdn!=null?S.Brsh.v.Hrdn.v.val:-1,O=j,i=z,C=G.U(w.H$);
if(G.U(w.zf)){if(C)z=25*Math.floor((z-1)/25);else{if(j<=10)j--;else if(j<=50)j=5*Math.floor((j-1)/5);
else if(j<=100)j=10*Math.floor((j-1)/10);else if(j<=200)j=25*Math.floor((j-1)/25);else if(j<=400)j=50*Math.floor((j-1)/50);
else j=100*Math.floor((j-1)/100)}}if(G.U(w.TH)){if(C)z=25*Math.ceil((z+1)/25);else{if(j<10)j++;else if(j<50)j=5*Math.ceil((j+1)/5);
else if(j<100)j=10*Math.ceil((j+1)/10);else if(j<200)j=25*Math.ceil((j+1)/25);else if(j<400)j=50*Math.ceil((j+1)/50);
else j=100*Math.ceil((j+1)/100)}}j=Math.max(1,j);z=Math.max(0,Math.min(100,z));if(i==-1)z=-1;if(j!=O||z!=i){var M=JSON.parse(JSON.stringify(S));
M.Brsh.v.Dmtr.v.val=j;if(i!=-1)M.Brsh.v.Hrdn.v.val=z;return M}return null};t.ha.prototype.HT=function(S,G,j,z){if(S.fO.list.length==0)return;
var O=this.id,i;if((O==t.JI||O==t.bU||O==t.bk||O==t.JT)&&G!=null&&G.U(w.Ki))i="crosshair";else{var C=this.BC,M=this.MP.brush,D;
if(j&&j.N.length!=0)D=j.d[j.N[0]];if((O==t.JI||O==t.bU)&&D!=null&&D.hz<=0){var X=j.Q.ie(z.x,z.y),l=this.tm(X),f=this.MP.sfrom,F=D.buffer,$=D.rect,b,Y;
if(f!=0){$=new Q(0,0,j.o,j.i);F=j.yA(f==1&&j.N[0]!=j.d.length-1?j.N[0]:null)}var _=new Q($.x+l.x,$.y+l.y,$.o,$.i),P=fs.sM(M,S.fO.qH,C),k=P[0],H=P[1],q=Math.ceil(H.o/C),R=new Q(Math.round(X.x-q/2),Math.round(X.y-q/2),q,q),I=x.S(R.h()*4);
x.yF(F,_,I,R);if(C==1){b=I;Y=R}else if(C<1){var m=x.jT(I,R,C);b=m.hC;Y=m.rect;if(Y.h()!=H.h()){Y=H.clone();
Y.x=m.rect.x;Y.y=m.rect.y;b=x.S(Y.h()*4);x.yF(m.hC,m.rect,b,Y)}}else{b=k.slice(0);Y=H;x.scale.oG(I,R.o,R.i,b,Y.o,Y.i,C)}var h=this.MP.opacity/255;
for(var e=0;e<b.length;e+=4)b[e+3]=h*(k[e+3]*b[e+3]);i={Hc:b,L:Y,Bm:new A(Y.o/2,Y.i/2)}}else i=fs.sY(M,S.fO.qH,C)}var s=new L(E.E.e,!0);
s.data={r:E.a.IY,vM:i};if(this.caller)this.caller.D(s)};t.ha.prototype.enable=function(S,G,j,z){this.G$=j;
this.caller=G;this.ao(JSON.parse(JSON.stringify(this.MP.brush)));if(S&&S.Q.u!=0)this.BC=S.Q.u;this.HT(j,z)};
t.ha.prototype.uQ=function(S,G){if(G==o$.Ae){this.MP.brush=S.fO.Em;this.HT(S)}};t.ha.prototype.Sr=function(S,G,j,z,O){for(var i in S)this.MP[i]=S[i]};
t.ha.prototype.es=function(S,G){var j=S.wE.length!=0?-1-S.wE[0]:S.N[0],z=S.d[j],O=j<0?1:z.hz,i=j<0?S.Ft[-j-1]:O<=0?null:O==1?z.Ew():z.td(S).q;
this.Qy=S.f==null?null:{rect:S.f.rect.clone(),channel:x.clone(S.f.channel)};this.aC=i?i.channel:z.buffer;
this.jG=(i?i.rect:z.rect).clone();var C=new Q(0,0,S.o,S.i),M=C.wB(this.jG);if((this.J_()&&O<=0||M.Xs(this.jG))&&G!=!0)this.aC=this.aC.slice(0);
else{if(i)i.extend(M);else z.extend(M)}this.Vb=this.jG;this.ng=this.aC;if(O<=0&&(this.id==t.JI||this.id==t.bU)){var D=this.MP.sfrom;
if(D!=0){this.Vb=new Q(0,0,S.o,S.i);this.ng=x.clone(S.yA(D==1&&S.N[0]!=S.d.length-1?S.N[0]:null))}}};
t.ha.prototype.aa=function(S,G,j){if(S.U(w.Ki)){var z=new L(E.E.R,!0);z.s=t.Fs;z.data={r:"pickhere",fZd:j};
G.D(z);return!0}return!1};t.ha.prototype.wa=function(S,G,j,z,O,i){if(!S.OX()){this.LM=null;return}this.es(S);
var C=new Q(0,0,S.o,S.i),M=null;if(i!=null){var D=S.wE.length!=0?-1-S.wE[0]:S.N[0],X=S.d[D],l=D<0?S.Ft[-D-1]:X.hz<=0?null:X.hz==1?X.Ew():X.td(S).q;
M=x.S(C.h()*4);if(l)t.ha.JC(this.aC,this.jG,l.color,M,C);else x.yF(this.aC,this.jG,M,C)}if(this.LM&&this.id==t.MA&&this.MP.qsmode!=0){}else{var f=G.Cj,F=G.iw;
if(this.i$=="erase"){var $=f;f=F;F=$}var _=this.id==t.MA?S.d[S.N[0]].rect:C;this.LM=new fs(this.MP.brush,G.fO.qH,G.fO.ki,{Ar:O,nf:i,fZJ:this.MP.smth*50*E.V()/S.Q.u,nC:this.id==t.JT,EQ:this.MP.prsr},f,F,_,M)}if(this.id==t.MA){this.LM.fui(this.MP.brush,this.MP.qsmode==2?0:16777215)}var P=S.Q.ie(z.x,z.y);
P=t.GE.$F(S,P,G);if(j.U(w.H$)&&this.ik){this.LM.moveTo(this.ik.x,this.ik.y,z.vi);this.LM.lineTo(P.x,P.y,z.vi)}else this.LM.moveTo(P.x,P.y,z.vi);
this.ik=P;this.Ef=P.clone();this.Hh=new PA(P)};t.ha.prototype.cY=function(S,G,j){if(S.Q.u!=0&&S.Q.u!=this.BC){this.BC=S.Q.u;
this.HT(j)}};t.ha.prototype.VP=function(S,G,j,z){if(this.LM==null)return;var O=S.d[S.N[0]],i=S.Q.ie(z.x,z.y);
i=t.GE.$F(S,i,G);var C=this.Hh.Dv(i,j);this.LM.lineTo(C.x,C.y,z.vi);this.ik=C};t.ha.prototype.nF=function(S,G,j,z){if(this.id!=t.MA||S==null)return;
if(S.f==null||S.N[0]!=this.fZB){this.fZB=S.N[0];this.ap(0,G)}};t.ha.prototype.I=function(S,G){if(S.wE.length!=0){S.yK=!0;
return}var j=S.d[S.N[0]];if(G==null){G=this.LM.sX();if(this.J_()&&j.hz<=0)G=G.tY(this.jG)}if(G.tR())return;
if(j.hz<=0){j.I(G)}if(j.hz==1){j.Ew().io=!0;j.uf(S)}if(j.hz==3){j.I()}S.I(S.root.Ky(G,S,S.N[0]))};t.ha.prototype.Va=function(S,G,j,z,O){if(this.LM==null)return;
this.LM.finish();if(this.id!=t.Fc&&this.id!=t.bU)this.tT(S);if(this.id==t.MA){var i=S.f;S.f=this.Qy;
var C=new L(E.E.R,!0);C.data={r:"setsel",mj:this.name,f:i};C.s=t.SN;G.D(C);if(this.MP.qsmode==0)this.ap(1,G)}else{this.finish(S,this.LM.sK());
this.LM=null;this.vC=null}this.dir=0};t.ha.prototype.ap=function(S,G){if(S==this.MP.qsmode)return;this.MP.qsmode=S;
var j=new L(E.E.e,!0);j.data={r:E.a.Qe,s:this.id,zA:{qsmode:S}};G.D(j)};t.ha.prototype.J_=function(){var S=this.id;
return S==t.MA||S==t.eS||S==t.Fy||S==t.FI||S==t.Fk||S==t.Fl};t.ha.prototype.finish=function(S,G,j){var z=S.wE.length!=0?-1-S.wE[0]:S.N[0],O=S.d[z],i=z<0?1:O.hz,C=z<0?S.Ft[-z-1]:i<=0?null:i==1?O.Ew():O.td(S).q,M=C?C.rect:O.rect,l;
if(this.J_()||!M.Xs(this.jG)){if(C==null){if(this.J_())O.Gw();else{var D=G.wB(this.jG),X=x.S(D.h()*4);
x.yF(O.buffer,O.rect,X,D);O.buffer=X;O.rect=D}}else C.Gw();this.I(S,M)}if(i<=0){l=x.S(G.h()*4);x.yF(this.aC,this.jG,l,G)}else{l=x.S(G.h());
x.set(l,C.color);x.zP(this.aC,this.jG,l,G)}this.aW(S,!1,j?j:this.name,z,i,G,l)};t.ha.prototype.aW=function(S,G,j,z,O,i,C){var M=C;
if(O>0){M=x.S(i.h()*4);t.ha.JC(C,i,0,M,i)}var D=new fX(j,this);D.data=[{B:z,oW:O,L:i,Pt:M}];S.Aq(D);
if(G)this.YQ(D.data,S);fA.MG.Td(S,D.data)};t.ha.prototype.m$=function(S,G){this.FE(S,G,!1)};t.ha.prototype.YQ=function(S,G){this.FE(S,G,!0)};
t.ha.prototype.FE=function(S,G,j){if(S.r=="drawtemp"){var z=j?S.fZW:S.fZK,O=G.d[S.B];O.ke.qz=z;O.aF(G,0,0,G.f);
O.I()}else fA.MG.PE(G,S);G.I()};t.ha.prototype.tT=function(S){this.AP(S,this.i$,this.LM.sZ(),this.LM.to(),this.LM.sX());
this.I(S)};t.ha.prototype.AP=function(S,G,j,z,O){var i=this.MP,C=S.d[S.N[0]],M=S.wE.length!=0?S.Ft[S.wE[0]]:C.hz<=0?null:C.hz==1?C.Ew():C.td(S).q,D=x.S(O.h()*4);
if(M==null){x.yF(this.aC,this.jG,D,O)}else{t.ha.JC(this.aC,this.jG,M.color,D,O)}if(S.f&&G!="qselect"){var X=O.tY(S.f.rect),l=x.S(X.h()*4);
if(G=="copy"){var f=x.S(X.h());x.zP(S.f.channel,S.f.rect,f,X);x.yF(D,O,l,X);x.k.AN(j,z,l,X,f,X,0,X,1,!1)}else{x.yF(j,z,l,X);
x.HD(S.f.channel,S.f.rect,l,X)}j=l;z=X}if(G=="erase"&&(fA.MG.Tc(S)!=16777215||M))G="draw";if(G=="draw")x.k.me(i.bmode,j,z,D,O,O,i.opacity);
else if(G=="crepl"){if(this.vC==null)this.vC=x.S(this.jG.h());var F=this.MP.samp,$=this.G$.iw,_=F==0?this.ik:this.Ef,P=_.x,k=_.y,H=t.Ke.IM(this.aC,this.jG,[_,new A(P-2,k),new A(P+2,k),new A(P,k-2),new A(P,k+2)]);
if(F==2)H=[[$>>>16&255,$>>>8&255,$>>>0&255,255]];var q=t.Ke.SW(D,O,this.ik,H,this.MP.wconf),R=x.S(O.h());
x.zP(this.vC,this.jG,R,O);x.yl.wB(q,R,R);x.zP(R,O,this.vC,this.jG);x.HD(R,O,j,z);x.k.me(i.bmode,j,z,D,O,O,i.opacity)}else if(G=="erase"){var I=x.S(O.h()*4);
x.yF(j,z,I,O);if(M==null){var b=x.S(O.h());x.tb(I,b,3);x.cO(b,i.opacity);x.uT(b);x.HD(b,O,D,O)}else{x.GC(I,0,4278190080);
x.k.me("norm",I,O,D,O,O,i.opacity)}}else if(G=="clone"||G=="heal"){var Y=this.am(),m=this.Vb.clone();
m.offset(Y.x,Y.y);var h=O.clone();h.En(1,1);var e=x.S(h.h()*4),s=x.S(h.h());x.yF(j,z,e,h);x.tb(e,s,3);
x.GC(e,0);if(M==null){x.yF(this.ng,m,e,h);var y=x.S(h.h());x.tb(e,y,3);x.cq(y,s)}else t.ha.JC(this.aC,m,M.color,e,h);
if(G=="clone"){x.Cy(s,e,3);x.k.me(i.bmode,e,h,D,O,O,i.opacity)}if(G=="heal"){var T=x.clone(s);x.round(T,20);
var K=x.S(h.h()*4);x.yF(this.aC,this.jG,K,h);x.k.AN(e,h,K,h,T,h,0,h,1,!1);x.Ve.OR(K,T,h);x.k.AN(K,h,D,O,s,h,0,O,1,!1)}}else if(G=="dodge"||G=="burn"){var e=x.S(O.h()*4),u=1,r=0,v=0,o=0;
x.yF(j,z,e,O);var B=O.h()*4,a=t.ha.JN;if(this.dO){if(G=="dodge")G="burn";else G="dodge"}var V=i.rng;
if(G=="dodge"){r=[1-u/2,1,1+u][V];v=[1,1/(1+u),1][V];o=[u/2,0,0][V]}if(G=="burn"){r=[1/(1-u/2),1,1-u/2][V];
v=[1,1+u,1][V];o=[-(u/2)/(1-u/2),0,0][V]}for(var J=0;J<B;J+=4){var d=e[J+3];D[J+0]=a(D[J+0],r,v,o,d);
D[J+1]=a(D[J+1],r,v,o,d);D[J+2]=a(D[J+2],r,v,o,d)}}else if(G=="sponge"||G=="redeye"){var e=x.S(O.h()*4),s=x.S(O.h());
x.yF(j,z,e,O);x.tb(e,s,3);x.Fj(D,e);var oU=i.smode;if(this.dO)oU=1-oU;var p=Yy.Cr("hue2");if(G=="sponge")fu.mL(p,0,[0,[-50,46][oU],[6,5][oU]]);
else fu.mL(p,1,{I_:[265,305,25,55],nB:[0,-90,-70]});var N=Yd.oF("hue2",p);Yd.KH(N,e,e,O);x.k.AN(e,O,D,O,s,O,0,O,1,!1)}else if(G=="copy")x.yF(j,z,D,O);
else if(G=="sheal"){var e=x.S(O.h()*4),s=x.S(O.h());x.yF(j,z,e,O);x.tb(e,s,3);x.Mo.OR(this.aC,this.jG,s,D,O)}else if(G=="qselect"){var ob=this.MP.brush,oe=this.MP.qsmode,oF=Math.max(40,Math.round(ob.Brsh.v.Dmtr.v.val*1.7)),h=O.clone();
h.En(oF,oF);h=h.tY(this.jG);var e=x.S(h.h()*4);x.yF(j,z,e,h);var s=x.S(h.h());for(var J=0;J<s.length;
J++){var oN=e[J<<2],YM=e[(J<<2)+3];s[J]=oN==255&&YM==255?255:oN==0&&YM==255?0:100}if(S.f==null)S.f={channel:x.S(0),rect:new Q};
x.extend(S.f,h);var oE=x.S(h.h());x.zP(S.f.channel,S.f.rect,oE,h);if(oe==2){x.uT(s);x.uT(oE)}x.yF(this.aC,this.jG,e,h);
var f=x.lh.lh(h,e,s);x.yl.wB(oE,f,f);if(oe==2){x.uT(f)}x.zP(f,h,S.f.channel,S.f.rect);S.az=!0}if(M==null)x.yF(D,O,C.buffer,C.rect);
else t.ha.lS(D,O,M)};t.ha.am=function(){return null};t.ha.JN=function(S,G,j,z,O){var i=S*(1/255),C=z+G*Math.pow(i,j),M=Math.round(C*O+i*(255-O));
return Math.max(0,Math.min(255,M))};t.ha.JC=function(S,G,j,z,O){var i=x.S(O.h());x.set(i,j);x.zP(S,G,i,O);
x.GC(z,4278190080);x.Xy(i,z)};t.ha.lS=function(S,G,j){var z=x.S(G.h());x.Lw(S,z);x.zP(z,G,j.channel,j.rect)};
t.tC=function(S,G,j){t.wx.call(this,S,G,j);this.MP={ho:"front",vU:0,EU:{CM:0,x:3,y:2},nz:[10,!0,!0]};
this.cS=new A(-1,-1);this.ku=new A(-1,-1);this.ce="default";this.BF=!1;this.nT=!1;this.dO=!1;this.cN=0;
this.oR=0;this.VT=!1;this.vD=null;this.vj=null;this.EZ=!1};t.tC.prototype=new t.wx;t.tC.lP=function(S,G){var j={mB:S,MZ:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(G)j.MZ.T=G;return j};t.tC.FU=function(S,G){return t.tC.lP("set",{t:"Objc",v:{classID:S,Top:{t:"UntF",v:{type:"#Pxl",val:G.y}},Left:{t:"UntF",v:{type:"#Pxl",val:G.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:G.y+G.i}},Rght:{t:"UntF",v:{type:"#Pxl",val:G.x+G.o}}}})};
t.tC.eI=function(S,G){var j=[],z=[],C="set";for(var O=0;O<S.length;O+=2){j.push(S[O]);z.push(S[O+1])}var i={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:j},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:z}]}}}};
if(G)C={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[G];return t.tC.lP(C,i)};
t.tC.fsX=function(S,G){var j={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:S.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:S.y}}}},z=t.tC.lP("set",j);
z.MZ.Tlrn={t:"long",v:G[0]};z.MZ.AntA={t:"bool",v:G[1]};z.MZ.Cntg={t:"bool",v:G[2]};return z};t.tC.YF=function(S){return t.tC.lP("set",{t:"enum",v:{Ordn:S?"Al":"None"}})};
t.tC.fsY=function(S,G,j){var z={classID:"null"};if(S!="border")z.selectionModifyEffectAtCanvasBounds={t:"bool",v:j};
var O={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[S[0]];z[O]={t:"UntF",v:{type:"#Pxl",val:G}};return{mB:S,MZ:z}};
t.tC.fsu=function(S,G,j){var z={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},O={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][j]}},{t:"name",v:{classID:"Lyr",val:S}}]},i=[{classID:"null",null:z,T:O},{classID:"null",null:O,T:z},{classID:"null",null:O,From:z},{classID:"null",null:O,With:z}],C=["set","add","subtract","interfaceIconFrameDimmed"];
return{mB:C[G],MZ:i[G]}};t.tC.Fb=function(S,G){var j=new L(E.E.e,!0);j.data={r:E.a.zv,zC:o$.an};if(!G.cm)S.D(j);
j.data={r:E.a.zv,zC:o$.Ho};if(!G.E$.if)S.D(j)};t.tC.prototype.Wq=function(S,G,j,z,O){t.tC.Fb(G,O);this.Og=G;
var i=S.r,C,M,D=new Q(0,0,j.o,j.i),v=!1,o,V;if(i=="fromAction"){var X=S.cA,l=X.mB,f=X.MZ,F=f?f.selectionModifyEffectAtCanvasBounds:null,$=F&&F.v;
if(l=="inverse"){if(j.f==null){alert("No selection!");return}C={channel:x.S(D.h()),rect:D};x.zP(j.f.channel,j.f.rect,C.channel,C.rect);
x.uT(C.channel);M=[7,2]}else if(l=="expand"){var _=f.By.v.val,P=j.f.rect.clone();P.En(_,_);var k=x.S(P.h()),H=x.S(P.h());
x.zP(j.f.channel,j.f.rect,H,P);x.style.stroke(H,k,P,_);C={channel:k,rect:P};M=[7,4]}else if(l=="contract"){var _=f.By.v.val,q=j.f.rect.clone();
q.En(1,1);if(!$)q=q.tY(D);var H=x.S(q.h()),R=x.S(H.length);x.zP(j.f.channel,j.f.rect,H,q);x.uT(H);x.style.stroke(H,R,q,_);
x.uT(R);C={channel:R,rect:q};x.Gw(C);M=[7,5]}else if(l=="border"){var _=f.Wdth.v.val;C=t.tC.tK(j.f,_/2,_/2);
M=[7,9]}else if(l=="feather"||l=="smoothness"){var _=f.Rds.v.val;C=t.tC.tz(j.f,_,l=="smoothness",D,$);
M=l=="feather"?[7,6]:[19,3,0]}else{var I=f.null.v;function b(Yf){var oL=Yf.Top.v.val,ob=Yf.Left.v.val;
return new Q(ob,oL,Yf.Rght.v.val-ob,Yf.Btom.v.val-oL)}function Y(Yf){var oL=Yf[0].arr,YX=Yf[1].arr,YC={v:[],w:[]};
for(var a=0;a<oL.length;a++){YC.w.push(a==0?"M":"L");YC.v.push(oL[a],YX[a])}YC.w.push("Z");return YC}var m=["set","addTo","subtractFrom","interfaceWhite"].indexOf(l),h=f.T?f.T.v:null;
if(h&&h.classID=="Elps"){C=this.GS(t.Mx.MM(b(h)));M=[10,4]}else if(h&&h.classID=="Rctn"){var e=b(h);
C={channel:x.S(e.h()),rect:e.clone()};x.set(C.channel,255);M=[10,15]}else if(h&&h.classID=="Plgn"){C=this.GS(Y(h.Pts.v.arr));
M=[10,9]}else if(h&&h.classID=="Pnt"){C=t.Ke.SK(j,new A(h.Hrzn.v.val,h.Vrtc.v.val),[f.Tlrn.v,f.AntA==null||f.AntA.v,f.Cntg==null||f.Cntg.v]);
M=[10,12]}else if(h&&h.Ordn=="None"){C=null;M=[7,1]}else if(h&&h.Ordn=="Al"){C={channel:x.S(D.h()),rect:D};
x.set(C.channel,255);M=[7,0]}else{var s=j.N[0],B;if(I.length==2)s=fZ.yg(j,I[1]);else if(h.length==2)s=fZ.yg(j,h[1]);
var y=(h?h:I)[0].v.enum,T=["Trsp","Msk","vectorMask"].indexOf(y);console.log(T);var K=m!=-1?m:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(l);
if(h&&h[0].t=="name"){for(var a=0;a<j.Ft.length;a++)if(j.Ft[a].name==h[0].v.val)s=a;B={r:"fromchannel",qh:[-5-s,0,K]}}else if(y=="RGB")B={r:"fromchannel",qh:[-1,0,K]};
else B={r:"fromlayer",qh:[s,T,K]};this.Wq(B,G,j,z,O);return}if(f.Fthr)C=t.tC.tz(C,f.Fthr.v.val,!1);if(l!="set"&&j.f!=null)C=x.yl.YR(C,j.f,["","union","difference","intersection"][m])}if(l=="expand"||l=="contract")if(!$&&!D.contains(C.rect)){var u=C.rect.tY(D),r=x.S(u.h());
x.zP(C.channel,C.rect,r,u);C.channel=r;C.rect=u}}if(i=="qmask"){v=!0;var J=j.wh(),d=new Q(0,0,j.o,j.i);
if(J){C=J.rect.Xs(d)&&x.cH(J.channel,255)?null:{rect:J.rect.clone(),channel:J.channel.slice(0)};o=J}else{C=null;
V=new g.QS;V.color=0;V.name="Quick Mask";V.tO=!0;if(j.f){V.rect=j.f.rect.clone();V.channel=j.f.channel.slice(0)}else{V.rect=d;
V.channel=x.S(V.rect.h());x.set(V.channel,255)}}M=[6,6,1]}if(i=="setsel"){C=S.f;M=S.mj}if(i=="crange"){var oU=S.iY,p=S.iW;
C=t.tC.tW(j,oU,p,S.Vy);M=[7,8];oU={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:oU.Fa},A:{t:"doub",v:oU.A},B:{t:"doub",v:oU.C}}};
p={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:p.Fa},A:{t:"doub",v:p.A},B:{t:"doub",v:p.C}}};this.track({mB:"colorRange",MZ:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(S.Vy*200)},Mnm:oU,Mxm:p,colorModel:{t:"long",v:0}}})}if(i=="fromlayer"||i=="fromchannel"){var N=S.qh[0],T=S.qh[1],m=S.qh[2];
if(i=="fromlayer"){if(N==null)N=j.N[0];if(0<=N){var ob=j.d[N];if(T==0){var oe=ob.rect,oF=ob.buffer;if(oe.tR())return;
var oN=x.S(oF.length>>>2);x.tb(oF,oN,3);C={channel:oN,rect:oe.clone()}}else{var YM=T==1?ob.Ew():ob.q;
C=t.tC.Fe(YM,D)}this.track(t.tC.fsu(ob.getName(),m,T))}else{var oE=j.qD[-1-N],YM=oE.add.vmsk.Ew(),ox=YM.to();
if(ox.h()==0)return;var oN=YM.pt();C={channel:oN,rect:ox}}}else{if(-5<N&N<0){var c=-N-1,oG=j.yA(),oN=x.S(D.h());
if(c==0)x.Lw(oG,oN);else x.tb(oG,oN,c-1);C={channel:oN,rect:D.clone()}}if(N<-4){C=t.tC.Fe(j.Ft[-N-5],D)}}if(m!=0&&j.f)C=x.yl.YR(C,j.f,["","union","difference","intersection"][m]);
M=[14,11]}if(C!=null&&x.cH(C.channel,0)){C=null;M=[7,1]}if(C)x.Gw(C);var or=new fX(M,this);or.data={r:"changesel",Qy:j.f,i_:C,wh:v,fzQ:o,fzT:V};
j.Aq(or);this.YQ(or.data,j)};t.tC.Fe=function(S,G){var j,z;if(S.cx()==0){z=S.to();if(z.h()==0)return;
j=S.pt()}else{z=G;j=x.S(z.h());S.Jy(z,j)}return{channel:j,rect:z}};t.tC.prototype.tV=function(S){return this.VT||S.Uq&&this.id!=t.FW};
t.tC.prototype.RO=function(S,G,j){var z=new L(G,!0);z.data=j;S.D(z)};t.tC.prototype.F$=function(S,G){var j=new L(E.E.e,!0);
j.data={r:E.a.IY,vM:G};S.D(j)};t.tC.prototype.to=function(S,G,j){G=S.f==null||this.cN>1||this.oR>1?G:null;
var z=this.cS,O=this.ku;if(j){z.x=Math.max(0,Math.min(S.o,z.x));z.y=Math.max(0,Math.min(S.i,z.y));O.x=Math.max(0,Math.min(S.o,O.x));
O.y=Math.max(0,Math.min(S.i,O.y))}var i=t.qP.pM(z,O,G,!0,this.MP.EU),C=i[0].x,M=i[0].y;return new Q(C,M,i[1].x-C,i[1].y-M)};
t.tC.prototype.ti=function(S,G,j,z,O){if(this.aQ())return;this.Og=G;this.BF=!1;this.nT=z.U(w.H$);this.dO=z.U(w.Ki);
this.cN=this.nT?0:1;this.oR=this.dO?0:1;this.cS=S.Q.ie(O.x,O.y);this.cS=t.GE.$F(S,this.cS,j);if(this.F_(S,this.cS)){this.VT=!0;
this.vD=S.f.rect.clone();return}this.pc(S,j,z,O);S.Q.Js=new Q};t.tC.prototype.F_=function(S,G){if(S.f&&this.MP.ho=="front")return x.Rl(G,S.f.channel,S.f.rect);
return!1};t.tC.prototype.Xt=function(S,G,j,z,O){if(this.EZ)return;var i=S.Q.ie(O.x,O.y);if(A.nM(this.cS,i)*S.Q.u>5)this.BF=!0;
if(z.U(w.aO)){if(this.vj==null)this.vj=new A(i.x-this.cS.x,i.y-this.cS.y);this.cS.x=i.x-this.vj.x;this.cS.y=i.y-this.vj.y}else this.vj=null;
this.ku=i;if(!this.VT)this.ku=t.GE.$F(S,this.ku,j);if(this.F_(S,this.ku))this.F$(G,"move");else this.F$(G,this.ce);
if(this.VT){var C=this.vD.clone();C.x+=this.ku.x-this.cS.x;C.y+=this.ku.y-this.cS.y;var M=t.GE.Po(S,C,j);
S.f.rect.x=Math.round(this.ku.x-this.cS.x+this.vD.x+M[0]);S.f.rect.y=Math.round(this.ku.y-this.cS.y+this.vD.y+M[1]);
S.az=!0;t.GE.PX(S,C,M);return}this.Km(S,j,z,O);if(S.Q.Js)S.Q.Js=this.to(S,z)};t.tC.prototype.aQ=function(){return!1};
t.tC.prototype.Va=function(S,G,j,z,O){S.Q.Js=null;this.ku=S.Q.ie(O.x,O.y);this.ku=t.GE.$F(S,this.ku,j);
if(this.VT){this.VT=!1;if(this.ku.Xs(this.cS)&&this.FL()=="front"){this.RO(G,E.E.Hz,t.tC.YF());return}this.Fr(S,this.vD,S.f.rect.clone());
if(S!=null&&S.m.BR){S.m.BR=null;S.yK=!0}return}this.iP(S,j,z,O);t.tC.Fb(G,j)};t.tC.prototype.Fr=function(S,G,j){var z=S.KZ();
if(z!=null&&z.s==this&&z.data.r=="movesel"){}else{z=new fX([7,7],this);z.data={r:"movesel",Xu:G};S.Aq(z)}z.data.VD=j;
this.YQ(z.data,S)};t.tC.prototype.JK=function(S,G,j,z,O){this.EZ=!0};t.tC.prototype.nr=function(S,G,j,z,O){var i=new L(E.E.e,!0);
i.data={r:E.a.Qe,s:this.id,VN:O,HX:S,Wh:j};G.D(i);this.EZ=!1};t.tC.prototype.HE=function(S,G,j,z){var O=z.U(w.H$),i=z.U(w.Ki);
if(this.BF){if(this.cN==0&&!O)this.cN++;if(this.cN==1&&O)this.cN++;if(this.oR==0&&!i)this.oR++;if(this.oR==1&&i)this.oR++}if(S!=null&&S.f!=null){var C=z.lL();
if(C.x!=0||C.y!=0){var M=S.f.rect.clone();M.x+=C.x;M.y+=C.y;this.Fr(S,S.f.rect.clone(),M)}}var D=t.tC.aT(this.MP.ho,O,i),X=new L(E.E.e,!0);
X.data={r:E.a.Qe,s:this.id,ho:D};G.D(X)};t.tC.prototype.finish=function(S,G,j,z){var O=S.f,i=this.getSelection(S,G,j,z);
if(i==null)i=t.tC.YF();else{var C=this.MP.vU,M=this.FL();if(C!=0)i.MZ.Fthr={t:"UntF",v:{type:"#Pxl",val:C}};
if(M!="front"&&M!="xor")i.mB={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[M]}this.RO(this.Og,E.E.Hz,i);
this.cS.cK(-1,-1);this.ku.cK(-1,-1)};t.tC.prototype.FL=function(){return t.tC.aT(this.MP.ho,this.nT,this.dO)};
t.tC.aT=function(S,G,j){if(G)S="union";if(j)S="difference";if(G&&j)S="intersection";return S};t.tC.prototype.getSelection=function(S,G,j,z){return null};
t.tC.prototype.pc=function(S,G,j,z){};t.tC.prototype.Km=function(S,G,j,z){};t.tC.prototype.iP=function(S,G,j,z){};
t.tC.prototype.m$=function(S,G){var j=S.r;if(j=="changesel")G.f=S.Qy;if(j=="movesel")G.f.rect=S.Xu;if(S.wh){if(S.fzQ){G.wE=[G.Ft.length];
G.Ft.push(S.fzQ)}else{G.Ft.pop();G.wE=[]}}G.az=!0};t.tC.prototype.YQ=function(S,G){var j=S.r;if(j=="changesel")G.f=S.i_;
if(j=="movesel")G.f.rect=S.VD;if(S.wh){if(S.fzT){G.wE=[G.Ft.length];G.Ft.push(S.fzT)}else{G.Ft.pop();
G.wE=[]}}G.az=!0};t.tC.prototype.Sr=function(S){this.MP=S};t.tC.prototype.GS=function(S){var G=x.Y.sO(S.v);
if(G.tR())return null;var j=E._("canvas","");j.width=G.o;j.height=G.i;var z=j.getContext("2d");z.beginPath();
z.translate(-G.x,-G.y);Typr.U.pathToContext({cmds:S.w,crds:S.v},z);z.closePath();z.fill();var O=x.S(G.h()),i=z.getImageData(0,0,j.width,j.height);
x.tb(i.data,O,3);return{rect:G,channel:O}};t.tC.tz=function(S,G,j,z,O){if(j)G=Math.round(G*.7);var i=Math.ceil(2.6*G),C=S.rect.clone();
C.En(i,i);if(z&&!O)C=C.tY(z);var M=x.S(C.h()),D=x.S(M.length);x.zP(S.channel,S.rect,D,C);x.blur.VX(D,M,C,G);
if(j){var X=M.length;for(var l=0;l<X;l++){var f=(M[l]-128)*G*2.5;M[l]=Math.max(0,Math.min(255,Math.round(128+f)))}}return{channel:M,rect:C}};
t.tC.tK=function(S,G,j){var z=Math.max(1,Math.ceil(j)),O=S.rect.clone();O.En(z,z);var i=O.h(),C={channel:x.S(i),rect:O},M=x.S(i);
x.zP(S.channel,S.rect,M,C.rect);if(j!=0)x.style.stroke(M,C.channel,C.rect,j);else x.Fj(M,C.channel);
var D=x.S(i);x.uT(M);if(G!=0)x.style.stroke(M,D,C.rect,G);else x.Fj(M,D);x.yl.tY(C.channel,D,C.channel);
return C};t.tC.tW=function(S,G,j,z){var O=new Q(0,0,S.o,S.i),i=S.yA();if(S.f){var C=S.f.rect.tY(O),M=x.S(C.h()*4);
x.yF(i,O,M,C);O=C;i=M}var D=O.h(),X=x.S(D),l=1/z;for(var f=0;f<D;f++){var F=f<<2,$=x.cy(i[F],i[F+1],i[F+2]),_=x.bm($,G,j,z,l);
X[f]=255*_}return{rect:O,channel:X}};t.lz=function(){t.ha.call(this,[10,18],t.ep,"tools/blur");this.i$="copy"};
t.lz.prototype=new t.ha;t.lz.prototype.ti=function(S,G,j,z,O){var i=z.U(w.Ki)?fs.DK:fs.ep;this.wa(S,j,z,O,this.MP.strn,i);
if(this.LM==null)return;this.tT(S)};t.lz.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);
if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t.lu=function(){t.ha.call(this,[10,0],t.bk,"tools/brush");
this.i$="draw"};t.lu.prototype=new t.ha;t.lu.prototype.ti=function(S,G,j,z,O){if(this.aa(z,G,O))return;
this.wa(S,j,z,O,this.MP.flow);if(this.LM==null)return;this.tT(S)};t.lu.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);
if(this.zJ)this.up(S,j,O);if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t.lw=function(){t.ha.call(this,[10,42],t.fWc,"tools/crepl");
this.i$="crepl";this.MP.bmode="hue "};t.lw.prototype=new t.ha;t.lw.prototype.ti=function(S,G,j,z,O){if(this.aa(z,G,O))return;
this.wa(S,j,z,O,this.MP.flow);if(this.LM==null)return;this.tT(S)};t.lw.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);
if(this.zJ)this.up(S,j,O);if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t.ln=function(){t.ha.call(this,[10,43],t.Fl,"tools/redeye");
this.MP.smode=0;this.i$="redeye"};t.ln.prototype=new t.ha;t.ln.prototype.ti=function(S,G,j,z,O){this.wa(S,j,z,O,this.MP.flow);
if(this.LM==null)return;this.tT(S)};t.ln.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);
if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t.lA=function(){t.ha.call(this,[10,38],t.JT,"tools/pencil");
this.i$="draw"};t.lA.prototype=new t.ha;t.lA.prototype.ti=function(S,G,j,z,O){if(this.aa(z,G,O))return;
this.wa(S,j,z,O,this.MP.flow);if(this.LM==null)return;this.tT(S)};t.lA.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);
if(this.zJ)this.up(S,j,O);if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t.yY=function(){t.ha.call(this,[10,22],t.FI,"tools/burn");
this.i$="burn"};t.yY.prototype=new t.ha;t.yY.prototype.ti=function(S,G,j,z,O){this.wa(S,j,z,O,this.MP.expo/Math.E);
if(this.LM==null)return;this.tT(S)};t.yY.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);
if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t.nV=function(S,G,j){t.ha.call(this,S==""?null:S?S:[10,1],G?G:t.JI,j?j:"tools/clone");
this.i$="clone";this.in=null;this.c=null};t.nV.prototype=new t.ha;t.nV.prototype.ti=function(S,G,j,z,O){if(z.U(w.Ki)||z.U(w.TO)){this.in=S.Q.ie(O.x,O.y);
this.c=null;return}if(this.in==null){alert(YP.get([15,7,0]));return}this.HT(j,z);this.wa(S,j,z,O,this.MP.flow);
if(this.LM==null)return;this.c=this.tm(S.Q.ie(O.x,O.y));this.tT(S)};t.nV.prototype.tm=function(S){var G=this.c;
if(G==null||!this.MP.algnd)G=new A(Math.round(S.x-this.in.x),Math.round(S.y-this.in.y));return G};t.nV.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);
if(this.zJ)this.up(S,j,O);if(this.LM==null){if(this.in!=null)this.HT(j,z,S,O);return}if(!O.Uq||this.in==null)return;
this.VP(S,j,z,O);this.tT(S)};t.nV.prototype.am=function(){return this.c};t.nV.prototype.disable=function(S,G,j,z){this.in=null;
this.c=null};t.yc=function(S,G,j){t.wx.call(this,S,G,j);this.z$={Ro:{CM:0,x:0,y:0}};this.Gj=null;this.cursor=null;
this.fKP=0;this.JV=null};t.yc.prototype=new t.wx;t.yc.prototype.Zx=function(){return this.Gj!=null};
t.yc.prototype.tV=function(S){return this.Gj&&this.Gj.st()};t.yc.prototype.ti=function(S,G,j,z,O){this.JV=O;
var i=S.Q.ie(O.x,O.y);i.x=Math.round(i.x);i.y=Math.round(i.y);var C=this.z$.Ro,M=C.CM!=0?C.x/C.y:null,D=this.Gj==null;
if(D)this.Gj=this.tQ(null,C.CM!=0);this.Gj.ti(S,j,z,i,M,D)};t.yc.prototype.tQ=function(S,G){return new Mu(S,!0,!1,this.id==t.vq,!0,G,this.id==t.vq?2:0)};
t.yc.prototype.HT=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.IY,vM:this.cursor};S.D(G)};t.yc.prototype.enable=function(S,G,j,z){this.cursor="crosshair";
this.HT(G);if(S!=null&&S.f){var O=this.z$.Ro={CM:0,x:0,y:0};this.RO(G,E.E.e,{r:E.a.Qe,s:this.id,El:!1,EU:O});
this.Sr({CY:"cropby",fKv:3},G,S,z,j)}};t.yc.prototype.Xt=function(S,G,j,z,O){this.JV=O;var i=S.Q.ie(O.x,O.y);
if(!O.Uq){var C="crosshair";if(this.Gj){var M=this.Gj.Pp(i,S.Q.u);if(M)C=M;else C="default"}if(C!=this.cursor){this.cursor=C;
this.HT(G)}}if(this.Gj)this.Gj.Xt(S,j,z,i)};t.yc.prototype.Va=function(S,G,j,z,O){this.JV=O;if(this.Gj==null)return;
var i=S.Q.ie(O.x,O.y);this.Gj.Va(S,j,z,i);this.RO(G,E.E.e,{r:E.a.Qe,s:this.id,El:!0});var C=this.Gj.vy();
if(Math.abs(C[0]-C[4])<2||Math.abs(C[1]-C[5])<2){this.disable(S,G,null,z);return}if(Date.now()-this.fKP<200&&this.Gj._F(i)){this.aZ(S,j);
this.disable(S,G,j,z);return}this.fKP=Date.now()};t.yc.prototype.HE=function(S,G,j,z){var O=this.Gj;
if(O==null||this.JV&&this.JV.Uq)return;if(z.U(w.A$)){this.aZ(S,j);this.disable(S,G,j,z)}else if(z.U(w.pW)){this.disable(S,G,j,z)}else O.HE(S,j,z)};
t.yc.tN=function(S,G,j,z){var O={classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:S}},Hght:{t:"UntF",v:{type:"#Pxl",val:G}},Intr:{t:"enum",v:{Intp:["Nrst","automaticInterpolation"][z==null?1:z]}}};
if(j!=null)O.Rslt={t:"UntF",v:{type:"#Rsl",val:j}};return{mB:"imageSize",MZ:O}};t.yc.Xc=function(S,G,j){if(j==null)j=4;
var z=Math.floor(j/3),O=j%3;return{mB:"canvasSize",MZ:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:S}},Hght:{t:"UntF",v:{type:"#Pxl",val:G}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][O]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][z]}}}}};
t.yc.prototype.Wq=function(S,G,j,z,O){var i=new Q(0,0,j.o,j.i),C=[11,3],M=j.bY,D=j.o/2,X=j.i/2,l=!1,u,r;
if(S.r=="fromAction"){var f=S.cA,F=f.mB,$=f.MZ,q=1,R;console.log(F,$);var _=j.o/j.i,P=$.Wdth?$.Wdth.v.val:-1,k=$.Hght?$.Hght.v.val:-1,M=$.Rslt?$.Rslt.v.val:null,H=$.Wdth?$.Wdth.v.type:$.Hght?$.Hght.v.type:-1;
if(F=="imageSize"){if($.Intr){if($.Intr.v.Intp=="Nrst")q=0;if(P==-1&&k==-1){var I=M/j.bY;P=Math.round(j.o*I);
k=Math.round(j.i*I)}else if(H=="#Prc"){if(P!=-1)P=Math.round(j.o*P/100);if(k!=-1)k=Math.round(j.i*k/100)}if($.CnsP&&$.CnsP.v){if(P==-1)P=Math.round(k*_);
if(k==-1)k=Math.round(P/_)}}else{if(H=="#Prc")M=Math.round(j.bY/((P!=-1?P:k)/100));else throw"e";P=j.o;
k=j.i}R={r:"imgsize",vE:P,vL:k,vt:M,Vr:q}}else if(F=="canvasSize"){if(P==-1)P=j.o;if(k==-1)k=j.i;var b=$.Vrtc?$.Vrtc.v.VrtL:"Cntr",Y=$.Hrzn?$.Hrzn.v.HrzL:"Cntr";
R={r:"canvsize",vE:P,vL:k,Bs:3*["Top","Cntr","Btom"].indexOf(b)+["Left","Cntr","Rght"].indexOf(Y)}}if(R)this.Wq(R,G,j,z,O);
return}else if(S.r=="imgsize"){i=new Q(0,0,S.vE,S.vL);if(S.vt)M=S.vt;l=S.Vr==0}else if(S.r=="canvsize"){var m=S.Bs!=null?S.Bs:0;
i=new Q(0,0,S.vE,S.vL);var h=j.o-S.vE,e=j.i-S.vL,s=Math.round(h/2),y=Math.round(e/2);if(m==1||m==4||m==7)i.x=s;
if(m==2||m==5||m==8)i.x=h;if(m==3||m==4||m==5)i.y=y;if(m==6||m==7||m==8)i.y=e;if(S.c){i.x=S.c.x;i.y=S.c.y}}else if(S.r=="rot"&&(S.g+2*Math.PI)%(Math.PI/2)!=0){var T=x.Y.pu(i).v,K=new Ym;
K.translate(-D,-X);K.rotate(S.g);K.translate(D,X);x.Y.GY(T,K,T);i=x.Y.sO(T)}else if(S.r=="rot"&&S.g!=Math.PI){i=new Q(D-j.i/2,X-j.o/2,j.i,j.o);
if((j.o+j.i&1)==1){D=Math.floor(D);X=Math.floor(X);i=new Q(D-Math.floor(j.i/2),X-Math.floor(j.o/2),j.i,j.o);
if((j.o&1)==1&&S.g!=-Math.PI/2)i.y--;if((j.i&1)==1&&S.g==-Math.PI/2)i.x--}}else if(S.r=="trim"){C=[11,12];
var B=j.yA(),a=new Q(0,0,j.o,j.i);i=x.MK(B,a,S.uH,S.EU);if(i.tR())i=a}if(S.r=="imgsize"||S.r=="rot"||S.r=="scl"){var v=new Ym;
if(S.r=="imgsize"){C=[11,10];v.scale(S.vE/j.o,S.vL/j.i)}else{v.translate(-D,-X);if(S.r=="rot")v.rotate(S.g);
if(S.r=="scl")v.scale(S.g.x,S.g.y);v.translate(D,X);C=S.mj}r=x.Z.BS(v);u=this.Xb(j,O,r,l)}var o=new Q(0,0,j.o,j.i);
if(!i.tR()&&(!i.Xs(o)||u!=null)){var V=new fX(C,this);V.data={Xu:o,VD:i,fKH:j.bY,vt:M,ii:u,nw:r,av:t.yc.Xl(j,i,o,u!=null)};
j.Aq(V);this.YQ(V.data,j)}};t.yc.Xl=function(S,G,j,z){if(S.fF.length==0)return null;var O=JSON.stringify(S.fF),i=JSON.parse(O);
t.Ga.fTP(i,G,j,z);i=JSON.stringify(i);return[O,i]};t.yc.prototype.Xb=function(S,G,j,z,O){var i={d:[],XH:null,iN:null};
for(var C=0;C<S.d.length;C++)i.d.push(C);for(var C=0;C<S.qD.length;C++)i.d.push(-1-C);i.XH=t.Gh._I(S,i.d,!0);
t.Gh.pp(S,G,i.d,i.XH,z,j,null,!0,O);i.iN=t.Gh._I(S,i.d,!0);return i};t.yc.prototype.YQ=function(S,G){if(S.vt)G.bY=S.vt;
if(S.av)G.fF=JSON.parse(S.av[1]);if(S.ii){t.yc.XN(G,x.Z.Ma(S.nw));t.Gh.__(G,S.ii.d,S.ii.iN)}t.yc.eE(G,S.VD)};
t.yc.prototype.m$=function(S,G){if(S.fKH)G.bY=S.fKH;if(S.av)G.fF=JSON.parse(S.av[0]);var j=S.Xu.clone();
j.offset(-S.VD.x,-S.VD.y);t.yc.eE(G,j);if(S.RL)G.Q.c.du(S.RL);G.EL();if(S.ii){var z=x.Z.Ma(S.nw).clone();
z.uT();t.yc.XN(G,z);t.Gh.__(G,S.ii.d,S.ii.XH)}};t.yc.XN=function(S,G){for(var j=0;j<S.d.length;j++){var z=S.d[j];
if(z.add.artb==null)continue;var O=x.Y.pu(z.he()).v;x.Y.GY(O,G,O);var i=x.Y.sO(O);z.pY(i)}};t.yc.eE=function(S,G){S.o=G.o;
S.i=G.i;var j=[];for(var z=0;z<S.d.length;z++)j.push(z);t.GE.Ig(S,j,null,-G.x,-G.y);for(var z=0;z<S.d.length;
z++){S.d[z].uf(S)}S.EL();S.Q.c.cK(0,0);if(S.f)S.f.rect.offset(-G.x,-G.y);for(var z=0;z<S.Ft.length;z++)S.Ft[z].rect.offset(-G.x,-G.y)};
t.yc.prototype.Sr=function(S,G,j,z,O){if(S.CY=="commit"){this.aZ(j,O);this.disable(j,G,null,z)}else if(S.CY=="cancel"){this.disable(j,G,null,z)}var i=null,C=this.z$.Ro;
if(S.CY=="config"){this.z$=S.z$;C=this.z$.Ro;if(j==null)return;i=new Q(0,0,j.o,j.i);if(C.CM==1){var M=C.x/C.y;
i.i=Math.round(i.o/M)}if(C.CM==2){i.o=C.x;i.i=C.y}i.x=Math.round((j.o-i.o)/2);i.y=Math.round((j.i-i.i)/2)}if(S.CY=="cropby"){if(j==null)return;
var D=S.fKv,i;if(D==0)i=j.root.to(j,!0);if(D==1){if(j.N.length==0)alert("No layer is selected.");else{var X=j.root.cv(j.N[0]);
i=X.to(j,!0)}}if(D==2){if(j.N.length==0)alert("No layer is selected.");else{var l=j.d[j.N[0]];i=x.MK(l.buffer,l.rect,0);
if(i.tR())i=l.rect.clone()}}if(D==3){if(j.f!=null)i=j.f.rect;else alert("There is no selection.")}}if(i&&i.tR())i=null;
if(i!=null){this.Gj=this.tQ([i.x,i.y,i.x+i.o,i.y,i.x+i.o,i.y+i.i,i.x,i.y+i.i],C.CM!=0);this.Gj.ju(j,O);
this.RO(G,E.E.e,{r:E.a.Qe,s:this.id,El:!0})}};t.yc.prototype.aZ=function(S,G){var j=this.Gj.vy(),z=x.Y.sO(j),O=this.fsd(S,j),i=!1,C=this.z$.Ro,M=C.x,D=C.y,f;
if(this.id==t.PY&&C.CM==2&&O.h()!=M*D){O=new Q(O.x,O.y,M,D);i=!0}var X=x.Z.Ia(j,O);X=x.Z.uT(X);var l=x.Z.Vs(X),F=Math.atan2(X[3],X[0]);
if(Math.abs(F)>1e-9||!l||i)f=this.Xb(S,G,X,!1,z);var $=new fX(this.name,this),_=new Q(0,0,S.o,S.i);$.data={Xu:_,VD:O,ii:f,nw:X,RL:S.Q.c.clone(),av:t.yc.Xl(S,O,_,!1)};
S.Aq($);this.YQ($.data,S)};t.yc.prototype.fsd=function(S,G){var j=x.Z.Ia(G),z=x.Z.Vs(j),O=x.Z.Ma(j),i=O.cg,C=O.tL,M=Math.atan2(O.C,O.A);
O.rotate(M);var D=new Q(i,C,O.A,O.JE);if(!z){function X(R,I,b){var Y=R[I]-R[b],m=R[I+1]-R[b+1];return Math.sqrt(Y*Y+m*m)}var l=X(G,0,2),f=X(G,4,6),F=Math.max(l,f),$=X(G,2,4),_=X(G,6,0),P=Math.max($,_),k=t.yc.fsn(G,S.o/2,S.i/2),H,q;
if(isNaN(k)||k==Infinity||k==-Infinity||Math.min(k,1/k)<.1)k=(l+f)/($+_);if(F/P>k){H=F*1;q=H/k}else{q=P*1;
H=q*k}D.o=H;D.i=q}D.x=Math.round(D.x);D.y=Math.round(D.y);D.o=Math.round(D.o);D.i=Math.round(D.i);return D};
t.yc.fsn=function(S,G,j){var z=S[0]-G,O=S[1]-j,i=S[2]-G,C=S[3]-j,M=S[6]-G,D=S[7]-j,X=S[4]-G,l=S[5]-j,f=((O-l)*M-(z-X)*D+z*l-O*X)/((C-l)*M-(i-X)*D+i*l-C*X),F=((O-l)*i-(z-X)*C+z*l-O*X)/((D-l)*i-(M-X)*C+M*l-D*X),$=-((F*D-O)*(f*C-O)+(F*M-z)*(f*i-z))/((F-1)*(f-1));
function _(k){return k*k}var P=Math.sqrt((_(f-1)+_(f*C-O)/$+_(f*i-z)/$)/(_(F-1)+_(F*D-O)/$+_(F*M-z)/$));
if(f==1&&F==1)P=Math.sqrt((_(C-O)+_(i-z))/(_(D-O)+_(M-z)));return P};t.yc.prototype.disable=function(S,G,j,z){if(S==null)return;
if(this.Gj)this.Gj.clear(S);this.Gj=null;this.RO(G,E.E.e,{r:E.a.Qe,s:this.id,El:!1})};t.yc.prototype.RO=function(S,G,j,z){var O=new L(G,!0);
O.data=j;if(z)O.s=z;S.D(O)};t.Mg=function(){t.yc.call(this,[10,2],t.PY,"tools/rcrop")};t.Mg.prototype=new t.yc;
t.Mf=function(){t.yc.call(this,[10,39],t.vq,"tools/pcrop")};t.Mf.prototype=new t.yc;t.yQ=function(){t.ha.call(this,[10,21],t.Fy,"tools/dodge");
this.i$="dodge"};t.yQ.prototype=new t.ha;t.yQ.prototype.ti=function(S,G,j,z,O){this.wa(S,j,z,O,this.MP.expo/Math.PI);
if(this.LM==null)return;this.tT(S)};t.yQ.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);
if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t.yV=function(){t.ha.call(this,[10,3],t.eS,"tools/eraser");
this.i$="erase"};t.yV.prototype=new t.ha;t.yV.prototype.ti=function(S,G,j,z,O){this.wa(S,j,z,O,this.MP.flow);
if(this.LM==null)return;this.tT(S)};t.yV.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);
if(this.LM==null)return;if(!O.Uq)return;var i=this.VP(S,j,z,O);this.tT(S)};t.eU=function(){t.tC.call(this,[10,15],t.SN,"tools/rselect");
this.ce="crosshair"};t.eU.prototype=new t.tC;t.eU.prototype.Km=function(S,G,j,z){if(!z.Uq||!this.BF)return;
var O=this.to(S,j,!0),i=O.x,C=O.y,M=O.x+O.o,D=O.y+O.i;S.m.GR={v:[i,C,M,C,M,D,i,D],w:["M","L","L","L","Z"]};
S.yK=!0;t.wx.Jm(z.x+10,z.y-10,O,S,G)};t.eU.prototype.iP=function(S,G,j,z){S.m.GR=null;S.m.dj=[];S.yK=!0;
this.finish(S,G,j,z)};t.eU.prototype.getSelection=function(S,G,j,z){if(this.cS.Xs(this.ku)||!this.BF)return null;
var O=this.to(S,j,!0);if(O.tR())return null;return t.tC.FU("Rctn",O)};t.Mx=function(){t.tC.call(this,[10,4],t.fWv,"tools/eselect");
this.ce="crosshair"};t.Mx.prototype=new t.tC;t.Mx.prototype.Km=function(S,G,j,z){if(!z.Uq||!this.BF)return;
var O=this.to(S,j);S.m.GR=t.Mx.MM(O);S.yK=!0;t.wx.Jm(z.x+10,z.y-10,O,S,G)};t.Mx.prototype.iP=function(S,G,j,z){S.m.GR=null;
S.m.dj=[];S.yK=!0;this.finish(S,G,j,z)};t.Mx.prototype.getSelection=function(S,G,j,z){if(this.cS.Xs(this.ku)||!this.BF)return null;
var O=this.to(S,j);if(!O.f$(new Q(0,0,S.o,S.i)))return null;return t.tC.FU("Elps",O)};t.Mx.MM=function(S){var G=S.x,j=S.y,z=S.x+S.o,O=S.y+S.i,i=(G+z)/2,C=(j+O)/2,M=(G-z)/2,D=(j-O)/2,X=.5522848,l={v:[i,C-D],w:["M","C","C","C","C"]};
l.v.push(i+X*M,C-D,i+M,C-X*D,i+M,C);l.v.push(i+M,C+X*D,i+X*M,C+D,i,C+D);l.v.push(i-X*M,C+D,i-M,C+X*D,i-M,C);
l.v.push(i-M,C-X*D,i-X*M,C-D,i,C-D);return l};t.ty=function(){t.wx.call(this,[10,5],t.Fs,"tools/eyedropper");
this.KY=!1;this.UX=1};t.ty.prototype=new t.wx;t.ty.prototype.tV=function(S){return S.Uq};t.ty.prototype.Wq=function(S,G,j,z,O){if(S.r=="pickhere")this.au(j,G,O,z,S.fZd)};
t.ty.prototype.ti=function(S,G,j,z,O){this.KY=!0;this.au(S,G,j,z,O)};t.ty.prototype.Xt=function(S,G,j,z,O){if(this.KY)this.au(S,G,j,z,O)};
t.ty.prototype.Va=function(S,G,j,z,O){this.KY=!1};t.ty.prototype.au=function(S,G,j,z,O){var i=t.ty.eL(S,O,this.UX),C=new L(E.E.e);
C.data={r:E.a.zv,zC:o$.n$,zS:0,g:i};G.D(C)};t.ty.eL=function(S,G,j){var z=S.Q.ie(G.x,G.y),O=Math.floor(z.x),i=Math.floor(z.y),C=(j-1)/2,M=Math.max(0,O-C),D=Math.max(0,i-C),X=Math.min(S.o,O+C+1),l=Math.min(S.i,i+C+1),f=(X-M)*(l-D),F=S.yA(),$=0,_=0,P=0;
for(var O=M;O<X;O++)for(var i=D;i<l;i++){var k=4*(i*S.o+O);$+=F[k];_+=F[k+1];P+=F[k+2]}$=Math.round($/f);
_=Math.round(_/f);P=Math.round(P/f);return $<<16|_<<8|P};t.ty.prototype.Sr=function(S){this.UX=S.UX};
t.cE=function(){t.wx.call(this,[10,6],t.fWB,"tools/gradient");this.MP={T:JSON.parse(n.nS.tX).v,style:"Lnr",reverse:!1,fWI:"norm",opacity:1};
this.cQ=!1;this.Oz=null};t.cE.prototype=new t.wx;t.cE.prototype.enable=function(S,G,j,z){var O=new L(E.E.e,!0);
O.data={r:E.a.IY,vM:"default"};G.D(O)};t.cE.prototype.Sr=function(S){this.MP=S.zC};t.cE.prototype.ti=function(S,G,j,z,O){if(!S.OX())return;
this.Oz=S.Q.ie(O.x,O.y);this.Oz=t.GE.$F(S,this.Oz,j);this.cQ=!0};t.cE.prototype.Xt=function(S,G,j,z,O){if(!this.cQ)return;
var i=S.Q.ie(O.x,O.y);i=t.GE.$F(S,i,j);if(z.U(w.H$))i=t.cE.nn(this.Oz,i);S.m.GR={v:[this.Oz.x,this.Oz.y,i.x,i.y],w:["M","L"]};
S.m.oZ=[this.Oz.x,this.Oz.y,i.x,i.y];S.yK=!0};t.cE.prototype.Va=function(S,G,j,z,O){if(!this.cQ)return;
var i=S.d[S.N[0]],C=S.Q.ie(O.x,O.y);C=t.GE.$F(S,C,j);if(z.U(w.H$))C=t.cE.nn(this.Oz,C);var M=C.aB(this.Oz),D=A.Yw(this.Oz,C,.5),X=Math.atan2(M.y,M.x),l=A.nM(this.Oz,C),f=Math.sin(X),F=Math.cos(X);
if(l>2){var $;if(S.f)$=S.f.rect;else $=new Q(0,0,S.o,S.i);var _=x.S($.h()*4),P=this.MP.style;if(P!="Lnr"){l*=2;
D=this.Oz}x.T.OQ(this.MP.T,_,$,[F*1/l,f*1/l,-f*1/l,F*1/l],D.x,D.y,this.MP.reverse,n.T.types.indexOf(P),j.Cj,j.iw);
var k=Math.round(this.MP.opacity*256),H=_.length;if(k!=256)for(var q=0;q<H;q+=4)_[q+3]=_[q+3]*k>>>8;
var R=new L(E.E.R);R.s=t.eS;R.data={r:"fillBMP",uD:_,mM:this.MP.fWI,mj:this.name};G.D(R)}S.m.GR=null;
S.m.oZ=[];S.yK=!0;this.cQ=!1};t.cE.nn=function(S,G){if(S.Xs(G))return S;var j=G.x-S.x,z=G.y-S.y,O=Math.abs(j),i=Math.abs(z);
if(O>i)i=O/2>i?0:O;if(i>O)O=i/2>O?0:i;O=j>0?O:-O;i=z>0?i:-i;var C=Math.sqrt(j*j+z*z)/Math.sqrt(O*O+i*i);
return new A(S.x+O*C,S.y+i*C)};t.cE.QE=function(S,G,j,z,O,i,C){if(C==null)C=E._("canvas","");var M=C.getContext("2d");
C.width=G;C.height=j;var D=new Q(0,0,G,j),X=x.S(G*j*4);x.jg(X,G,j,4,0,0);var l=Math.sin(z),f=Math.cos(z),F=x.S(G*j*4);
x.T.OQ(S,F,D,[f*1/G,l*1/G,-l*1/j,f*1/j],G/2,j/2,!1,0,O,i);x.k.me("norm",F,D,X,D,D,1);var $=M.getImageData(0,0,G,j);
x.Fj(X,$.data);M.putImageData($,0,0);return C.toDataURL()};t.cE.fsB=function(S,G,j){var z=JSON.parse(JSON.stringify(S));
for(var O=0;O<z.Clrs.v.length;O++){var i=z.Clrs.v[O].v,C=i.Type.v.Clry;if(C=="UsrS")continue;var M=C=="FrgC"?G:j;
i.Type.v.Clry="UsrS";i.Clr={t:"Objc",v:x.T.qL({H:M>>16&255,X:M>>8&255,C:M&255})}}return z};t.CQ=function(){t.wx.call(this,[10,7],t.Pf,"tools/hand");
this.nD=new A(0,0);this.Ao=new A(0,0)};t.CQ.prototype=new t.wx;t.CQ.prototype.Wq=function(S,G,j,z,O){var i=S.r;
if(i=="setcls"){j.Q.qk=S.qk;j.yK=!0}if(i=="scroll"&&!z.U(w.Ki)){if(z.U(w.kw))t.CQ.yB(j,j.Q.c.x-S.DC.y,j.Q.c.y-S.DC.x);
else t.CQ.yB(j,j.Q.c.x-S.DC.x,j.Q.c.y-S.DC.y)}};t.CQ.prototype.enable=function(S,G,j,z){var O=new L(E.E.e,!0);
O.data={r:E.a.IY,vM:"grab"};G.D(O)};t.CQ.prototype.ti=function(S,G,j,z,O){this.Ao.du(S.Q.c);this.nD.cK(O.x,O.y)};
t.CQ.prototype.Xt=function(S,G,j,z,O){if(!O.Uq)return;t.CQ.yB(S,this.Ao.x+(O.x-this.nD.x),this.Ao.y+(O.y-this.nD.y))};
t.CQ.yB=function(S,G,j){var z=S.Q.u;if(S.o*z<S.Q.G.o&&S.i*z<S.Q.G.i)S.Q.c.cK(0,0);else{S.Q.c.x=G;S.Q.c.y=j}S.Kh=!0};
t.aJ=function(){t.nV.call(this,[10,25],t.bU,"tools/hbrush")};t.aJ.prototype=new t.nV("");t.aJ.prototype.Va=function(S,G,j,z,O){if(this.LM==null)return;
this.AP(S,"heal",this.LM.sZ(),this.LM.to(),this.LM.sK());this.I(S,this.LM.sK());t.ha.prototype.Va.call(this,S,G,j,z,O);
if(!this.MP.algnd)this.c=null};t.tD=function(){t.wx.call(this,[10,8],t.Pg,"tools/htype");this.RF=[];
this.lq=null;this.Wh=null;this.caller=null;this.fmq=0;this.UP=0;this.Az=null;this.fQe=null;this.AQ=null;
this.kt=null;this.Uz=null;this.iv=null;this.iK=null;this.fup=null;this.DB=null;this.Gj=null;this.Ku=!1;
this.a_=!1;this.HS=!1;this.Us=null;this.ir=null;this.fwF=null;this.AA=!1;this.no=!1;this.UQ=-1;this.$t=-1;
this.Dk=document.createElement("textarea");this.Dk.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.Dk.addEventListener("input",this.ME.bind(this),!1);this.Dk.addEventListener("keydown",this.fmZ.bind(this),!1)};
t.tD.prototype=new t.wx;t.tD.prototype.tV=function(S){return S.Uq};t.tD.prototype.nF=function(S,G,j,z){if(this.kt!=null)return;
this.caller=G;this.lq=S;var O=this.MC(S);if(O.length!=0){var i=null,C=[],M=[];for(var D=0;D<O.length;
D++){var X=S.d[O[D]],l=X.add.TySh,f=0,F=o_.Kj(l.Nv).length-2,$=o_.KT(l.Nv,f,F);o_.sT($,t.Gh.HR(l.GY));
if($.Ed.Font!=null)$.Ed.Font=$.GQ[$.Ed.Font].Name;i=$.GQ;C.push($.Ed);M.push($.HJ)}var $={GQ:i,Ed:o_.FS(C),HJ:o_.FS(M)};
if($.Ed.Font)o_.cf($,$.Ed.Font);this.Az=JSON.stringify($);this.MR(G,$)}};t.tD.prototype.MC=function(S){var G=[];
for(var j=0;j<S.N.length;j++)if(S.d[S.N[j]].add.TySh)G.push(S.N[j]);return G};t.tD.prototype.Wq=function(S,G,j,z,O){if(this.kt!=null){var i=this.no;
if(S.r=="warp"||S.r=="warpCancel"){if(S.r=="warp")this.kt.add.TySh.nX=S.yw;else this.kt.add.TySh.nX=this.fup;
var j=this.lq;this.Mr(j,O);if(!i)this.og(j)}if(S.r!="warp")this.Dk.focus();if((S.r=="warpConfirm"||S.r=="warpCancel")&&i){this.no=!1;
if(S.r=="warpConfirm")this.vl(j,G);else this.jv(j,G)}}if(S.r=="editCurr"){if(this.kt!=null)this.disable(j,G,O,z);
this.lq=j;this.Wh=O;this.caller=G;this.yi(j,G,O,[S.DR]);var C=o_.Kj(this.kt.add.TySh.Nv);this.UQ=0;this.$t=C.length-1;
this.og(j);this.y_();this.Dk.focus()}if(S.r=="switchPntPrgr"){var M=j.d[j.N[0]],D=M.add.TySh,X=D.GY.HR(),l=JSON.parse(JSON.stringify(D.Nv)),f=o_.QK(l),F=f==1?o_.sI(l):[0,0,Math.round(M.rect.o*1.05/X),Math.round(M.rect.i*1.25/X)],$=o_.KT(l,0,1),_=[0,F[2],F[2]/2][$.HJ.Justification%3],P=$.Ed.FontSize*.8;
o_.cn(l,1-f);if(f==0){_=-_;P=-P;o_.xg(l,[0,0,F[2],F[3]])}var k=new Ym(1,0,0,1,_,P);k.concat(D.GY);S={KG:j.N[0],r:"newED",fdf:l,GY:k}}if(S.r=="newED"){var M=j.d[S.KG],D=M.add.TySh,H=this.yG(j,[S.KG]);
D.Nv=S.fdf;if(S.GY)D.GY=S.GY;var q=new fv(D.Nv,O.UW),R=Cw.Dm(q,D);M.rect=R.L;M.buffer=R.hC;M.I();j.I();
var I=new fX(this.name,this);I.data={nH:H,Ay:this.yG(j,[S.KG])};j.Aq(I)}};t.tD.prototype.DW=function(S){return this.RF.indexOf(S)!=-1};
t.tD.prototype.enable=function(S,G,j,z){var O=this.Dk;if(!E.Qb(O))G.M.appendChild(O);this.DB="default";
this.HT(G)};t.tD.prototype.Zx=function(){return this.kt!=null};t.tD.prototype.MT=function(S,G){for(var j=S.d.length-1;
j>=0;j--){var z=S.d[j];if(z.add.TySh&&z.rect.oO(G)&&S.$f(j)){var O=z.Ka(2)||z.Ka(31);return O?-2:j}}return-1};
t.tD.prototype.ti=function(S,G,j,z,O){this.lq=S;this.Wh=j;this.caller=G;var i=S.Q.ie(O.x,O.y),C=this.kt==null;
if(C){var M=this.MT(S,i);if(M==-2){alert(YP.get([6,57,0]));return}if(M>=0)this.yi(S,G,j,[M]);else{this.HS=!0;
this.Us=O;return}}if(this.Gj&&this.Gj.ti(S,j,z,i)&&x.yw.Bc(this.kt.add.TySh.nX)||!C&&x.Y.$Z(i,this.kt.rect)>20/S.Q.u&&o_.QK(this.kt.add.TySh.Nv)==0){this.Ku=!0;
this.ir=i;this.fwF=this.kt.add.TySh.GY.clone();if(this.UQ==-1&&this.$t==-1)this.UQ=this.$t=this.aI(i)}else{this.a_=!0;
this.UQ=this.$t=this.aI(i);var D=Date.now();if(D-this.fmq>300)this.UP=0;this.UP++;this.fmq=D;if(this.UP==2){this.fsR();
this.a_=!1}if(this.UP==3){this.fs$();this.a_=!1}}this.og(S)};t.tD.prototype.yi=function(S,G,j,z){var O=S.d[z[0]];
this.kt=O;this.RO(G,E.E.e,{r:E.a.Qe,s:this.id,CY:"showactive"});this.Uz=z;S.N=z.slice(0);S.Wm();S.nK=!0;
var i=O.add.TySh;this.iK=this.yG(S,z);if(o_.QK(i.Nv)==1){var C=o_.sI(i.Nv);C=new Q(0,0,C[2]-C[0],C[3]-C[1]);
var M=[C.x,C.y,C.x+C.o,C.y,C.x+C.o,C.y+C.i,C.x,C.y+C.i];x.Y.GY(M,i.GY,M);this.Gj=new Mu(M,!1,!1,!1,!0)}this.Mr(S,j)};
t.tD.prototype.fsR=function(){var S=o_.Kj(this.kt.add.TySh.Nv);this.UQ=this.Mc(S,this.UQ);this.$t=this.MJ(S,this.UQ)};
t.tD.prototype.Mc=function(S,G){var j=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",z=[];for(var O=0;O<j.length;
O++)z.push(j.charAt(O));var i=z.indexOf(S[G])==-1?!0:!1;for(var O=G-1;O>=0;O--)if(z.indexOf(S.charAt(O))!=-1==i)return O+1;
return 0};t.tD.prototype.MJ=function(S,G){var j=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",z=[];for(var O=0;
O<j.length;O++)z.push(j.charAt(O));var i=z.indexOf(S[G])==-1?!0:!1;for(var O=G+1;O<S.length;O++)if(z.indexOf(S.charAt(O))!=-1==i)return O;
return S.length-1};t.tD.prototype.fs$=function(){var S=this.iv.fgF(this.UQ);this.UQ=S[0];this.$t=S[1]};
t.tD.prototype.HT=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.IY,vM:this.DB};S.D(G)};t.tD.prototype.Xt=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y),C=this.kt;
if(!O.Uq){var M="default";if(this.Gj&&x.yw.Bc(C.add.TySh.nX)){var D=this.Gj.Pp(i,S.Q.u);if(D)M=D;else if(this.Gj._F(i))M="text"}else if(C&&x.Y.$Z(i,C.rect)>20/S.Q.u)M="move";
else if(this.MT(S,i)>=0)M="text";if(M!=this.DB){this.DB=M;this.HT(G)}}if(this.HS&&A.nM(this.Us,O)>4){this.HS=!1;
this.MB(S,G,j,z,O);C=this.kt;o_.cn(C.add.TySh.Nv,1);this.Ku=!0;this.Gj=new Mu(null,!1,!1,!1,!0);var X=S.Q.ie(this.Us.x,this.Us.y);
X.x=Math.round(X.x);X.y=Math.round(X.y);this.Gj.ti(S,j,z,X)}if(this.Ku){var l=C.add.TySh;if(this.Gj){this.Gj.Xt(S,j,z,i);
var f=l.GY.clone(),F=Math.atan2(f.C,f.A);f.rotate(F);var $=x.Z.Ma(x.Z.Ia(this.Gj.vy())),_=Math.atan2($.C,$.A);
$.rotate(_);if(!isNaN($.A)&&$.A*$.JE-$.C*$.vK!=0){var P=new Q(0,0,$.A/f.A,$.JE/f.JE);o_.xg(l.Nv,[0,0,Math.round(P.o),Math.round(P.i)]);
l.GY=x.Z.Ma(x.Z.Ia(this.Gj.vy(),P));this.Mr(S,j)}}else{var k=i.x-this.ir.x,H=i.y-this.ir.y;l.GY=this.fwF.clone();
var q=new A(l.GY.cg+k,l.GY.tL+H);q=t.GE.$F(S,q,j);l.GY.cg=q.x;l.GY.tL=q.y;this.Mr(S,j)}}if(this.a_)this.$t=this.aI(i);
if(this.Ku||this.a_)this.og(S)};t.tD.prototype.MB=function(S,G,j,z,O){var i=S.YJ();i.add.lnsr="rend";
var C=S.d.slice(0);i.lX("Text layer "+C.length);this.kt=i;var M=S.N.length==0?S.d.length-1:S.N[S.N.length-1],D=M+1;
if(C[M].add.lsct==YF.WY)D--;this.iK={Ea:C.slice(0),Qy:S.N.slice(0)};C.splice(D,0,i);S.N=[D];this.UQ=this.$t=0;
S.Wb(C);this.iK.M$=C.slice(0);this.iK.i_=S.N.slice(0);this.RO(G,E.E.e,{r:E.a.Qe,s:this.id,CY:"showactive"});
O=S.Q.ie(O.x,O.y);i.add.TySh=o_.lR(O.x,O.y,j.cT);return i};t.tD.prototype.Va=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y);
if(this.HS){this.HS=!1;this.MB(S,G,j,z,O);o_.cn(this.kt.add.TySh.Nv,0);this.a_=!0}if(this.Ku||this.a_){this.og(S);
this.y_()}if(this.Ku&&this.Gj)this.Gj.Va(S,j,z,i);this.Ku=this.a_=!1;this.Dk.focus()};t.tD.prototype.y_=function(){var S=this.kt.add.TySh,G=Math.min(this.UQ,this.$t),j=Math.max(this.UQ,this.$t),z,O;
if(G==j){var i=o_.Kj(S.Nv);if(G==0||i.charAt(G-1)=="\n")z=O=G;else z=O=G-1}else{z=G;O=j-1}var C=o_.KT(S.Nv,z,O);
o_.sT(C,t.Gh.HR(S.GY));this.MR(this.caller,C)};t.tD.prototype.MR=function(S,G){this.RO(S,E.E.e,{r:E.a.zv,zC:o$.aw,cT:G})};
t.tD.prototype.HE=function(S,G,j,z){if(z.U(w.pW))this.jv(S,G)};t.tD.prototype.disable=function(S,G,j,z){if(this.kt)this.vl(S,G);
else this.jv(S,G)};t.tD.prototype.Sr=function(S,G,j,z,O){if(this.no)return;if(S.CY=="commit")this.vl(j,G);
if(S.CY=="cancel")this.jv(j,G);if(S.CY=="showwarp"){if(j==null)return;if(this.kt==null){var i=j.d[j.N[0]],C=i.add.TySh;
if(C==null)return;this.yi(j,G,O,[j.N[0]]);this.Dk.focus();this.no=!0}this.fup=this.kt.add.TySh.nX;var M=new L(E.E.e,!0);
M.data={r:E.a.YO,pv:"textwarp"};G.D(M)}};t.tD.prototype.uQ=function(S,G){this.Wh=S;var j=this.lq;if(j==null)return;
if(G!=o$.$o&&G!=o$.aw&&G!=o$.lQ)return;if(this.AA){this.AA=!1;var z=this.Uz;for(var O=0;O<z.length;O++){this.kt=j.d[z[O]];
this.Mr(j,S)}this.vl(j,this.caller);return}if(this.kt==null){var i=JSON.stringify(S.cT),C=!1;if(this.Az==i){return}this.Az=i;
var z=this.MC(j);if(z.length!=0){this.yi(j,this.caller,S,z);for(var O=0;O<z.length;O++){var M=j.d[z[O]],D=M.add.TySh;
this.kt=M;var X=o_.Kj(D.Nv);this.UQ=0;this.$t=X.length-1;o_.QN(D.Nv,this.UQ,this.$t,this.al(S,D));var l=this.Mr(j,S);
if(l==!1)C=!0}if(C){this.AA=!0;return}this.vl(j,this.caller)}return}var f=Math.min(this.UQ,this.$t),F=Math.max(this.UQ,this.$t),D=this.kt.add.TySh;
o_.QN(D.Nv,f,F-1,this.al(S,D));var j=this.lq,l=this.Mr(j,S);if(l)this.og(j);if(document.activeElement.tagName.toLowerCase()!="input")this.Dk.focus()};
t.tD.prototype.al=function(S,G){var j=JSON.parse(JSON.stringify(S.cT));o_.sT(j,1/t.Gh.HR(G.GY));return j};
t.tD.prototype.YQ=function(S,G){if(S.nH!=null)this.ay(G,S.Ay);else this.MO(G,S.M$,S.i_)};t.tD.prototype.m$=function(S,G){if(S.nH!=null)this.ay(G,S.nH);
else this.MO(G,S.Ea,S.Qy)};t.tD.prototype.ay=function(S,G){for(var j=0;j<G.length;j++){var z=G[j],O=z.KG,i=S.d[O];
i.buffer=z.Pt;i.rect=z.L.clone();i.I();var C=i.add.TySh;C.nX=z.yw;C.Aw=z.Aw.clone();C.GY=z.GY.clone();
C.Nv=JSON.parse(JSON.stringify(z.Nv));i.zr()}S.I()};t.tD.prototype.yG=function(S,G){var j=[];for(var z=0;
z<G.length;z++){var O=G[z],i=S.d[O],C=i.add.TySh;j.push({KG:O,GY:C.GY.clone(),yw:JSON.parse(JSON.stringify(C.nX)),Aw:C.Aw.clone(),Nv:JSON.parse(JSON.stringify(C.Nv)),Pt:x.clone(i.buffer),L:i.rect.clone()})}return j};
t.tD.prototype.MO=function(S,G,j){S.N=j;S.Wb(G);S.I()};t.tD.prototype.Mr=function(S,G,j){if(j==null)j=!1;
var z=this.kt.add.TySh;if(!Cw.fi(z,G.UW))return!1;this.iv=new fv(z.Nv,G.UW);if(!j){var O=o_.Kj(z.Nv);
this.Dk.value=O.slice(0,O.length-1)}var i=Cw.Dm(this.iv,z),C=i.L;if(x.yw.Bc(z.nX))z.Aw=new Q;else{if(o_.QK(z.Nv)==1){var M=o_.sI(z.Nv),D=i.Aw.y;
z.Aw=new Q(0,D,M[2]-M[0],M[3]-M[1]-D)}else{z.Aw=i.Aw}}var X=this.kt.rect;this.kt.rect=i.L;this.kt.buffer=i.hC;
this.kt.I();S.C$();S.I(S.root.Ky(i.L.wB(X),S,S.d.indexOf(this.kt)));return!0};t.tD.prototype.ME=function(S){if(this.kt==null||this.no)return;
var G=this.Dk.selectionStart,j=this.kt.add.TySh,z=o_.Kj(j.Nv),O=this.Dk.value+"\n",i=Math.min(this.UQ,this.$t),C=Math.max(this.UQ,this.$t),f=!1;
this.UQ=Math.min(G,i);if(O.length-G<z.length-this.$t)this.$t=z.length-O.length+G;if(z!=O){while(this.UQ>0&&z.charAt(this.UQ-1)!=O.charAt(this.UQ-1))this.UQ--}var M=z.substring(0,this.UQ),D=z.substring(this.$t,z.length),X=O.substring(this.UQ,O.length-D.length);
o_.sp(j.Nv,this.UQ,this.$t);o_.bs(j.Nv,this.UQ,X);var l=this.al(this.Wh,j),F=-1;for(var $=0;$<X.length;
$++)F=Math.max(F,X.charCodeAt($));if(F!=-1&&F>128&&l.Ed.Font!=null){var _=l.GQ[l.Ed.Font].Name,P=this.Wh.UW.xX(F,_,l.GQ);
if(_!=P){o_.cf(l,P);f=!0}}if(this.AQ!=null&&X==this.AQ){var k=JSON.parse(this.fQe);l.Ed=k.Ed;l.GQ=k.GQ;
f=!0}o_.QN(j.Nv,this.UQ,this.UQ+X.length-1,l);this.UQ=this.$t=M.length+X.length;var H=this.lq,q=this.Mr(H,this.Wh,!0);
if(q)this.og(H,!0);if(f)this.y_()};t.tD.prototype.fmZ=function(S){if(this.kt==null||this.no)return;if(this.kt==null)return;
var G=w,j=0,z=0,H=!1;if(G.GD(S.code,G.Tk))j=1;if(G.GD(S.code,G.Ty))j=-1;if(G.GD(S.code,G.Hl))z=-1;if(G.GD(S.code,G.Hy))z=1;
var O=S.ctrlKey||S.metaKey,i=G.GD(S.code,w.fuU),C=G.GD(S.code,w.fu_);if(G.GD(S.code,w.A$)&&O){this.vl(this.lq,this.caller);
return}if(G.GD(S.code,w.pG)){S.preventDefault();var M=this.Dk,D=M.value,X=M.selectionStart,l=M.selectionEnd;
M.value=D.substring(0,X)+"\t"+D.substring(l);M.selectionStart=M.selectionEnd=X+1;this.ME(null);return}if((G.GD(S.code,G.PF)||G.GD(S.code,G.Hq))&&O){var f=this.UQ,F=this.$t;
if(f>F){var $=f;f=F;F=$}var _=this.kt.add.TySh,P=o_.Kj(_.Nv);if(f!=F){this.AQ=P.slice(f,F);this.fQe=JSON.stringify(this.Wh.cT)}}var k=o_.Kj(this.kt.add.TySh.Nv);
if(j!=0||z!=0||i||C){S.preventDefault();var q=this.UQ;if(j!=0){if(O&&j==-1)q=this.Mc(k,this.UQ-1);else if(O&&j==1)q=this.MJ(k,this.UQ);
else q=this.UQ+j}else if(z!=0){var R=this.iv.Dw(this.UQ);if(z==-1&&R.Um==0)q=0;else if(z==1&&R.Um==this.iv.flZ-1)q=99999999999;
else q=this.iv.fMf(new A(R.L.x+R.L.o/2,0),R.Um+z)}else if(i){var I=this.UQ-1;while(I>0&&k.charCodeAt(I)!=10)I--;
q=I==0?0:I+1}else if(C){var I=this.UQ;while(I<k.length-1&&k.charCodeAt(I)!=10)I++;q=I}q=Math.max(0,Math.min(k.length-1,q));
if(S.shiftKey)this.UQ=q;else this.UQ=this.$t=q;H=!0}if(G.GD(S.code,w.a)&&O){this.UQ=0;this.$t=k.length-1;
H=!0}if(H){this.y_();this.og(this.lq)}};t.tD.fmJ=function(S,G){var j=S.length;if(j!=G.length)return!1;
for(var z=0;z<j;z++)if(S[z].KG!=G[z].KG)return!1;return!0};t.tD.prototype.vl=function(S,G){if(this.kt==null)return;
this.kt.zr();var j=this.iK;if(j instanceof Array){var z=this.yG(S,this.Uz),O=S.KZ();if(O!=null&&O.s==this&&O.data.nH&&t.tD.fmJ(O.data.nH,j))O.data.Ay=z;
else{var i=new fX(this.name,this);i.data={nH:j,Ay:z};S.Aq(i)}}else{var i=new fX(this.name,this);i.data={Ea:j.Ea,M$:j.M$,Qy:j.Qy,i_:j.i_};
S.Aq(i)}this.escape(S,G)};t.tD.prototype.jv=function(S,G){if(this.kt==null)return;if(this.iK instanceof Array)this.ay(S,this.iK);
else{S.N=this.iK.Qy;S.Wb(this.iK.Ea)}S.I();this.escape(S,G)};t.tD.prototype.escape=function(S,G){this.kt=null;
this.Uz=null;this.iv=null;this.Gj=null;this.Dk.blur();S.m.GR=null;S.m.OM=null;S.m.oZ=[];S.yK=!0;this.Ku=!1;
this.a_=!1;this.UQ=this.$t=-1;this.RO(G,E.E.e,{r:E.a.Qe,s:this.id,CY:"hideactive"})};t.tD.prototype.RO=function(S,G,j,z){var O=new L(G,!0);
O.data=j;if(z)O.s=z;S.D(O)};t.tD.prototype.aI=function(S){var G=this.kt.add.TySh,j=this.iv,z=G.GY.clone();
z.uT();var O=z.LU(S),i=o_.to(G,j),C=x.yw.Ys(G.nX,i),M=x.GW.t.ef(C,0,1,0,1),D=new Uint32Array(30),X=x.GW.t.fmp(M.Cz,M.O_,O.x,O.y,D),l=x.GW.Rl(C,O.x,O.y,M.Cz,D,X,!1),f=x.GW.Vz;
if(f==null)f=new Float64Array(2);O=new A(i.x+f[0]*i.o,i.y+f[1]*i.i);var F=j.fMf(O);return F};t.tD.prototype.og=function(S,G){if(G==null)G=!1;
var j=this.kt.add.TySh,z=this.iv,O=z?o_.to(j,z):null;S.m.oZ=[];S.m.GR=null;S.m.OM=null;if(this.Gj){this.Gj.ju(S,this.Wh,!x.yw.Bc(j.nX));
var i=j.GY.clone();i.uT();x.Y.GY(S.m.oZ,i,S.m.oZ);x.Y.GY(S.m.GR.v,i,S.m.GR.v);if(z&&z.fgs){var C=O.o-20,M=O.i+8;
S.m.GR.v.push(C,M,C+10,M,C+5,M-5,C+5,M+5);S.m.GR.w.push("M","L","M","L")}}else this.fmj(S,j,z);var D=Math.min(this.UQ,this.$t),X=Math.max(this.UQ,this.$t);
if(!G){this.Dk.selectionStart=D;this.Dk.selectionEnd=X}if(z!=null){if(D==X){D=Math.max(D,0);var l=z.Dw(D).L.clone(),f=this.Wh.cT.Ed.FontSize;
if(f!=null&&f!=0){l.y+=l.i-f;l.i=f}var F=z.fgL(D);if(F!=null&&F.it==1)l.x+=l.o;l.y+=l.i*.27;S.m.GR.w.push("M","L");
S.m.GR.v.push(l.x,l.y,l.x,l.y+l.i)}else{S.m.OM={v:[],w:[]};for(var $=D;$<X;$++){var l=z.Dw($).L;l.y+=l.i*.27;
var _=x.Y.pu(l);x.Y.concat(S.m.OM,_)}}}if(z!=null){if(!O.tR()){var P=x.yw.Ys(j.nX,O);if(S.m.GR){S.m.GR=x.Y.qo(S.m.GR);
S.m.GR=x.Y.qw(S.m.GR,Math.min(O.o,O.i)/10);x.GW.apply(P,S.m.GR.v,O)}if(S.m.OM){S.m.OM=x.Y.qo(S.m.OM);
S.m.OM=x.Y.qw(S.m.OM,Math.min(O.o,O.i)/10);x.GW.apply(P,S.m.OM.v,O)}x.GW.apply(P,S.m.oZ,O)}}if(S.m.GR)x.Y.GY(S.m.GR.v,j.GY,S.m.GR.v);
if(S.m.OM)x.Y.GY(S.m.OM.v,j.GY,S.m.OM.v);x.Y.GY(S.m.oZ,j.GY,S.m.oZ);S.yK=!0};t.tD.prototype.fmj=function(S,G,j){if(j==null)return;
S.m.oZ.push(0,0);if(S.m.GR==null)S.m.GR={w:[],v:[]};for(var z=0;z<j.HJ.length;z++){var O=j.HJ[z];for(var i=0;
i<O.KW.length;i++){var C=O.KW[i],M=O.MY.x+C.MY.x+C.L.x,D=O.MY.y+C.MY.y+C.L.y+C.L.i;S.m.GR.w.push("M","L");
S.m.GR.v.push(M,D,M+C.L.o,D)}}S.yK=!0};t.Dj=function(){t.tC.call(this,[10,9],t.FW,"tools/lasso");this.ce="crosshair";
this.GX=null;this.tp=null;this.ir=null};t.Dj.prototype=new t.tC;t.Dj.prototype.pc=function(S,G,j,z){this.GX=this.cS;
this.tp={v:[this.GX.x,this.GX.y],w:["M"]}};t.Dj.prototype.Km=function(S,G,j,z){this.ir=z;var O=this.tp;
if(!z.Uq){if(this.tp!=null&&this.oR>1&&j.U(w.Ki)){O.v.pop();O.v.pop();O.v.push(this.ku.x,this.ku.y);
S.m.GR=O;S.yK=!0}return}O.w.push("L");O.v.push(this.ku.x,this.ku.y);this.GX=this.ku;if(this.BF){S.m.GR=O;
S.yK=!0}};t.Dj.prototype.Zx=function(){return this.tp!=null};t.Dj.prototype.aQ=function(){return this.tp!=null};
t.Dj.prototype.HE=function(S,G,j,z){t.tC.prototype.HE.call(this,S,G,j,z);if(this.tp&&this.oR>1&&this.ir&&!this.ir.Uq&&!z.U(w.Ki))this.Me(S,j,z)};
t.Dj.prototype.iP=function(S,G,j,z){this.ir=z;if(this.oR>1&&j.U(w.Ki)){var O=this.tp;O.w.push("L");O.v.push(this.ku.x,this.ku.y);
return}this.Me(S,G,j)};t.Dj.prototype.Me=function(S,G,j){this.finish(S,G,j,this.ir);this.tp=null;S.m.GR=null;
S.yK=!0};t.Dj.prototype.getSelection=function(S,G,j,z){if(this.cS.Xs(this.ku)||!this.BF)return null;
return t.tC.eI(this.tp.v)};t.GE=function(){t.wx.call(this,[10,11],t.PK,"tools/move");this.as=new A(0,0);
this.ai=new A(0,0);this.IL=null;this.Hh=null;this.Ov=new A(0,0);this.Ou=null;this.G$=null;this.Og=null;
this.KE=null;this.EP=[];this.Yd=null;this.cQ=!1;this.r=0;this.AI=null;this.DJ=null;this.aD=null;this.Ud=!1;
this.MP={nZ:!1,nE:!1,nQ:!1};this.Gj=null;this.JP=null;this.fgB=null;var S=[];for(var G=0;G<x.Sx.q$.length;
G++)S.push({name:x.Sx.q$[G],b:function(j,z,O){return{qR:z.E$.PZ==O}}});this.DE=new Cq(S);this.DE.n("select",this.fQK,this)};
t.GE.prototype=new t.wx;t.wx.prototype.tV=function(S){return this.cQ&&this.r!=2};t.GE.prototype.LF=function(){return this.cQ&&this.r==0};
t.GE.prototype.Lt=function(S,G,j,z){this.eG(S,-this.Ov.x,-this.Ov.y);this.Ov.cK(0,0);this.$a(S,null,j);
this.Sk(S)};t.GE.prototype.JW=function(){var S=this.MP;return[S.nZ?1:0,S.nE?1:0,S.nQ?1:0]};t.GE.prototype.LN=function(S,G,j){var z=this.MP;
if(S&&S[0]!=null)z.nZ=S[0]==1;if(S&&S[1]!=null)z.nE=S[1]==1;if(S&&S[2]!=null)z.nQ=S[2]==1;var O=new L(E.E.e,!0);
O.data={r:E.a.Qe,s:this.id,Uc:z,fZR:G};j.D(O)};t.GE.oT=function(S,G,j,z,O,i,C){if(C==null)C=[!1,!0];
var M=new Q(0,0,S.o,S.i),D=S.Of(null,O,!0),X=S.qt(D,C[0]?M:null,C[1]?null:M)[0];if(j!=1){var l=new Q(0,0,Math.round(X.o*j),Math.round(X.i*j));
t.yc.eE(X,l);var f=[];for(var F=0;F<X.d.length;F++)f.push(F);var $=t.Gh._I(X,f,!0);t.Gh.pp(X,z,f,$,!1,x.Z.BS(new Ym(j,0,0,j,0,0)),null,!0);
X.qE()}var _=[];for(var F=0;F<G.length;F++)_.push(ot.D$(X,G[F].toUpperCase(),null,null,i?i[F]:null,z));
return _};t.GE.prototype.Yq=function(S,G,j,z,O){if(S==null||S.N.length==0)return;var i=t.GE.oT(S,[G],j,z,null)[0],C=new L(E.E.e,!0);
C.data={r:E.a.Xq,data:i,name:S.d[S.N[0]].getName()+"."+G};O.D(C)};t.GE.prototype.Sr=function(S,G,j,z,O){if(S.zS=="getPNG"){this.Yq(j,"png",S.fgR,O,G)}else if(S.zS=="getSVG"){this.Yq(j,"svg",S.fgR,O,G)}if(S.zS=="prms"){this.MP=S;
this.Sk(j)}if(S.zS=="algn"){var i=S.g;if(j==null)return;if(j.N.length<2&&!(j.f!=null&&i!=3&&i!=7)){alert(YP.get([15,7,5]));
return}var C=j.f;j.f=null;var M=C?C.rect:t.Gh.to(j);this.yt(j,G,z,O,!1);if(!this.cQ)return;var D=this.KE,X={},l=[],f=[],F=[];
for(var $=0;$<D.length;$++){var _=D[$];while(j.d[_].getName()=="</Layer group>")_++;var P=j.root.cv(_),k=P;
while(P.parent!=null){P=P.parent;if(D.indexOf(P.index)!=-1)k=P}var H=f.indexOf(k.index);if(H==-1){H=f.length;
f.push(k.index)}l[$]=H}var q=[],R=[],I=[];for(var $=0;$<f.length;$++){var b=t.Gh.to(j,j.Of(!0,f[$]));
I.push(b);var Y=i==3?[b.y,b.i]:[b.x,b.o];q[$]=Y;R.push(Y)}t.GE.fQX(R);for(var $=0;$<f.length;$++){var b=I[$],m=b.x,h=b.y;
if(i==0)m=M.x;if(i==1)m=M.x+(M.o-b.o)/2;if(i==2)m=M.x+(M.o-b.o);if(i==3)h=q[$][0];if(i==4)h=M.y;if(i==5)h=M.y+(M.i-b.i)/2;
if(i==6)h=M.y+(M.i-b.i);if(i==7)m=q[$][0];F.push(Math.round(m-b.x),Math.round(h-b.y))}var e=[];for(var $=0;
$<D.length;$++){var s=l[$];e[2*$]=F[2*s];e[2*$+1]=F[2*s+1]}this.eG(j,0,0,null,e);var y=i==3||i==7?[20,4,6]:[20,4,i<3?i:i-1];
this.$a(j,null,O,e,y);j.f=C}};t.GE.fQX=function(S){var G=S.length,z=0;S.sort(function(M,D){return M[0]+M[1]/2-(D[0]+D[1]/2)});
var j=S[G-1][0]+S[G-1][1]-S[0][0];for(var O=0;O<G;O++)z+=S[O][1];var i=Math.round((j-z)/(G-1)),C=S[0][0];
for(var O=0;O<G;O++){S[O][0]=C;C+=S[O][1]+i}};t.GE.prototype.Wq=function(S,G,j,z,O){var i=S.r;if(i=="trsl"){var C=Math.round(S.fgr),M=Math.round(S.fXY);
this.Ov.cK(C,M);this.yt(j,G,z,O,!1,S.B);this.eG(j,C,M);this.$a(j,null,O)}else if(i=="gids"||i=="gidsFromLayer"){var D=S.DJ,X,l;
if(D==null)D=JSON.parse(JSON.stringify(j.WX));if(i=="gids"){X=S.uo;var f=D[0].length+D[1].length,F=X[0].length+X[1].length;
l=f==F?[23,2]:f>F?[23,3]:[23,4];if(F==0)l=[11,15,0]}else if(i=="gidsFromLayer"){var $=[[],[]];for(var _=0;
_<j.N.length;_++){var P=j.d[j.N[_]].rect;if(P.tR())continue;$[0].push(P.x,P.x+P.o);$[1].push(P.y,P.y+P.i)}l=[11,15,1];
X=JSON.parse(JSON.stringify(j.WX));t.GE.ak(X,$)}if(JSON.stringify(D)==JSON.stringify(X))return;var i=new fX(l,this);
i.data={r:2,DJ:D,uo:X};j.Aq(i);this.YQ(i.data,j)}};t.GE.ak=function(S,G){for(var j=0;j<G.length;j++)for(var z=0;
z<G[j].length;z++)if(S[j].indexOf(G[j][z])==-1)S[j].push(G[j][z])};t.GE.prototype.enable=function(S,G,j,z,O){this.G$=j;
this.Og=G;this.Ud=O?!0:!1;this.Sk(S);this.HT("default",G)};t.GE.prototype.disable=function(S,G,j,z){this.Cd(S)};
t.GE.prototype.Cd=function(S){if(S==null)return;if(this.Gj){this.Gj.clear(S);this.Gj=null}if(S.m.nQ){S.m.nQ=null;
S.yK=!0}if(S.m.BR){S.m.BR=null;S.yK=!0}if(S.m.Ag[this.id]){delete S.m.Ag[this.id];S.yK=!0}if(S.m.dj.length!=0){S.m.dj=[];
S.yK=!0}};t.GE.prototype.nF=function(S,G,j,z){this.Sk(S)};t.GE.prototype.Sk=function(S,G){if(S==null)return;
var j=this.MP;this.Cd(S);if(!this.Ud){var z;if(j.nE||j.nQ)z=x.Y.tE(t.Gh.to(S));if(j.nE&&!z.tR()){this.Gj=new Mu([z.x,z.y,z.x+z.o,z.y,z.x+z.o,z.y+z.i,z.x,z.y+z.i],!0);
this.Gj.ju(S,this.G$)}if(j.nQ){var O=S._$(S.N[0]),l=null,f=!1;if(O==null)O=new Q(0,0,S.o,S.i);S.m.nQ={EC:[z],Ez:[]};
var i=S.m.nQ.Ez,C=z.x+z.o,M=z.y+z.i,D=z.x+Math.floor(z.o/2),X=z.y+Math.floor(z.i/2);if(G){var F=S.root.Rl(new A(Math.floor(G.x),Math.floor(G.y)));
if(F){l=x.Y.tE(F.B.yo(S));if(l.f$(z)){f=(l.Ym(z)||z.Ym(l))&&!z.Xs(l);if(!f)l=null}}}this.Cc(z,i);if(l!=null){S.m.nQ.EC.push(l);
var $=l.x+l.o,_=l.y+l.i,P=l.x+Math.floor(l.o/2),k=l.y+Math.floor(l.i/2);if(f){var H=D,q=X;if(z.Ym(l)){H=P;
q=k}i.push(z.x,q,l.x,q);i.push(C,q,$,q);i.push(H,z.y,H,l.y);i.push(H,M,H,_)}else{this.Cc(l,i);var R=M<l.y||_<z.y,I=C<l.x||$<z.x;
if(C<l.x)i.push(C,X,l.x,X);if($<z.x)i.push($,X,z.x,X);if(M<l.y)i.push(D,M,D,l.y);if(_<z.y)i.push(D,_,D,z.y);
if(R&&!I){if(z.x<l.x)i.push(z.x,k,l.x,k);if(l.x<z.x)i.push(l.x,X,z.x,X)}}}else{if(z.y>O.y)i.push(D,O.y,D,z.y);
if(M<O.y+O.i)i.push(D,M,D,O.y+O.i);if(z.x>O.x)i.push(O.x,X,z.x,X);if(C<O.x+O.o)i.push(C,X,O.x+O.o,X)}S.yK=!0}}if(this.r==2&&this.cQ){var b=this.KE,Y=b[0],m=(Y==0?"X":"Y")+": "+x.Sx.sq(S.WX[Y][b[1]],S.bY,this.G$,Y==0?S.o:S.i,!0);
t.wx.Fv(Math.round(this.IL.x)+10,Math.round(this.IL.y)-10,[m],S);S.yK=!0}if(this.r==3&&this.cQ){var h=x.Y.pu(this.AI);
S.m.Ag[this.id]={GR:h};S.yK=!0}};t.GE.prototype.Cc=function(S,G){var j=S.o,z=S.i,O=S.x+Math.floor(j*.2),i=S.y+Math.floor(z*.2);
G.push(O,S.y,O,S.y+z);G.push(S.x,i,S.x+j,i)};t.GE.prototype.HT=function(S,G){var j={r:E.a.IY,vM:S},z=new L(E.E.e,!0);
z.data=j;G.D(z)};t.GE.prototype.aV=function(S){var G=this.JP.Bg()[0],j=this.Ou,z=this.fgB[G];this.CV(j,z)};
t.GE.prototype.fQK=function(S){var G=JSON.parse(JSON.stringify(this.G$.E$));G.PZ=this.DE.Bg()[0];var j=new L(E.E.e,!0);
j.data={r:E.a.zv,zC:o$.rx,Ha:G};this.Og.D(j)};t.GE.prototype.nr=function(S,G,j,z,O){if(this.cQ)this.Va(S,G,j,z,O);
this.Ou=S;this.G$=j;this.Og=G;var i=S.Q.ie(O.x,O.y),C;if(t.GE.aH(j,O)){C=this.DE}else{if(this.JP)this.JP.removeEventListener("select",this.aV);
var M=[];S.root.Rl(i,M);if(M.length==0)return;var D=[];this.fgB=M;for(var X=0;X<M.length;X++)D.push({name:S.d[M[X]].getName()});
C=this.JP=new Cq(D);C.n("select",this.aV,this)}C.parent=G;C.$();C.update(S,j);var l=new L(E.E.e,!0);
l.data={r:E.a.Jt,pZ:C,x:O.B_+2,y:O.cd+1};G.D(l)};t.GE.prototype.L$=function(S,G,j,z,O){return t.GE.aH(j,O)};
t.GE.prototype.ti=function(S,G,j,z,O){this.IL=O;this.as.cK(O.x,O.y);this.ai=S.Q.ie(O.x,O.y);this.Hh=new PA(this.ai);
this.yt(S,G,z,j,!0)};t.GE.aH=function(S,G){return S.Bu&&(0<G.x&&G.x<x.Sx.Pu||0<G.y&&G.y<x.Sx.Pu)};t.GE.prototype.yt=function(S,G,j,z,O,i){var C,M=this.ai,D=!1;
if(O){var X=z.cm&&z.E$.WX;if(t.GE.aH(z,this.as)){C=JSON.parse(JSON.stringify(S.WX));if(this.as.x<x.Sx.Pu)S.WX[0].push(M.x);
if(this.as.y<x.Sx.Pu)S.WX[1].push(M.y);if(!X){var l=new L(E.E.e);if(!z.E$.WX){l.data={r:E.a.zv,zC:o$.rL};
G.D(l)}if(!z.cm){l.data={r:E.a.zv,zC:o$.an};G.D(l)}X=!0}}var f=this.Cn(S,M);if(X&&f){this.r=2;this.DJ=C?C:JSON.parse(JSON.stringify(S.WX));
this.KE=f;this.cQ=!0;this.Yd=t.Gh.to(S);return}if(S.wE.length!=0){this.r=4;this.Yd=S.Ft[S.wE[0]].rect.clone();
this.cQ=!0;return}if(this.Gj&&this.Gj.Pp(M,S.Q.u,!0)!=null){var l=new L(E.E.e);l.data={r:E.a.AH,s:t.Kk};
G.D(l);var F=new L(E.E.R);F.s=t.Kk;F.data={r:"doMouseDown",IL:this.as};G.D(F);return}if(S.f&&S.f.rect.oO(M)){var $=Math.round(M.x),_=Math.round(M.y),P=S.f.rect;
D=S.f.channel[(_-P.y)*P.o+$-P.x]>128}if(!D&&(!this.Ud&&(j.U(w.kw)||this.MP.nZ)||this.Ud&&this.MP.nZ&&(j.U(w.H$)||S.N.length<2))){var k=this.fQW(S,M,j);
if(!k){S.N=[];S.IN=null;S.PJ=S.UI=!0;this.r=3;this.AI=new Q;this.cQ=!0;return}}if(j.U(w.Ki)&&!D){var F=new L(E.E.R);
F.s=t.HA;F.data={r:g.Ec};G.D(F)}}if(S.wE.length!=0){this.r=4;this.Yd=S.Ft[S.wE[0]].rect.clone();this.cQ=!0;
return}this.KE=S.Of(i==null,i);for(var H=0;H<this.KE.length;H++){var q=S.d[this.KE[H]];if(q.Ka(2)||q.Ka(31)){alert(YP.get([6,57,0]));
return}}this.EP=t.GE.SX(S,this.KE);this.r=0;if(S.f&&(!O||D)&&S.N.length==1&&S.OX(!1)){if(!S.Nm()){this.cQ=!1;
return}var R=S.d[S.N[0]],I=j.U(w.Ki);this.r=1;var b=S.history[S.dN];if(b.s==this&&b.data.r==1&&b.data.B==S.N[0]&&R.hz==R.ke.hz&&!I){this.aD=b}else{var Y=R.ke,m=!1,h;
if(!R.Br(S,S.f)||I){m=!0;R.zb(S,S.f,I)}if(R.ke.hz<=0){h=x.S(R.ke.qz.length>>2);x.tb(R.ke.qz,h,3)}else h=x.clone(S.f.channel);
var e={rect:R.ke.nj.clone(),channel:h};this.aD=new fX(I?[12,53]:[12,54],this);this.aD.data={r:1,B:S.N[0],ke:R.ke,D_:Y,Yh:m,Qy:S.f,i_:e,JE:new A(0,0)};
S.Aq(this.aD);S.f=e;S.az=!0}}this.cQ=!0;this.Yd=t.Gh.to(S)};t.GE.prototype.fQW=function(S,G,j){var z=S.root.Rl(new A(Math.floor(G.x),Math.floor(G.y)));
if(z){if(z.B.add.vmsk)S.yK=!0;var O=S.d.indexOf(z.B);if(j.U(w.H$)){var i=S.N.indexOf(O);if(i==-1)S.N.push(O);
else if(S.N.length>1)S.N.splice(i,1)}else if(S.N.indexOf(O)==-1){this.CV(S,O)}}return z!=null};t.GE.prototype.CV=function(S,G){S.d[G].hz=0;
S.N=[G];S.IN=null;S.Wm();S.nK=!0;S.PJ=!0};t.GE.prototype.Xt=function(S,G,j,z,O){this.IL=O;var i=S.Q.ie(O.x,O.y),F,$;
if(this.Hh&&this.r<2)i=this.Hh.Dv(i,z);if(!this.cQ){if(j.cm&&j.E$.WX){var C=this.Cn(S,i),M="default";
if(C)M=["col-resize","row-resize"][C[0]];else if(this.Gj){var D=this.Gj.Pp(i,S.Q.u);if(D)M=D}this.HT(M,G)}this.Sk(S,i);
return}var X=this.ai,l=Math.round(i.x-X.x)-this.Ov.x,f=Math.round(i.y-X.y)-this.Ov.y;if(this.Yd){if(this.r==2){i=t.GE.$F(S,i,j,[!1,S.f?S.f.rect:this.Yd,!0])}else{$=this.Yd.clone();
$.offset(this.Ov.x+l,this.Ov.y+f);F=t.GE.Po(S,$,j);l+=Math.round(F[0]);f+=Math.round(F[1])}}this.Ov.x+=l;
this.Ov.y+=f;this.eG(S,l,f,i,null,z.U(w.H$));this.Sk(S,i);if(F)t.GE.PX(S,$,F)};t.GE.prototype.Cn=function(S,G){G=[G.x,G.y];
for(var j=0;j<2;j++)for(var z=0;z<S.WX[j].length;z++)if(Math.abs(S.WX[j][z]-G[j])*S.Q.u<4)return[j,z];
return null};t.GE.prototype.eG=function(S,G,j,z,O,i){if(this.r==0){if(O)t.GE.IX(S,this.KE,this.EP,O);
else t.GE.Ig(S,this.KE,this.EP,G,j)}else if(this.r==1){var C=this.aD.data;C.JE.offset(G,j);t.GE.$Y(S,C.B,G,j)}else if(this.r==2){var M=1e-5;
if(i)M=S.Q.u<=1?10:1;else if(S.Q.u<=1)M=1;var D=M*Math.round(z.x/M),X=M*Math.round(z.y/M),l=[D,X],f=this.KE;
S.WX[f[0]][f[1]]=l[f[0]]}else if(this.r==3){var F=this.ai,$=x.Y.sO([F.x,F.y,z.x,z.y]);this.AI=$;var _=[];
S.root.Ih($,_);if(JSON.stringify(S.N)!=JSON.stringify(_)){S.N=_;S.PJ=!0;S.UI=!0}}else if(this.r==4){for(var P=0;
P<S.wE.length;P++)S.Ft[S.wE[P]].rect.offset(G,j);S.yK=!0}};t.GE.$Y=function(S,G,j,z){var O=S.d[G];S.f.rect.offset(j,z);
O.aF(S,j,z,S.f);S.az=!0;S.I()};t.GE.prototype.Va=function(S,G,j,z,O){this.$a(S,O,j);this.Sk(S)};t.GE.prototype.$a=function(S,G,j,z,O){if(!this.cQ)return;
this.cQ=!1;if(this.r==0){if(z){this.CA(S,null,z,O)}else{if(this.Ov.x==0&&this.Ov.y==0)return;this.CA(S,this.Ov.clone())}S.Kh=!0}else if(this.r==2){var i=0;
G=[G.x,G.y];var C=this.KE,M=this.DJ[0].length+this.DJ[1].length,D=S.WX[0].length+S.WX[1].length;if(j.Bu&&G[C[0]]<x.Sx.Pu){S.WX[C[0]].splice(C[1],1);
i=1;if(M==D-1)return}if(M<D)i=2;var X=new fX([[23,2],[23,3],[23,4]][i],this);X.data={r:2,DJ:this.DJ,uo:JSON.parse(JSON.stringify(S.WX))};
S.Aq(X)}else if(this.r==4){var X=new fX([12,54],this);X.data={r:4,N:S.wE.slice(0),c:this.Ov.clone()};
S.Aq(X)}this.Ov.cK(0,0)};t.GE.prototype.HE=function(S,G,j,z){var O=z.lL();if(S!=null&&(O.x!=0||O.y!=0)){this.Ov.cK(O.x,O.y);
this.yt(S,G,z,j,!1);if(!this.cQ)return;this.eG(S,O.x,O.y);this.$a(S,null,j);this.Sk(S)}};t.GE.prototype.m$=function(S,G){if(S.r==0)t.GE.IX(G,S.N,S.DU,S.UR,!0);
else if(S.r==2){G.WX=JSON.parse(JSON.stringify(S.DJ));G.yK=!0}else if(S.r==4){for(var j=0;j<S.N.length;
j++)G.Ft[S.N[j]].rect.offset(-S.c.x,-S.c.y);G.yK=!0}else{var z=G.d[S.B];if(S.Yh){z.z_(G,S.D_);G.f=S.Qy;
G.az=!0;G.I();z.I()}else{t.GE.$Y(G,S.B,-S.JE.x,-S.JE.y)}}};t.GE.prototype.YQ=function(S,G){if(S.r==0)t.GE.IX(G,S.N,S.DU,S.UR);
else if(S.r==2){G.WX=JSON.parse(JSON.stringify(S.uo));G.yK=!0}else if(S.r==4){for(var j=0;j<S.N.length;
j++)G.Ft[S.N[j]].rect.offset(S.c.x,S.c.y);G.yK=!0}else{var z=G.d[S.B];if(S.Yh){z.ke=S.ke;G.f=S.i_;t.GE.$Y(G,S.B,0,0);
z.I()}else{t.GE.$Y(G,S.B,S.JE.x,S.JE.y)}}};t.GE.prototype.CA=function(S,G,j,z){if(j){var O=!0;for(var i=0;
i<j.length;i++)if(j[i]!=0)O=!1;if(O)return}var C=S.history[S.dN];if(C.data&&C.s==this&&C.data.r==0&&j==null&&JSON.stringify(C.data.N)==JSON.stringify(this.KE)&&JSON.stringify(C.data.DU)==JSON.stringify(this.EP)){var M=C.data.UR,D=C.data.fZx.MZ.T.v;
D.Hrzn.v.val+=G.x;D.Vrtc.v.val+=G.y;for(var i=0;i<M.length;i+=2){M[i]+=G.x;M[i+1]+=G.y}}else{var X={mB:"move",MZ:{classID:"null",null:fZ.cX("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:G.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:G.y}}}}}},l=new fX(z?z:[12,54],this);
if(j)l.data={r:0,N:this.KE,DU:this.EP,UR:j};else l.data={r:0,N:this.KE,DU:this.EP,UR:t.GE.Sf(this.KE,G.x,G.y)};
l.data.fZx=X;S.Aq(l);this.track(X)}};t.GE.Sf=function(S,G,j){var z=[];for(var O=0;O<S.length;O++)z.push(G,j);
return z};t.GE.Ig=function(S,G,j,z,O){t.GE.IX(S,G,j,t.GE.Sf(G,z,O))};t.GE.IX=function(S,G,j,z,O){if(G.length==0)return;
if(j==null){j=[];for(var i=0;i<G.length;i++){j.push(S.d[G[i]].RX(S,!0))}}var C=new Q,M=new Q(0,0,S.o,S.i);
for(var i=0;i<G.length;i++){var D=z[2*i],X=z[2*i+1];if(O){D=-D;X=-X}var l=S.d[G[i]],f=j[i];if(l.add.fxrp&&(f.indexOf(0)!=-1||l.dr()))l.add.fxrp.offset(D,X);
for(var F=0;F<f.length;F++){var $=f[F];if($==0){l.rect.offset(D,X);if(l.AG()&&l.td(S))l.td(S).rect.offset(D,X);
if(l.add.artb){var _=l.he();_.offset(D,X);l.pY(_)}if(l.add.TySh)l.add.TySh.GY.translate(D,X);if(l.add.SoLd){var P=new Ym(1,0,0,1,D,X),k=l.add.SoLd,H=t.Gh.JF(k.Trnf),q=t.Gh.JF(k.nonAffineTransform);
x.Y.GY(H,P,H);x.Y.GY(q,P,q);k.Trnf=t.Gh.Zl(H);k.nonAffineTransform=t.Gh.Zl(q)}}if($==1)l.Ew().rect.offset(D,X);
if($==2){l.add.vmsk.offset(D,X);if(l.add.vogk)x.tS.GY(l.add.vogk,[1,0,D,0,1,X,0,0],[])}if($==3){l.td(S).q.rect.offset(D,X);
if(f.length==1)l.I()}}if(f.length>0){var R=l.add.GdFl;if(R==null)R=l.add.PtFl;if(l.dr()&&!l.Qq()&&l.add.vmsk!=null&&x.p.EW(l.add.vmsk.z)&&l.add.vmsk.iA==255&&(R==null||R.Algn&&R.Algn.v)){l.rect.offset(D,X)}else l.uf(S);
var I=S.root.Ky(l.yo(S),S,G[i]);C=C.wB(I);I.offset(-D,-X);C=C.wB(I);if(l.add.SoCo||l.add.GdFl||l.add.PtFl||Yd.get(l.add)!=null)C=C.wB(M);
l.ZM()}}S.I(C)};t.GE.SX=function(S,G){var j=[];for(var z=0;z<G.length;z++){var O=S.d[G[z]];j.push(O.RX(S))}return j};
t.GE.PX=function(S,G,j){var z=S.m.BR={v:[],w:[]},O=G.x+j[0],i=G.y+j[1];if(j[2]!=1e9){z.w.push("M","L");
z.v.push(j[2],i,j[2],i+G.i)}if(j[3]!=1e9){z.w.push("M","L");z.v.push(O,j[3],O+G.o,j[3])}S.yK=!0};t.GE.$F=function(S,G,j,z){var O=t.GE.Sp(S,[[G.x],[G.y]],j,z);
return new A(G.x+O[0],G.y+O[1])};t.GE.Po=function(S,G,j,z,O){var i=O==!0?0:1,C=t.GE.Sp(S,[[G.x,G.x+(G.o>>>i),G.x+G.o],[G.y,G.y+(G.i>>>i),G.y+G.i]],j,z);
return C};t.GE.Sp=function(S,G,j,z){if(z==null)z=[!0,null,!0];var O=[0,0,1e9,1e9];if(!j.Ur)return O;
var i=JSON.parse(JSON.stringify(G));for(var C=0;C<2;C++){var M=1e9,D=G[C],X=0;for(var l=0;l<D.length;
l++){var f=t.GE.fQs(S,D[l],i[1-C][l],C,j,z);if(f!=1e9)i[C][l]=f;if(f!=1e9&&Math.abs(f-D[l])<Math.abs(M)){M=f-D[l];
X=f}}if(M!=1e9){O[C]=M;O[C+2]=X}}return O};t.GE.fQs=function(S,G,j,z,O,i){var C=1e9,M=O.DL,D=O.E$;if(i[0]&&M[0]&&D.WX&&O.cm){var X=S.WX[z];
for(var l=0;l<X.length;l++)if(Math.abs(X[l]-G)<Math.abs(C-G))C=X[l]}if(M[1]&&D.jl&&O.cm){var f=Math.round(x.Sx.$k(D.WP,S,D.Wv));
if(z==1&&D.jc==1){var F=j*.5*Math.sqrt(4/3),$;f*=Math.sqrt(4/3);$=Math.round((G-F)/f)*f+F;if(Math.abs($-G)<Math.abs(C-G))C=$;
$=Math.round((G+F)/f)*f-F;if(Math.abs($-G)<Math.abs(C-G))C=$}else{var $=Math.round(G/f)*f;if(Math.abs($-G)<Math.abs(C-G))C=$}}var _=S.fF;
if(M[3]&&D.fF&&O.cm&&_.length!=0){for(var l=0;l<_.length;l++){if(!i[2]&&S.Eu.indexOf(l)!=-1)continue;
var P=t.Ga.pa(_,l);for(var k=0;k<3;k+=2)if(P[k+z]!=G&&Math.abs(P[k+z]-G)<Math.abs(C-G))C=P[k+z]}}if(i[1]){var H=i[1],q=H.o,R=H.i,I=[H.x,H.y,H.x+(q>>>1),H.y+(R>>>1),H.x+q,H.y+R];
for(var l=0;l<6;l+=2)if(Math.abs(I[l+z]-G)<Math.abs(C-G))C=I[l+z]}if(M[4]){var q=S.o,R=S.i,I=[0,0,q>>>1,R>>>1,q,R];
for(var l=0;l<6;l+=2)if(Math.abs(I[l+z]-G)<Math.abs(C-G))C=I[l+z]}var b=Math.abs(C-G)<=4*E.V()/S.Q.u?C:1e9;
return b};t.Ke=function(){t.tC.call(this,[10,12],t.fWT,"tools/mwand")};t.Ke.prototype=new t.tC;t.Ke.prototype.iP=function(S,G,j,z){this.finish(S,G,j,z)};
t.Ke.prototype.getSelection=function(S,G,j,z){var O=this.ku,i=t.tC.fsX(new A(Math.round(O.x),Math.round(O.y)),this.MP.nz);
return i};t.Ke.SK=function(S,G,j){if(S.N.length!=1){alert("More than one layer selected.");return null}var z=S.d[S.N[0]];
if(z.add.lsct!=null&&z.add.lsct!=YF.zL){alert("No layer selected.");return null}if(G.x<0||G.x>S.o||G.y<0||G.y>S.i)return null;
var O=new Q(0,0,S.o,S.i),i=x.S(O.h()*4),C=z.hz<=0?null:z.hz==1?z.Ew():z.td(S).q;if(C==null)x.yF(z.buffer,z.rect,i,O);
else t.ha.JC(C.channel,C.rect,C.color,i,O);var M=t.Ke.SW(i,O,G,null,j),D=x.Fw(M,O),X=x.S(D.h());x.zP(M,O,X,D);
return{rect:D,channel:X}};t.Ke.IM=function(S,G,j){var z=G.o,i=0,C=0,M=0,D=0;S=new Uint32Array(S.buffer);
var O=[],X=j.length;for(var l=0;l<X;l++){var f=j[l],F=Math.round(f.x-.5-G.x),$=Math.round(f.y-.5-G.y);
if(!G.oO(f))F=$=0;var _=$*z+F,P=S[_];O.push([P&255,P>>8&255,P>>16&255,P>>>24])}return O};t.Ke.SW=function(S,G,j,z,O){S=new Uint32Array(S.buffer);
var i=G.o,C=G.i,M=i*C;if(z==null)z=t.Ke.IM(S,G,[j]);var D=Math.round(j.x-.5-G.x),X=Math.round(j.y-.5-G.y),l=X*i+D,f=x.S(i*C),F=O[0],$=1/F;
if(O[2]){var _=x.S(f.length);_[l]=2;var P=[D,X];while(P.length>0){var k=P.pop(),H=P.pop(),q=k*i+H;_[q]=2;
var R=t.Ke.aR(S[q],z);if(R>F)continue;f[q]=255;if(H>0&&_[q-1]==0){P.push(H-1,k);_[q-1]=1}if(H<i-1&&_[q+1]==0){P.push(H+1,k);
_[q+1]=1}if(k>0&&_[q-i]==0){P.push(H,k-1);_[q-i]=1}if(k<C-1&&_[q+i]==0){P.push(H,k+1);_[q+i]=1}}}else{for(var q=0;
q<M;q++){var R=t.Ke.aR(S[q],z);if(R<=F)f[q]=255}}if(O[1]&&F>0){var I=f.slice(0);for(var k=0;k<C;k++)for(var H=0;
H<i;H++){var q=k*i+H;if(f[q]==0&&(H>0&&(f[q-1]==255||k>0&&f[q-i-1]==255||k<C-1&&f[q+i-1]==255)||H<i-1&&(f[q+1]==255||k>0&&f[q-i+1]==255||k<C-1&&f[q+i+1]==255)||k>0&&f[q-i]==255||k<C-1&&f[q+i]==255)){var R=t.Ke.aR(S[q],z),b=255*(1-Math.max(0,Math.min(1,(R-F)*$)));
I[q]=Math.round(Math.max(F,b))}}f=I}return f};t.Ke.aR=function(S,G){var j=G.length,z=t.Ke.Sl(S,G[0]);
if(j==0)return z;else for(var O=1;O<j;O++)z=Math.min(z,t.Ke.Sl(S,G[O]));return z};t.Ke.Sl=function(S,G){var j=S&255,z=S>>8&255,O=S>>16&255,i=S>>24&255;
if(G[3]==0)return i<5?0:255;var C=Math.max(Math.abs(j-G[0]),Math.max(Math.abs(z-G[1]),Math.abs(O-G[2])));
return i==0?255:C};t.nA=function(){t.ha.call(this,[10,26],t.FJ,"tools/patch");this.GX=null;this.tp=null;
this.c=null;this.MY=null;this.At=new A;this.JS=null};t.nA.prototype=new t.ha;t.nA.prototype.ti=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y);
if(S.f&&x.Rl(i,S.f.channel,S.f.rect)){var C=new Q(0,0,S.o,S.i),M=C.tY(S.f.rect);if(!S.OX()||M.tR())return;
if(!M.Xs(S.f.rect)){var D=x.S(M.h());x.zP(S.f.channel,S.f.rect,D,M);S.f={channel:D,rect:M}}this.es(S);
this.MY=i;this.At=new A(i.x-S.f.rect.x,i.y-S.f.rect.y);this.JS=x.S(S.f.rect.h()*4);x.set(this.JS,4294967295);
if(this.MP.patch==1){var X=S.d[S.N[0]];X.zb(S,S.f,!0);if(X.ke==null)this.MY=null}}else{this.tp={v:[i.x,i.y],w:["M"]};
this.GX=i}};t.nA.prototype.Xt=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y);if(this.MY){if(this.MP.patch==1){var C=S.d[S.N[0]].ke,M=i.x-this.At.x,D=i.y-this.At.y;
t.GE.$Y(S,S.N[0],Math.round(M-C.nj.x),Math.round(D-C.nj.y))}else this.SD(S,i,"clone")}if(this.GX){this.tp.w.push("L");
this.tp.v.push(i.x,i.y);this.GX=i;S.m.GR=this.tp;S.yK=!0}};t.nA.prototype.Va=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y);
if(this.MY){this.SD(S,i,"heal");this.finish(S,S.f.rect);this.MY=null}if(this.GX){var C=t.tC.aT(this.MP.setop,z.U(w.H$),z.U(w.Ki)),M=new L(E.E.Hz,!0);
if(this.tp.v.length<=4)M.data=t.tC.YF();else M.data=t.tC.eI(this.tp.v,C);G.D(M);this.GX=null;S.m.GR=null;
S.yK=!0}};t.nA.prototype.am=function(){return this.c};t.nA.prototype.Sr=function(S,G,j,z,O){t.ha.prototype.Sr.call(this,S,G,j,z,O);
this.HT(O,z)};t.nA.prototype.HT=function(S,G){var j="auto;";if(G!=null&&G.U(w.H$)&&!G.U(w.Ki)||this.MP.setop=="union")j="copy";
var z=new L(E.E.e,!0);z.data={r:E.a.IY,vM:j};if(this.caller)this.caller.D(z)};t.nA.prototype.SD=function(S,G,j){var z=new A(Math.round(this.MY.x-G.x),Math.round(this.MY.y-G.y));
if(this.MP.patch==1)z.cK(-z.x,-z.y);this.c=z;this.AP(S,j,this.JS,S.f.rect,S.f.rect);this.I(S,S.f.rect)};
t.$V=function(){t.ha.call(this,[10,13],t.fWR,"tools/pbucket")};t.$V.prototype=new t.ha;t.$V.prototype.enable=function(S,G,j,z){var O=new L(E.E.e,!0);
O.data={r:E.a.IY,vM:"default"};G.D(O)};t.$V.prototype.uQ=function(S,G){};t.$V.prototype.Va=function(S,G,j,z,O){if(!S.OX())return;
var i=S.Q.ie(O.x,O.y),C=t.Ke.SK(S,i,this.MP.wconf);if(C==null)return;var M=x.S(C.rect.h()*4);x.GC(M,(j.Cj&255)<<16|(j.Cj>>8&255)<<8|(j.Cj>>16&255)<<0);
x.Cy(C.channel,M,3);this.es(S);this.AP(S,"draw",M,C.rect,C.rect);this.I(S,C.rect);this.finish(S,C.rect)};
t.PT=function(){t.tC.call(this,[10,14],t.fWp,"tools/plasso");this.ce="crosshair";this.RF=[];this.tp=null;
this.fXP=0};t.PT.prototype=new t.tC;t.PT.prototype.disable=function(S,G,j,z){this._n(S)};t.PT.prototype.pc=function(S,G,j,z){this.RF=[w.mO,w.sG]};
t.PT.prototype.DW=function(S){return this.RF.indexOf(S)!=-1};t.PT.prototype.tV=function(S){return this.tp!=null};
t.PT.prototype.aQ=function(){return this.tp!=null};t.PT.prototype.Zx=function(){return this.tp!=null};
t.PT.prototype.Km=function(S,G,j,z){if(this.tp==null)return;var O=this.tp,i=O.v,C=i.length-2,M=this.ku;
if(this.oR>1&&j.U(w.Ki)&&z.Uq){i.push(0,0);O.w.push("L");C+=2}else if(j.U(w.H$))M=t.cE.nn(new A(i[C-2],i[C-1]),M);
i[C]=M.x;i[C+1]=M.y;S.m.GR=O;S.yK=!0};t.PT.prototype.iP=function(S,G,j,z){var O=Date.now();if(this.tp==null)this.tp={v:[this.ku.x,this.ku.y,this.ku.x,this.ku.y],w:["M","L"]};
else{this.Km(S,G,j,z);this.tp.w.push("L");this.tp.v.push(this.ku.x,this.ku.y);S.m.GR=this.tp;if(O-this.fXP<250||A.nM(this.ku,new A(this.tp.v[0],this.tp.v[1]))<4/S.Q.u){this.finish(S,G,j,z);
this._n(S)}}this.fXP=O;S.m.GR=this.tp};t.PT.prototype._n=function(S){this.tp=null;this.RF=[];if(S!=null){S.m.GR=null;
S.yK=!0}};t.PT.prototype.HE=function(S,G,j,z){t.tC.prototype.HE.call(this,S,G,j,z);if(this.tp==null)return;
if(z.U(w.mO)||z.U(w.sG)){this.tp.v.pop();this.tp.v.pop();this.tp.w.pop();this.Km(S,j,z)}if(z.U(w.A$)){if(this.tp.v.length>4)this.finish(S,j,z);
this.tp=null}if(z.U(w.pW)){this.tp=null}S.m.GR=this.tp;S.yK=!0};t.PT.prototype.getSelection=function(S,G,j,z){return t.tC.eI(this.tp.v)};
t.dY=function(){t.tC.call(this,[10,10],t.fWs,"tools/mlasso");this.ce="crosshair";this.RF=[];this.Hu={j$:3};
this.z=[];this.xf=[];this.KW=[];this.xz=null;this.Wd=null;this.aj=null;this.aN=0};t.dY.prototype=new t.tC;
t.dY.prototype.disable=function(S,G,j,z){this.clear(S)};t.dY.prototype.tV=function(S){return this.z.length!=0};
t.dY.prototype.Zx=function(){return this.z.length!=0};t.dY.prototype.DW=function(S){return this.RF.indexOf(S)!=-1};
t.dY.prototype.pc=function(S,G,j,z){this.RF=[w.mO,w.sG];var O=this.IK(this.cS,S);if(this.z.length!=0&&(A.nM(O,this.z[0])<4*E.V()/S.Q.u||Date.now()-this.aN<300)){this.IS(S,this.z[0]);
this.finish(S,G,j);this.clear(S);return}this.aN=Date.now();if(this.z.length!=0)O=this.aU(O,S,this.Hu.j$);
else{var i=S.o,C=S.i,M=x.S(i*C),D=S.yA(),X=i*C*4;for(var l=0;l<X;l+=4)M[l>>>2]=x.qO(Math.round(.3*D[l]+.6*D[l+1]+.1*D[l+2])*D[l+3]);
this.xz=x.cF.fme(M,i,C);this.aj=new Uint16Array(M.length)}this.IS(S,O);this.Ms(S)};t.dY.prototype.IS=function(S,G){var j=this.z;
this.xf[j.length]=this.KW.length;if(j.length!=0){x.cF.oK(this.Wd,G.y*S.o+G.x);var z=this.ah(S,G);z.reverse();
var O=this.vX(S,z);this.KW=this.KW.concat(O)}j.push(G);this.Sh(S)};t.dY.prototype.Sh=function(S){var G=this.z[this.z.length-1],j=G.y*S.o+G.x;
this.Wd=x.cF.fQv(this.xz.JZ,this.xz.we,j);x.set(this.aj,0)};t.dY.prototype.IK=function(S,G){return new A(Math.floor(Math.max(0,Math.min(G.o-1,S.x))),Math.floor(Math.max(0,Math.min(G.i-1,S.y))))};
t.dY.prototype.clear=function(S){this.KW=[];this.z=[];this.xf=[];this.xz=null;this.Wd=null;this.aj=null;
if(S!=null){S.m.GR=null;S.m.oZ=[];S.yK=!0}this.RF=[]};t.dY.prototype.Km=function(S,G,j,z){if(this.z.length==0)return;
var O=this.aU(this.IK(this.ku,S),S,this.Hu.j$),i=this.ah(S,O);for(var C=0;C<i.length;C++){var M=i[C],D=new A(M%S.o,Math.floor(M/S.o));
if(this.aj[M]>30&&A.nM(D,this.z[this.z.length-1])>20){this.IS(S,D);return}this.aj[M]++}this.Ms(S)};t.dY.prototype.Ms=function(S){var G=this.z;
if(G.length!=0){var j=this.aU(this.IK(this.ku,S),S,this.Hu.j$),z=this.ah(S,j);z.reverse();var O=this.vX(S,z),i=this.KW.concat(O);
S.m.GR=this.Ps(i)}S.m.oZ=[];for(var C=0;C<G.length;C++)S.m.oZ.push(G[C].x+.5,G[C].y+.5);S.yK=!0};t.dY.prototype.iP=function(S,G,j,z){};
t.dY.prototype.HE=function(S,G,j,z){if(this.z.length==0)return;if(z.U(w.mO)||z.U(w.sG)){this.z.pop();
this.KW=this.KW.slice(0,this.xf[this.z.length]);this.xf.pop();if(this.z.length==0)this.clear(S);else this.Sh(S);
this.Ms(S)}if(z.U(w.A$)){var O=this.IK(this.ku,S);this.IS(S,O);this.finish(S,j,z);this.clear(S)}if(z.U(w.pW)){this.clear(S)}};
t.dY.prototype.Ps=function(S){var G={v:S.slice(0),w:["M"]};for(var j=2;j<S.length;j+=2)G.w.push("L");
return G};t.dY.prototype.getSelection=function(S,G,j,z){var O=this.Ps(this.KW);return t.tC.eI(O.v)};
t.dY.prototype.ah=function(S,G){var j=this.z[this.z.length-1],z=j.y*S.o+j.x,O=G.y*S.o+G.x,i=[O];while(O!=z){O=this.Wd.tB[O];
i.push(O);if(i.length>5e3){console.log(i);throw"e"}}return i};t.dY.prototype.vX=function(S,G){var j=[],z=S.o;
for(var O=0;O<G.length;O++){var i=G[O];j.push(i%z+.5,Math.floor(i/z)+.5)}return j};t.dY.prototype.aU=function(S,G,j){var z=G.o,O=G.i,i=S.clone();
x.cF.oK(this.Wd,S.y*z+S.x);var C=this.Wd.oA[S.y*z+S.x];for(var M=-j+1;M<j;M++)for(var D=-j+1;D<j;D++){var X=S.x+D,l=S.y+M;
if(X<0||X>=z||l<0||l>=O)continue;x.cF.oK(this.Wd,l*z+X);if(this.Wd.oA[l*z+X]<C)i.cK(X,l)}return i};t.Pz=function(){t.wx.call(this,[10,36],t.fWd,"tools/ruler");
this.mk=null;this.WV=null;this.Jv=null;this.Jw=null};t.Pz.prototype=new t.wx;t.Pz.prototype.tV=function(S){return S.Uq};
t.Pz.prototype.disable=function(S,G,j,z){this.mk=this.WV=null;if(S)this.Sk(S)};t.Pz.prototype.ti=function(S,G,j,z,O){var i=S.Q.u/E.V(),C=S.Q.ie(O.x,O.y);
C.x=Math.round(C.x);C.y=Math.round(C.y);var M=this.mk;if(M&&A.nM(C,M[0])*i<6)this.WV=[0];else if(M&&A.nM(C,M[1])*i<6)this.WV=[1];
else if(M&&t.Pz.fQm(M[0],M[1],C)*i<6&&Math.min(M[0].x,M[1].x)-5<=C.x&&C.x<=Math.max(M[0].x,M[1].x)+5&&Math.min(M[0].y,M[1].y)-5<=C.y&&C.y<=Math.max(M[0].y,M[1].y)+5){this.WV=[0,1];
this.Jw=[M[0].clone(),M[1].clone()];this.Jv=C}else{this.mk=[C.clone(),C.clone()];this.WV=[1]}};t.Pz.prototype.Xt=function(S,G,j,z,O){if(this.WV==null)return;
var i=this.mk,C=this.WV,M=S.Q.ie(O.x,O.y);M.x=Math.round(M.x);M.y=Math.round(M.y);if(C.length==2){var D=M.x-this.Jv.x,X=M.y-this.Jv.y;
i[0]=this.Jw[0].clone();i[0].offset(D,X);i[1]=this.Jw[1].clone();i[1].offset(D,X)}else{i[C[0]].cK(M.x,M.y);
if(z.U(w.H$)){i[C[0]]=t.cE.nn(i[1-C[0]],i[C[0]])}}this.Sk(S);this.RO(G,E.E.e,{r:E.a.Qe,s:this.id,fZb:i[0],Ck:i[1]})};
t.Pz.prototype.Va=function(S,G,j,z,O){this.WV=null};t.Pz.prototype.RO=function(S,G,j){var z=new L(G,!0);
z.data=j;S.D(z)};t.Pz.prototype.Sk=function(S){var G=this.mk;if(G==null){S.m.GR=null;S.m.oZ=[]}else{var j=[G[0].x,G[0].y,G[1].x,G[1].y];
S.m.GR={w:["M","L"],v:j};S.m.oZ=j}S.yK=!0};t.Pz.fQm=function(S,G,j){var z=G.x-S.x,O=G.y-S.y,i=Math.abs(O*j.x-z*j.y+G.x*S.y-G.y*S.x),C=Math.sqrt(z*z+O*O);
return i/C};t.IW=function(){t.ha.call(this,[10,19],t.eW,"tools/sharpen");this.i$="copy"};t.IW.prototype=new t.ha;
t.IW.prototype.ti=function(S,G,j,z,O){var i=this.MP.pdetail?fs.DK:fs.eW;if(z.U(w.Ki))i=fs.ep;this.wa(S,j,z,O,this.MP.strn,i);
if(this.LM==null)return;this.tT(S)};t.IW.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);
if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t._A=function(){t.ha.call(this,[10,24],t.Fc,"tools/shbrush");
this.i$="draw";this.MP.opacity=.5};t._A.prototype=new t.ha;t._A.prototype.ti=function(S,G,j,z,O){this.wa(S,j,z,O,1);
if(this.LM==null)return;this.tT(S)};t._A.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);
if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t._A.prototype.Va=function(S,G,j,z,O){if(this.LM==null)return;
this.AP(S,"sheal",this.LM.sZ(),this.LM.to(),this.LM.sK(),null);this.I(S,this.LM.sK());t.ha.prototype.Va.call(this,S,G,j,z,O)};
t.IT=function(){t.ha.call(this,[10,20],t.AY,"tools/smudge");this.i$="copy"};t.IT.prototype=new t.ha;
t.IT.prototype.ti=function(S,G,j,z,O){this.wa(S,j,z,O,this.MP.strn,fs.AY);if(this.LM==null)return;this.tT(S)};
t.IT.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);if(this.LM==null)return;
if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t.IZ=function(){t.ha.call(this,[10,23],t.Fk,"tools/sponge");
this.i$="sponge"};t.IZ.prototype=new t.ha;t.IZ.prototype.ti=function(S,G,j,z,O){this.wa(S,j,z,O,this.MP.flow);
if(this.LM==null)return;this.tT(S)};t.IZ.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);
if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};t.fr=function(){t.wx.call(this,[10,17],t.wb,"tools/zoom");
this.uT=!1;this.lJ=!0;this.ar=0;this.Oz=null;this.Jd=0;this.RL=null;this.DE=new Cq([{name:[8,0],G_:"Ctrl + +"},{name:[8,1],G_:"Ctrl + -",uz:!0},{name:[20,3],G_:"Ctrl + 0"},{name:[20,2],b:function(S){return{Gb:YP.get([20,2])+": 100%"}},G_:"Ctrl + 1"}],[{J:E.E.R,s:t.wb,l:{r:"zoom",lJ:!0}},{J:E.E.R,s:t.wb,l:{r:"zoom",lJ:!1}},{J:E.E.R,s:t.wb,l:{r:"adapt",g:"fitscr"}},{J:E.E.R,s:t.wb,l:{r:"adapt",g:"pixel"}}])};
t.fr.prototype=new t.wx;t.fr.prototype.nr=function(S,G,j,z,O){var i=this.DE;i.$();i.parent=G;i.update(S,j);
var C=new L(E.E.e,!0);C.data={r:E.a.Jt,pZ:i,x:O.B_+2,y:O.cd+1};G.D(C)};t.fr.prototype.enable=function(S,G,j,z){this.ab(G);
if(Date.now()-this.ar<300)this.Wq({r:"adapt",g:"pixel"},G,S,z,j);this.ar=Date.now()};t.fr.prototype.ti=function(S,G,j,z,O){this.Oz=new A(O.x,O.y);
this.Jd=S.Q.u;this.RL=S.Q.c.clone()};t.fr.prototype.Xt=function(S,G,j,z,O){if(this.Oz==null)return;var i=Math.round((O.x-this.Oz.x)/16);
if(i==0)return;var C=t.fr.ax(this.Jd),M=t.fr.ne[Math.max(0,Math.min(t.fr.ne.length-1,C-i))];S.Q.u=this.Jd;
S.Q.c=this.RL.clone();this.Wq({r:"zoom",u:M,IL:this.Oz},G,S,z,j)};t.fr.prototype.Va=function(S,G,j,z,O){if(A.nM(this.Oz,O)<4){var i=this.lJ;
if(this.uT)i=!i;this.Wq({r:"zoom",lJ:i,IL:O},G,S,z,j)}this.Oz=null};t.fr.ne=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
t.fr.vo=function(S,G,j,z){var O=1;while(S*O*1/2>j||G*O*1/2>z)O*=1/2;if(S*O*2/3>j||G*O*2/3>z)O*=1/2;else if(S*O>j||G*O>z)O*=2/3;
return O};t.fr.fQQ=function(S,G){var j=t.fr.ax(S);if(G&&j==0)return S;if(!G&&j==t.fr.ne.length-1)return S;
return t.fr.ne[G?j-1:j+1]};t.fr.ax=function(S){var G=0;while(t.fr.ne[G]>S)G++;return G};t.fr.vn=function(S,G,j,z){var O=S.lq;
if(z==0||z==null){z=t.fr.fQQ(S.u,j);if(z==S.u)return}var i=S.ie(G.x,G.y);if(O.o*z<=S.G.o&&O.i*z<=S.G.i)S.c.cK(0,0);
else{S.c.x=Math.round(O.o*z/2-i.x*z+(G.x-S.G.o/2));S.c.y=Math.round(O.i*z/2-i.y*z+(G.y-S.G.i/2))}S.u=z};
t.fr.prototype.Wq=function(S,G,j,z,O){var i=0,C=!1,M=null;if(S.r=="adapt"){var D=0;if(S.g=="pixel")D=1;
if(S.g=="fitscr"){var D=0,X=j.Q.G.o,l=j.Q.G.i;if(j.o<=X&&j.i<=l){var f=1;while(j.o*(f+1)<=X&&j.i*(f+1)<=l)f++;
D=f}else{D=t.fr.vo(j.o,j.i,X,l)}}M=new A(Math.round(j.Q.G.o/2),Math.round(j.Q.G.i/2));i=D}if(S.r=="scroll"){M=S.IL;
C=S.DC.y<0}if(S.r=="zoom"){M=S.IL?S.IL:new A(Math.round(j.Q.G.o/2),Math.round(j.Q.G.i/2));if(S.u!=null)i=S.u;
else C=S.lJ}if(S.r=="mskView"){var F=j.d[j.N[0]],$=F.hz==3?F.td(j).q:F.Ew();if(S.g==0){j.Q.qk=[1,1,1];
$.tO=!1}if(S.g==1){j.Q.qk=[1,1,1];$.tO=!0}if(S.g==2){j.Q.qk=[0,0,0];$.tO=!0}for(var _=0;_<j.Ft.length;
_++)j.Ft[_].tO=!1;j.wE=[];j.yK=!0}if(M==null)return;t.fr.vn(j.Q,M,C,i);j.Kh=!0};t.fr.prototype.HE=function(S,G,j,z){if(this.uT!=z.U(w.Ki)){this.uT=z.U(w.Ki);
var O={r:E.a.Qe,s:this.id,uT:this.uT},i=new L(E.E.e,!0);i.data=O;G.D(i);this.ab(G)}};t.fr.prototype.ab=function(S){var G=new L(E.E.e,!0),j=this.lJ;
if(this.uT)j=!j;G.data={r:E.a.IY,vM:j?"zoom-in":"zoom-out"};S.D(G)};t.fr.prototype.Sr=function(S,G,j,z){this.lJ=S.lJ;
this.ab(G)};t.mE=function(S,G,j){t.wx.call(this,S,G,j);this.CI=null;this.Og=null;this.fXI=0};t.mE.prototype=new t.wx;
t.mE.prototype.nF=function(S,G,j,z){if(S.N.length==0)return;var O=S.d[S.N[0]],i=O.add.vmsk,C=O.add.vstk,M=t.mE.ag(S,S.N[0]);
this.CI=S;this.Og=G;if(O.dr()&&i!=null&&(JSON.stringify(C)!=JSON.stringify(j.aL)||JSON.stringify(M)!=JSON.stringify(j.pX))){this.fXI=Date.now();
var D=new L(E.E.e,!0);D.data={r:E.a.zv,zC:o$.ad,g:M};G.D(D);D.data={r:E.a.zv,zC:o$.rO,g:C};G.D(D)}};
t.mE.prototype.uQ=function(S,G){if(this.CI==null)return;if(G==o$.$o||G==o$.ad||G==o$.rO){if(Date.now()-this.fXI<50)return;
var j=G==o$.ad,z=this.CI,O=j?S.pX:S.aL,i=[];for(var C=0;C<z.N.length;C++){var M=z.N[C],D=z.d[M];if(!D.dr()||D.add.vmsk==null)continue;
i.push(M)}var X=new L(E.E.R,!0);X.s=t.HA;X.data={r:g.Kr,th:i,Bw:j,g:O};if(i.length!=0)this.Og.D(X)}};
t.mE.prototype.fQT=function(S){if(typeof S=="number"){var G=new L(E.E.Hz,!0);G.data=t.qP.Dn(0);G.data.MZ.Usng.v.Type.v.Clr.v=x.T.qL({H:S>>>16&255,X:S>>>8&255,C:S>>>0&255});
this.Og.D(G)}};t.mE.prototype.Wq=function(S,G,j,z,O){this.Og=G;if(S.r=="newfill"){if(S.Rp==0){var i=new L(E.E.e,!0);
i.data={r:E.a.YO,pv:"colorpicker",AE:O.Cj,xK:this.fQT.bind(this)};G.D(i)}}else if(S.r=="pathedit"){var C=S.zS,M=j.qD.slice(0),D=j.ML.slice(0),X=j.qD.slice(0),l=j.ML.slice(0);
if(C=="rnm"){var f=-1-S.Qf,F=M[f],$=Yi.kI(S.name,null,F.add.vmsk,F.add.vogk);X[f]=$}if(C=="new"){X.push(Yi.kI("Path "+M.length));
l=[X.length-1]}if(C=="del"){if(l.length==0)return;l.sort(function(P,s){return P-s});if(l[0]==0){X[0]=Yi.kI(M[0].name);
l=l.slice(1)}var _=0;while(l.length!=0){X.splice(l[0]-_,1);l=l.slice(1);_++}}var P=new fX((C=="new"?"New":C=="del"?"Delete":"Rename")+" Path",this);
P.data={qq:M,Jc:D,fZt:X,Jn:l};j.Aq(P);this.YQ(P.data,j)}else{var k=j.ya(),H=k[0],q=k[1],R=H[q[0]],I=R.add.vmsk,b=R.add.vogk,Y=I.clone(),m=I.clone(),h=JSON.stringify(b);
if(S.r=="remove"){if(m.N.length==0)return;var _=0;for(var e=0;e<m.N.length;e++){b.splice(m.N[e]+_,1);
_--}m.z=x.p.fau(m.z,m.N);m.N=[];m.Am=[]}if(S.r=="append"){t.mE.vb(S.fuT,m,b)}this.fm(j,R.Qf,m,b);this.vP(j,S.mj,R.Qf,Y,m.clone(),null,h,JSON.stringify(b))}};
t.mE.vk=function(S,G){var j=x.p.fKA(S.z,S.N),z=[];for(var O=0;O<S.N.length;O++)z.push(JSON.parse(JSON.stringify(G[S.N[O]])));
return[j,z]};t.mE.vb=function(S,G,j){var z=x.p.Bv(G.z),O=x.p.Bv(S[0]);G.z=G.z.concat(S[0].slice(2));
G.N=[];for(var i=0;i<O;i++)G.N.push(z+i);for(var i=0;i<O;i++)j.push(JSON.parse(JSON.stringify(S[1][i])))};
t.mE.prototype.DW=function(S,G){if(G==null)return!1;var j=G.ya(),z=j[0],O=j[1];if(O.length==0)return!1;
var i=z[O[0]],C=i.add.vmsk;if(C&&C.N.length+C.Am.length!=0)return[w.mO,w.sG].indexOf(S)!=-1};t.mE.prototype.HE=function(S,G,j,z){if(S==null)return;
var O=S.ya(),i=O[0],C=O[1];if(C.length==0)return;var M=i[C[0]],D=M.add.vmsk;if(z.U(w.pW)||z.U(w.A$)){D.Am=[];
S.yK=!0}if(D.N.length!=0){var X=z.lL();if(X.x!=0||X.y!=0){var l=D.clone(),f=D.clone(),F=new Ym(1,0,0,1,X.x,X.y),$=M.add.vogk,_=JSON.stringify($);
x.p.hu(f.z,F,f.N);x.tS.GY($,x.Z.BS(F),f.N);this.fm(S,M.Qf,f,$);this.vP(S,"Move Paths",M.Qf,l,f.clone(),!0,_,JSON.stringify($))}if(z.U(w.mO)||z.U(w.sG))this.Wq({r:"remove",mj:"Delete Paths"},G,S,z,j)}};
t.mE.prototype.vP=function(S,G,j,z,O,i,C,M){var D=new fX(G,this);D.data={O$:j,lC:z,ac:O,fXR:i,fMm:C,la:M};
S.Aq(D)};t.mE.prototype.YQ=function(S,G){if(S.O$!=null)this.fm(G,S.O$,S.ac.clone(),JSON.parse(S.la));
else{G.qD=S.fZt.slice(0);G.ML=S.Jn.slice(0);G.yK=G.PJ=!0}};t.mE.prototype.m$=function(S,G){if(S.O$!=null)this.fm(G,S.O$,S.lC.clone(),JSON.parse(S.fMm));
else{G.qD=S.qq.slice(0);G.ML=S.Jc.slice(0);G.yK=G.PJ=!0}};t.mE.prototype.fm=function(S,G,j,z){var O=G>=0?S.d[G]:S.qD[-1-G];
O.add.vmsk=j;O.add.vogk=z;if(G>=0){j.io=!0;O.uf(S);S.I()}else S.yK=S.PJ=!0};t.mE.ag=function(S,G){var j=S.d[G],z=j.add.vstk,O=null;
if(z&&!z.fillEnabled.v)O={Gu:0};else if(j.add.SoCo)O={Gu:1,tZ:j.add.SoCo};else if(j.add.GdFl)O={Gu:2,tZ:j.add.GdFl};
else if(j.add.PtFl)O={Gu:3,tZ:j.add.PtFl};return O};t.mE.af=function(S,G){var j=S.add.vmsk,z=S.add.vstk,O=G.Gu;
if(z)z.fillEnabled.v=O!=0;if(O>0){var i=["SoCo","GdFl","PtFl"][O-1];for(var C=0;C<3;C++)delete S.add[["SoCo","GdFl","PtFl"][C]];
S.add[i]=G.tZ}};t.qP=function(S,G,j,z){t.mE.call(this,S,G,j);this.MP={tmode:1,shape:CO.Cr(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{CM:0}};
this.fuc=z;this.jV=null;this.lK=null;this.pz=null};t.qP.prototype=new t.mE;t.qP.prototype.tV=function(S){return S.Uq&&this.id!=t.Sq};
t.qP.prototype.enable=function(S,G,j,z,O){var i=new L(E.E.e,!0);i.data={r:E.a.IY,vM:"crosshair"};G.D(i)};
t.qP.prototype.Xd=function(S,G,j,z){};t.qP.prototype.ti=function(S,G,j,z,O){var i=this.MP.tmode;if(i==2&&!S.OX())return;
var C=S.Q.ie(O.x,O.y);C=t.GE.$F(S,C,j);var M=S.ya(),D=M[0],X=M[1];this.pz=[C.x,C.y];this.jV=C;this.lK=new A(0,0)};
t.qP.prototype.ae=function(S,G,j){var z=[this.jV.clone(),G.clone()];if(this.fuc)z=t.qP.pM(z[0],z[1],j,!0,this.MP.cstr);
if(S)S.Q.Js=new Q(z[0].x,z[0].y,z[1].x-z[0].x,z[1].y-z[0].y);return this.Xd(z[0],z[1],j.U(w.H$),this.pz)};
t.qP.prototype.aG=function(S,G,j){var z=S.Q.ie(G.x,G.y),O=this.MP.cstr;if(O.CM==2){var i=new Q(z.x-O.x,z.y-O.y,O.x,O.y),C=t.GE.Po(S,i,j);
z.x+=C[0];z.y+=C[1];t.GE.PX(S,i,C)}else z=t.GE.$F(S,z,j);return z};t.qP.prototype.Xt=function(S,G,j,z,O){if(this.jV==null)return;
var i=this.aG(S,O,j);if(z.U(w.aO))this.jV=i.aB(this.lK);else this.lK=i.aB(this.jV);this.pz.push(i.x,i.y);
if(this.MP.shape==null)this.MP.shape=j.pm[0];var C=this.ae(S,i,z)[0],M=x.Y.tH(C);S.m.GR=M;if(this.id!=t.Sq&&this.id!=t.Jj&&this.id!=t.Jx)t.wx.Jm(O.x+10,O.y-10,S.Q.Js,S,j);
S.yK=!0};t.qP.prototype.fQZ=function(S,G,j,z){var O=S[4].clone();if(z){O.x-=G/2;O.y-=j/2}var i=this.Xd(O,new A(O.x+G,O.y+j),!1,this.pz);
this.at(S[0],S[1],S[2],i)};t.qP.prototype.at=function(S,G,j,z){var O=new L(E.E.Hz,!0);O.data=t.qP.pT(z[1],j);
G.D(O);if(z[1].v.classID=="customShape"&&z[1].v.Nm.v.startsWith("--")){var i=S.ya(),C=i[0],M=i[1],D=C[M.pop()],X=D.add.vmsk,l=D.add.vogk,f=X.clone();
f.z=z[0];this.fm(S,D.Qf,f,l)}};t.qP.prototype.Va=function(S,G,j,z,O){if(this.jV==null)return;var i=this.aG(S,O,j),C=this.MP.binop,M=this.MP.tmode,D=this.pz,X=D.length;
if(this.id==t.Sq&&X<=4){}else if(X<=4){var l=new L(E.E.e);l.data={r:E.a.YO,pv:"createshape",ful:this.fQZ.bind(this),fuy:this.name,fuB:[S,G,j,z,i]};
G.D(l)}else if(X!=2){var f=this.ae(S,i,z),F=f[0];if(M==0){F[2].ta=[1,2,3,0][C];var $=S.ya(!0),_=$[0],P=$[1],k=_[P[0]],H=k.add.vmsk,q=k.add.vogk,R=H.clone(),I=H.clone(),b=JSON.stringify(q);
I.z=I.z.concat(F.slice(2));I.N=[x.p.Bv(I.z)-1];var Y=x.tS.$X(f[1]);q.push(Y?Y:x.tS.Xh());this.fm(S,k.Qf,I,q);
this.vP(S,this.name,k.Qf,R,I,null,b,JSON.stringify(q))}else if(M==1){this.at(S,G,j,f)}else if(M==2){var I=new g.XT;
I.z=I.z.concat(F.slice(2));var m=I.Ew(),h=x.S(m.rect.h()*4);x.GC(h,(j.Cj&255)<<16|(j.Cj>>8&255)<<8|(j.Cj>>16&255)<<0);
x.Cy(m.channel,h,3);var e=new L(E.E.R,!0);e.s=t.bk;e.data={r:"draw",d_:{buffer:h,rect:m.rect.clone()},mj:this.name};
G.D(e)}}this.jV=null;S.m.GR=null;S.m.BR=null;S.m.dj=[];S.Q.Js=null;S.yK=!0};t.qP.prototype.Sr=function(S,G,j,z,O){for(var j in S)this.MP[j]=S[j]};
t.qP.pM=function(S,G,j,z,O){var i=S.x,C=S.y,M=G.x,D=G.y;if(O&&O.CM==2){if(z){M=Math.round(M);D=Math.round(D)}i=M-O.x;
C=D-O.y}else{var X=0;if(O&&O.CM==1)X=O.y/O.x;else if(j&&j.U(w.H$))X=1;if(X!=0){if(z){if(i<M)i=Math.floor(i);
else i=Math.ceil(i);if(C<D)C=Math.floor(C);else C=Math.ceil(C)}var l=Math.abs(M-i),f=Math.abs(D-C),F=l;
if(f/l<X)F*=f/l/X;M=M>i?i+F:i-F;D=D>C?C+F*X:C-F*X}if(j&&j.U(w.Ki)){i-=M-i;C-=D-C}}var S=new A(i,C),G=new A(M,D);
if(z)t.qP.fQu(S,G);return[S,G]};t.qP.fQu=function(S,G){if(S.x>G.x){var j=S.x;S.x=G.x;G.x=j}if(S.y>G.y){var j=S.y;
S.y=G.y;G.y=j}S.x=Math.floor(S.x);S.y=Math.floor(S.y);G.x=Math.ceil(G.x);G.y=Math.ceil(G.y)};t.qP.fQi=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
t.qP.Dn=function(S,G){var j=t.qP.fQi();if(G==null)G=JSON.parse(JSON.stringify(n.JL[S]));fA.vg.NA(G,j.Usng.v.Type.v,S);
return{mB:"make",MZ:j}};t.qP.pT=function(S,G){var j=G.pX,z=JSON.parse(JSON.stringify(G.aL));if(j.Gu==0)z.fillEnabled.v=!1;
var O=t.qP.Dn(Math.max(0,j.Gu-1),j.tZ);O.MZ.Usng.v.Shp=S;O.MZ.Usng.v.strokeStyle={t:"Objc",v:z};return O};
t.JQ=function(){t.mE.call(this,[10,29],t.vF,"tools/pen");this.Jz=null;this.Cp=null;this.fYR=1;this.fSP=0;
this.xT=null;this.xc=!1};t.JQ.prototype=new t.mE;t.JQ.prototype.tV=function(S){return this.Jz!=null};
t.JQ.prototype.ti=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y),$,_;i.x=Math.round(i.x);i.y=Math.round(i.y);
var C=t.GE.$F(S,i,j),M=S.ya(!0),D=M[0],X=M[1],l=D[X.pop()],f=l?l.add.vmsk:null,F=4*E.V()/S.Q.u;if(f)$=x.p.Rl(f.z,i,!0,F);
if(this.fYR==1&&(f==null||(f.Am.length==0||f.Am[0]!=f.z.length-1)&&$.Qf==-1)){var P=new L(E.E.Hz,!0),k=x.tS.Vo("customShape",[0,0,1,1],null,null,null,"--");
P.data=t.qP.pT(k,j);G.D(P);M=S.ya(!0);D=M[0];X=M[1];l=D[X.pop()];f=l.add.vmsk;f.z=f.z.slice(0,2)}var H=l.add.vogk;
this.Jz=f.clone();this.Cp=JSON.stringify(H);var q=f.z,R=x.p.Bv(q);_=x.p.YN(f.z,new Q(i.x-F,i.y-F,F*2,F*2));
$=x.p.Rl(f.z,i,!0,F);if($.Qf!=-1&&_[0].length==0){var I=x.p.VV(q,$.Qf);while(q[I].length<=$.qu){$.qu-=q[I].length;
I+=q[I].length+1}q[I].length++;q.splice(I+2+$.qu,0,{type:4,Cu:C.clone(),K:C.clone(),tw:C.clone()});f.Am=[I+2+$.qu]}else if(_[0].length==1&&z.U(w.Ki)){var b=_[0],Y=f.z.length-1,m=f.z[b];
m.tw=m.K.clone();if(b!=Y)m.Cu=m.K.clone()}else{var h=0;if(f.Am.length!=1){f.N=[R];q.push({type:3,length:1,ta:[1,2,3,0][this.fSP],lj:0,vG:0,pS:0});
h=q.length;H.push(x.tS.Xh())}else{var e=f.Am[0],s=x.p._M(q,e),I=x.p.VV(q,s);if(e==I+q[I].length&&A.nM(i,q[I+1].K)<F){q[I].type=0;
f.Am=[I+1];this.xT=C;this.xc=!0;this.fm(S,l.Qf,f,H);S.yK=!0;return}q[I].length++;h=e+1}if(z.U(w.H$)&&q[h-1]&&q[h-1].K)C=t.cE.nn(q[h-1].K,C);
q.splice(h,0,{type:4,Cu:C.clone(),K:C.clone(),tw:C.clone()});f.Am=[h];this.xT=C}this.fm(S,l.Qf,f,H);
S.yK=!0};t.JQ.prototype.Xt=function(S,G,j,z,O){if(this.Jz==null)return;var i=S.Q.ie(O.x,O.y),C=t.GE.$F(S,i,j),M=S.ya(!0),D=M[0],X=M[1],l=D[X.pop()],f=l.add.vmsk,F=f.z,$=F[f.Am[0]];
if(z.U(w.aO)){if(z.U(w.H$))C=t.cE.nn(this.xT,C);var _=$.K.aB($.tw),P=$.Cu.aB($.K);$.tw=C;$.K=C.add(_);
$.Cu=$.K.add(P)}else{if(z.U(w.H$))C=t.cE.nn($.K,C);if(this.xc){var k=A.nM($.K,C),H=k==0?0:A.nM($.K,$.tw)/k;
$.tw.x=$.K.x+H*(C.x-$.K.x);$.tw.y=$.K.y+H*(C.y-$.K.y)}else $.tw=C;if(z.U(w.Ki))$.type=5;else{$.type=4;
$.Cu=$.K.add($.K.aB(C))}this.xT=C}this.fm(S,l.Qf,f,l.add.vogk);S.yK=!0};t.JQ.prototype.Va=function(S,G,j,z,O){if(this.Jz==null)return;
var i=S.ya(!0),C=i[0],M=i[1],D=C[M.pop()],X=D.add.vmsk,l=D.add.vogk;this.vP(S,this.xc?"Close Path":"Add Anchor Point",D.Qf,this.Jz,X.clone(),null,this.Cp,JSON.stringify(l));
this.xc=!1;this.Jz=null};t.JQ.prototype.Sr=function(S,G,j,z,O){this.fYR=S.tmode;this.fSP=S.binop};t.pf=function(){t.qP.call(this,[10,30],t.Sq,"tools/fpen",!1)};
t.pf.prototype=new t.qP;t.pf.prototype.Xd=function(S,G,j,z){return[x.p.fKh(z,this.MP.tolr),x.tS.Vo("customShape",[0,0,1,1],null,null,null,"--")]};
t.oa=function(){t.mE.call(this,[10,27],t.Ml,"tools/pselect");this.qg=null;this.pd=!1;this.tp=null;this.Jz=null;
this.lT=null;this.Cp=null;this.ly=null;this.Yd=null;this.Hh=null};t.oa.prototype=new t.mE;t.oa.prototype.tV=function(S){return S.Uq};
t.oa.prototype.ti=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y),C=S.ya(),M=C[0],D=C[1],X,l;for(var f=0;f<D.length;
f++){var F=M[D[f]],$=x.p.Rl(F.add.vmsk.z,i).Qf;if($!=-1){this.tp=X=F;l=$}}if(X!=null){var _=X.add.vmsk;
_.Am=[];var P=_.N.indexOf(l);if(z.U(w.H$)){if(P==-1){_.N.push(l);this.pd=!0}else _.N.splice(P,1)}else{if(P==-1)_.N=[l];
this.pd=!0}this.Yd=x.p.Mq(_.z,_.N)}this.qg=i;this.Hh=new PA(i);S.PJ=!0;S.yK=!0};t.oa.prototype.Xt=function(S,G,j,z,O){if(this.qg==null)return;
var i=S.Q.ie(O.x,O.y);if(this.pd){i=this.Hh.Dv(i,z);var C=this.tp;if(this.Jz==null){this.Jz=this.lT=C.add.vmsk.clone();
this.Cp=this.ly=JSON.stringify(C.add.vogk);if(z.U(w.Ki)){var M=this.Jz.clone(),D=JSON.parse(this.Cp),X=t.mE.vk(M,D);
t.mE.vb(X,M,D);this.lT=M;this.ly=JSON.stringify(D)}}var l=this.Yd.clone(),f=l.x,F=l.y;l.offset(i.x-this.qg.x,i.y-this.qg.y);
l.x=Math.round(l.x);l.y=Math.round(l.y);var $=t.GE.Po(S,l,j),M=this.lT.clone(),_=new Ym(1,0,0,1,l.x-f+$[0],l.y-F+$[1]),D=JSON.parse(this.ly);
x.p.hu(M.z,_,M.N);x.tS.GY(D,x.Z.BS(_),M.N);this.fm(S,C.Qf,M,D);t.GE.PX(S,l,$)}else{var P=this.qg;S.m.GR=x.Y.pu(new Q(P.x,P.y,i.x-P.x,i.y-P.y));
S.yK=!0}};t.oa.prototype.Va=function(S,G,j,z,O){if(this.qg==null)return;var i=S.Q.ie(O.x,O.y),C=this.tp,M=C?C.add.vmsk:null;
if(this.pd){var D=JSON.stringify(C.add.vogk);if(!this.qg.Xs(i))this.vP(S,"Move Paths",C.Qf,this.Jz,M,null,this.Cp,D);
if(S!=null&&S.m.BR){S.m.BR=null;S.yK=!0}}else{if(M){var X=this.qg,l=new Q(X.x,X.y,i.x-X.x,i.y-X.y),f=x.p.fvq(M.z,l);
if(z.U(w.H$)){for(var F=0;F<f.length;F++)if(M.N.indexOf(f[F])==-1)M.N.push(f[F])}else M.N=f}S.m.GR=null;
S.yK=!0}this.qg=null;this.Jz=null;this.pd=!1;this.Hh=null};t.oa.prototype.nF=function(S,G,j,z){t.mE.prototype.nF.call(this,S,G,j,z);
if(S.N.length==0)return;var O=S.ya(),i=O[0],C=O[1];if(C.length==0)return;var M=i[C[0]],D=M.add.vmsk,X=M.add.vstk,l=M.add.vogk,f=new L(E.E.e,!0);
f.data={r:E.a.Qe,s:this.id,CY:"main",je:D?D:null,tS:l};G.D(f)};t.oa.prototype.Sr=function(S,G,j,z,O){var i=S.qh;
if(i.je){var C=j.ya(),M=C[0],D=C[1],X=M[D[0]],l=X.add.vmsk.clone(),f=JSON.stringify(X.add.vogk),F=i.je;
this.fm(j,X.Qf,F,i.tS);var $=[18,5];if(l.z.length==F.z.length)$=l.N[0]==F.N[0]?"Fill Rule":"Path Order";
this.vP(j,$,X.Qf,l,F,null,f,JSON.stringify(i.tS))}};t.jZ=function(){t.mE.call(this,[10,28],t.Jk,"tools/dselect");
this.jN=-1;this.WU=-1;this.xV=null;this.qg=null;this.tp=null;this.Jz=null;this.Cp=null;this.aN=0;this.fPD={psnap:!1};
this.Hh=null};t.jZ.prototype=new t.mE;t.jZ.prototype.tV=function(S){return S.Uq};t.jZ.prototype.Sr=function(S){this.fPD=S};
t.jZ.prototype.ti=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y),l,f,F;this.xV=i.clone();var C=S.ya(),M=C[0],D=C[1];
if(D.length==0)return;var X=4*E.V()/S.Q.u;for(var $=0;$<D.length;$++){l=this.tp=M[D[$]];f=l.add.vmsk;
F=x.p.YN(f.z,new Q(i.x-X,i.y-X,X*2,X*2));if(F[0].length+F[1].length+F[2].length!=0)break}var _=[!1,!1,!1];
for(var P=0;P<3;P++){for(var k=0;k<F[P].length;k++)if(f.Am.indexOf(F[P][k])!=-1){F[P]=[F[P][k]];_[P]=!0;
break}}if(F[0].length!=0&&(_[0]||!_[1]&&!_[2])){var H=F[0][0],q=f.Am.indexOf(H);if(z.U(w.H$)){if(q==-1)f.Am.push(H);
else{f.Am.splice(q,1);S.yK=!0;return}}else if(q==-1)f.Am=[H];this.jN=H;this.WU=0}else if(F[1].length!=0&&(_[1]||!_[2])){this.jN=F[1][0];
this.WU=1}else if(F[2].length!=0){this.jN=F[2][0];this.WU=2}else{var R=x.p.Rl(f.z,i,!0,X);if(R.Qf==-1)this.qg=i;
else{f.N=[R.Qf];f.Am=[]}}if(this.Jz==null){this.Jz=l.add.vmsk.clone();this.Cp=JSON.stringify(l.add.vogk)}this.Hh=new PA(i);
S.yK=!0};t.jZ.prototype.Xt=function(S,G,j,z,O){if(S==null)return;var i=S.Q.ie(O.x,O.y),C=this.tp;if(this.jN!=-1){var M=this.Jz.clone(),D=C.add.vogk,X=M.z[this.jN];
X=[X.K,X.Cu,X.tw][this.WU];if(z.U(w.H$)){i=this.Hh.Dv(i,z);i.x+=X.x-this.xV.x;i.y+=X.y-this.xV.y}else{if(this.fPD.psnap){i.x=Math.round(i.x);
i.y=Math.round(i.y)}i=t.GE.$F(S,i,j)}if(this.WU==0){var l=new Ym(1,0,0,1,i.x-X.x,i.y-X.y);x.p.hu(M.z,l,null,M.Am)}else{var f=M.z[this.jN],F=f.Cu,$=f.tw;
if(this.WU==2){F=f.tw;$=f.Cu}F.cK(i.x,i.y);if(f.type==1||f.type==4){var _=A.nM(F,f.K),P=A.nM($,f.K);
if(P!=0){$.x=f.K.x-(F.x-f.K.x)*(P/_);$.y=f.K.y-(F.y-f.K.y)*(P/_)}}}this.po(M,D);this.fm(S,C.Qf,M,D)}else if(this.qg!=null){var k=this.qg;
S.m.GR=x.Y.pu(new Q(k.x,k.y,i.x-k.x,i.y-k.y));S.yK=!0}};t.jZ.prototype.Va=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y),C=this.tp,M=C?C.add.vmsk:null,D=C?C.add.vogk:null;
if(this.jN!=-1){if(Date.now()-this.aN<300){var X=M.z[this.jN],l=this.WU,f=null;if(l==0){var F=X.Cu.Xs(X.K),$=X.tw.Xs(X.K);
if(!F&&!$){f="Anchor Type";if(X.type==1||X.type==4)X.type++;else{X.type--;X.tw=X.K.add(X.K.aB(X.Cu))}}else{f="Add Handles";
if(F&&$){X.Cu.x-=30;X.tw.x+=30}else if(F)X.Cu=X.K.add(X.K.aB(X.tw));else if($)X.tw=X.K.add(X.K.aB(X.Cu))}}else{f="Remove Handle";
if(l==1)X.Cu.du(X.K);else X.tw.du(X.K)}this.po(M,D);this.fm(S,C.Qf,M,D);this.vP(S,f,C.Qf,this.Jz,M,null,this.Cp,JSON.stringify(D))}else if(!this.xV.Xs(i)){this.vP(S,"Drag Anchors",C.Qf,this.Jz,M,null,this.Cp,JSON.stringify(D))}this.aN=Date.now()}else if(this.qg!=null){var _=this.qg,P=new Q(_.x,_.y,i.x-_.x,i.y-_.y);
if(P.o<0)P.x+=P.o;if(P.i<0)P.y+=P.i;P.o=Math.abs(P.o);P.i=Math.abs(P.i);var k=x.p.YN(M.z,P);M.Am=k[0];
S.m.GR=null}this.tp=null;this.Jz=null;this.qg=null;this.jN=this.WU=-1;this.Hh=null;S.yK=!0};t.jZ.prototype.po=function(S,G){for(var j=0;
j<S.Am.length;j++){var z=x.p._M(S.z,S.Am[j]);x.tS.Vq(G,z)}};t.jZ.prototype.HE=function(S,G,j,z){if(S==null)return;
var O=S.ya(),i=O[0],C=O[1];if(C.length==0)return;var M=i[C[0]],D=M.add.vmsk;if(D==null||D.Am.length==0)return;
var X=M.add.vogk,l=JSON.stringify(X),f=z.lL();if(f.x!=0||f.y!=0){var F=D.clone(),$=D.clone(),_=new Ym(1,0,0,1,f.x,f.y);
x.p.hu($.z,_,null,$.Am);this.po($,X);this.fm(S,M.Qf,$,X);this.vP(S,"Move Anchors",S.N[0],F,$.clone(),!0,l,JSON.stringify(X))}if(z.U(w.mO)||z.U(w.sG)){var F=D.clone(),$=D.clone();
$.z=x.p.fvL($.z,$.Am,X);$.Am=[];this.fm(S,M.Qf,$,X);this.vP(S,"Delete Anchors",M.Qf,F,$.clone(),!0,l,JSON.stringify(X))}};
t.jZ.prototype.vP=function(S,G,j,z,O,i,C,M){var D=S.KZ();if(i&&D!=null&&D.s==this&&D.data.fXR&&D.data.O$==j&&JSON.stringify(D.data.lC.Am)==JSON.stringify(z.Am)){D.data.ac=O;
D.data.la=M}else{var D=new fX(G,this);D.data={O$:j,lC:z,ac:O,fXR:i,fMm:C,la:M};S.Aq(D)}};t.Rect=function(){t.qP.call(this,[10,32],t.JD,"tools/rect",!0)};
t.Rect.prototype=new t.qP;t.Rect.prototype.Xd=function(S,G,j){var z=this.MP.crad,O=G.x-S.x,i=G.y-S.y;
return[x.p.Go.Rect(S.x,S.y,O,i,z),x.tS.Vo("Rctn",[S.x,S.y,G.x,G.y],[z,z,z,z])]};t.Bz=function(){t.qP.call(this,[10,33],t.aX,"tools/ellipse",!0)};
t.Bz.prototype=new t.qP;t.Bz.prototype.Xd=function(S,G,j){var z=G.x-S.x,O=G.y-S.y;return[x.p.Go.Bz(S.x,S.y,z,O),x.tS.Vo("Elps",[S.x,S.y,G.x,G.y])]};
t.pC=function(){t.qP.call(this,[10,34],t.Jj,"tools/pshape",!1)};t.pC.prototype=new t.qP;t.pC.prototype.Xd=function(S,G,j){var z=this.MP.pshape,O=this.MP.crad,i=this.MP.irad/100,C=this.MP.sides,M=this.MP.width,D=this.MP.tsiz,X=this.MP.length,k;
G=G.clone();if(j){if(Math.abs(G.x-S.x)<Math.abs(G.y-S.y))G.x=S.x;else G.y=S.y}var l=S.x,f=S.y,F=G.x,$=G.y,_=Math.sqrt((F-l)*(F-l)+($-f)*($-f)),P=Math.atan2(-$+f,F-l);
if(z==0)k=x.p.Go._P(l,f,_,P,C,O);if(z==1)k=x.p.Go.fKb(l,f,_,P,C,O,i);if(z==2)k=x.p.Go.fKe(S.x,S.y,G.x,G.y,M,D/100);
if(z==3)k=x.p.Go.fKE(l,f,_,P,X);return[k,x.tS.Vo("customShape",[S.x,S.y,G.x,G.y],null,null,null,"--")]};
t.Yn=function(){t.qP.call(this,[10,35],t.Jx,"tools/line",!1)};t.Yn.prototype=new t.qP;t.Yn.prototype.Xd=function(S,G,j){var z=this.MP.width;
G=G.clone();if(j){G=t.cE.nn(S,G)}return[x.p.Go.Yn(S.x,S.y,G.x,G.y,z),x.tS.Vo("Ln",null,null,[S.x,S.y,G.x,G.y],z)]};
t.pP=function(){t.qP.call(this,[10,31],t.aM,"tools/cshape",!0)};t.pP.prototype=new t.qP;t.pP.prototype.Xd=function(S,G,j){var z=this.MP.shape,O=z.HQ.o/z.HQ.i,i=g.XT.yS(z.z);
G=G.clone();if(j){G.y=S.y+(G.x-S.x)/O}var C=G.x-S.x,M=G.y-S.y;x.p.hu(i,new Ym(C,0,0,M,S.x,S.y));return[i,x.tS.Vo("customShape",[S.x,S.y,G.x,G.y],null,null,null,z.Xx)]};
t.Gh=function(S,G,j){t.wx.call(this,S,G,j);this.Yx=0;this.d=null;this.Cw=null;this.Wh=null;this.Vr=1;
this.xn=!1;this.cursor=null;this.D_=null;this.Qy=null;this.Yh=!1;this.XH=null;this.fvw=0;this.lk=null;
this.CJ=0;this.Xu=null;this.Gj=null;this.Bd=null;this.yp=null;this.yz=null};t.Gh.prototype=new t.wx;
t.Gh.prototype.nr=function(S,G,j,z,O){var i=new L(E.E.e,!0);i.data={r:E.a.Qe,s:this.id,VN:O,HX:S,Wh:j};
G.D(i);this.EZ=!1};t.Gh.prototype.tV=function(S){return this.Gj&&this.Gj.st()};t.Gh.prototype.Wq=function(S,G,j,z,O){this.Wh=O;
if(S.r=="again"&&this.lk==null)return;if(S.r=="doMouseDown"){if(this.Gj==null)return;this.ti(j,G,O,z,S.IL);
return}if(!this.vR(j,O))return;if(this.Gj){this.p$(S,this.Gj.oL());this.JG(j,O,!0);this.oi(j);return}this.p_(j,S.B==null,S.B);
this.zy(j);this.p$(S);this.vl(j,G,S.mj,!1)};t.Gh.prototype.p$=function(S,G){var j=this.Xu;if(G==null){var z=S.Bs!=null?S.Bs:4;
G=this.Gj.fTq()[z]}var O=G.x,i=G.y;if(S.r=="rot"&&S.g!=Math.PI&&(j.o+j.i&1)==1){O=Math.floor(O);i=Math.floor(i)}var C=new Ym;
C.translate(-O,-i);if(S.r=="rot")C.rotate(S.g);if(S.r=="scl")C.scale(S.g.x,S.g.y);if(S.r=="mat")C.concat(S.g);
C.translate(O,i);if(S.r=="again")C=this.lk;var M=this.Gj.vy();x.Y.GY(M,C,M);this.Gj.ps(M)};t.Gh.prototype.Zx=function(){return!0};
t.Gh.prototype.vR=function(S,G){if(S==null)return!1;if(this.id==t.Jb)return S.f!=null;var j=S.Of(!0);
for(var z=0;z<j.length;z++){var O=S.d[j[z]];if(O.Ka(2)||O.Ka(31)){alert(YP.get([6,57,0]));return!1}if(O.add.artb){alert("You can not transform the whole artboard");
return!1}if(O.add.TySh)if(!Cw.fi(O.add.TySh,G.UW))return!1;if(O.add.SoLd){if(j.length==1&&!x.yw.Bc(O.add.SoLd.warp.v)&&(O.Ew()&&O.Ew().KQ||O.add.vmsk&&O.add.vmsk.KQ)){alert("Unlink masks before transforming Smart Object");
return!1}if(!S.fnF(O.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+S.CD(O.add.SoLd.Idnt.v).HU+")");
return!1}}}if(S.f==null)return!0;if(!S.OX())return!1;return S.Nm()};t.Gh.prototype.ti=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y);
if(this.CJ==1){var C=x.Z.uT(x.Z.Ia(this.Gj.vy(),this.Xu));i=x.Z.em(C,i)}var M=this.CJ==0?this.Gj:this.Bd;
this.xn=M.ti(S,j,z,i);if(this.xn&&M._F(i)){if(Date.now()-this.fvw<250)this.vl(S,G,null,!0);this.fvw=Date.now()}};
t.Gh.prototype.HT=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.IY,vM:this.cursor};S.D(G)};t.Gh.prototype.Xt=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y);
if(this.CJ==1){var C=x.Z.uT(x.Z.Ia(this.Gj.vy(),this.Xu));i=x.Z.em(C,i)}var M=this.CJ==0?this.Gj:this.Bd;
if(!O.Uq){var D="default";if(M){var X=M.Pp(i,S.Q.u);if(X)D=X}if(D!=this.cursor){this.cursor=D;this.HT(G)}}if(!this.xn)return;
M.Xt(S,j,z,i);this.JG(S,j,!0);this.oi(S);this.Pa(G)};t.Gh.prototype.Va=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y);
this.Gj.Va(S,j,z,i);this.xn=!1};t.Gh.prototype.HE=function(S,G,j,z){if(z.U(w.A$))this.vl(S,G,null,!0);
else if(z.U(w.pW))this.jv(S,G);else{var O=this.Gj.HE(S,j,z);if(O){this.JG(S,j,!0);this.Pa(G)}}};t.Gh.prototype.Sr=function(S,G,j,z){if(S.CY=="commit")this.vl(j,G,null,!0);
else if(S.CY=="cancel")this.jv(j,G);else if(S.CY=="switchWarp"){this.CJ=1-this.CJ;this.fQr();this.oi(j);
this.Pa(G)}else if(S.CY=="wrp"){this.Bd.mI(S.xJ);this.oi(j);this.JG(j,this.Wh,!0)}else if(S.CY=="ctyp"){this.Gj.fT_(S.yT);
this.oi(j);this.Pa(G)}else if(S.CY=="cen"){this.Gj.fZX(S.Bm);this.oi(j);this.JG(j,this.Wh,!0);this.Pa(G)}else if(S.CY=="trn"){var O=x.Z.BS(S.hg),i=this.Xu,C=x.Z.Ia(this.Gj.vy(),this.Xu);
O[6]=C[6],O[7]=C[7];var M=[i.x,i.y,i.x+i.o,i.y,i.x+i.o,i.y+i.i,i.x,i.y+i.i];x.Z.apply(O,M);this.Vr=S.Vr;
this.Gj.ps(M);this.oi(j);this.JG(j,this.Wh,!0)}};t.Gh.prototype.oi=function(S){if(this.CJ==0)this.Gj.ju(S,this.Wh);
else{this.Bd.ju(S);var G=x.Z.Ia(this.Gj.vy(),this.Xu);x.Z.apply(G,S.m.GR.v);x.Z.apply(G,S.m.oZ)}};t.Gh.prototype.vl=function(S,G,j,z){this.JG(S,this.Wh,this.Vr==0);
var O=new fX(j?j:this.name,this);if(this.Yx==0)O.data={type:this.Yx,d:this.d,XH:this.Cw,iN:t.Gh._I(S,this.d)};
else if(this.Yx==1){var i=S.d[this.d[0]],C;if(i.ke.hz<=0){C=x.S(i.ke.nj.h());x.tb(i.ke.qz,C,3)}else C=S.f.channel;
var M={rect:i.ke.nj.clone(),channel:C};O.data={type:this.Yx,B:this.d[0],Qy:this.Qy,i_:M,D_:this.D_,Yh:this.Yh,ke:i.ke,XH:this.XH,iN:{L:i.ke.nj,Pt:i.ke.qz}}}else if(this.Yx==2){O.data={type:this.Yx,Qy:this.Qy,i_:{rect:S.f.rect.clone(),channel:x.clone(S.f.channel)}}}S.Aq(O);
var D=this.Xu,X=new A(D.x+D.o/2,D.y+D.i/2),l=x.Z.Ia(this.Gj.vy(),D),f=x.Z.Ma(l),F=new Ym;F.translate(X.x,X.y);
F.concat(f);F.translate(-X.x,-X.y);f=F.clone();var $=-Math.atan2(-f.C,f.A),_=new Ym;_.rotate($);f.concat(_);
function P(H,q){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][q],val:H}}}var k={classID:"null",null:fZ.cX("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:P(F.cg,0),Vrtc:P(F.tL,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:P(Math.atan(f.vK)*180/Math.PI,2),Vrtc:P(0,2)}},Wdth:P(f.A*100,1),Hght:P(f.JE*100,1),Angl:P($*180/Math.PI,2)};
this.Og=G;this.track({mB:"transform",MZ:k});this.escape(S,G,z)};t.Gh.prototype.jv=function(S,G){if(this.Yx==0)t.Gh.__(S,this.d,this.Cw);
else if(this.Yx==1){var j=S.d[this.d[0]];S.f=this.Qy;if(!this.Yh){j.ke.nj=this.XH.L;j.ke.qz=this.XH.Pt;
j.aF(S,0,0,S.f)}else{j.z_(S,this.D_)}S.I();S.az=!0}else if(this.Yx==2){S.f=this.Qy;S.az=!0}this.escape(S,G,!0)};
t.Gh.prototype.escape=function(S,G,j){this.Gj.clear(S);this.Gj=null;this.Bd=null;this.CJ=0;if(j)this.RO(G,E.E.e,{r:E.a.fod})};
t.Gh.prototype.YQ=function(S,G){if(S.type==0)t.Gh.__(G,S.d,S.iN);else{if(S.type==1){var j=G.d[S.B];if(S.Yh){j.ke=S.ke}else{j.ke.nj=S.iN.L;
j.ke.qz=S.iN.Pt}j.aF(G,0,0,G.f);G.I()}G.f={rect:S.i_.rect.clone(),channel:x.clone(S.i_.channel)};G.az=!0}};
t.Gh.prototype.m$=function(S,G){if(S.type==0)t.Gh.__(G,S.d,S.XH);else{if(S.type==1){var j=G.d[S.B];if(S.Yh){j.z_(G,S.D_)}else{j.ke.nj=S.XH.L;
j.ke.qz=S.XH.Pt;j.aF(G,0,0,G.f)}G.I()}G.f=S.Qy;G.az=!0}};t.Gh.prototype.p_=function(S,G,j){S.ya();var z=[];
if(j!=null||S.ML.length==0||S.IN.length!=0)z=S.Of(G,j);if(j==null&&S.ML.length!=0)for(var O=0;O<S.ML.length;
O++)z.push(-1-S.ML[O]);this.d=z};t.Gh.prototype.enable=function(S,G,j,z,O,i,C){if(this.cursor==null)this.cursor="default";
this.HT(G);if(this.Gj)return;this.Wh=j;this.p_(S,!0);this.zy(S,i&&i.Cg==1?1:null,C);this.Pa(G);this.oi(S);
if(i&&i.Cg==2)this.Sr({CY:"switchWarp"},G,S,z)};t.Gh.prototype.Pa=function(S){var G={r:E.a.Qe,s:this.id};
if(this.CJ==0){var j=x.Z.Ia(this.Gj.vy(),this.Xu),z=x.Z.Ma(j);G.hg={Mt:z,yT:this.Gj.fT$(),Bm:this.Gj.oL(),L:this.Xu.clone()}}else{G.xJ=this.Bd.pV()}G.fux=this.Bd!=null;
this.RO(S,E.E.e,G)};t.Gh.prototype.zy=function(S,G,j){var z=this.id==t.Jb,O=!0,i=S.d[this.d[0]],D=null;
if(z){this.Yx=2;this.Qy=S.f}else if(S.f&&this.d.length==1&&!i.rect.tR()){this.Yx=1;this.Qy=S.f;this.D_=i.ke;
this.Yh=!1;if(!i.Br(S,S.f)){this.Yh=!0;i.zb(S,S.f,!1)}this.XH={Pt:i.ke.qz,L:i.ke.nj}}else{this.Yx=0;
this.Cw=t.Gh._I(S,this.d,null,j);for(var C=0;C<this.Cw.length;C++)if(this.Cw[C][3]!=null)O=!1}var M=this.Yx==1;
if(this.Cw&&this.Cw.length==1){var X=this.Cw[0];if(X[3]==null)M=!0;if(X[4]!=null){D=S.d[this.d[0]].add.SoLd;
if(X[1]||X[2])M=!1}}var l=z?S.f.rect.clone():t.Gh.to(S,this.d,j);this.Xu=l;if(!z&&D){var f=t.Gh.JF(D.nonAffineTransform);
this.Xu=x.Y.wR(x.yw.Ys(D.warp.v));if(M)this.Bd=new fb(D.warp.v);this.yp=x.Z.Ia(f,this.Xu);this.Gj=new Mu(f,!0,!0,O,!1,!1,G)}else{if(M||z)this.Bd=new fb(x.yw.S(this.Xu));
this.yp=[1,0,0,0,1,0,0,0];this.Gj=new Mu([l.x,l.y,l.x+l.o,l.y,l.x+l.o,l.y+l.i,l.x,l.y+l.i],!0,!0,O,!1,!1,G)}this.yz=[1,0,0,0,1,0,0,0]};
t.Gh.to=function(S,G,j){if(G==null)G=S.Of(!0);var z=new Q;if(S.f&&G.length==1)z=S.f.rect.clone();else for(var O=0;
O<G.length;O++){var i=G[O],C=0<=i?S.d[i]:S.qD[-1-i],M=C.add.vmsk,D=0<=i?C.yo(S,G.length==1,!1,j):x.p.Mq(M.z,G.length==1&&M.N.length!=0?M.N:null);
z=z.wB(D)}return z};t.Gh.prototype.RO=function(S,G,j,z){var O=new L(G,!0);O.data=j;if(z)O.s=z;S.D(O)};
t.Gh._I=function(S,G,j,z){var O=[];for(var i=0;i<G.length;i++){var C=G[i],M,D;if(C>=0){M=S.d[C];D=M.RX(S,j,z)}else{M=S.qD[-1-C];
D=[2]}var X=[];if(D.indexOf(0)!=-1){var l={yZ:[x.clone(M.buffer),M.rect.clone()]};X.push(l);if(M.AG()){var f=M.td(S);
l.fue=x.clone(f.buffer);l.fwC=f.rect.clone()}}else X.push(null);if(D.indexOf(1)!=-1)X.push(M.Ew().clone());
else X.push(null);if(D.indexOf(2)!=-1)X.push({je:M.add.vmsk.clone(),GN:M.add.vstk?JSON.parse(JSON.stringify(M.add.vstk)):null,tS:M.add.vogk?JSON.parse(JSON.stringify(M.add.vogk)):null});
else X.push(null);if(M.add.TySh&&X[0])X.push(M.add.TySh.GY.clone());else X.push(null);if(M.add.SoLd&&X[0])X.push(JSON.parse(JSON.stringify(M.add.SoLd)));
else X.push(null);if(D.indexOf(3)!=-1)X.push(M.td(S).q.clone());else X.push(null);if(M.add.lmfx)X.push(JSON.stringify(M.add.lmfx));
else X.push(null);O.push(X)}return O};t.Gh.__=function(S,G,j){for(var z=0;z<G.length;z++){var O=G[z],i=0<=O?S.d[O]:S.qD[-1-O],C=j[z];
if(C[0]){i.rect=C[0].yZ[1].clone();i.buffer=x.clone(C[0].yZ[0]);if(i.AG()){var M=i.td(S);M.buffer=x.clone(C[0].fue);
M.rect=C[0].fwC.clone()}}if(C[1]){i.Ew().channel=x.clone(C[1].channel);i.Ew().rect=C[1].rect.clone();
i.Ew().io=!0}if(C[2]){i.add.vmsk=C[2].je.clone();if(C[2].GN)i.add.vstk=JSON.parse(JSON.stringify(C[2].GN));
if(C[2].tS)i.add.vogk=JSON.parse(JSON.stringify(C[2].tS))}if(C[3]){i.add.TySh.GY=C[3].clone()}if(C[4]){i.add.SoLd=JSON.parse(JSON.stringify(C[4]))}if(C[5]){var D=i.td(S).q;
D.channel=x.clone(C[5].channel);D.rect=C[5].rect.clone()}if(C[6]){i.add.lmfx=JSON.parse(C[6])}if(0<=O){i.uf(S);
i.I()}}S.I()};t.Gh.HR=function(S){var G=S.clone(),j=Math.atan2(-G.C,G.A),z=new Ym;z.rotate(-j);G.concat(z);
return(Math.abs(G.A)+Math.abs(G.JE))/2};t.Gh.pp=function(S,G,j,z,O,i,C,M,D){var X=x.Z.Ma(i),l=t.Gh.HR(X);
for(var f=0;f<j.length;f++){var F=j[f],$=0<=F?S.d[F]:S.qD[-1-F],_=z[f];if($.add.lmfx&&M)Yv.fYO($.add.lmfx,l);
if(_[0]&&!_[3]&&!_[4]&&!_[5]){var P=_[0].yZ;if(D){var k=D.clone(),H=x.S(k.h()*4);x.yF(P[0],P[1],H,k);
P=[H,k]}var q=t.Gh.oh(P,O,i,C,O?$.buffer.buffer:null);if(q){$.rect=q.rect;$.buffer=q.buffer}}if(_[1])t.Gh.zk(S,_[1],$.Ew(),O,i,C);
if(_[2]){var R=C&&!x.yw.Bc(C),I=_[2].je.clone(),b=j.length==1&&I.N.length!=0,Y=j.length==1&&I.Am.length>1;
if(Y)b=!1;var m=b?I.N:null,h=Y?I.Am:null;if(R){var e=x.yw.Ys(C);x.Z.apply(i,e);x.p.fvS(I.z,e,m,h)}else x.p.fPw(I.z,i,m,h);
if($.add.vstk&&M)$.add.vstk.strokeStyleLineWidth.v.val=_[2].GN.strokeStyleLineWidth.v.val*l;if($.add.vogk){$.add.vogk=JSON.parse(JSON.stringify(_[2].tS));
if(R||Y)x.tS.fdH($.add.vogk);else x.tS.GY($.add.vogk,i,j.length>1?[]:I.N,M)}I.vU*=l;$.add.vmsk=I;if($.add.vogk)x.tS.VU($.add.vogk,$.add.vmsk)}if(_[3]){var s=_[3].clone();
s.concat(X);$.add.TySh.GY=s;var y=new fv($.add.TySh.Nv,G.UW),T=Cw.Dm(y,$.add.TySh);$.rect=T.L;$.buffer=T.hC}if(_[4]){var K=$.add.SoLd,B=t.Gh.JF(_[4].nonAffineTransform);
x.Z.apply(i,B);var a=x.Y.sO(B);if(Mu.pw(B)){if(C){var u=x.Y.wR(x.yw.Ys(_[4].warp.v)),r=x.Z.Ia(B,u),v=x.Y.wR(x.yw.Ys(C));
B=[v.x,v.y,v.x+v.o,v.y,v.x+v.o,v.y+v.i,v.x,v.y+v.i];x.Z.apply(r,B);K.warp.v=C}var o=x.Z.Ia(B),V=B;if(!x.Z.Vs(o)){o[6]=o[7]=0;
V=[0,0,1,0,1,1,0,1];x.Z.apply(o,V)}K.Trnf=t.Gh.Zl(V);K.nonAffineTransform=t.Gh.Zl(B);$.pi(S,O)}}if(_[5])t.Gh.zk(S,_[5],$.td(S).q,O,i,C);
if(0<=F){if(O==!1)$.Gw();$.uf(S);$.I()}}S.I()};t.Gh.vh=function(S,G,j,z,O,i){if(j==null)j=!1;return t.Gh.oh(S,j,x.Z.BS(G),null,z,O,i)};
t.Gh.oh=function(S,G,j,z,O,i,C){var M={},f=0;if(z&&!x.yw.Bc(z)){var D=x.yw.Ys(z);x.Z.apply(j,D);M.rect=x.Y.sO(D);
M.buffer=x.S(M.rect.h()*4);x.GW.drawImage(D,S[0],S[1].o,S[1].i,M.buffer,M.rect,G);return M}x.XU(S);var X=S[0],l=S[1];
while(f+3<S.length&&S[f+3].h()>16&&x.Z.Vs(j)&&t.Gh.HR(x.Z.Ma(j))<.3){f+=2;var F=S[f],$=S[f+1],_=l.o/$.o,P=l.i/$.i;
j=x.Z.FS(j,[1,0,l.x,0,1,l.y,0,0]);j=x.Z.FS(j,[_,0,0,0,P,0,0,0]);j=x.Z.FS(j,[1,0,-l.x,0,1,-l.y,0,0]);
l=$;X=F}var k=x.Z.FS(j,x.Z.BS(new Ym(l.o,0,0,l.i,l.x,l.y))),H=[0,0,1,0,1,1,0,1];x.Z.apply(k,H);M.rect=x.Y.sO(H);
if(C)M.rect=M.rect.tY(C);if(!Mu.pw(H)||M.rect.o>1e5||M.rect.i>1e5||M.rect.h()>1e4*2e4)return null;var q=M.rect.h()*4;
if(O&&O.byteLength>=q&&q>=O.byteLength>>2){M.buffer=new Uint8Array(O)}else{M.buffer=x.S(q)}x.Z.drawImage(k,X,l.o,l.i,M.buffer,M.rect,G,i);
if(M.buffer)return M};t.Gh.zk=function(S,G,j,z,O,i){if(G.color==255)x.uT(G.channel);var C=G.rect,M=x.S(C.h()*4);
x.Cy(G.channel,M,3);var D=t.Gh.oh([M,C],z,O,i);if(D){j.rect=D.rect;j.channel=x.S(D.rect.h());x.tb(D.buffer,j.channel,3);
j.io=!0}if(G.color==255){x.uT(G.channel);if(D)x.uT(j.channel)}};t.Gh.JF=function(S){var G=[],j=S.v.length;
for(var z=0;z<j;z++)G.push(S.v[z].v);return G};t.Gh.Zl=function(S){var G={t:"VlLs",v:[]},j=S.length;
for(var z=0;z<j;z++)G.v.push({t:"doub",v:S[z]});return G};t.Gh.prototype.fQr=function(){var S=x.Y.wR(x.yw.Ys(this.Bd.pV())),G=x.Z.Ia(this.Gj.vy(),this.Xu),j=[S.x,S.y,S.x+S.o,S.y,S.x+S.o,S.y+S.i,S.x,S.y+S.i];
x.Z.apply(G,j);this.Gj.ps(j);this.Xu=S};t.Gh.prototype.JG=function(S,G,j){var z=x.Z.Ia(this.Gj.vy(),this.Xu),M=1e-10,$=!1,_=!1;
z=x.Z.FS(z,x.Z.uT(this.yp));var O=x.Z.Ma(z),i=this.yz,C=x.Z.Ma(i);this.yz=z;var D=Math.abs,X=Math.round,l=z[2]-i[2],f=z[5]-i[5],F=D(z[0]-i[0])<M&&D(z[1]-i[1])<M&&D(z[3]-i[3])<M&&D(z[4]-i[4])<M&&D(z[6]-i[6])<M&&D(z[7]-i[7])<M&&D(l-X(l))<M&&D(f-X(f))<M;
if(this.Yx==0&&this.d.length==1){var P=this.Cw[0][2];$=P&&(P.je.N.length!=0||P.je.Am.length>1)}for(var k=0;
k<this.d.length;k++)if(this.d[k]<0)_=!0;if(F&&this.Yx==0&&j==!0&&this.CJ==0&&!$&&!_){t.GE.Ig(S,this.d,t.GE.SX(S,this.d),Math.round(-C.cg+O.cg),Math.round(-C.tL+O.tL));
return}var H=this.Bd?this.Bd.pV():null;if(this.Yx==0){this.lk=x.Z.Ma(z);t.Gh.pp(S,G,this.d,this.Cw,j,z,H)}else if(this.Yx==1){var q=S.d[this.d[0]],R=this.XH.L;
if(q.hz<=0){var I=this.XH.Pt,b=this.Qy;if(H&&!x.yw.Bc(H)&&!b.rect.Xs(R)){var Y=x.S(b.rect.h()*4);x.yF(I,R,Y,b.rect);
I=Y;R=b.rect}var m=t.Gh.oh([I,R],j,z,H);if(m){q.ke.qz=m.buffer;q.ke.nj=m.rect;var h=x.S(m.rect.h());
x.tb(q.ke.qz,h,3);S.f={channel:h,rect:q.ke.nj.clone()}}}else{var e=x.S(R.h()*4);x.Cy(this.XH.Pt,e,3);
var m=t.Gh.oh([e,R],j,z,H);if(m){q.ke.qz=x.S(m.rect.h());x.tb(m.buffer,q.ke.qz,3);q.ke.nj=m.rect}this.zB(S,j,z,H)}q.aF(S,0,0,S.f);
if(j==!1){q.Gw();x.Gw(S.f)}S.az=!0;S.I()}else if(this.Yx==2)this.zB(S,j,z,H)};t.Gh.prototype.zB=function(S,G,j,z){var O=this.Qy.rect,i=x.S(O.h()*4);
x.Cy(this.Qy.channel,i,3);var C=t.Gh.oh([i,O],G,j,z),M=x.S(C.rect.h());x.tb(C.buffer,M,3);S.f={channel:M,rect:C.rect};
S.az=!0};t.Gh.prototype.disable=function(S,G,j,z){if(this.Gj)this.vl(S,G,null,!0)};t.zN=function(){t.Gh.call(this,[10,16],t.Kk,"tools/transform")};
t.zN.prototype=new t.Gh;t.Kg=function(){t.Gh.call(this,[7,10],t.Jb,"tools/transform")};t.Kg.prototype=new t.Gh;
t.Ga=function(S,G,j){t.wx.call(this,S?S:[10,40],G?G:t.v_,j?j:"tools/slice");this.py=null;this.faa=null;
this.nR=null};t.Ga.prototype=new t.wx;t.Ga.prototype.enable=function(S,G,j,z,O,i){t.wx.prototype.enable.call(this,S,G,j,z,O,i);
if(!j.E$.fF){var C=new L(E.E.e,!0);C.data={r:E.a.zv,zC:o$.kr};G.D(C)}};t.Ga.prototype.ti=function(S,G,j,z,O){if(S==null)return;
this._N(S);var i=S.Q.ie(O.x,O.y);i=t.GE.$F(S,i,j,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
this.nR=i;S.fF.unshift(t.Ga.Kt());S.Eu=[0];t.Ga.lM(S.fF,0,[i.x,i.y,i.x+20,i.y+20]);S.yK=!0};t.Ga.prototype.Xt=function(S,G,j,z,O){if(this.py==null)return;
var i=S.Q.ie(O.x,O.y),C=this.nR;i=t.GE.$F(S,i,j,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
var M=[C.x,C.y,i.x,i.y];t.Ga.Kz(M);t.Ga.lM(S.fF,0,M);S.yK=!0};t.Ga.prototype.Va=function(S,G,j,z,O){this.Ib(S);
this.nR=null};t.Ga.prototype._N=function(S){this.py=JSON.stringify(S.fF);this.faa=JSON.stringify(S.Eu)};
t.Ga.prototype.Ib=function(S){var G=JSON.stringify(S.fF);if(G!=this.py){var j=new fX(this.name,this);
j.data={XH:this.py,iN:G,fwp:this.faa,fwK:JSON.stringify(S.Eu)};S.Aq(j)}this.py=null};t.Ga.prototype.m$=function(S,G){G.fF=JSON.parse(S.XH);
G.Eu=JSON.parse(S.fwp);G.yK=!0};t.Ga.prototype.YQ=function(S,G){G.fF=JSON.parse(S.iN);G.Eu=JSON.parse(S.fwK);
G.yK=!0};t.Ga.prototype.DW=function(S,G){return G!=null&&G.Eu.length!=0&&(S==w.mO||S==w.sG)};t.Ga.prototype.HE=function(S,G,j,z){if(S==null)return;
this._N(S);var O=z.lL();if(O.x!=0||O.y!=0)t.Ga.a_(S,O);if(z.U(w.mO)||z.U(w.sG)){var i=S.fF.slice(0);
for(var C=0;C<S.Eu.length;C++)S.fF.splice(S.fF.indexOf(i[S.Eu[C]]),1);S.Eu=[]}this.Ib(S)};t.Ga.prototype.Sr=function(S,G,j,z,O){if(j==null||j.Eu.length==0)return;
this._N(j);var i=j.fF,C=j.Eu;C.sort(function(_,P){return _-P});console.log(C);var M=i.slice(0),D=[],X=[];
for(var l=0;l<C.length;l++){var f=C[l],F=i[f];X.push(F);M.splice(M.indexOf(F),1)}var $=Math.max(0,Math.min(M.length,C[0]-S.dir));
for(var l=0;l<X.length;l++){M.splice($+l,0,X[l]);D.push($+l)}j.fF=M;j.Eu=D;this.Ib(j)};t.Ga.fTP=function(S,G,j,z){var O=new A(-G.x,-G.y),i=G.o/j.o,C=G.i/j.i,M=[0,0,G.o,G.i];
for(var X=0;X<S.length;X++){var l=t.Ga.pa(S,X);if(z){l[0]=Math.round(l[0]*i);l[1]=Math.round(l[1]*C);
l[2]=Math.round(l[2]*i);l[3]=Math.round(l[3]*C)}else{t.Ga.pK(l,O);t.Ga.fTD(l,M)}if(l[0]>=l[2]||l[1]>=l[3]){S.splice(X,1);
X--;continue}t.Ga.lM(S,X,l)}};t.Ga.a_=function(S,G){var j=S.fF;for(var z=0;z<S.Eu.length;z++){var O=t.Ga.pa(j,S.Eu[z]);
t.Ga.pK(O,G);t.Ga.lM(j,S.Eu[z],O)}};t.Ga.fTD=function(S,G){if(S[0]<G[0])S[0]=G[0];if(S[1]<G[1])S[1]=G[1];
if(G[2]<S[2])S[2]=G[2];if(G[3]<S[3])S[3]=G[3]};t.Ga.pK=function(S,G){S[0]=Math.round(S[0]+G.x);S[2]=Math.round(S[2]+G.x);
S[1]=Math.round(S[1]+G.y);S[3]=Math.round(S[3]+G.y)};t.Ga.lM=function(S,G,j){var z=S[G].v.bounds.v;z.Left.v=j[0];
z.Top.v=j[1];z.Rght.v=j[2];z.Btom.v=j[3]};t.Ga.pa=function(S,G){var j=S[G].v.bounds.v;return[j.Left.v,j.Top.v,j.Rght.v,j.Btom.v,G]};
t.Ga.Kz=function(S){if(S[2]<S[0]){var G=S[0];S[0]=S[2];S[2]=G}if(S[2]==S[0])S[2]++;if(S[3]<S[1]){var G=S[1];
S[1]=S[3];S[3]=G}if(S[3]==S[1])S[3]++};t.Ga.wR=function(S,G){var j=1e9,z=-1e9,O=1e9,i=-1e9;for(var C=0;
C<G.length;C++){var M=t.Ga.pa(S,G[C]);j=Math.min(j,M[0]);O=Math.min(O,M[1]);z=Math.max(z,M[2]);i=Math.max(i,M[3])}return[j,O,z,i]};
t.Ga.Kt=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
t.or=function(){t.Ga.call(this,[10,41],t.vN,"tools/sselect");this.nR=null;this.Hw=null;this.ox=null;
this.CO=null;this.yJ=!1};t.or.prototype=new t.Ga;t.or.prototype.ti=function(S,G,j,z,O){if(S==null)return;
var i=S.Q.ie(O.x,O.y),C=t.or.su(i,4/S.Q.u,S.fF,S.Eu);C.pop();if(C.length!=0){this.nR=i;this.ox=C;this._N(S);
return}var M=S.fF,D=-1;for(var X=0;X<M.length;X++){var l=t.Ga.pa(M,X);if(l[0]<=i.x&&i.x<=l[2]&&l[1]<=i.y&&i.y<=l[3]){D=X;
break}}if(D==-1)S.Eu=[];else{var f=S.Eu.indexOf(D);if(z.U(w.H$)){if(f==-1)S.Eu.push(D);else S.Eu.splice(f,1)}else{S.Eu.sort(function(H,q){return H-q});
if(f==-1)S.Eu=[D];this.nR=i;this._N(S);this.Hw=t.Ga.wR(M,S.Eu);this.CO=[];for(var X=0;X<S.Eu.length;
X++)this.CO.push(t.Ga.pa(M,S.Eu[X]));if(z.U(w.Ki)){var F=M.slice(0),$=S.Eu,_=[];for(var X=0;X<$.length;
X++){var D=$[X],P=F[D],k=M.indexOf(P);_.push(k);M.splice(k,0,JSON.parse(JSON.stringify(P)))}S.Eu=_}}}S.yK=!0};
t.or.prototype.Xt=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y);if(this.nR==null){var C=t.or.su(i,4/S.Q.u,S.fF,S.Eu),M=C.pop(),D=C.length==0?"default":["ew","nwse","ns","nesw"][M]+"-resize",X=new L(E.E.e,!0);
X.data={r:E.a.IY,vM:D};G.D(X);return}if(!this.yJ&&i.Xs(this.nR))return;this.yJ=!0;var l=S.fF,C=this.ox;
if(C){i=t.GE.$F(S,i,j,[!0,null,!1]);var f=Math.round(i.x),F=Math.round(i.y);for(var $=0;$<C.length;$+=2){var _=t.Ga.pa(l,C[$]),P=C[$+1];
_[P]=(P&1)==0?f:F;t.Ga.Kz(_);t.Ga.lM(l,C[$],_)}}else{var k=i.aB(this.nR),H=this.Hw.slice(0);t.Ga.pK(H,k);
var q=new Q(H[0],H[1],H[2]-H[0],H[3]-H[1]),R=t.GE.Po(S,q,j,[!0,null,!1],!0);t.GE.PX(S,q,R);k.x+=R[0];
k.y+=R[1];for(var $=0;$<S.Eu.length;$++)t.Ga.lM(l,S.Eu[$],this.CO[$]);t.Ga.a_(S,k)}S.yK=!0};t.or.prototype.Va=function(S,G,j,z,O){if(this.nR==null)return;
this.Ib(S);S.m.BR=null;S.yK=!0;this.nR=null;this.ox=null;this.CO=null;this.yJ=!1};t.or.su=function(S,G,j,z){var O=S.x,i=S.y,C=[],M=-1,D=[];
for(var X=0;X<z.length;X++){var l=z[X],f=t.Ga.pa(j,l),F=f[0],$=f[1],_=f[2],P=f[3];if(O<F-G||_+G<O||i<$-G||P+G<i)continue;
var k=[O<F+G,i<$+G,_-G<O,P-G<i],H=-1;for(var q=0;q<4;q++){if(k[q]&&k[q+1&3])H=1+2*(q&1);if(k[q])C.push(l,q)}if(H==-1){if(k[0]||k[2])H=0;
if(k[1]||k[3])H=2}if(H!=-1){M=H;D.push(l)}}var R=C.length;for(var X=0;X<R;X+=2){var l=C[X],I=C[X+1],b=t.Ga.pa(j,l)[I];
for(var q=0;q<z.length;q++){var Y=z[q];if(D.indexOf(Y)!=-1)continue;var f=t.Ga.pa(j,Y);if(f[I&1]==b)C.push(Y,I&1);
if(f[2+(I&1)]==b)C.push(Y,2+(I&1))}}C.push(M);return C};t.Ie=function(){t.ha.call(this,[10,37],t.MA,"tools/qselect");
this.i$="qselect"};t.Ie.prototype=new t.ha;t.Ie.prototype.ti=function(S,G,j,z,O){this.wa(S,j,z,O,1);
if(this.LM==null)return;this.tT(S)};t.Ie.prototype.Xt=function(S,G,j,z,O){this.cY(S,G,j);if(this.zJ)this.up(S,j,O);
if(this.LM==null)return;if(!O.Uq)return;this.VP(S,j,z,O);this.tT(S)};function Mu(S,G,j,z,O,i,C){this.qq=null;
this.mk=S?S.slice(0):null;this.Ep=4;this.ku=null;this.yk=null;this.xB=null;this.kK=-1;this.nN=null;this.fpe=!1;
this.fzm=[];for(var M=0;M<8;M++)this.fzm.push(ot.fcY(0,PIMG.rotate,-.5,-.5,-45-M*45));this.fzZ=G;this.fwW=j;
this.fwA=z;this.fwJ=O;this.fzu=i;this.Cg=C}Mu.prototype.st=function(){return this.kK!=-1};Mu.prototype.vy=function(){return this.mk.slice(0)};
Mu.prototype.ps=function(S){this.mk=S};Mu.prototype.fTq=function(){return this.lo(this.mk)};Mu.prototype.fT$=function(){return this.Ep};
Mu.prototype.fT_=function(S){this.Ep=S};Mu.prototype.oL=function(S){if(S==null)S=this.mk;if(this.Ep==9)return this.ku;
else return this.lo(S)[this.Ep]};Mu.prototype.fZX=function(S){if(this.Ep==9)this.ku=S.clone();else{var G=this.oL(),j=new Ym(1,0,0,1,S.x-G.x,S.y-G.y);
x.Y.GY(this.mk,j,this.mk)}};Mu.prototype.Pp=function(S,G,j){var z=this.Ng(S,G),O;if(z==9)return"default";
if(z==10){if(j)return null;return!this.fzZ?"move":null}if(z==-1||z==4)return null;if(z==11){var i=this.oL().aB(S);
O=90-Math.atan2(i.y,i.x)*180/Math.PI;var C=Math.round(8*(O/360));C=(C+8)%8;return this.fzm[C]}else{var M=this.Pm(S,this.mk);
O=[135,90,45,180,0,0,225,270,315][z];var D=x.Z.Ia(this.mk);O+=Math.atan2(-D[3],D[0])*180/Math.PI;var X="ew nesw ns nwse ew nesw ns nwse".split(" "),C=Math.round(8*(O/360));
C=(C+8)%8;return X[C]+"-resize"}};Mu.prototype.Pm=function(S,G){var j=x.Z.uT(x.Z.Ia(G)),z=new Float64Array(2);
x.Z.ow(S.x,S.y,j,z);return new A(z[0],z[1])};Mu.prototype._F=function(S){var G=this.Pm(S,this.mk);return 0<=G.x&&G.x<=1&&0<=G.y&&G.y<=1};
Mu.prototype.ti=function(S,G,j,z,O,i){this.fpe=i;this.nN=z;var C=S.Q.u,M;if(this.mk==null)z=t.GE.$F(S,z,G);
this.xB=z.clone();if(this.mk==null){this.xB.offset(1,1);var D=O==null?1:1/O;this.mk=[z.x,z.y,z.x+1,z.y,z.x+1,z.y+D,z.x,z.y+D];
M=8}else{M=this.Ng(z,C);if(0<=M&&M<=8)this.xB=this.lo(this.mk)[M]}this.qq=this.mk.slice(0);this.kK=M;
this.ju(S,G);this.yk=this.oL();return M!=-1};Mu.prototype.Ng=function(S,G){var j=-1,z=this.lo(),O=6*E.V()/G;
if(j==-1)if(A.nM(this.oL(),S)<O)j=9;if(j==-1)for(var i=0;i<z.length;i++)if(i!=4&&A.nM(z[i],S)<O)j=i;
if(j==-1){if(this._F(S)){if(this.fzZ)j=10}else{var C=this.Pm(S,this.mk),M=new Q(0,0,1,1);M.En(.2,.2);
j=M.oO(C)?11:10}}return j};Mu.prototype.Xt=function(S,G,j,z){if(this.kK==-1)return;this.nN=z;var O=j.U(w.H$),i=j.U(w.Ki),C=j.U(w.kw),M=S.Q.u,D=this.xB,X=this.kK,l=this.lo(),f=t.GE.$F(S,D,G),F=t.GE.$F(S,z,G),$,_;
if(X==9){var l=this.lo(),P=-1;for(var k=0;k<l.length;k++)if(A.nM(l[k],F)*M<10)P=k;this.Ep=P==-1?9:P;
this.ku=O?t.cE.nn(f,F):F.clone()}else if(X==10){_=x.Y.wR(this.qq);var H=_.x,q=_.y;_.offset(z.x-D.x,z.y-D.y);
if(this.mW()){_.x=Math.round(_.x);_.y=Math.round(_.y)}$=t.GE.Po(S,_,G);var R=new Ym(1,0,0,1,_.x-H+$[0],_.y-q+$[1]);
x.Y.GY(this.qq,R,this.mk)}else if(X==11){var I=this.oL(this.qq),b=I.aB(z),Y=I.aB(D),m=Math.atan2(b.y,b.x),h=Math.atan2(Y.y,Y.x),R=new Ym(1,0,0,1,-I.x,-I.y),e=Math.PI/12;
if(O)R.rotate(Math.round((h-m)/e)*e);else R.rotate(h-m);R.translate(I.x,I.y);x.Y.GY(this.qq,R,this.mk)}else{var s,y=this.qq,T=X==0||X==2||X==6||X==8;
if(this.Cg==1){if(T)O=i=C=!0}else if(this.Cg==2&&T&&this.fpe!=!0)C=!0;if(this.fwA&&T&&C){var k=[0,0,2,0,0,0,6,0,4,0][X],K=-1,B=F.x,a=F.y;
if(O){var u=k+6&7,r=k+10&7,v=Mu.mg(y[k],y[k+1],y[u],y[u+1],F.x,F.y),o=Mu.mg(y[k],y[k+1],y[r],y[r+1],F.x,F.y),V=v[2]<o[2]?v:o;
B=V[0];a=V[1];if(i)K=v[2]<o[2]?u:r}else if(i)K=k+4&7;s=y.slice(0);if(K!=-1){var J=y[K],d=y[K+1],oU=(y[k]+J)/2,p=(y[k+1]+d)/2;
s[K]=oU-(B-oU);s[K+1]=p-(a-p)}s[k]=B;s[k+1]=a}else if(T&&i){var I=this.yk,N=I.x,ob=I.y,oe=f.x-N,oF=f.y-ob,oN=1,YM=1;
if(Math.abs(oe)>=1)oN=(F.x-N)/oe;if(Math.abs(oF)>=1)YM=(F.y-ob)/oF;if(O)oN=YM=(oN+YM)/2;var oE=new Ym;
oE.translate(-N,-ob);oE.scale(oN,YM);oE.translate(N,ob);s=y.slice(0);x.Y.GY(s,oE,s)}else{if(this.mW()){F.x=Math.round(F.x);
F.y=Math.round(F.y)}var ox=[0,1,2,5,8,7,6,3],c=ox[(ox.indexOf(X)+4)%8],oG=[];for(var k=0;k<3;k++)for(var K=0;
K<3;K++)oG.push(new A(K/2,k/2));var I=this.yk,or=this.Pm(F,y),Yf=this.Pm(D,y),oL=i&&(this.Ep==4||this.Ep==9)?this.Pm(I,y):oG[c],YX=new Ym,YC=new Ym,oN=(or.x-oL.x)/(Yf.x-oL.x);
if(oN==0)oN=1e-4;var YM=(or.y-oL.y)/(Yf.y-oL.y);if(YM==0)YM=1e-4;if(this.fwJ){oN=Math.max(oN,0);YM=Math.max(YM,0)}if(X==0||X==2||X==6||X==8){if(O||this.fzu)YX.scale(oN,oN);
else YX.scale(oN,YM)}if(X==1||X==3||X==5||X==7){var Yp=this.fzu;if(X==1||X==7)YX.scale(Yp?YM:1,YM);else YX.scale(oN,Yp?oN:1);
if(this.fwW&&C){if(X==1||X==7)YC.vK=(or.x-oL.x)/(or.y-oL.y);else YC.C=(or.y-oL.y)/(or.x-oL.x)}}var oE=new Ym;
oE.translate(-oL.x,-oL.y);oE.concat(YX);oE.concat(YC);oE.translate(oL.x,oL.y);s=[0,0,1,0,1,1,0,1];x.Y.GY(s,oE,s);
var V=x.Z.Ia(y);x.Z.apply(V,s)}if(Mu.pw(s))this.mk=s}this.ju(S,G);if($)t.GE.PX(S,_,$)};Mu.mg=function(S,G,j,z,O,i){var C=j-S,M=z-G,D=O-S,X=i-G,l=C*C+M*M,f=D*C+X*M,F=f/l,$=S+F*C,_=G+F*M,P=O-$,k=i-_;
return[$,_,Math.sqrt(P*P+k*k)]};Mu.prototype.mW=function(){var S=this.mk;return Math.abs(S[1]-S[3])<1e-6&&Math.abs(S[2]-S[4])<1e-6||Math.abs(S[0]-S[2])<1e-6&&Math.abs(S[3]-S[5])<1e-6};
Mu.pw=function(S){return x.Y.$T(S)||x.Y.$T([S[6],S[7],S[4],S[5],S[2],S[3],S[0],S[1]])};Mu.prototype.Va=function(S,G,j,z){this.kK=-1;
this.nN=null;S.m.BR=null;S.m.dj=[];S.yK=!0};Mu.prototype.HE=function(S,G,j){var z=j.lL();if(z.x||z.y){var O=new Ym(1,0,0,1,z.x,z.y);
x.Y.GY(this.mk,O,this.mk);this.ju(S,G);return!0}return!1};Mu.prototype.lo=function(S){if(S==null)S=this.mk;
var G=S[6]-S[0],j=S[7]-S[1],z=S[4]-S[2],O=S[5]-S[3],i=[S[0],S[1],S[2],S[3],S[0]+G/2,S[1]+j/2,S[2]+z/2,S[3]+O/2,S[6],S[7],S[4],S[5]],C=[];
for(var M=0;M<3;M++){var D=M*4,X=i[D+0],l=i[D+1],f=i[D+2],F=i[D+3];C.push(new A(X,l));C.push(new A(X+(f-X)/2,l+(F-l)/2));
C.push(new A(f,F))}return C};Mu.prototype.ju=function(S,G,j){if(j==null)j=!1;var z=this.lo(),O=z[0],i=z[2],C=z[6],M=z[8];
S.m.GR={w:[],v:[]};S.m.GR.w.push("M","L","L","L","Z");S.m.GR.v.push(O.x,O.y,i.x,i.y,M.x,M.y,C.x,C.y);
if(this.Cg==2){var D=i.aB(O),X=C.aB(O),l=M.aB(i),f=M.aB(C);for(var F=0;F<3;F++){S.m.GR.w.push("M","L","M","L");
var $=(F+1)*.25;S.m.GR.v.push(O.x+D.x*$,O.y+D.y*$,C.x+f.x*$,C.y+f.y*$);S.m.GR.v.push(O.x+X.x*$,O.y+X.y*$,i.x+l.x*$,i.y+l.y*$)}}S.Q.Js=new Q(0,0,A.nM(z[0],z[2]),A.nM(z[0],z[6]));
if(this.kK!=-1&&this.kK<9&&this.nN){var _=S.Q.We(this.nN.x,this.nN.y);t.wx.Jm(_.x+10,_.y-10,S.Q.Js,S,G)}if(!j){S.m.oZ=[];
for(var F=0;F<z.length;F++)if(F!=4)S.m.oZ.push(z[F].x,z[F].y);var P=this.oL();S.m.oZ.push(P.x,P.y)}S.yK=!0};
Mu.prototype.clear=function(S){S.Q.Js=null;S.m.BR=null;S.m.GR=null;S.m.oZ=[];S.yK=!0};function fb(S,G){this.yw=null;
this.kK=-1;this.mI(S)}fb.prototype.pV=function(){return JSON.parse(JSON.stringify(this.yw))};fb.prototype.mI=function(S){this.yw=JSON.parse(JSON.stringify(S))};
fb.prototype._F=function(S){return!0};fb.prototype.Pp=function(S,G){var j=this.Ng(S,G);if(j==-1)return"default";
return"pointer"};fb.prototype.ti=function(S,G,j,z){this.kK=this.Ng(z,S.Q.u);return this.kK!=-1};fb.prototype.Ng=function(S,G){var j=-1,z=20*E.V(),O=this.Qg();
for(var i=0;i<O.length;i++)if(A.nM(O[i],S)*G<z)j=i;return j};fb.prototype.Xt=function(S,G,j,z){if(this.kK==-1)return;
var O=S.Q.u,i=this.kK,C=x.yw.Ys(this.yw);C[i*2]=z.x;C[i*2+1]=z.y;x.yw._a(C,this.yw)};fb.prototype.Va=function(S,G,j,z){this.kK=-1;
S.yK=!0};fb.prototype.HE=function(S,G,j){var z=j.lL();if(z.x||z.y){var O=new Ym(1,0,0,1,z.x,z.y);x.Y.GY(this.mk,O,this.mk);
this.ju(S)}};fb.prototype.Qg=function(S){var G=x.yw.Ys(this.yw),j=[];for(var z=0;z<G.length;z+=2)j.push(new A(G[z],G[z+1]));
return j};fb.prototype.ju=function(S){var G=this.Qg();S.m.GR={w:[],v:[]};S.m.GR.w.push("M","C","C","C","C");
var j=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var z=0;z<j.length;z++)S.m.GR.v.push(G[j[z]].x,G[j[z]].y);
S.m.GR.w.push("M","L","L","M","L","L","M","L","L","M","L","L");j=[4,0,1,2,3,7,11,15,14,13,12,8];for(var z=0;
z<j.length;z++)S.m.GR.v.push(G[j[z]].x,G[j[z]].y);S.m.oZ=[];for(var z=0;z<G.length;z++)S.m.oZ.push(G[z].x,G[z].y);
S.yK=!0};fb.prototype.clear=function(S){S.m.GR=null;S.m.oZ=[];S.yK=!0};var fA={};fA.wS=function(S){this.id=S;
this.Og=null};fA.wS.prototype.Wq=function(S,G,j,z,O){};fA.wS.prototype.YQ=function(S,G){};fA.wS.prototype.m$=function(S,G){};
fA.wS.prototype.track=function(S){var G=new L(E.E.Hz,!0);G.data=S;S.Pe=!0;this.Og.D(G)};fA.History=function(){fA.wS.call(this,t.YU);
this.yH=!0;this.fzi=0};fA.History.prototype=new fA.wS;fA.History.prototype.Wq=function(S,G,j,z){if(S.r=="h_itemchange"){if(S.index<j.dN)for(var O=j.dN;
O>S.index;O--)this.pn(j);if(S.index>j.dN)for(var O=j.dN;O<S.index;O++)this.pA(j)}if(S.r=="h_stepfwd")this.pA(j);
if(S.r=="h_stepbck")this.pn(j);if(S.r=="h_undoredo"){var i=this.yH||this.fzi!=j.dN;if(i){this.pn(j);
i=!1}else{this.pA(j);i=!0}this.yH=i;this.fzi=j.dN}else this.yH=!0};fA.History.prototype.pn=function(S){if(S.dN==0)return;
var G=S.history[S.dN];G.s.m$(G.data,S);S.dN--};fA.History.prototype.pA=function(S){if(S.dN==S.history.length-1)return;
var G=S.history[S.dN+1];G.s.YQ(G.data,S);S.dN++};fA.vg=function(){fA.wS.call(this,t.HA);this.Og=null};
fA.vg.prototype=new fA.wS;fA.vg.prototype.Wq=function(S,G,j,z,O){this.Og=G;var i=S.r,C=S.B!=null?S.B:j.N.length!=0?j.N[0]:j.d.length-1,M=j.d[C];
if(i==g.Cl&&j.f==null)i=g.Ec;if(i==g.Ip){var D=new fX([6,33],this),X=M.$P()?["pass"].concat(YR.fh):YR.fh;
D.data={r:i,B:C,AR:M.eD,Ha:X[S.Ha]};j.Aq(D);this.YQ(D.data,j);this.track(fZ.zp("Md",{t:"enum",v:{BlnM:YR.kC[S.Ha]}}))}if(i==g.Is){var D,l=j.KZ(),f=S.B?[S.B]:j.N,F=JSON.stringify(f);
if(l&&l.data&&l.data.r==i&&l.data.th==F)D=l;else{var $=fZ.zp("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track($);var _=[];for(var P=0;P<f.length;P++)_.push(j.d[f[P]].opacity);D=new fX([6,32],this);D.data={r:i,th:F,AR:_,Ha:S.Ha,yq:$.MZ};
j.Aq(D)}D.data.Ha=S.Ha;D.data.yq.T.v.Opct.v.val=Math.round(S.Ha*100/255);this.YQ(D.data,j)}if(i==g.RT){if(M.add.iOpa==null)M.add.iOpa=255;
var D,l=j.KZ();if(l&&l.data&&l.data.r==i&&l.data.B==C)D=l;else{D=new fX("Fill Opacity Change",this);
D.data={r:i,B:C,AR:M.add.iOpa,Ha:S.Ha};j.Aq(D)}D.data.Ha=S.Ha;this.YQ(D.data,j)}if(i==g.K$){if(M.add.lspf==null)M.add.lspf=0;
var _=M.add.lspf,k=_,H=S.Ha,D;for(var P=0;P<H[0].length;P++){var q=H[1][P],R=1<<q;if((k&R)==0&&H[0][P])k^=R;
else if((k&R)!=0&&!H[0][P])k^=R}var l=j.KZ();if(l&&l.data&&l.data.r==i&&l.data.B==C)D=l;else{var D=new fX([6,57,1],this);
D.data={r:i,B:C,AR:_,Ha:k};j.Aq(D)}D.data.Ha=k;this.YQ(D.data,j)}if(i==g.Rc){var I="----",b=S.xj,k=null;
for(var P=0;P<Yl.MX.Xo.length;P++)if(M.add[Yl.MX.Xo[P]])I=Yl.MX.Xo[P];var Y=M.add[I];if(b=="TySh")k=o_.lR(50,50,O.cT);
var D=new fX("Layer Type",this);D.data={r:i,B:C,fz$:[I,Y],xj:[b,k]};j.Aq(D);this.YQ(D.data,j)}if(i==g.Yr){var m=[];
if(z.U(w.Ki)){var h=j.KZ(),e=h?h.data:null;if(h!=null&&h.s==this&&e.r==g.Yr&&e.th.length!=1){var s=new L(E.E.R);
s.s=t.YU;s.data={r:"h_stepbck"};G.D(s);if(e.B==C)return}var y=j.root.cv(C),T=j.Of(null,C);while(y.parent!=j.root){T.push(y.parent.index);
y=y.parent}for(var P=0;P<j.d.length;P++){var K=j.d[P],B=K.Gg(),a=T.indexOf(P)!=-1;if(!a&&B)m.push(P);
if(P==C&&!B)m.push(P)}}else{m.push(C);var B=j.d[C].Gg(),$={mB:B?"hide":"show",MZ:{classID:B?"Hd":"Shw",null:{t:"VlLs",v:[fZ.cX("Lyr",!0)]}}};
this.track($)}var D=new fX("Layer visibility",this,!0);D.data={r:i,th:m,B:C};j.Aq(D);this.YQ(D.data,j)}if(i==g.IQ){var $={mB:"select",MZ:{classID:"null",MkVs:{t:"bool",v:!1}}},u,escape=!1;
if(j.Q.qk.join("")!="111"){j.Q.qk=[1,1,1];j.yK=!0}if(z.U(w.kw)||S.fKu==0){var r=j.N.indexOf(C);if(r==-1)j.N.push(C);
else if(j.N.length>1)j.N.splice(r,1);j.N.sort(function(D,XJ){return D-XJ});$.MZ.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
u=C}else if(z.U(w.H$)&&!z.U(w.Ki)&&S.zl>0){i=S.zl==1?g.yR:S.zl==2?g.zU:g.FA;escape=!0}else if((z.U(w.H$)||S.fKu==1)&&j.N.length>0){var v=Math.min(C,j.N[0]),o=Math.max(C,j.N[j.N.length-1]);
j.N=[];for(var P=v;P<=o;P++)if(j.d[P].add.lsct!=YF.px)j.N.push(P);$.MZ.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
u=C}else{u=C;var K=j.d[C];if(K.$P()&&S.fwB)K.add.lsct=YF.WY;else if(j.N.length==1&&j.N[0]==C&&S.zl==K.hz){return}j.N=[C];
j.Wm()}if(u!=null){$.MZ.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:j.d[u].getName()}}]},this.track($)}if(!escape){if(j.N.length==1){var V=j.N[0];
for(var P=0;P<j.d.length;P++){if(P==V)continue;var J=j.d[P];J.hz=0;J.yU=!1}var M=j.d[V];if(S.zl==2)M.yU=!M.yU;
else{M.hz=S.zl<=0?0:S.zl;if(S.zl==1||S.zl==3){var d=S.zl==3?M.td(j).q:M.Ew();d.tO=!1}}}else for(var P=0;
P<j.d.length;P++){var J=j.d[P];J.hz=0;J.yU=!1}j.IN=null;j.Kh=!0}}if(i==g.yR||i==g.FA){var oU=i==g.yR,d=oU?M.Ew():M.td(j).q;
if(d==null)return;var D=new fX(d.isEnabled?oU?[6,15]:[6,42]:oU?[6,14]:[6,41],this);D.data={r:i,B:C};
j.Aq(D);this.YQ(D.data,j)}if(i==g.zU){var d=M.add.vmsk;if(d==null)return;var D=new fX(d.isEnabled?[6,17]:[6,16],this);
D.data={r:i,B:C};j.Aq(D);this.YQ(D.data,j)}if(i==g.Ik){if(M.add.lsct==YF.WY)M.add.lsct=YF.Aa;else M.add.lsct=YF.WY;
j.Kh=!0}if(i==g.JU){if(!j.R_(C))return;var D=new fX(M.iH?[6,19]:[6,18],this);D.data={r:i,B:C};j.Aq(D);
if(S.Ha==null||S.Ha!=M.iH)this.YQ(D.data,j);this.track({mB:"groupEvent",MZ:{classID:"GrpL",null:{t:"obj ",v:[fZ.cX("Lyr",!0)]}}})}if(i==g.IH){if(M.LO())M.Ge-=32;
else M.Ge+=32;j.Kh=!0}if(i==g.Gv||i==g.tU){var D;if(i==g.Gv)D=new fX(M.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(i==g.tU)D=new fX(M.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);D.data={r:i,B:C};j.Aq(D);this.YQ(D.data,j)}if(i==g.Gs||i==g.tG){var V=S.index,D;
if(i==g.Gs)D=new fX(M.add.lmfx[n.lH[V[0]]].v[V[1]].v.enab.v?[6,30]:[6,29],this);if(i==g.tG)D=new fX(M.add.SoLd.filterFX.v.filterFXList.v[V].v.enab.v?[6,44]:[6,43],this);
D.data={r:i,B:C,index:S.index};j.Aq(D);this.YQ(D.data,j)}if(i==g.Ry){if(S.src==S.XP)return;var p=j.d[S.src],N=j.d[S.XP],ob=p.add.lmfx?JSON.stringify(p.add.lmfx):"",oe=N.add.lmfx?JSON.stringify(N.add.lmfx):"";
if(N.add.lmfx==null){N.add.lmfx=JSON.parse(n.default);for(var P=0;P<n.order.length;P++)N.add.lmfx[n.lH[P]]={t:"VlLs",v:[]}}if(S.Ei==null){N.add.lmfx=JSON.parse(ob);
if(!S.Sw)delete p.add.lmfx}else{var oF=S.Ei[0],oN=n.lH[oF];if(n.LJ.indexOf(n.order[oF])==-1)N.add.lmfx[oN].v=[];
N.add.lmfx[oN].v.push(p.add.lmfx[oN].v[S.Ei[1]]);if(!S.Sw)p.add.lmfx[oN].v.splice(S.Ei[1],1)}var YM=p.add.lmfx?JSON.stringify(p.add.lmfx):"",oE=N.add.lmfx?JSON.stringify(N.add.lmfx):"";
if(!N.LO())N.Ge+=32;var D=new fX("Move Layer Styles",this);D.data={r:i,fWi:S.src,fsq:S.XP,fdP:ob,fdA:oe,fdJ:YM,fdR:oE};
j.Aq(D);this.YQ(D.data,j)}if(i==g.IO){var J=j.d[S.src],ox=JSON.stringify(J.add.SoLd),c=JSON.parse(ox),oG=c.filterFX.v.filterFXList.v;
oG.splice(S.Ei,1);var D=new fX([6,53],this);D.data={r:g.fo,DU:[{O$:S.src,ss:[ox,JSON.stringify(c)]}]};
j.Aq(D);this.YQ(D.data,j)}if(i==g.Ij){var p=j.d[S.src],N=j.d[S.XP],or=[];if(p!=N&&N.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(p==N&&!S.Sw&&(S.Ei==S.xh||S.Ei==-1))return;var Yf=p.td(j),ox=JSON.stringify(p.add.SoLd),c=JSON.parse(ox),oG=c.filterFX.v.filterFXList.v;
if(p==N){oG.splice(S.xh,0,oG[S.Ei]);if(!S.Sw)oG.splice(S.Ei+(S.Ei<S.xh?0:1),1);or.push({O$:S.src,ss:[ox,JSON.stringify(c)]})}else if(S.Ei==-1){var oL=c.filterFX;
if(!S.Sw){delete c.filterFX;or.push({O$:S.src,ss:[ox,JSON.stringify(c)],qx:[Yf,null]})}var YX=N.AG()?N.td(j):null,YC=Yi.rV(Yf),Yp=JSON.stringify(N.add.SoLd),YZ=JSON.parse(Yp);
YZ.placed.v=YC.id;YZ.filterFX=oL;or.push({O$:S.XP,ss:[Yp,JSON.stringify(YZ)],qx:[YX,YC]})}else{var Yz=oG[S.Ei];
if(!S.Sw){oG.splice(S.Ei,1);or.push({O$:S.src,ss:[ox,JSON.stringify(c)]})}var Yp=JSON.stringify(N.add.SoLd),YZ=JSON.parse(Yp);
if(YZ.filterFX==null)YZ.filterFX=Yy.zD();var YT=YZ.filterFX.v.filterFXList.v;YT.splice(S.xh,0,Yz);var Yg={O$:S.XP,ss:[Yp,JSON.stringify(YZ)]};
if(!N.AG()){var YC=Yi.rn(N.add.SoLd.placed.v);Yg.qx=[null,YC]}or.push(Yg)}var D=new fX([6,52],this);
D.data={r:g.fo,DU:or};j.Aq(D);this.YQ(D.data,j)}if(i==g.Fi){var d=M.Ew(),D=new fX(d.KQ?[6,26]:[6,25],this);
D.data={r:i,B:C};j.Aq(D);this.YQ(D.data,j);this.track({mB:"set",MZ:{classID:"setd",null:{t:"obj ",v:[fZ.cX("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:d.KQ}}}}})}if(i==g.Rs){var d=M.add.vmsk,D=new fX(d.KQ?[6,28]:[6,27],this);
D.data={r:i,B:C};j.Aq(D);this.YQ(D.data,j)}if(i==g.RQ){var YY=[],D;for(var P=0;P<j.N.length;P++){var Yo=j.N[P],K=j.d[Yo];
if(K.add.vogk)YY.push(Yo,JSON.stringify(K.add.vogk))}for(var P=0;P<j.ML.length;P++){var Yo=j.ML[P],K=j.qD[Yo];
if(K.add.vogk)YY.push(-1-Yo,JSON.stringify(K.add.vogk))}x.tS.fcD(j,S.HQ,S.fdD);var Ya=[];for(var P=0;
P<j.N.length;P++){var Yo=j.N[P],K=j.d[Yo];if(K.add.vogk)Ya.push(Yo,JSON.stringify(K.add.vogk))}for(var P=0;
P<j.ML.length;P++){var Yo=j.ML[P],K=j.qD[Yo];if(K.add.vogk)Ya.push(-1-Yo,JSON.stringify(K.add.vogk))}var l=j.KZ();
if(l&&l.data&&l.data.r==i){var YQ=!0;for(var P=0;P<YY.length;P+=2)if(YY[P]!=l.data.xE[P])YQ=!1;if(YQ){D=l;
D.data.zA=Ya}}if(D==null){var D=new fX([12,91,1],this);D.data={r:i,xE:YY,zA:Ya};j.Aq(D)}this.YQ(D.data,j)}if(i==g.yj){var Ya=j.Ft.slice(0),YK=j.wE.slice(0),fa=j.f,YO=j.f;
if(S.zS=="fromAction"){var Yw=S.g.mB,YV=S.g.MZ;if(Yw=="make"||Yw=="duplicate"){var Yu=Ya.length,fd=!1,Yq=!1;
if(j.wh())Yu--;var YJ=new g.QS;YJ.name="Alpha "+(Yu+1);if(Yw=="make"){var YU=YV.Nw.v;YJ.color=255;YK=[Yu];
YJ.tO=!0;YJ.Pv=YU.Opct.v;if(YU.Nm)YJ.name=YU.Nm.v;if(YU.classID=="SCch"){fd=!0;YO=null;YJ.Rp=1}}else fd=!0;
if(fd){YJ.color=0;if(j.f){YJ.rect=j.f.rect.clone();YJ.channel=j.f.channel.slice(0)}if(Yq){YJ.color=255-YJ.color;
x.uT(YJ.channel)}}Ya.splice(Yu,0,YJ)}else if(Yw=="delete"){var T=j.wE;T.sort(function(D,XJ){return XJ-D});
if(T.length==0)return;for(var P=0;P<T.length;P++)Ya.splice(T[P],1);YK=[]}else if(Yw=="hide"){Ya[YK[0]]=Ya[YK[0]].clone();
Ya[YK[0]].tO=!1}}if(S.zS=="rnm"){Ya[S.Qf]=Ya[S.Qf].clone();Ya[S.Qf].name=S.name}var D=new fX("Channel Edit",this);
D.data={r:i,xE:j.Ft.slice(0),Jc:j.wE.slice(0),zA:Ya,Jn:YK,Qy:fa,i_:YO};this.YQ(D.data,j);j.Aq(D)}if(i==g.Rb){var D=new fX(S.mj,this);
D.data={r:g.Rb,Ea:j.d.slice(0),M$:S.M$,yx:j.N.slice(0),ks:S.i_};j.Aq(D);this.YQ(D.data,j)}if(i==g.Yv){var YE=j.Of(null,S.B),fJ=1e10;
if(YE.length==0)return;if(j.d.length==YE.length){alert("Project must have at least 1 layer");return}var Yc=[];
for(var P=0;P<j.d.length;P++)if(YE.indexOf(P)==-1)Yc.push(j.d[P]);for(var P=0;P<YE.length;P++)fJ=Math.min(fJ,YE[P]);
fJ=Math.max(fJ-1,0);while(Yc[fJ].name=="</Layer group>")fJ++;this.track({mB:"delete",MZ:{classID:"Dlt",null:fZ.cX("Lyr",!0)}});
var D=new fX([6,31],this);D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:[fJ]};j.Aq(D);this.YQ(D.data,j)}if(i==g.zm){var T=S.fTl?S.fTl:j.N,YB=0,Yb=!1;
if(T.length==0)return;if(T.length==1&&j.d[T[0]].Xk==0){alert(YP.get([15,7,5]));return}var YG=[];for(var P=0;
P<j.d.length;P++){var Yr=j.d[P].Xk;YG.push(Yr);YB=Math.max(YB,Yr)}var Y$=-1,CE=-1;for(var P=0;P<T.length;
P++){var Yr=j.d[T[P]].Xk;if(Yr==0)Yb=!0;else if(Y$==-1||Y$==Yr)Y$=Yr;else CE=Yr}if(!Yb)for(var P=0;P<T.length;
P++)j.d[T[P]].Xk=0;else if(Y$!=-1&&CE==-1)for(var P=0;P<T.length;P++)j.d[T[P]].Xk=Y$;else for(var P=0;
P<T.length;P++)j.d[T[P]].Xk=YB+1;var My=[];for(var P=0;P<j.d.length;P++){var Yr=j.d[P].Xk;if(My[Yr]==null)My[Yr]=0;
My[Yr]++}for(var P=0;P<j.d.length;P++){var Yr=j.d[P].Xk;if(My[Yr]==1)j.d[P].Xk=0}var Cg=YG;YG=[];for(var P=0;
P<j.d.length;P++){var Yr=j.d[P].Xk;YG.push(Yr);YB=Math.max(YB,Yr)}var D=new fX(Yb?[6,54,0]:[6,54,1],this);
D.data={r:g.zm,fdO:Cg,fdb:YG};j.Aq(D);this.YQ(D.data,j)}if(i==g.Ec&&(S.B!=null||j.N.length!=0)||i==g.zG){var CP=j.fQ(i==g.Ec?S.B:C);
if(i==g.zG){var J=CP[0],Yw=J.add.SoLd.Idnt.v,fO=j.CD(Yw).clone();J.add.SoLd.Idnt.v=fO.Pq=Yi.KP()+Yw.slice(8);
j.add.lnk2.push(fO)}if(i==g.Ec){var XT={mB:"duplicate",MZ:{classID:"null",null:fZ.cX("Lyr",!0)}};if(S.kd){CP[0].lX(S.kd);
XT.Nm={t:"TEXT",v:S.kd}}this.track(XT);S.fTO=S.B}i=g.GA;S.d=CP;S.qY=j;S.xU=j}if(i==g.GA){var Mc,Cj,XQ=S.qY,Cl=S.xU;
if(XQ!=Cl){console.log("ADDLAYERS different projs");var Mc=new Q(0,0,XQ.o,XQ.i),Cj=new Q(0,0,Cl.o,Cl.i),CZ=[],CT=[];
for(var P=0;P<S.d.length;P++){var J=S.d[P];if(J.add.SoLd==null)continue;var Yw=J.add.SoLd.Idnt.v;if(CZ.indexOf(Yw)==-1){CZ.push(Yw);
CT.push(Yi.KP()+Yw.slice(8))}J.add.SoLd.Idnt.v=CT[CZ.indexOf(Yw)];var Yf=J.td(XQ);if(Yf){XQ.Ws(Yf);Cl.KL(Yf)}}if(CZ.length>0){if(Cl.add.lnk2==null)Cl.add.lnk2=[];
for(var P=0;P<CZ.length;P++){var Cu=XQ.CD(CZ[P]),fO=Cu.clone();fO.Pq=CT[P];Cl.add.lnk2.push(fO)}}}var fa=Cl.N.slice(0);
fa.sort(function(D,XJ){return D-XJ});var Yc=Cl.d.slice(0),YO=[],Cp=-1;for(var P=0;P<fa.length;P++)Cp=Math.max(Cp,fa[P]);
if(S.fTO!=null)Cp=S.fTO;Cp++;for(var P=0;P<S.d.length;P++){var K=S.d[P];Yc.splice(Cp,0,K);YO.push(Cp);
Cp++}if(S.d[S.d.length-1].$P())YO=[Cp-1];var D=new fX([6,0],this);D.data={r:g.Rb,Ea:Cl.d.slice(0),M$:Yc,yx:fa,ks:YO};
Cl.Aq(D);this.YQ(D.data,Cl)}if(i==g.RM){var Cv=S.B!=null?[S.B]:j.Of(),Yc=j.d.slice(0);for(var P=0;P<Cv.length;
P++){var K=j.d[Cv[P]].clone();K.uP(j);Yc.splice(Cv[P],1,K)}var D=new fX([6,8],this);D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:j.N.slice(0)};
j.Aq(D);this.YQ(D.data,j)}if(i==g.Kf){var Cv=j.Of(),Yc=j.d.slice(0),fY=new Q(0,0,j.o,j.i);for(var P=0;
P<Cv.length;P++){var fz=j.d[Cv[P]],Ce=fz.Gg();fz.aA(!0);var fV=j.root.cv(Cv[P]);if(fz.$P())continue;
if(fV==null)continue;var K=fz.clone();K.uP(j);var CG=fV.to(j,!0),fC=j.d;j.Wb([K]);j.I();j.qE();K.buffer=x.S(CG.h()*4);
x.yF(j.yA(),fY,K.buffer,CG);K.rect=CG;K.opacity=255;K.add.iOpa=255;K.eD="norm";K.I();K.t.WM=!0;j.Wb(fC);
if(K.add.lmfx)delete K.add.lmfx;K.q=K.lm=null;Yc.splice(Cv[P],1,K);K.aA(Ce);fz.aA(Ce)}var D=new fX([6,34],this);
D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:j.N.slice(0)};j.Aq(D);this.YQ(D.data,j)}if(i==g.Ii){var Cv=j.Of(),Yc=j.d.slice(0);
for(var P=0;P<Cv.length;P++){var K=j.d[Cv[P]],CX=K.add.TySh;if(CX==null)continue;var J=new fv(CX.Nv,O.UW),So=x.Y.Yu(Cw.Du(J,CX));
for(var fn in So){var CC=So[fn],ff=K.clone();delete ff.add.TySh;ff.Ge=ff.Ge|1<<4;ff.add.SoCo=JSON.parse(JSON.stringify(n.JL[0]));
var CI=ff.add.SoCo.Clr.v;CI.Rd.v=parseInt(fn.slice(1,3),16);CI.Grn.v=parseInt(fn.slice(3,5),16);CI.Bl.v=parseInt(fn.slice(5,7),16);
var Xl=new g.XT;Xl.z=x.Y.oe(CC,!1);if(ff.add.vmsk!=null){ff.add.vmsk.fnS();Xl.concat(ff.add.vmsk)}ff.add.vmsk=Xl;
ff.add.vstk=JSON.parse(JSON.stringify(n.GN.default));ff.Ko();ff.uf(j);Yc.splice(Yc.indexOf(K),0,ff)}Yc.splice(Yc.indexOf(K),1)}var D=new fX([6,40],this);
D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:j.N.slice(0)};j.Aq(D);this.YQ(D.data,j)}if(i==g.ID){var C_=j.N.length;
if(C_<2)return;if(!j.ia())return;var ff=j.d[j.N[0]].clone(),Yc=[];for(var P=0;P<j.d.length;P++)if(j.N.indexOf(P)==-1)Yc.push(j.d[P]);
Yc.splice(j.N[0],0,ff);for(var P=1;P<C_;P++){var K=j.d[j.N[P]],CK=K.rect.clone();CK.En(1,1);var XJ=x.S(CK.h()*4);
x.yF(K.buffer,K.rect,XJ,CK);ff.extend(CK);var fw=x.S(CK.h()*4);x.yF(ff.buffer,ff.rect,fw,CK);var D=x.S(CK.h());
x.tb(XJ,D,3);x.round(D,200);x.Cy(D,XJ,3);x.k.me("norm",XJ,CK,fw,CK,CK,1);x.Ve.OR(fw,D,CK);x.yF(fw,CK,ff.buffer,ff.rect)}var D=new fX([2,10],this);
D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:[j.N[0]]};j.Aq(D);this.YQ(D.data,j)}if(i==g.Kl){var Yc=j.d.slice(0),YK=j.N.slice(0);
for(var P=0;P<Yc.length;P++){var K=Yc[P],Xp=K.add.vmsk;if(K.dr()&&Xp&&K.add.vstk.strokeEnabled.v&&!K.add.vstk.fillEnabled.v){var CS=Xp.z,fr=0,Cy=-1;
for(var fG=0;fG<CS.length;fG++){if((CS[fG].type==0||CS[fG].type==3)&&CS[fG].ta!=-1){fr++;if(CS[fG].type==3&&Cy==-1){CS[fG].lj=CS[fG].ta=1;
Cy=fG}}}if(fr>1&&Cy!=-1){console.log("separating an open path into a new layer");K=K.clone();Xp=K.add.vmsk;
CS=Xp.z;var f=CS[Cy].length,XE=K.clone();XE.add.lyid=j.RN();Xp.z=CS.slice(0,2).concat(CS.slice(Cy,Cy+f+1));
Xp.N=[];K.uf(j);K.I();var CN=XE.add.vmsk.z;XE.add.vmsk.z=CN.slice(0,Cy).concat(CN.slice(Cy+f+1,CN.length));
XE.add.vmsk.N=[];XE.uf(j);Yc[P]=K;Yc.splice(P+1,0,XE);for(var fG=0;fG<YK.length;fG++)if(YK[fG]>P)YK[fG]++;
var oa=YK.indexOf(P);if(oa!=-1){YK.splice(oa+1,0,P+1)}}}}if(Yc.length!=j.d.length){var D=new fX("Splitting open paths",this);
D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:YK};j.Aq(D);this.YQ(D.data,j)}}if(i==g.yh){this.Wq({r:g.Kl},G,j,z,O);
var fa=j.N.slice(0),fC=j.d.slice(0),Cv=j.Of();if(Cv.length==0)return;j.ES(Cv);var D=new fX([6,36,0],this);
D.data={r:g.Rb,Ea:fC,M$:j.d.slice(),yx:fa,ks:j.N.slice(0)};j.Aq(D);this.YQ(D.data,j)}if(i==g.FY){var Cu=S.lq.CD(S.id),fO=Cu.clone();
fO.raw=S.data;fO.dm="8BIM";fO.Gu="8BPB";fO.HU=fO.HU+".psd";fO.yA(!1);Cu.yA(!1);var D=new fX([6,36,1],this);
D.data={r:g.FY,id:S.id,xN:Cu,bg:fO};S.lq.Aq(D);this.YQ(D.data,S.lq)}if(i==g.Iv){var Pq,Sr;if(S.AX){Pq=S.lq;
Sr=S.AX}else{S.lq.C$();S.lq.iB();S.lq.I();S.lq.qE();S.lq.yA();Pq=ot.PSD.tu(S.lq,0,0,[!0,!0]);Sr=S.lq.name}if(!(Pq instanceof ArrayBuffer))throw"e";
Pq=new Uint8Array(Pq);var r=S.DR!=null?S.DR:j.N[j.N.length-1]+1,Cm=j.Wf(Pq,Sr,0,0,!0),Yc=j.d.slice(0);
Yc.splice(r,0,Cm);var D=new fX([6,36,2],this);D.data={r:g.Rb,Ea:j.d.slice(),M$:Yc,yx:j.N.slice(0),ks:[Yc.indexOf(Cm)]};
j.Aq(D);this.YQ(D.data,j)}if(i==g.Iy){var Cn=[],MC=[],Ct=0;for(var P=0;P<j.N.length;P++){var Yo=j.N[P],K=j.d[Yo];
if(K.$P()&&Cn.indexOf(Yo)==-1){Cn.push(Yo);MC.push(K.getName())}}if(Cn.length!=2){Cn=[];MC=[];for(var P=0;
P<j.d.length;P++){var Yo=P,K=j.d[Yo];if(K.$P()&&Cn.indexOf(Yo)==-1){Cn.push(Yo);MC.push(K.getName())}}}if(Cn.length<2){alert("We need at least two folders of layers");
return}var CA=[];for(var Ms=0;Ms<Cn.length;Ms++){var y=j.root.cv(Cn[Ms]),Yg=[[],[],0,Ms];CA.push(Yg);
for(var P=0;P<y.children.length;P++){var Yo=y.children[P].index,K=y.children[P].B,YJ=K.getName(),fq=20;
if(!YJ.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");return}var XV=YJ.split(",");
if(XV.length>1){var XF=parseInt(XV.pop());if(!isNaN(XF))fq=XF}Yg[0].push(K);Yg[1].push(fq);Yg[2]+=fq}}CA.sort(function(D,XJ){return XJ[2]-D[2]});
var oo=CA[0];for(var oK=1;oK<CA.length;oK++){var Yg=CA[oK],Sz=1,Xa=Yg[1].slice(0),XY=0;while((Sz+1)*Yg[2]<=oo[2]){Sz++;
Xa=Xa.concat(Yg[1])}Yg[1]=Xa;Yg[2]*=Sz;var Sm=oo[2]/Yg[2];for(var P=0;P<Yg[1].length;P++){var Cc=Math.floor(Yg[1][P]*Sm);
Yg[1][P]=Cc;XY+=Cc}while(XY<oo[2]){XY++;Yg[1][Yg[1].length-1]++}Yg[2]=XY}var Xt=[],MM=[],Cc=[];for(var P=0;
P<CA.length;P++){Xt.push(0);MM.push(0)}while(Ct<XY){var oi=1e9,Yu=-1;for(var P=0;P<CA.length;P++){var Mm=CA[P][1],MQ=Xt[P];
if(MQ!=Mm.length&&MM[P]+Mm[MQ]<Ct+oi){Yu=P;oi=MM[P]+Mm[MQ]-Ct}}MM[Yu]+=CA[Yu][1][Xt[Yu]];Xt[Yu]++;if(oi!=0){Cc.push(oi);
Ct+=oi}}for(var P=0;P<Cc.length;P++){var MT=Cc[P],SA=MT>>>1;if(MT<17){var Yo=Cc.length-1;if(P==0)Cc[1]+=MT;
else if(P==Cc.length-1)Cc[Yo-1]+=MT;else{Cc[P-1]+=SA;Cc[P+1]+=MT-SA}Cc.splice(P,1);P--}}var SK=j.N.slice(0);
j.N=Cn;var YE=j.Of();YE.sort(function(D,XJ){return D-XJ});var Yc=[];for(var P=0;P<j.d.length;P++){if(YE.indexOf(P)==-1)Yc.push(j.d[P])}CA.sort(function(D,XJ){return D[3]-XJ[3]});
function Sl(Mm,Px){var P=0,Pb=0;while(Pb+Mm[P]<=Px){Pb+=Mm[P];P++}return P}Ct=0;Yc.splice(YE[0],0,j.hP());
for(var oO=0;oO<Cc.length;oO++){var m=[],Sa=new Q;for(var P=0;P<CA.length;P++){var MQ=Sl(CA[P][1],Ct)%CA[P][0].length,K=CA[P][0][MQ];
m.push(K);Sa=Sa.wB(K.rect)}var K=m[0].clone();K.rect=Sa;K.buffer=x.S(Sa.h()*4);for(var P=0;P<CA.length;
P++){var fN=m[P];x.k.me("norm",fN.buffer,fN.rect,K.buffer,Sa,Sa,1)}K.lX("_a_frm"+oO+","+Cc[oO]);Yc.splice(YE[0]+1+oO,0,K);
Ct+=Cc[oO]}var K=j.YJ();K.lX(MC.join(" + "));K.eD="pass";K.add.lsct=YF.Aa;K.Ge=24;Yc.splice(YE[0]+1+Cc.length,0,K);
var D=new fX([6,12,0],this);D.data={r:g.Rb,Ea:j.d,M$:Yc,yx:SK,ks:[YE[0]+1+Cc.length]};j.Aq(D);this.YQ(D.data,j)}if(i==g.yv||i==g.FT){var fC=j.d.slice(0),fa=j.N.slice(0),SW=!0,Cm,YO;
if(i==g.yv)j.N=[j.N[0],j.N[0]-1];var Cv=j.Of();Cv.sort(function(D,XJ){return D-XJ});var Xi=new Q,fY=new Q(0,0,j.o,j.i);
for(var P=0;P<Cv.length;P++){var Yo=Cv[P],K=j.d[Yo];SW=SW&&K.dr()&&K.add.vmsk!=null;Xi=Xi.wB(j.root.cv(Yo).to(j,!0))}if(SW){Cm=j.d[Cv[0]].clone();
var Xp=Cm.add.vmsk;for(var P=1;P<Cv.length;P++){var f=j.d[Cv[P]],CN=g.XT.yS(f.add.vmsk.z);Xp.z=Xp.z.concat(CN.slice(2));
Cm.add.vogk=Cm.add.vogk.concat(JSON.parse(JSON.stringify(f.add.vogk)))}Cm.add.vmsk.io=!0;Cm.uf(j)}else if(fY.Ym(Xi)){Cm=j.YJ();
Cm.lX(j.d[Cv[Cv.length-1]].getName());Cm.rect=Xi;Cm.buffer=x.S(Xi.h()*4);var XD=j.yA(Cv);x.yF(XD,fY,Cm.buffer,Xi);
Cm.I()}else{j.ES(Cv,!0);Cm=j.d[j.N[0]];j.d.splice(j.N[0],1);var Ml=j.CD(Cm.add.SoLd.Idnt.v);j.add.lnk2.splice(j.add.lnk2.indexOf(Ml),1);
delete Cm.add.SoLd}var Yc=[];for(var P=0;P<j.d.length;P++)if(z.U(w.Ki)||Cv.indexOf(P)==-1)Yc.push(j.d[P]);
var SJ=Cv[Cv.length-1],Sj=SJ==j.d.length-1?null:j.d[SJ+1],SO=Sj?Yc.indexOf(Sj):Yc.length;Yc.splice(SO,0,Cm);
YO=[SO];var D=new fX([6,12,0],this);D.data={r:g.Rb,Ea:fC,M$:Yc,yx:fa,ks:YO};j.Aq(D);this.YQ(D.data,j)}if(i==g.KS){var ff=j.YJ();
ff.rect=new Q(0,0,j.o,j.i);ff.buffer=x.S(ff.rect.h()*4);x.GC(ff.buffer,4294967295);x.k.me("norm",j.yA(),ff.rect,ff.buffer,ff.rect,ff.rect,1);
ff.lX("Background");ff.add.lspf=1<<2;var D=new fX([6,12,1],this);D.data={r:g.Rb,Ea:j.d.slice(),M$:[ff],yx:j.N.slice(0),ks:[0]};
j.Aq(D);this.YQ(D.data,j)}if(i==g.YG||i==g.kM||i==g.CC||i==g.RA||i==g.Cl){var K=j.YJ(),MV=YP.get([0,3]),SP=!1,Sg,S_;
if(i==g.kM)MV=YP.get(Yd.names[S.vu]);if(i==g.CC)MV=YP.get([12,76,1]);if(i==g.Cl){var fz=j.d[j.N[0]],MF=fz.ZC(j,j.f);
if(MF==null){alert("Copied area is empty");return}K.rect=MF.rect,K.buffer=MF.Pt}if(i==g.RA){K.rect=fA.vg.QL(S.d_,j);
K.buffer=x.clone(S.d_.buffer)}if(i==g.YG){this.track({mB:"make",MZ:{classID:"Mk",null:fZ.cX("Lyr")}})}if(i==g.kM){K.Ge|=16;
K.add[S.vu]=Yy.Cr(S.vu);K.q=fA.vg.QW(j);var Mn=null,SU=Yd.ot;for(Mn in SU)if(SU[Mn]==S.vu)break;this.track({mB:"make",MZ:{classID:"Mk",null:fZ.cX("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:{classID:Mn}}}}}})}if(i==g.CC){K.Ge|=16;
var YV=S.MZ,ft=YV.Usng.v,XG=ft.Type.v,fk=ft.Shp;if(fk==null)K.q=fA.vg.QW(j);else{console.log(ft);K.add.vmsk=new g.XT;
K.add.vstk=JSON.parse(JSON.stringify(ft.strokeStyle?ft.strokeStyle.v:n.GN.default));K.add.vogk=[];if(fk){var PP=x.tS.$X(fk);
if(PP){K.add.vogk=[PP];K.add.vmsk.z.push({type:0,ta:1,length:0});x.tS.VU(K.add.vogk,K.add.vmsk)}else{fk=fk.v;
var SH=fk.classID;if(SH=="Plgn"){var ov=fk.Cntr.v,oj=fk.corner.v;ov=new A(ov.Hrzn.v.val,ov.Vrtc.v.val);
oj=new A(oj.Hrzn.v.val,oj.Vrtc.v.val);K.add.vmsk.z=x.p.Go._P(ov.x,ov.y,Math.sqrt(oj.x*oj.x+oj.y*oj.y),Math.atan2(oj.y,oj.x),fk.sides.v,0)}else if(SH=="customShape"){var fl=x.tS.Yo(fk),SD=fl[2]-fl[0],SG=fl[3]-fl[1],SV=O.pm,Sv,Mr;
for(var P=0;P<SV.length;P++)if(SV[P].Xx==fk.Nm.v)Sv=SV[P];if(Sv){Mr=g.XT.yS(Sv.z);x.p.hu(Mr,new Ym(SD,0,0,SG,fl[0],fl[1]))}else Mr=x.p.Go.Rect(fl[0],fl[1],SD,SG,0);
K.add.vmsk.z=Mr}K.Ko()}}}var Xz={solidColorLayer:0,gradientLayer:1,patternLayer:2}[XG.classID],SQ=["SoCo","GdFl","PtFl"][Xz];
K.add[SQ]=JSON.parse(JSON.stringify(n.JL[Xz]));fA.vg.NA(XG,K.add[SQ],Xz);if(fk==null)MV=YP.get([6,48,0,Xz]);
if(SQ=="PtFl")j.kJ(Yv.m_(K.add[SQ].Ptrn.v,O.Ax));K.uf(j)}var C_=fA.vg.QZ(j,MV+" ");K.lX(MV+" "+(C_+1));
if(S.kd)K.lX(S.kd);var XW=j.N.length==0?j.d.length-1:j.N[j.N.length-1],Sn=j.d[XW];if(i==g.CC&&Sn.Jl()&&Sn.rect.tR()){SP=!0;
K.lX(Sn.getName());Sg=XW}else{Sg=XW+1;if(Sn.add.lsct==YF.WY)Sg--}var Yc=j.d.slice(0);Yc.splice(Sg,SP?1:0,K);
var fg=[5,2];if(i==g.YG)fg=[6,13];if(i==g.kM)fg=[6,1];if(i==g.CC){fg=[6,48,1];var fk=S.MZ.Usng.v.Shp;
if(fk){var SF={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[fk.v.classID];
if(SF)fg=SF}}if(i==g.Cl){fg=[6,49]}if(i==g.Cl||i==g.CC)if(j.f)S_=[j.f,null];var D=new fX(fg,this);D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:[Sg],qm:S_};
j.Aq(D);this.YQ(D.data,j);if(i==g.CC&&fk==null&&Xz!=0||i==g.kM){var Pp=new L(E.E.e);Pp.data={r:E.a.mp,pv:Yn.qF.jP};
G.D(Pp)}}if(i==g.Rn){var K=j.YJ();K.lX(YP.get([0,4])+" "+j.d.length);K.eD="pass";K.add.lsct=YF.WY;K.Ge=24;
var XO=j.hP(),XW=C,Sg=XW+1,Yc=j.d.slice(0);Yc.splice(Sg,0,XO,K);var D=new fX([6,20],this);D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:[Sg+1]};
j.Aq(D);this.YQ(D.data,j)}if(i==g.K_||i==g.kQ){var Sp=i==g.K_?S.source:j.N[0],fL,Xx,Si=j.N.indexOf(Sp)!=-1,CL=z.U(w.Ki)|S.fdr,fP;
if(Si)fP=j.Of();else fP=j.fw(Sp);fP.sort(function(D,XJ){return D-XJ});if(i==g.K_){fL=S.target;Xx=S.yE>.5}else if(S.target!=null){fL=S.target;
Xx=!0;j.nK=!0}else{var Su=S.zS;Xx=Su>1;if(Su==0){fL=j.d.length-1}if(Su==1){fL=fP[fP.length-1]+1;var f=j.fw(fL);
if(f.indexOf(Sp)==-1)fL+=f.length-1}if(Su==2){fL=fP[0]-1;var f=j.fw(fL);if(f.indexOf(Sp)==-1)fL-=f.length-1}if(Su==3){fL=0}if(fL<0||fL>j.d.length-1)return;
j.nK=!0}if(fP.indexOf(fL)!=-1)return;var f$=j.d[fL],Yc=[];if(CL)Yc=j.d.slice(0);else for(var P=0;P<j.d.length;
P++)if(fP.indexOf(P)==-1)Yc.push(j.d[P]);var SB=Yc.indexOf(f$);if(i==g.K_&&f$.$P()&&f$.add.lsct==YF.Aa&&S.yE>.8)SB-=j.fw(fL).length-1;
var Pv=[],Pc=CL?j.fQ(Si?null:Sp):null;for(var P=0;P<fP.length;P++){var Pa=SB+(Xx?0:1)+P,J=CL?Pc[P]:j.d[fP[P]];
Yc.splice(Pa,0,J);Pv.push(Pa)}var D=new fX(CL?[6,0]:[6,35],this);D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:Pv};
j.Aq(D);this.YQ(D.data,j);var YV={classID:"move",null:fZ.cX("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:SB+(Xx?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:CL}};
this.track({mB:"move",MZ:YV})}if(i==g.GI){var K=j.YJ(),XK=YP.get([0,4])+" ";K.lX(XK+(fA.vg.QZ(j,XK)+1));
K.eD="pass";if(S.kd)K.lX(S.kd);K.add.lsct=j.N.length==1?YF.WY:YF.Aa;K.Ge=24;var XO=j.hP(),fP=j.Of();
if(fP.length==0)return;fP.sort(function(D,XJ){return D-XJ});var Yc=[];for(var P=0;P<j.d.length;P++)if(fP.indexOf(P)==-1)Yc.push(j.d[P]);
var XW=j.N[j.N.length-1]-fP.length;Yc.splice(XW+1,0,XO);for(var P=0;P<fP.length;P++)Yc.splice(XW+2+P,0,j.d[fP[P]]);
Yc.splice(XW+2+fP.length,0,K);var D=new fX([6,9],this);D.data={r:g.Rb,Ea:j.d.slice(0),M$:Yc,yx:j.N.slice(0),ks:[Yc.indexOf(K)]};
j.Aq(D);this.YQ(D.data,j);var $={mB:"make",Pe:!0};$.MZ={classID:"Mk",null:fZ.cX("layerSection"),From:fZ.cX("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:K.getName()}}}};
this.track($)}if(i==g.II){if(j.N.length!=1)return;var r=j.N[0],Sh=z.U(w.Ki);if(j.d[r].Ew()==null){i=g.Zj;
S.Cg=j.f?!Sh?"RvlS":"HdSl":!Sh?"RvlA":"HdAl"}else i=g.yD}if(i==g.Zj){if(j.N.length!=1)return;var r=j.N[0],K=j.d[r],Pd=K.Ew();
if(Pd==null||S.fdL){var D=new fX([6,21],this),PS=new g.QS,Xe=S.Cg,PI=Xe=="RvlS"||Xe=="HdSl";if(Xe=="RvlS"||Xe=="HdAl"||Xe=="Trns")PS.color=0;
if(PI){PS.channel=x.clone(j.f.channel);PS.rect=j.f.rect.clone();if(Xe=="HdSl")x.uT(PS.channel)}if(Xe=="Trns"){PS.rect=K.rect.clone();
PS.channel=x.S(K.rect.h());x.tb(K.buffer,PS.channel,3)}D.data={r:i,B:r,q:PS,yb:Pd,qm:PI?[j.f,null]:null};
j.Aq(D);this.YQ(D.data,j);j.d[r].hz=1;this.track({mB:"make",MZ:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:Xe}}}})}}else if(i==g.Rz){var p=j.d[S.src],N=j.d[S.XP];
if(N.Ew())return;var D=new fX([6,21],this),PS=p.Ew();if(S.Sw){D.data={r:g.Zj,B:S.XP,q:PS.clone()}}else{D.data={r:i,src:S.src,XP:S.XP,q:PS}}j.Aq(D);
this.YQ(D.data,j)}if(i==g.KA){if(j.N.length!=1)return;var r=C;if(j.d[r].Ew()!=null){var D=new fX([6,22],this);
D.data={r:i,B:r,q:j.d[r].Ew()};j.Aq(D);this.YQ(D.data,j)}}if(i==g.KV){var fC=j.d.slice(0),ff=M.clone(),Pk=ff.Ew();
x.HD(Pk.Jy(ff.rect),ff.rect,ff.buffer,ff.rect);fA.vg.PV(j,ff);j.d[j.N[0]]=ff;var D=new fX([5,8],this);
D.data={r:g.Rb,Ea:fC,M$:j.d.slice(),yx:j.N.slice(0),ks:j.N.slice(0)};j.Aq(D);this.YQ(D.data,j)}if(i==g.RD){if(j.N.length!=1)return;
var r=j.N[0];if(j.d[r].td(j).q==null){var D=new fX([6,45],this);D.data={r:i,B:r,q:new g.QS};j.Aq(D);
this.YQ(D.data,j)}}if(i==g.Rj){if(j.N.length!=1)return;var r=j.N[0];if(j.d[r].td(j).q!=null){var D=new fX([6,46],this);
D.data={r:i,B:r,q:j.d[r].td(j).q};j.Aq(D);this.YQ(D.data,j)}}if(i==g.Kn){if(S.B==null&&j.N.length!=1)return;
if(j.d[C].AG()){var D=new fX([6,47],this),ox=JSON.stringify(j.d[C].add.SoLd),c=JSON.parse(ox);delete c.filterFX;
D.data={r:g.fo,DU:[{O$:C,ss:[ox,JSON.stringify(c)],qx:[j.d[C].td(j),null]}]};j.Aq(D);this.YQ(D.data,j)}}if(i==g.yD){if(j.N.length!=1)return;
if(M.add.vmsk==null){var D=new fX([6,23],this),PS=new g.XT;PS.z[1].all=S.fYI?0:1;D.data={r:i,B:C,ye:!0,q:PS,tS:"[]",GN:null};
if(M.dr()){D.data.GN=JSON.stringify(n.GN.default)}j.Aq(D);this.YQ(D.data,j)}}if(i==g.RW){var p=j.d[S.src],N=j.d[S.XP];
if(N.add.vmsk)return;var D=new fX([6,23],this),Xp=p.add.vmsk;D.data={B:S.XP,ye:p.yU,q:Xp.clone(),tS:JSON.stringify(p.add.vogk),GN:p.add.vstk?JSON.stringify(p.add.vstk):null};
if(S.Sw){D.data.r=g.yD}else{D.data.r=i;D.data.src=S.src;D.data.XP=S.XP}j.Aq(D);this.YQ(D.data,j)}if(i==g.KR){if(j.N.length!=1)return;
var K=j.d[C],Xp=K.add.vmsk;if(Xp!=null){var D=new fX([6,24],this);D.data={r:i,B:C,ye:K.yU,q:Xp,tS:JSON.stringify(K.add.vogk),GN:K.add.vstk?JSON.stringify(K.add.vstk):null};
j.Aq(D);this.YQ(D.data,j)}}if(i==g.Gi){var PH=S.XP?S.XP:j,PV=PH.name,St=S.g+".psd";if(PV==St)return;
var D=new fX([6,37],this);D.data={r:i,yN:PV,kd:St};if(S.fdF!=!0)PH.Aq(D);this.YQ(D.data,PH)}if(i==g.KN){var PV=M.getName(),St=S.name.substring(0,255);
if(PV==St)return;var D=new fX([6,37],this);D.data={r:i,B:C,yN:PV,kd:St,fdt:M.add.lnsr,fcs:null};j.Aq(D);
this.YQ(D.data,j);this.track(fZ.zp("Nm",{t:"TEXT",v:St}))}if(i==g.Gt){var Pi=j.Of(),PD=[],Pj=[];for(var P=0;
P<Pi.length;P++){PD.push(j.d[Pi[P]].add.lclr);Pj.push(S.fcS)}var D=new fX([6,38],this);D.data={r:i,d:Pi,fcQ:PD,fcZ:Pj};
j.Aq(D);this.YQ(D.data,j)}if(i==g.RE){var D=j.history[j.dN];if(D!=null&&D.s==this&&D.data.r==i&&D.data.B==S.yr&&D.data.Ha.AK==S.hX.AK)D.data.Ha=S.hX;
else{D=new fX("Mask Density / Feather",this);D.data={r:i,B:S.yr,qd:j.d[S.yr].wk(S.hX.AK),Ha:S.hX};j.Aq(D)}this.YQ(D.data,j)}if(i==g.Kr){var PO=JSON.stringify(S.g),fD=JSON.parse(PO),D=j.history[j.dN];
if(D!=null&&D.s==this&&D.data.r==i&&D.data.Bw==S.Bw&&D.data.th.join(",")==S.th.join(",")){for(var P=0;
P<S.th.length;P++)D.data.yL[P]=fD;if(D.data.MZ&&fD.Gu!=0)fA.vg.NA(fD.tZ,D.data.MZ.T.v,fD.Gu-1)}else{D=new fX([11,6],this);
D.data={r:i,th:S.th,Bw:S.Bw,fcI:[],yL:[]};var Ph=!1;for(var P=0;P<S.th.length;P++){var Yo=S.th[P],K=j.d[Yo],PE=S.Bw?t.mE.ag(j,Yo):JSON.parse(JSON.stringify(K.add.vstk));
D.data.fcI.push(PE);D.data.yL.push(fD);if(JSON.stringify(PE)!=PO)Ph=!0}if(!Ph)return;j.Aq(D);if(S.Bw&&fD.Gu>0){var YV=D.data.MZ={classID:"setd",null:fZ.cX("contentLayer",!0),T:{t:"Objc",v:{}}},SQ=["SoCo","GdFl","PtFl"][fD.Gu-1];
fA.vg.NA(fD.tZ,YV.T.v,fD.Gu-1);this.track({mB:"set",MZ:YV})}}if(S.Bw&&fD.Gu==3)j.kJ(Yv.m_(fD.tZ.Ptrn.v,O.Ax));
if(!S.Bw){var PU=fD.strokeStyleContent.v;if(PU.classID==n.GN.iX[2])j.kJ(Yv.m_(PU.Ptrn.v,O.Ax))}this.YQ(D.data,j)}};
fA.vg.NA=function(S,G,j){var z=[n.W$,n.wU,n.dH][j];if(G.classID==null)G.classID=["solidColorLayer","gradientLayer","patternLayer"][j];
for(var O=0;O<z.length;O++)if(S[z[O]])G[z[O]]=JSON.parse(JSON.stringify(S[z[O]]))};fA.vg.QW=function(S){var G=new g.QS;
if(S.f!=null){G.color=0;G.channel=x.clone(S.f.channel);G.rect=S.f.rect.clone()}return G};fA.vg.Qm=function(S,G,j,z){var O=z.o/j.o,i=z.i/j.i,C=z.o/2,M=z.i/2,D=x.Y.pu(z).v;
for(var X=0;X<S.d.length;X++){var l=S.d[X],f=l.add.SoLd;if(f==null||f.Idnt.v!=G)continue;if(O!=1||i!=1){var F=t.Gh.JF(f.nonAffineTransform),$=x.Z.Ia(F,z),_=new Ym;
_.translate(-C,-M);_.scale(O,i);_.translate(C,M);var P=x.Z.FS($,x.Z.BS(_)),k=D.slice(0);x.Z.apply(P,k);
f.Trnf=t.Gh.Zl(k);f.nonAffineTransform=t.Gh.Zl(k)}l.pi(S)}S.I()};fA.vg.fVi=function(S,G,j){G.color=255-G.color;
x.uT(G.channel);G.io=!0;S.uf(j);j.I()};fA.vg.prototype.m$=function(S,G){var j=S.r,z=G.d[S.B];if(j==g.FY){G.add.lnk2.splice(G.add.lnk2.indexOf(S.bg),1,S.xN);
fA.vg.Qm(G,S.id,S.bg.DA[1],S.xN.DA[1])}if(j==g.Ip){z.eD=S.AR;G.I()}if(j==g.Is){var O=JSON.parse(S.th);
for(var i=0;i<O.length;i++)G.d[O[i]].opacity=S.AR[i];G.I()}if(j==g.K$){z.add.lspf=S.AR}if(j==g.Rc){var C=S.xj,M=S.fz$;
delete z.add[C[0]];if(M[0]!="----")z.add[M[0]]=M[1]}if(j==g.RT){z.add.iOpa=S.AR;G.I()}if(j==g.Yr){for(var i=0;
i<S.th.length;i++){var D=G.d[S.th[i]];D.aA(!D.Gg())}G.I()}if(j==g.yR){var X=z.Ew();X.isEnabled=!X.isEnabled;
z.uf(G);G.I()}if(j==g.FA){var X=z.td(G).q;X.isEnabled=!X.isEnabled;z.I();G.I()}if(j==g.zU){var X=z.add.vmsk;
X.isEnabled=!X.isEnabled;if(!X.isEnabled){if(z.lm){z.q=z.lm;z.lm=null}else z.q=null}else if(z.q){z.lm=z.q;
z.q=null}z.uf(G);G.I()}if(j==g.JU){z.iH=!z.iH;G.I()}if(j==g.Gv){z.add.lmfx.masterFXSwitch.v=!z.add.lmfx.masterFXSwitch.v;
z.t.WM=!0;G.I()}if(j==g.tU){z.add.SoLd.filterFX.v.enab.v=!z.add.SoLd.filterFX.v.enab.v;z.JY(G);G.I()}if(j==g.Gs){var l=S.index,f=z.add.lmfx[n.lH[l[0]]].v[l[1]].v;
f.enab.v=!f.enab.v;z.t.WM=!0;G.I()}if(j==g.Ry){var F=G.d[S.fWi],$=G.d[S.fsq],_=S.fdP,P=S.fdA;if(_=="")delete F.add.lmfx;
else F.add.lmfx=JSON.parse(_);if(P=="")delete $.add.lmfx;else $.add.lmfx=JSON.parse(P);F.t.WM=!0;$.t.WM=!0;
G.I()}if(j==g.tG){var k=z.add.SoLd.filterFX.v.filterFXList.v[S.index].v;k.enab.v=!k.enab.v;z.JY(G);G.I()}if(j==g.Iq){z.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(S.fpU));
z.JY(G);G.I()}if(j==g.Fi){var X=z.Ew();X.KQ=!X.KQ}if(j==g.Rs){var X=z.add.vmsk;X.KQ=!X.KQ}if(j==g.RQ){var H=S.xE;
for(var i=0;i<H.length;i+=2){var q=H[i],D=q>=0?G.d[q]:G.qD[-1-q];D.add.vogk=JSON.parse(H[i+1]);x.tS.VU(D.add.vogk,D.add.vmsk);
if(q>=0)D.uf(G)}G.I()}if(j==g.yj){G.f=S.Qy;G.Ft=S.xE.slice(0);G.wE=S.Jc.slice(0);G.yK=G.PJ=!0}if(j==g.zm){var R=S.fdO;
for(var i=0;i<R.length;i++)G.d[i].Xk=R[i]}if(j==g.Rb){if(S.yx)G.N=S.yx;if(S.qm)G.f=S.qm[0];G.IN=null;
G.I();G.Wb(S.Ea)}if(j==g.Zj){fA.vg.PV(G,z);if(S.yb)fA.vg.rX(G,z,S.yb);if(S.qm){var I=S.qm[0];if(I==null)delete G.f;
else G.f=I}}if(j==g.Rz){fA.vg.PV(G,G.d[S.XP]);fA.vg.rX(G,G.d[S.src],S.q)}if(j==g.KA){fA.vg.rX(G,z,S.q)}if(j==g.RD){z.td(G).q=null;
z.I();G.I()}if(j==g.Rj){z.td(G).q=S.q;z.I();G.I()}if(j==g.fo){fA.vg.Q_(G,S.DU,0)}if(j==g.yD){fA.vg.kP(G,z,!0)}if(j==g.RW){fA.vg.kP(G,G.d[S.XP],S.q.isEnabled);
fA.vg.kv(G,G.d[S.src],S)}if(j==g.KR){fA.vg.kv(G,z,S)}if(j==g.Gi){G.name=S.yN}if(j==g.KN){z.lX(S.yN);
if(S.fdt)z.add.lnsr=S.fdt;else delete z.add.lnsr}if(j==g.Gt){for(var i=0;i<S.d.length;i++)G.d[S.d[i]].add.lclr=S.fcQ[i]}if(j==g.Kr){var b=S.fcI;
for(var i=0;i<S.th.length;i++){var D=G.d[S.th[i]],Y=b[i];if(!S.Bw)D.add.vstk=JSON.parse(JSON.stringify(Y));
else t.mE.af(D,JSON.parse(JSON.stringify(Y)));D.BN(G)}G.I()}if(j==g.RE){z.dG(S.qd);z.uf(G);G.I()}G.Kh=!0};
fA.vg.prototype.YQ=function(S,G){var j=S.r,z=G.d[S.B];if(j==g.FY){G.add.lnk2.splice(G.add.lnk2.indexOf(S.xN),1,S.bg);
fA.vg.Qm(G,S.id,S.xN.DA[1],S.bg.DA[1])}if(j==g.Ip){z.eD=S.Ha;G.I()}if(j==g.Is){var O=JSON.parse(S.th);
for(var i=0;i<O.length;i++)G.d[O[i]].opacity=S.Ha;G.I()}if(j==g.K$){z.add.lspf=S.Ha}if(j==g.Rc){var C=S.fz$,M=S.xj;
delete z.add[C[0]];if(M[0]!="----")z.add[M[0]]=M[1]}if(j==g.RT){z.add.iOpa=S.Ha;G.I()}if(j==g.Yr){for(var i=0;
i<S.th.length;i++){var D=G.d[S.th[i]];D.aA(!D.Gg())}G.I()}if(j==g.yR){var X=z.Ew();X.isEnabled=!X.isEnabled;
z.uf(G);G.I()}if(j==g.FA){var X=z.td(G).q;X.isEnabled=!X.isEnabled;z.I();G.I()}if(j==g.zU){var X=z.add.vmsk;
X.isEnabled=!X.isEnabled;if(!X.isEnabled){if(z.lm){z.q=z.lm;z.lm=null}else z.q=null}else if(z.q){z.lm=z.q;
z.q=null}z.uf(G);G.I()}if(j==g.JU){z.iH=!z.iH;G.I()}if(j==g.Gv){z.add.lmfx.masterFXSwitch.v=!z.add.lmfx.masterFXSwitch.v;
z.t.WM=!0;G.I()}if(j==g.tU){z.add.SoLd.filterFX.v.enab.v=!z.add.SoLd.filterFX.v.enab.v;z.JY(G);G.I()}if(j==g.Gs){var l=S.index,f=z.add.lmfx[n.lH[l[0]]].v[l[1]].v;
f.enab.v=!f.enab.v;z.t.WM=!0;G.I()}if(j==g.Ry){var F=G.d[S.fWi],$=G.d[S.fsq],_=S.fdJ,P=S.fdR;if(_=="")delete F.add.lmfx;
else F.add.lmfx=JSON.parse(_);if(P=="")delete $.add.lmfx;else $.add.lmfx=JSON.parse(P);F.t.WM=!0;$.t.WM=!0;
G.I()}if(j==g.tG){var k=z.add.SoLd.filterFX.v.filterFXList.v[S.index].v;k.enab.v=!k.enab.v;z.JY(G);G.I()}if(j==g.Iq){z.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(S.fpx));
z.JY(G);G.I()}if(j==g.Fi){var X=z.Ew();X.KQ=!X.KQ}if(j==g.Rs){var X=z.add.vmsk;X.KQ=!X.KQ}if(j==g.RQ){var H=S.zA;
for(var i=0;i<H.length;i+=2){var q=H[i],D=q>=0?G.d[q]:G.qD[-1-q];D.add.vogk=JSON.parse(H[i+1]);x.tS.VU(D.add.vogk,D.add.vmsk);
if(q>=0)D.uf(G)}G.I()}if(j==g.yj){G.f=S.i_;G.Ft=S.zA.slice(0);G.wE=S.Jn.slice(0);G.yK=G.PJ=!0}if(j==g.zm){var R=S.fdb;
for(var i=0;i<R.length;i++)G.d[i].Xk=R[i]}if(j==g.Rb){if(S.ks)G.N=S.ks;if(S.qm)G.f=S.qm[1];G.IN=null;
G.I();G.Wb(S.M$)}if(j==g.Zj){if(S.yb)fA.vg.PV(G,z);fA.vg.rX(G,z,S.q);if(S.qm){var I=S.qm[1];if(I==null)delete G.f;
else G.f=I}}if(j==g.Rz){fA.vg.PV(G,G.d[S.src]);fA.vg.rX(G,G.d[S.XP],S.q)}if(j==g.KA){fA.vg.PV(G,z)}if(j==g.RD){z.td(G).q=S.q;
z.hz=0;z.I();G.I()}if(j==g.Rj){z.td(G).q=null;z.hz=0;z.I();G.I()}if(j==g.fo){fA.vg.Q_(G,S.DU,1)}if(j==g.yD){fA.vg.kv(G,z,S)}if(j==g.RW){fA.vg.kP(G,G.d[S.src],S.q.isEnabled);
fA.vg.kv(G,G.d[S.XP],S)}if(j==g.KR){fA.vg.kP(G,z,S.q.isEnabled)}if(j==g.Gi){G.name=S.kd}if(j==g.KN){z.lX(S.kd);
if(S.fcs)z.add.lnsr=S.fcs;else delete z.add.lnsr}if(j==g.Gt){for(var i=0;i<S.d.length;i++)G.d[S.d[i]].add.lclr=S.fcZ[i]}if(j==g.Kr){var b=S.yL;
for(var i=0;i<S.th.length;i++){var D=G.d[S.th[i]],Y=b[i];if(!S.Bw)D.add.vstk=JSON.parse(JSON.stringify(Y));
else t.mE.af(D,JSON.parse(JSON.stringify(Y)));D.BN(G)}G.I()}if(j==g.RE){z.dG(S.Ha);z.uf(G);G.I()}G.Kh=!0};
fA.vg.QZ=function(S,G){var j=0;for(var z=0;z<S.d.length;z++){var O=S.d[z].getName();if(O.startsWith(G)){var i=O.slice(G.length).trim(),C=parseInt(i);
if(!isNaN(C)&&C+""==i)j=C}}return j};fA.vg.Q_=function(S,G,j){for(var z=0;z<G.length;z++){var O=G[z],i=S.d[O.O$];
if(O.ss){i.add.SoLd=JSON.parse(O.ss[j])}if(O.qx){if(O.qx[1-j]!=null)S.Ws(O.qx[1-j]);if(O.qx[j]!=null)S.KL(O.qx[j]);
else i.hz=0}i.pi(S)}};fA.vg.QL=function(S,G){var j=S.jG,z=S.rect.clone();if(j!=null&&(j.x!=G.o||j.y!=G.i)){z.x=Math.floor((G.o-z.o)/2);
z.y=Math.floor((G.i-z.i)/2)}return z};fA.vg.PV=function(S,G){if(G.lm)G.lm=null;else G.q=null;G.uf(S);
S.I();G.hz=0};fA.vg.rX=function(S,G,j){if(G.q)G.lm=j;else G.q=j;G.uf(S);S.I()};fA.vg.kP=function(S,G,j){if(G.lm&&j){G.q=G.lm;
G.lm=null}else if(G.q&&j){G.q=null}delete G.add.vogk;delete G.add.vstk;delete G.add.vmsk;G.uf(S);G.yU=!1;
S.I()};fA.vg.kv=function(S,G,j){G.add.vogk=JSON.parse(j.tS);if(j.GN)G.add.vstk=JSON.parse(j.GN);else delete G.add.vstk;
G.add.vmsk=j.q.clone();if(G.q&&G.add.vmsk.isEnabled)G.lm=G.q;G.uf(S);G.yU=j.ye;S.I()};fA.w_=function(){fA.wS.call(this,t.AS);
this.JA=null;this.Bl=null;this.qV=null;this.s_=[];this.bK=null};fA.w_.prototype=new fA.wS;fA.w_.prototype.Wq=function(S,G,j,z,O){var i=j.d[S.B],C=S.Qf,D=null;
if(this.JA==null){this.qV=fA.w_.n_(j,i);this.JA=JSON.stringify(this.qV);if(i.add.lmfx)this.Bl=JSON.stringify(i.add.lmfx)}if(i.add.lmfx==null){i.add.lmfx=JSON.parse(n.default);
for(var M=0;M<n.order.length;M++)i.add.lmfx[n.lH[M]]={t:"VlLs",v:[]}}if(S.r=="changeprop"){if(C!=0){var X=this.s_[C[0]];
if(X==null)X=n.s_[C[0]];X=JSON.parse(X);var l=i.add.lmfx[n.lH[C[0]]].v;if(l[C[1]]==null)l[C[1]]={t:"Objc",v:X};
D=l[C[1]].v;for(var f in X)if(D[f]==null)D[f]=X[f]}if(S.r=="changeprop"){if(C==0){this.qV[S.hd].v=S.g;
fA.w_.rS(j,i,this.qV)}else if(S.hd=="lagl"){if(D.uglg&&D.uglg.v){j.fz(S.g.val);this.qV.fnl=j.kl()}else D[S.hd].v=S.g}else if(S.hd=="Lald"){if(D.uglg.v){j.ip(S.g.val);
this.qV.fnL=j.fs()}else D[S.hd].v=S.g}else if((C[0]==3||C[0]==8)&&(S.hd=="Clr"||S.hd=="Grad")){if(S.hd=="Clr"){D.Clr={t:"Objc",v:S.g};
delete D.Grad}if(S.hd=="Grad"){D.Grad={t:"Objc",v:S.g};delete D.Clr}}else{D[S.hd].v=S.g}if(C!=0)this.s_[C[0]]=JSON.stringify(D)}if(C!=0)if(D.Ptrn)j.kJ(Yv.m_(D.Ptrn.v,O.Ax))}else if(S.r=="setstl"){var F=S.g.Lefx;
if(F)Yv.fYZ(F,j,O.Ax);Yv.fCG(S.g,i);this.qV=fA.w_.n_(j,i)}else if(S.r=="st_dupsingle"){var $=i.add.lmfx[n.lH[S.tP[0]]].v;
if($[S.tP[1]]==null)return;var _=JSON.parse(JSON.stringify($[S.tP[1]]));$.splice(S.tP[1],0,_)}else if(S.r=="st_movsingle"){var P=S.tP[1],$=i.add.lmfx[n.lH[S.tP[0]]].v;
if($[S.tP[1]]==null)return;var k=Math.max(0,Math.min($.length-1,P+S.flw)),H=$[k];$[k]=$[P];$[P]=H}else if(S.r=="cancel"){if(this.Bl==null)delete i.add.lmfx;
else i.add.lmfx=JSON.parse(this.Bl);fA.w_.rS(j,i,JSON.parse(this.JA));this.JA=null;this.Bl=null}else if(S.r=="confirm"){var q=new fX([11,6],this);
q.data={d:[S.B],Im:[this.Bl],Iu:[JSON.stringify(i.add.lmfx)],Iw:[this.JA],Id:[JSON.stringify(this.qV)]};
j.Aq(q);this.JA=null;this.Bl=null}else if(S.r=="st_copy"){this.bK=[this.JA,this.Bl];this.JA=null;this.Bl=null}else if(S.r=="st_paste"||S.r=="st_clear"){if(S.r=="st_paste"&&this.bK==null)return;
var R=j.N.indexOf(S.B)==-1?[S.B]:j.N.slice(0),I=[],b=[],Y=[],m=[];for(var M=0;M<R.length;M++){var i=j.d[R[M]],h=fA.w_.n_(j,i);
I.push(i.add.lmfx?JSON.stringify(i.add.lmfx):null);Y.push(JSON.stringify(h));if(S.r=="st_paste"){b.push(this.bK[1]);
m.push(this.bK[0])}else{b.push(null);h.lrMd.v=0;h.Opct.v.val=100;h.iOpa.v.val=100;h.blIf={v:[]};for(var M=0;
M<10;M++)h.blIf.v.push(0,0,255,255);m.push(JSON.stringify(h))}}var q=new fX([11,6],this);q.data={d:R,Im:I,Iu:b,Iw:Y,Id:m};
this.YQ(q.data,j);j.Aq(q);this.JA=null;this.Bl=null}else{var e=this.qV,s=null;if(S.r=="st_delsingle"){s=JSON.parse(this.Bl);
s[n.lH[S.tP[0]]].v.splice(S.tP[1],1);s=JSON.stringify(s)}if(s==null)delete i.add.lmfx;else i.add.lmfx=JSON.parse(s);
if(e!=null)fA.w_.rS(j,i,e);var q=new fX([11,6],this);q.data={d:[S.B],Im:[this.Bl],Iu:[s],Iw:[this.JA],Id:[JSON.stringify(e)]};
j.Aq(q);this.JA=null;this.Bl=null}i.t.WM=!0;j.I()};fA.w_.n_=function(S,G){if(G.add.iOpa==null)G.add.iOpa=255;
var j=G.$P()?["pass"].concat(YR.fh):YR.fh;return{lrMd:{v:j.indexOf(G.eD)},Opct:{v:{type:"#Prc",val:Math.round(G.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(G.add.iOpa*100/255)},t:"UntF"},blIf:{v:G.uV.slice(0)},fnl:S.kl(),fnL:S.fs(),$P:G.$P()}};
fA.w_.rS=function(S,G,j){var z=G.$P()?["pass"].concat(YR.fh):YR.fh;G.eD=z[j.lrMd.v];G.opacity=Math.round(j.Opct.v.val*255/100);
G.add.iOpa=Math.round(j.iOpa.v.val*255/100);G.uV=j.blIf.v.slice(0);S.fz(j.fnl);S.ip(j.fnL)};fA.w_.prototype.m$=function(S,G){for(var j=0;
j<S.d.length;j++){var z=G.d[S.d[j]],O=S.Im[j];if(O==null)delete z.add.lmfx;else z.add.lmfx=JSON.parse(O);
fA.w_.rS(G,z,JSON.parse(S.Iw[j]));z.t.WM=!0}G.I()};fA.w_.prototype.YQ=function(S,G){for(var j=0;j<S.d.length;
j++){var z=G.d[S.d[j]],O=S.Iu[j];if(O==null)delete z.add.lmfx;else z.add.lmfx=JSON.parse(O);fA.w_.rS(G,z,JSON.parse(S.Id[j]));
z.t.WM=!0}G.I()};fA.Gx=function(){fA.wS.call(this,t.J$)};fA.Gx.prototype=new fA.wS;fA.Gx.prototype.Wq=function(S,G,j,z){var O=JSON.parse(JSON.stringify(j.hx)),i=JSON.parse(JSON.stringify(j.hx)),C=null,M=null,D=null,X=-1,l=!1;
if(S.r=="delLC"){var f=fA.Gx.kA(j.hx,S.Qf),F=j.hx.lastAppliedComp?j.hx.lastAppliedComp.v:0;i.list.v.splice(f,1);
if(F==S.Qf)delete i.lastAppliedComp;C="Delete Layer Comp"}if(S.r=="editLC"){var f=fA.Gx.kA(j.hx,S.Qf),$=i.list.v[f].v;
if(S.kd!=null)$.Nm.v=S.kd;if(S.fyJ!=null){var _=S.fyJ,P=$.capturedInfo.v,k=P&(1<<_)-1;P=P>>_;if((P&1)==1)P--;
else P++;$.capturedInfo.v=(P<<_)+k}C="Layer Comp properties"}if(S.r=="setLC"){fA.Gx.kW(j);if(S.Qf==0)delete i.lastAppliedComp;
else i.lastAppliedComp={t:"long",v:S.Qf};C="Switch Layer Comp";l=!0}if(S.r=="updLC"){fA.Gx.kW(j);M=fA.Gx.fZT(j,S.Qf);
D=fA.Gx.pJ(j,S.Qf);i.lastAppliedComp={t:"long",v:S.Qf};C="Update Layer Comp";X=S.Qf;l=!0}if(S.r=="addLC"){fA.Gx.kW(j);
var H=1;for(var q=0;q<i.list.v.length;q++)H=Math.max(H,i.list.v[q].v.compID.v)+1;H+=Math.floor(Math.random()*1e4);
var R={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(i.list.v.length+1)},compID:{t:"long",v:H},capturedInfo:{t:"long",v:7}}};
i.list.v.push(R);i.lastAppliedComp={t:"long",v:H};C="New Layer Comp";var I=fA.Gx.pJ(j,H);fA.Gx.kO(j,I,H)}var b=new fX(C,this);
b.data={fck:O,fcB:i,fXO:M,fXe:D,Qf:X,Ms:l};this.YQ(b.data,j);j.Aq(b)};fA.Gx.prototype.YQ=function(S,G){G.hx=S.fcB;
G.PJ=!0;if(S.fXe)fA.Gx.kO(G,S.fXe,S.Qf);if(S.Ms){var j=G.hx.lastAppliedComp?G.hx.lastAppliedComp.v:0,z=fA.Gx.kA(G.hx,j),O=z==-1?null:G.hx.list.v[z].v,i=O?O.capturedInfo.v:7;
fA.Gx.kk(G,j,i);G.I()}};fA.Gx.prototype.m$=function(S,G){G.hx=S.fck;G.PJ=!0;if(S.fXO)fA.Gx.kO(G,S.fXO,S.Qf);
if(S.Ms){var j=G.hx.lastAppliedComp?G.hx.lastAppliedComp.v:0,z=fA.Gx.kA(G.hx,j),O=z==-1?null:G.hx.list.v[z].v,i=O?O.capturedInfo.v:7;
fA.Gx.kk(G,j,i);G.I()}};fA.Gx.kW=function(S){if(S.hx.lastAppliedComp!=null||!S.Ic)return;var G=fA.Gx.pJ(S,0);
fA.Gx.kO(S,G,0);S.Ic=!1};fA.Gx.km=function(S,G,j){S.v.Hrzn.v+=G;S.v.Vrtc.v+=j};fA.Gx.kA=function(S,G){var j=S.list.v;
for(var z=0;z<j.length;z++)if(j[z].v.compID.v==G)return z;return-1};fA.Gx.fZQ=function(S){var G=S.layerSettings.v,O=null;
if(G.length==0)return;var j="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),z=G[0].v;
if(z.enab==null)z.enab={t:"bool",v:!0};if(z.Ofst==null)z.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var i=0;i<G.length;i++){var C=G[i].v;if(O==null)O=JSON.parse(JSON.stringify(C));else for(var M=0;
M<j.length;M++){var D=j[M];if(C[D])O[D]=JSON.parse(JSON.stringify(C[D]))}G[i].v=JSON.parse(JSON.stringify(O))}};
fA.Gx.Qt=function(S,G){var j=S.add.shmd.cmls,z=j.layerSettings.v;for(var O=0;O<z.length;O++){var i=z[O].v,C=i.compList.v[0].v;
if(C==G)return O}return-1};fA.Gx.TW=function(S,G){var j=fA.Gx.Qt(S,G);return j==-1?null:S.add.shmd.cmls.layerSettings.v[j].v};
fA.Gx.kk=function(S,G,j){for(var z=0;z<S.d.length;z++){var O=S.d[z],i=O.add.shmd.cmls;if(i==null)continue;
var C=i.layerSettings.v,M=fA.Gx.TW(O,G);if(M==null){O.aA(!1);continue}if((j&1)!=0){if(M.enab)O.aA(M.enab.v);
else O.aA(!0)}if((j&2)!=0){if(M.Ofst){var D=M.Ofst.v,X=O.yo(S),l=Math.round(D.Hrzn.v-X.x),f=Math.round(D.Vrtc.v-X.y);
if(l!=0||f!=0)t.GE.Ig(S,[z],null,l,f)}}if((j&4)!=0){if(M.Lefx){var F=JSON.parse(JSON.stringify(M.Lefx.v));
fh.Sc(F);if(JSON.stringify(F)!=JSON.stringify(O.add.lmfx)){O.add.lmfx=F;O.t.WM=!0}}else delete O.add.lmfx;
if(M.blendOptions){var $=M.blendOptions.v;if($.Opct)O.opacity=Math.round(255*$.Opct.v.val/100);if($.Md)O.eD=O.add.lsct==YF.px?"norm":YR.im($.Md.v.BlnM)}else{O.opacity=255;
O.eD=O.$P()?"pass":"norm"}}}};fA.Gx.fZT=function(S,G){var j={};for(var z=0;z<S.d.length;z++){var O=S.d[z];
if(O.add.shmd==null||O.add.shmd.cmls==null)continue;j["l"+O.add.lyid]=JSON.parse(JSON.stringify(fA.Gx.TW(O,G)))}return j};
fA.Gx.pJ=function(S,G){var j={};for(var z=0;z<S.d.length;z++){var O=S.d[z],i=O.add.lyid;j["l"+i]=fA.Gx.Ts(S,O,G)}return j};
fA.Gx.Ts=function(S,G,j){var z=G.add.shmd?G.add.shmd.cmls:null,O={classID:"null"},i=G.yo(S),C={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:i.x},Vrtc:{t:"long",v:i.y}}};
O.compList={t:"VlLs",v:[{t:"long",v:j}]};O.enab={t:"bool",v:G.Gg()};O.Ofst=JSON.parse(JSON.stringify(C));
O.FXRefPoint=JSON.parse(JSON.stringify(z&&z.origFXRefPoint?z.origFXRefPoint:C));O.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:YR.Lj(G.eD)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*G.opacity/255}}}};
if(G.add.vmsk){O.vectorMask={t:"Objc",v:{classID:"null"}};O.vectorMask.v.Ofst=JSON.parse(JSON.stringify(C))}if(G.add.lmfx){O.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(G.add.lmfx))};
fh.Sy(O.Lefx.v)}return O};fA.Gx.fZw=function(S,G){var j=G.add.lyid;if(G.add.shmd==null)G.add.shmd={};
if(G.add.shmd.cmls==null){G.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:j},layerSettings:{t:"VlLs",v:[{t:"Objc",v:fA.Gx.Ts(S,G,0)}]}}}};
fA.Gx.kO=function(S,G,j){for(var z=0;z<S.d.length;z++){var O=S.d[z],i=O.add.lyid;fA.Gx.fZw(S,O);var C=O.add.shmd.cmls,M=C.layerSettings.v,D=G["l"+i];
if(D!=null)D={t:"Objc",v:JSON.parse(JSON.stringify(D))};var X=fA.Gx.Qt(O,j);if(X==-1){if(D==null)continue;
else M.push(D)}else{if(D==null)M.splice(X,1);else M[X]=D}}};fA.Gx.pH=function(S,G){for(var j=0;j<S.d.length;
j++){var z=S.d[j],O=z.add.lyid;if(z.add.shmd==null||z.add.shmd.cmls==null)continue;var i=z.yo(S),C=Math.round(i.x),M=Math.round(i.y);
if(!G){C=-C;M=-M}var D=z.add.shmd.cmls,X=D.layerSettings.v;if(D.origFXRefPoint)fA.Gx.km(D.origFXRefPoint,-C,-M);
for(var l=0;l<X.length;l++){var f=X[l].v;fA.Gx.km(f.Ofst,C,M);var F=f.imageMask,$=f.vectorMask;if(F&&F.v.Ofst)fA.Gx.km(F.v.Ofst,C,M);
if($&&$.v.Ofst)fA.Gx.km($.v.Ofst,C,M)}}};fA.MG=function(){fA.wS.call(this,t.PU);this.iN=null;this.Hf=null};
fA.MG.prototype=new fA.wS;fA.MG.kx=function(S,G,j,z){if(z)G/=4;var O=0,i=0,C=255,M=0,D=0,X=255;while(i+S[O]<G){i+=S[O];
O++}while(M+S[C]<G){M+=S[C];C--}if(z){O-=Math.round(S[O]/(j/32));C+=Math.round(S[C]/(j/32));if(O<0)D=Math.round(-O*255/(C-O));
if(C>255)X=255-Math.round((C-255)*255/(C-O))}return[Math.max(O,0),Math.min(C,255),D,X,100]};fA.MG.prototype.Wq=function(S,G,j,z,O){var i=S.r;
if(i=="auto"){var C=S.Zh,M=fA.MG.getData(j);for(var D=0;D<M.length;D++){var X=M[D],l=X.L.h(),f,F=x.Mu(X.Pt),$=.001*l,_;
if(C<3){if(C==0||C==2)f=[[0,255,0,255,100],fA.MG.kx(F[1],$,l,C==2),fA.MG.kx(F[2],$,l,C==2),fA.MG.kx(F[3],$,l,C==2)];
if(C==1)f=[fA.MG.kx(F[0],$*.33,l,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var P=Yy.Cr("levl");
for(var D=0;D<4;D++)Cr.mL(P,D,f[D]);_=Yd.oF("levl",P)}else{var P=Yy.Cr("hue2");fu.mL(P,0,[0,-100,0]);
_=Yd.oF("hue2",P)}Yd.KH(_,X.Pt,X.hm,X.L)}fA.MG.pU(j,M);fA.MG.pE(j,M,C<3?[4,16,C]:[19,7,0],this);j.I()}if(i=="edit_layer")this.fZc(S,G,j,z);
if(i=="edit"||i=="confirm"||i=="cancel")this.pB(S,G,j,O,!0);if(i=="start"){if(j.N.length==0)return;var k=j.d[j.N[0]];
if(k.add.SoLd&&k.hz<=0){var H=new L(E.E.R,!0);H.s=t.DT;H.data={r:"start",vu:S.HH};G.D(H);return}if(!j.ia())return;
if(U[S.HH]&&S.Gf==null){if(j.N.length!=1)alert("Will be applied to "+j.N.length+" layers.");var H=new L(E.E.e,!0);
H.data={r:E.a.YO,pv:"afw_"+S.HH};G.D(H)}else{this.pB({r:"edit",Gf:S.Gf,vu:S.HH},G,j,O);this.pB({r:"confirm",vu:S.HH},G,j,O)}}};
fA.MG.prototype.fZc=function(S,G,j,z){var O=S.r,i=j.N[0],C=j.d[i],M=j.history[j.dN],D;if(M&&M.s==this&&M.data.qd!=null&&M.data.B==i)D=M;
else{var X=new L(E.E.Hz,!0),l={classID:"setd",null:fZ.cX("AdjL",!0),T:{t:"Objc",v:S.g}};X.data={Pe:!0,mB:"set",MZ:l};
G.D(X);var D=new fX([6,39],this),f=Yd.get(C.add);D.data={B:i,qd:C.add[f],Ha:S.g,yq:l};j.Aq(D)}D.data.Ha=S.g;
D.data.yq.T.v=S.g;this.YQ(D.data,j)};fA.MG.getData=function(S,G,j){var z=[],O=new Q(0,0,S.o,S.i),i=S.wE.length!=0?[-1-S.wE[0]]:S.N;
for(var C=0;C<i.length;C++){var M=i[C],D=M<0?null:S.d[M],X={B:M,oW:M<0?1:D.hz};z.push(X);var l=S.Ft[-1-M];
if(0<=M)l=D.hz<=0?null:D.hz==1?D.Ew():D.td(S).q;var f=l?l.rect:D.rect;if(S.f)X.L=l!=null?S.f.rect.tY(O):S.f.rect.tY(f);
else X.L=G||l!=null?f.wB(O):f.clone();if(j)X.L=j[C].L.clone();var F=X.L.h();X.Pt=x.S(F*4);if(l)t.ha.JC(l.channel,l.rect,l.color,X.Pt,X.L);
else x.yF(D.buffer,f,X.Pt,X.L);X.hm=X.Pt.slice(0);if(S.f){X.As=x.S(F);x.zP(S.f.channel,S.f.rect,X.As,X.L)}}return z};
fA.MG.prototype.pB=function(S,G,j,z){if(this.iN==null)this.iN=fA.MG.getData(j,null,S.vu=="fade"?j.KZ().data:null);
if(S.r=="edit"){this.Hf=[S.vu,S.Gf];var O=Yd.oF(S.vu,S.Gf);if(S.vu=="fade")O=S.Gf;if(O!=null){for(var i=0;
i<this.iN.length;i++){var C=this.iN[i];if(S.cw)x.Fj(C.Pt,C.hm);else if(S.vu=="fade"){var M=YR.im(S.Gf.Md.v.BlnM),D=S.Gf.Opct.v.val/100,X=j.KZ().data[i];
x.Fj(X.Pt,C.hm);if(M=="norm")x.k.AN(C.Pt,C.L,C.hm,C.L,null,null,null,C.L,D);else{var l=Yv.WF();l.GJ=!0;
for(var i=0;i<X.Pt.length;i+=4)if(X.Pt[i+3]!=C.Pt[i+3]){l=null;break}x.k.me(M,C.Pt,C.L,C.hm,C.L,C.L,D,l)}}else Yd.KH(O,C.Pt,C.hm,C.L)}fA.MG.pU(j,this.iN)}}if(S.r=="cancel"){fA.MG.TT(j,this.iN);
this.iN=null}if(S.r=="confirm"){fA.MG.pE(j,this.iN,S.vu=="fade"?[2,11]:Yd.names[S.vu],this);this.iN=null;
fA.MG.Tm(G,this.Hf)}j.I()};fA.MG.Tm=function(S,G){var j=G[0],z=G[1],O,i;if(Yd.Qv[j]){O=Yd.Qv[j];if(U[j])i=z}if(Yy.Qv[j]){O=Yy.Qv[j];
if(U[j])i=z}if(O==null)return;var C=new L(E.E.Hz,!0);C.data={Pe:!0,mB:O};if(i){i=JSON.parse(JSON.stringify(i));
i.classID="null";delete i.__name;C.data.MZ=i}S.D(C)};fA.MG.TT=function(S,G){fA.MG.PE(S,G)};fA.MG.pE=function(S,G,j,z){for(var O=0;
O<G.length;O++){var i=G[O],C=S.d[i.B],M=i.B<0?S.Ft[-1-i.B]:i.oW<=0?null:i.oW==1?C.Ew():C.td(S).q;if(M){M.Gw();
M.io=!0;if(C)C.uf(S)}else{C.Gw();C.I()}delete i.hm;delete i.As}var D=new fX(j,z);D.data=G;S.Aq(D)};fA.MG.pU=function(S,G,j){for(var z=0;
z<G.length;z++){var O=G[z],i=S.d[O.B],C=j?O.Pt:O.hm,M=O.L;if(O.oW==0){i.extend(M);if(O.As){x.yF(O.Pt,M,i.buffer,i.rect);
x.k.AN(C,M,i.buffer,i.rect,O.As,M,0,M,1)}else x.yF(C,M,i.buffer,i.rect)}else{var D=O.B<0?S.Ft[-1-O.B]:O.oW==1?i.Ew():i.td(S).q;
D.extend(M);if(O.As){var X=x.S(M.h()*4);x.Fj(O.Pt,X);x.k.AN(C,M,X,M,O.As,M,0,M,1);t.ha.lS(X,M,D)}else t.ha.lS(C,M,D);
D.io=!0;if(i)i.uf(S)}if(i)i.I()}if(!j)fA.MG.Td(S,G)};fA.MG.PE=function(S,G){for(var j=0;j<G.length;j++){var z=G[j],O=S.d[z.B],i=z.L,C=x.S(i.h()*4);
if(z.oW==0){x.yF(O.buffer,O.rect,C,i);O.extend(i);x.yF(z.Pt,i,O.buffer,O.rect);O.Gw()}else{var M=z.B<0?S.Ft[-1-z.B]:z.oW==1?O.Ew():O.td(S).q;
t.ha.JC(M.channel,M.rect,M.color,C,i);M.extend(i);t.ha.lS(z.Pt,i,M);M.Gw();M.io=!0;if(O)O.uf(S)}z.Pt=C;
if(O)O.I()}};fA.MG.Td=function(S,G){var j=fA.MG.Tc(S),z=~j;if(j==16777215)return;for(var O=0;O<G.length;
O++){var i=G[O],C=S.d[i.B],M=i.L;if(i.oW!=0)continue;C.extend(M);var D=M.x-C.rect.x,X=M.y-C.rect.y,l=C.rect.o,f=new Uint32Array(i.Pt.buffer),F=new Uint32Array(C.buffer.buffer);
for(var $=0;$<M.i;$++)for(var _=0;_<M.o;_++){var P=$*M.o+_,k=($+X)*l+(_+D);F[k]=F[k]&j|f[P]&z}C.Gw();
C.I()}S.I()};fA.MG.Tc=function(S){var G=S.Q.qk;return G[2]*16711680|G[1]*65280|G[0]*255};fA.MG.prototype.m$=function(S,G){var j=G.d[S.B];
if(S.qd!=null)j.add[Yd.get(j.add)]=S.qd;else fA.MG.PE(G,S);G.I()};fA.MG.prototype.YQ=function(S,G){var j=G.d[S.B];
if(S.qd!=null)j.add[Yd.get(j.add)]=S.Ha;else fA.MG.PE(G,S);G.I()};fA.AC=function(){fA.wS.call(this,t.DT);
this.iN=null;this.bc=null;this.r=null;this.Hf=null};fA.AC.prototype=new fA.wS;fA.AC.prototype.Wq=function(S,G,j,z,O){if(S.r=="start"){if(j.N.length==0)return;
var i=j.d[j.N[0]];if(i.add.SoLd&&i.hz<=0){}else if(!j.ia())return;var C=S.vu;if(U[C]&&S.Gf==null){if(j.N.length!=1)alert("Will be applied to "+j.N.length+" layers.");
var M=new L(E.E.e,!0);M.data={r:E.a.YO,pv:"afw_"+C,vQ:this.pe(j)};G.D(M)}else{var D={r:"edit",vu:C,Gf:S.Gf,vQ:this.pe(j)};
this.Wq(D,G,j,z,O);D.r="confirm";delete D.Gf;this.Wq(D,G,j,z,O)}}if(S.r=="edit"||S.r=="cancel"||S.r=="confirm"){if(S.r=="edit")this.Hf=[S.vu,S.Gf];
if(S.vQ)this.fZV(S,j,O);else this.fuf(S,G,j,O)}if(S.r=="applylast"&&this.Hf!=null){var D={r:"edit",vu:this.Hf[0],Gf:this.Hf[1],vQ:this.pe(j)};
this.Wq(D,G,j,z,O);D.r="confirm";delete D.Gf;this.Wq(D,G,j,z,O)}};fA.AC.prototype.pe=function(S){var G=S.d[S.N[0]],j;
if(G.add.SoLd&&G.hz<=0){j={B:S.N[0],index:0};if(G.add.SoLd.filterFX!=null)j.index=G.add.SoLd.filterFX.v.filterFXList.v.length}return j};
fA.AC.prototype.fZV=function(S,G,j){var z=G.d[S.vQ.B],O=S.vu;if(S.r=="edit"){if(this.r==null){var i=Yy.names[O];
if(i==null)i=Yd.names[O];this.r=new fX(i,this);this.r.data={vQ:S.vQ,fcO:JSON.parse(JSON.stringify(z.add.SoLd))}}if(!z.AG()){z.add.SoLd.filterFX=Yy.zD();
this.r.data.qx=Yi.rn(z.add.SoLd.placed.v);G.KL(this.r.data.qx);z.pi(G)}var C=z.add.SoLd.filterFX.v.filterFXList.v;
if(C[S.vQ.index]==null){C.push(Yy.BI(O,j))}if(S.Gf){C[S.vQ.index].v.enab.v=S.cw!=!0;C[S.vQ.index].v.Fltr.v=S.Gf}this.r.data.fc_=JSON.parse(JSON.stringify(z.add.SoLd));
this.YQ(this.r.data,G)}if(S.r=="cancel"){if(this.r)this.m$(this.r.data,G);this.r=null}if(S.r=="confirm"){G.Aq(this.r);
this.r=null}};fA.AC.prototype.PF=function(S){return{H:S>>>16,X:S>>>8&255,C:S&255}};fA.AC.prototype.fuf=function(S,G,j,z){if(this.iN==null)this.iN=fA.MG.getData(j,!0);
if(S.r=="edit"){var O=JSON.stringify(S.Gf);if((S.Gf==null||O!=this.bc)&&S.cw!=!0)for(var i=0;i<this.iN.length;
i++){var C=this.iN[i],M={rect:C.L,buffer:C.Pt},D={rect:C.L,buffer:C.hm};Yy.KH(S.vu,M,S.Gf,this.PF(z.Cj),this.PF(z.iw),D,j.add.lnk2?j.add.lnk2:[]);
this.bc=O}fA.MG.pU(j,this.iN,S.cw)}if(S.r=="cancel"){fA.MG.TT(j,this.iN);this.iN=null;this.bc=null}if(S.r=="confirm"){fA.MG.pE(j,this.iN,Yy.names[S.vu],this);
this.iN=null;this.bc=null;fA.MG.Tm(G,this.Hf)}j.I()};fA.AC.prototype.m$=function(S,G){if(S.vQ){var j=G.d[S.vQ.B];
if(S.qx)G.Ws(S.qx);j.add.SoLd=JSON.parse(JSON.stringify(S.fcO));if(j.AG())j.JY(G);else{j.pi(G);j.hz=0}}else fA.MG.PE(G,S);
G.I()};fA.AC.prototype.YQ=function(S,G){if(S.vQ){var j=G.d[S.vQ.B];if(S.qx)G.KL(S.qx);j.add.SoLd=JSON.parse(JSON.stringify(S.fc_));
if(j.AG())j.JY(G);else j.pi(G);if(!j.LO())j.Ge+=32}else fA.MG.PE(G,S);G.I()};var o$={$o:"0",bk:"1",vT:"2",rv:"3",ql:"4",lY:"5",lv:"6",vx:"7",R:"8",ve:"8.5",lW:"8.8",v$:"9",lQ:"10",aw:"11",ad:"12",rO:"13",Ae:"14",rq:"15",n$:"21",k_:"22",an:"23",rx:"23.0",rL:"23.1",kN:"23.2",LS:"23.3",pN:"23.4",kr:"23.5",Ho:"23.6",Tn:"30",Lv:"31",HY:"40",LK:"41",Hv:"42"};
o$.jF={};o$.jF[o$.bk]=["abr","brushes",XU,[9,3]];o$.jF[o$.vT]=["grd","gradients",PB,[12,37]];o$.jF[o$.rv]=["shc","contours",PJ,[12,21]];
o$.jF[o$.ql]=["asl","styles",PY,[12,22]];o$.jF[o$.lY]=["pat","patterns",Se,[12,62]];o$.jF[o$.lv]=["csh","shapes",CO,[12,77]];
o$.jF[o$.vx]=["aco","swatches",SZ,[9,8]];o$.jF[o$.R]=["atn","actions",XH,[9,9]];o$.jF[o$.ve]=["tpl","tpresets",Pm,[9,12]];
o$.jF[o$.lW]=["icc","profiles",f_,"ICCs"];function w(){this.zH={};this.by=0}w.prototype.reset=function(){this.zH={};
this.by=0};w.prototype.fuo=function(S){this.by++;this.zH[S]=!0};w.prototype.fuW=function(S){this.by--;
delete this.zH[S];if(this.by<=0||w.GD(S,w.TJ))this.reset()};w.prototype.U=function(S){for(var G=0;G<S.GM.length;
G++)if(this.zH[S.GM[G]])return!0;return!1};w.prototype.lL=function(){var S=this,G=S.U(w.H$)?10:1,j=0,z=0;
if(S.U(w.Ty))j=-G;if(S.U(w.Tk))j=G;if(S.U(w.Hl))z=-G;if(S.U(w.Hy))z=G;return new A(j,z)};w.prototype.pF=function(){var S=this,G=w.zo;
for(var j=0;j<10;j++)if(S.U(G[j]))return j;return-1};w.GD=function(S,G){return G.GM.indexOf(S)!=-1};
w.TA=function(S){var G=S.code;return G!=""&&(w.fuI.indexOf(G)==-1||S.shiftKey&&(G=="F5"||G=="F6"))};
w.fuJ=function(S){if(S==null)return"";var G=[];for(var j=0;j<S.length;j++)G.push(S[j].ac);return G.join(" + ")};
w.fuI="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
w.A$={ac:"Enter",GM:["Enter","NumpadEnter"]};w.H$={ac:"Shift",GM:["ShiftLeft","ShiftRight"]};w.TJ={ac:"Meta",GM:["MetaLeft","MetaRight","OSLeft","OSRight"]};
w.kw={ac:"Ctrl",GM:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};w.Ki={ac:"Alt",GM:["AltLeft","AltRight"]};
w.fuO={ac:"CtrlOrAlt",GM:w.kw.GM.concat(w.Ki.GM)};w.pW={ac:"Escape",GM:["Escape"]};w.aO={ac:"Space",GM:["Space"]};
w.pG={ac:"Tab",GM:["Tab"]};w.fuU={ac:"Home",GM:["Home"]};w.fu_={ac:"End",GM:["End"]};w.Ty={ac:"Left",GM:["ArrowLeft"]};
w.Hl={ac:"Up",GM:["ArrowUp"]};w.Tk={ac:"Right",GM:["ArrowRight"]};w.Hy={ac:"Down",GM:["ArrowDown"]};
w.HI={ac:"+",GM:["NumpadAdd","Equal"]};w.zg={ac:"-",GM:["NumpadSubtract","Minus","Slash"]};w.fuF={ac:";",GM:["Semicolon"]};
w.fVD={ac:"Dead",GM:["Dead"]};w.fuG={ac:"=",GM:["Equal"]};w.sG={ac:"Backspace",GM:["Backspace"]};w.mO={ac:"Delete",GM:["Delete"]};
w.fwm={ac:"Backslash",GM:["Backslash","IntlBackslash"]};w.fwQ={ac:"Backquote",GM:["Backquote"]};w.zf={ac:"[",GM:["BracketLeft"]};
w.TH={ac:"]",GM:["BracketRight"]};w.fwH={ac:".",GM:["Period"]};w.fw_={ac:",",GM:["Comma"]};w.fwN={ac:"'",GM:["Quote"]};
w.a={ac:"A",GM:["KeyA","KeyQ"]};w.TB={ac:"B",GM:["KeyB"]};w.PF={ac:"C",GM:["KeyC"]};w.HO={ac:"D",GM:["KeyD"]};
w.E={ac:"E",GM:["KeyE"]};w.mV={ac:"F",GM:["KeyF"]};w.Ti={ac:"G",GM:["KeyG"]};w.TD={ac:"H",GM:["KeyH"]};
w.zM={ac:"I",GM:["KeyI"]};w.Tj={ac:"J",GM:["KeyJ"]};w.TO={ac:"K",GM:["KeyK"]};w.Fa={ac:"L",GM:["KeyL"]};
w.hs={ac:"M",GM:["KeyM"]};w.JZ={ac:"N",GM:["KeyN"]};w.Tq={ac:"O",GM:["KeyO"]};w.aE={ac:"P",GM:["KeyP"]};
w.fVU={ac:"Q",GM:["KeyQ"]};w.qF={ac:"R",GM:["KeyR"]};w.Hk={ac:"S",GM:["KeyS"]};w.t={ac:"T",GM:["KeyT"]};
w.mQ={ac:"U",GM:["KeyU"]};w.Th={ac:"V",GM:["KeyV"]};w.TE={ac:"W",GM:["KeyW"]};w.Hq={ac:"X",GM:["KeyX"]};
w.fdS={ac:"Y",GM:["KeyY","KeyZ"]};w.HL={ac:"Z",GM:["KeyZ","KeyY"]};w.Te={ac:"0",GM:["Numpad0","Digit0"]};
w.T$={ac:"1",GM:["Numpad1","Digit1"]};w.fdz={ac:"2",GM:["Numpad2","Digit2"]};w.fdW={ac:"3",GM:["Numpad3","Digit3"]};
w.fdi={ac:"4",GM:["Numpad4","Digit4"]};w.fdx={ac:"5",GM:["Numpad5","Digit5"]};w.fcg={ac:"6",GM:["Numpad6","Digit6"]};
w.fcX={ac:"7",GM:["Numpad7","Digit7"]};w.fcp={ac:"8",GM:["Numpad8","Digit8"]};w.fch={ac:"9",GM:["Numpad9","Digit9"]};
w.zo=[w.Te,w.T$,w.fdz,w.fdW,w.fdi,w.fdx,w.fcg,w.fcX,w.fcp,w.fch];w.fVb={ac:"F1",GM:["F1"]};w.fV$={ac:"F2",GM:["F2"]};
w.fVN={ac:"F3",GM:["F3"]};w.fng={ac:"FF",GM:["F4"]};w.fVg={ac:"F5",GM:["F5"]};w.fVf={ac:"F6",GM:["F6"]};
w.fnf={ac:"F7",GM:["F7"]};w.fnD={ac:"F8",GM:["F8"]};w.fnx={ac:"F9",GM:["F9"]};w.fne={ac:"F10",GM:["F10"]};
w.fAD={ac:"F11",GM:["F11"]};w.fAq={ac:"F12",GM:["F12"]};function fX(S,G,j){if(j==null)j=!1;this.name=S;
this.s=G;this.IV=j;this.data=null}var fZ={};fZ.cX=function(S,G){var j={t:"Clss",v:{classID:S}};if(G)j={t:"Enmr",v:{classID:S,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[j]}};fZ.zp=function(S,G){var j={classID:"Lyr"};j[S]=G;return{mB:"set",MZ:{classID:"null",null:fZ.cX("Lyr",!0),T:{t:"Objc",v:j}}}};
fZ.fVX=function(S){var G=S.mB,j=S.MZ,z,C,M,D,X,l;if(j&&j.null)z=j.null.v[0];if(j&&z==null&&j.At)z=j.At.v[0];
if(z&&z.t=="obj ")z=z.v[0];var O=z?z.v.classID:null,i=["purge"];if(i.indexOf(G)!=-1)return G[0].toUpperCase()+G.slice(1);
l=Yd.Qv;for(C in l)if(l[C]==G)M=C;l=Yy.Qv;for(C in l)if(l[C]==G)D=C;l=XC.Qv;for(C in l)if(l[C]==G)X=C;
if(M)return Yd.names[M];if(D)return Yy.names[D];if(X)return XC.names[X];var f=fZ.TN;if(G=="make"){if(z){if(O=="AdjL")return[6,1];
else if(O=="layerSection")return[6,9];else if(O=="Lyr")return[6,13];else if(O=="Chnl"&&z.v.enum=="Msk")return[6,2];
else if(O=="contentLayer")return[6,48,1];else if(O=="BckL")return"Make Background Layer"}if(j.Nw){O=j.Nw.v.classID;
if(O=="Dcmn")return[11,7];else if(O=="Chnl"||O=="SCch")return"New Channel"}}else if(G=="select"){if(O=="Chnl")return"Select "+(z.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(O=="Mn")return"Select Panel \""+z.v.enum+"\"";else if(O=="Lyr")return"Select Layer \""+z.v.val+"\""}else if(f[G]&&O=="Chnl"){var F=z.v.keyID=="fsel";
return f[G]+" "+(F?"Selection":"Channel")}else if(G=="set"){if(O=="Lyr")return"Set Current Layer";else if(O=="AdjL")return[6,39];
else if(O=="contentLayer")return[6,48,2];else if(O=="Prpr")return[11,6];else if(O=="Clr")return"Set "+(z.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(O)}else if(G=="move"){if(O=="Lyr")return"Move Layer"}else if(G=="show"||G=="hide"){var $="";
if(O=="Lyr")+"Layer";if(O=="Chnl")+"Channel";return(G=="show"?"Show":"Hide")+" "+$}else if(G=="reset"){if(O=="Clr")return"Reset Colors"}else if(G=="exchange"){if(O=="Clr")return[22,7,0]}if(O=="Chnl"){if(G=="duplicate")return"Selection to Channel";
if(G=="delete")return"Delete Channel"}var _={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],transform:[10,16],delete:j?[6,31]:[2,2],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10]},P=_[G];
if(P==null)P=fZ.T_[G];if(P)return P;console.log(G,j);return G};fZ.T_={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
fZ.TN={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
fZ.fVM=function(S,G,j,z){var O=S.mB,i=S.MZ,C=new L(E.E.R,!0),X,l,f,F,$,H;C.s=t.HA;var M=new L(E.E.e,!0),D=["purge","updatePlacedLayer"];
if(D.indexOf(O)!=-1)return;$=Yd.Qv;for(X in $)if($[X]==O)l=X;$=Yy.Qv;for(X in $)if($[X]==O)f=X;$=XC.Qv;
for(X in $)if($[X]==O)F=X;if(l){C.s=t.PU;C.data={r:"start",HH:l,Gf:i}}else if(f){C.s=t.DT;C.data={r:"start",vu:f,Gf:i}}else if(F){C.s=t.DT;
C.data={r:"start",vu:"GEfc",Gf:i}}else if(O=="imageSize"||O=="canvasSize"){C.s=t.PY;C.data={r:"fromAction",cA:S}}else if(O=="fill"||O=="delete"&&i==null){C.s=t.bk;
C.data={r:"fromAction",cA:S}}else if(O=="colorRange"){var _=i.Mnm.v,P=i.Mxm.v;C.s=t.SN;C.data={r:"crange",iY:{Fa:_.Lmnc.v,A:_.A.v,C:_.B.v},iW:{Fa:P.Lmnc.v,A:P.A.v,C:P.B.v},Vy:i.Fzns.v/200}}else if(fZ.T_[O]||fZ.TN[O]&&(!1||i.With&&i.With.v[0].v.keyID=="fsel"||i.From&&i.From.v[0].v.keyID=="fsel"||i.null&&i.null.v[0].v.keyID=="fsel"||i.T.v[0]&&i.T.v[0].v.keyID=="fsel")){C.s=t.SN;
C.data={r:"fromAction",cA:S}}var k={copyToLayer:g.Cl,mergeLayersNew:z&&z.N.length==1?g.yv:g.FT,newPlacedLayer:g.yh};
if(k[O])C.data={r:k[O]};if(C.data){G.D(C);return}if(O=="close"){if(i.Svng.v.YsN=="Ys"){M.data={r:E.a.Hn};
G.D(M)}M.data={r:E.a.sB,Bj:z};G.D(M);return}var k={placedLayerEditContents:E.a.fmz};if(k[O])M.data={r:k[O]};
if(M.data){G.D(M);return}if(i.null||i.At)H=(i.null?i.null:i.At).v;else H=[{t:"----",v:i}];if(H[0].t=="obj "){if(H.length!=1)throw"e";
H=H[0].v}for(var q=0;q<H.length;q++){var R=H[q],I=R.v.classID;C.data=null;if(O=="make"){if(i.null==null&&i.Nw)I=i.Nw.v.classID;
if(I=="AdjL"){var b=i.Usng.v.Type.v.classID;b=Yd.TF[b];if(b)C.data={r:g.kM,vu:b}}else if(I=="layerSection"){C.data={r:g.GI};
if(i.Usng)C.data.kd=i.Usng.v.Nm.v}else if(I=="Lyr"){C.data={r:g.YG};if(i.Usng)C.data.kd=i.Usng.v.Nm.v}else if(I=="Chnl"&&R.v.enum=="Msk"){C.data={r:g.Zj,Cg:i.Usng.v.UsrM}}else if(I=="Chnl"||I=="SCch"){C.data={r:g.yj,zS:"fromAction",g:S}}else if(I=="contentLayer"){C.data={r:g.CC,MZ:i}}else if(I=="BckL"){z.d[z.N[0]].fVm();
continue}else if(I=="Dcmn"){var Y=i.Nw.v;M.data={r:E.a.lt,lq:Yi.fAC(Y,j)}}else if(I=="Ptrn")M.data={r:E.a.Mm,zC:0};
else{console.log(O,i);throw"e"}}else if(O=="select"){if(I=="Lyr"){var m=i.selectionModifier,h=m?m.v.selectionModifierType:null,e=fZ.yg(z,R);
C.data={r:g.IQ,B:e,fKu:h?["addToSelection","addToSelectionContinuous"].indexOf(h):null,zl:0,fwB:!0}}else if(I=="Chnl"){C.data={r:g.IQ,B:e,zl:1}}}else if((O=="set"||O=="reset"||O=="exchange")&&I=="Clr"){M.data={r:E.a.zv,zC:o$.n$,zS:O=="reset"?3:2};
if(O=="set"){M.data.zS=R.v.keyID=="FrgC"?0:1;var s=x.T.cx(i.T.v);M.data.g=s.H<<16|s.X<<8|s.C}}else if(O=="set"){if(I=="AdjL"){var b=i.T.v.classID;
b=Yd.TF[b];C.s=t.PU;if(b)C.data={r:"edit_layer",g:i.T.v}}else if(I=="Lyr"){var y=i.T.v,e=fZ.yg(z,R);
if(y.Nm)C.data={r:g.KN,name:y.Nm.v};else if(y.Opct)C.data={r:g.Is,Ha:Math.round(y.Opct.v.val*255/100)};
else if(y.Md)C.data={r:g.Ip,Ha:YR.kC.indexOf(y.Md.v.BlnM)};else if(y.Usrs)C.data={r:g.Fi,B:e};else if(y.Blnd){C.s=t.AS;
C.data={r:"setstl",B:e,g:{blendOptions:{t:"objc",v:y}}};G.D(C);C.data={r:"confirm",B:e}}else{console.log(i);
throw"e"}var T=z.d[e];T.fno()}else if(I=="contentLayer"){var e=fZ.yg(z,R),y=i.T.v;if(y.classID=="shapeStyle")y=y.FlCn.v;
var K={solidColorLayer:0,gradientLayer:1,patternLayer:2}[y.classID],f=JSON.parse(JSON.stringify(n.JL[K]));
fA.vg.NA(y,f,K);C.data={r:g.Kr,th:[e],Bw:!0,g:{Gu:K+1,tZ:f}}}else{console.log(R,i);throw I}}else if(O=="move"){if(I=="Lyr"){var y=i.T.v;
if(y.classID=="Ofst"){C.data={r:"trsl",fgr:y.Hrzn.v.val,fXY:y.Vrtc.v.val};C.s=t.PK}else{var B,a;if(y[0].t=="Enmr"){if(y[0].v.enum=="Frnt")a=0;
else throw"e"}else B=y[0].v.val;C.data={r:g.kQ,target:B,zS:a,fdr:i.Dplc?i.Dplc.v:!1}}}}else if(O=="groupEvent")C.data={r:g.JU};
else if(O=="show"||O=="hide"){if(I=="Lyr"){var e=fZ.yg(z,R);if(e==-1)continue;var u=z.d[e].Gg();if(O=="show"&&u||O=="hide"&&!u)continue;
C.data={r:g.Yr,B:e}}else if(I=="Chnl"){C.data={r:g.yj,zS:"fromAction",g:S}}}else if(O=="transform"){var r=1,v=1,o=0,V=0,J=0,d=0,oU=0;
if(i.Wdth)r=i.Wdth.v.val/100;if(i.Hght)v=i.Hght.v.val/100;if(i.Skew){var p=i.Skew.v;o=p.Hrzn.v.val;V=p.Vrtc.v.val}if(i.Ofst){var N=i.Ofst.v;
d=N.Hrzn.v.val;oU=N.Vrtc.v.val}if(i.Angl)J=i.Angl.v.val;var ob=new Ym;ob.concat(new Ym(r,r*Math.tan(V*Math.PI/180),v*Math.tan(o*Math.PI/180),v,0,0));
ob.rotate(-J*Math.PI/180);ob.translate(d,oU);var oe={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6}[i.FTcs.v.QCSt];
if(oe==null)throw i.FTcs.v.QCSt;var e=i.null?fZ.yg(z,R):null;C.s=t.Kk;C.data={r:"mat",Bs:oe,g:ob,B:e}}else if(I=="Chnl"){C.data={r:g.yj,zS:"fromAction",g:S}}else if(O=="duplicate")C.data={r:g.Ec,kd:i.Nm?i.Nm.v:null};
else if(O=="delete")C.data={r:g.Yv};if(C.data)G.D(C);else if(M.data)G.D(M);else{console.log(S);alert("Unknown action \""+O+"\"");
throw"e"}}};fZ.yg=function(S,G){var j=G.t,z=-1;if(j=="name"){var O=G.v.val,z=-1;for(var i=0;i<S.d.length;
i++)if(S.d[i].getName()==O){z=i;break}}if(j=="Enmr"&&S.N.length!=0)z=S.N[0];if(j=="prop"){if(G.v.keyID=="Bckg")z=0}return z};
var Yd={};Yd.get=function(S){for(var G in Yd.names)if(S[G]!=null)return G;return null};Yd.oF=function(S,G){var j=Yd.zz,z;
if(S=="brit"){var O=G.Brgh?G.Brgh.v:0,i=G.Cntr?G.Cntr.v:0,C=G.useLegacy?G.useLegacy.v:!1;if(C){var M=O/255,D=1+i/100;
if(D>1)D=1+Math.tan(Math.PI/2*i/101);var X=(1-D)/2,l=x.Mt.Oq(M,M,M),f=[D,0,0,X,0,D,0,X,0,0,D,X,0,0,0,1],F=x.Mt.multiply(l,f),$=new x.XL(256);
for(var _=0;_<256;_++)$.H[_]=_;x.Mt.transform($,$,F);z={type:j.VH,HN:$.H,BA:$.H,mM:$.H,BU:!1,Rq:!1}}else{var P=1024,k=-30+60*(i+100)/200,H=[];
for(var _=0;_<4;_++)H.push(x.aY.VS(_/3*255,_/3*255,!0));H[1].v.Hrzn.v=64;H[1].v.Vrtc.v=64-k;H[2].v.Hrzn.v=128+64;
H[2].v.Vrtc.v=128+64+k;H.sort(function(CN,oa){return CN.v.Hrzn.v-oa.v.Hrzn.v});var q=x.aY.hD(H,P);function R(CN,P){var H=[],oa=3;
for(var _=0;_<oa+1;_++)H.push(x.aY.VS(_/oa*255,_/oa*255,!0));H[1].v.Hrzn.v=130-CN*26;H[1].v.Vrtc.v=130+CN*51;
H[2].v.Hrzn.v=233-CN*48;H[2].v.Vrtc.v=233+CN*10;return x.aY.hD(H,P)}var I=R(Math.abs(O)/100,P);if(O<0){var b=[],Y=1/P;
for(var _=0;_<P;_++){var m=_*Y,h=_;while(I[h]>m&&h>1)h--;b[_]=h*Y}I=b}var e=new Uint8Array(P);for(var _=0;
_<P;_++){var s=Math.round((P-1)*I[_]);e[_]=Math.round(255*q[s])}z={type:j.VH,HN:e,BA:e,mM:e,BU:!1,Rq:!1}}}if(S=="levl"){var y=[],T,K,l,B,a,u;
for(var _=0;_<4;_++)y.push(Cr.rf(G,_));T=-y[0][0]/255;K=1/(y[0][1]/255-y[0][0]/255);l=x.Mt.multiply(x.Mt.Ob(K,K,K),x.Mt.Oq(T,T,T));
B=x.Mt.Ob(1/(y[1][1]/255-y[1][0]/255),1/(y[2][1]/255-y[2][0]/255),1/(y[3][1]/255-y[3][0]/255));a=x.Mt.Oq(-y[1][0]/255,-y[2][0]/255,-y[3][0]/255);
u=x.Mt.multiply(B,a);var e=new x.XL(256);for(var _=0;_<256;_++)e.H[_]=e.X[_]=e.C[_]=_;var r=1/(y[0][4]/100),v=1/(y[1][4]/100),o=1/(y[2][4]/100),V=1/(y[3][4]/100);
x.Mt.transform(e,e,u);for(var _=0;_<256;_++){e.H[_]=Math.round(Math.max(0,Math.min(255,255*Math.pow(e.H[_]/255,v))));
e.X[_]=Math.round(Math.max(0,Math.min(255,255*Math.pow(e.X[_]/255,o))));e.C[_]=Math.round(Math.max(0,Math.min(255,255*Math.pow(e.C[_]/255,V))))}x.Mt.transform(e,e,l);
for(var _=0;_<256;_++){e.H[_]=Math.round(Math.max(0,Math.min(255,255*Math.pow(e.H[_]/255,r))));e.X[_]=Math.round(Math.max(0,Math.min(255,255*Math.pow(e.X[_]/255,r))));
e.C[_]=Math.round(Math.max(0,Math.min(255,255*Math.pow(e.C[_]/255,r))))}T=y[0][2]/255;K=y[0][3]/255-y[0][2]/255;
l=x.Mt.multiply(x.Mt.Oq(T,T,T),x.Mt.Ob(K,K,K));B=x.Mt.Ob(y[1][3]/255-y[1][2]/255,y[2][3]/255-y[2][2]/255,y[3][3]/255-y[3][2]/255);
a=x.Mt.Oq(y[1][2]/255,y[2][2]/255,y[3][2]/255);u=x.Mt.multiply(a,B);x.Mt.transform(e,e,x.Mt.multiply(l,u));
z={type:j.VH,HN:e.H,BA:e.X,mM:e.C,BU:!1,Rq:!1}}if(S=="curv"){var J=fp.rf(G,0).length==256?1:0,d=[];if(J==0){var oU=x.aY.Yz(fp.rf(G,0),256);
for(var _=1;_<4;_++){var p=x.aY.Yz(fp.rf(G,_),256);d.push(x.aY.$q(p,oU))}}else{var N=[];for(var _=0;
_<4;_++){var ob=new Uint8Array(256);N.push(ob);var oe=fp.rf(G,_);for(var h=0;h<256;h++)ob[h]=oe[h]}for(var _=1;
_<4;_++)d.push(x.aY.$q(N[_],N[0]))}z={type:j.VH,HN:d[0],BA:d[1],mM:d[2],BU:!1,Rq:!1}}if(S=="expA"){var oF=G.Exps.v,oN=G.Ofst.v,YM=G.gammaCorrection.v,e=new Uint8Array(256);
for(var _=0;_<256;_++){var G=_/255,oE=Math.pow(Math.abs(oN),1/(Math.PI/2));if(oN>0){G=Math.max(oN/Math.E,G);
G=G*Math.exp(oN/1.75+oF/Math.PI);G=(1-oE)*G+oE*1}else{G=G*Math.exp(-oN*1.75+oF/Math.PI);G=G+-oE*1.14}G=Math.pow(G,1/YM);
G=Math.max(0,Math.min(1,G));e[_]=Math.round(G*255)}z={type:j.VH,HN:e,BA:e,mM:e,BU:!1,Rq:!1}}if(S=="vibA"){z={type:j.zQ,zC:[G.vibrance?G.vibrance.v:0,G.Strt?G.Strt.v:0]}}if(S=="hue2"){var ox=[],c=[],oG=[],or=G.Clrz?G.Clrz.v:!1;
for(var _=0;_<256;_++){ox[_]=_/255;c[_]=0;oG[_]=0}var Yf=fu.rf(G,0),oL=Yd.zc(Yf[1]/100);if(or){var YX=Yf[0]/360;
for(var _=0;_<256;_++){ox[_]=YX;c[_]=oL}}else{for(var _=0;_<256;_++){var YC=ox[_],Yp=c[_];ox[_]+=Yf[0]/360;
for(var h=0;h<6;h++){var YZ=fu.rf(G,h+1),Yz=YZ.nB,YT=YZ.I_,oE=0;for(var Yg=1;Yg<4;Yg++)if(YT[Yg]<YT[0])YT[Yg]+=360;
var YY=YT[0],Yo=YT[1],Ya=YT[2],YQ=YT[3],YK=YC*360;if(YK<YT[0])YK+=360;var fa=(YK-YY)/(Yo-YY),YO=(YK-Ya)/(YQ-Ya);
if(fa<0)oE=0;else if(fa<1)oE=fa;else if(YO<0)oE=1;else if(YO<1)oE=1-YO;else oE=0;var D=Yd.zc(Yz[1]/100);
ox[_]+=oE*Yz[0]/360;c[_]+=oE*D;oG[_]+=oE*Yz[2]/100}}for(var _=0;_<256;_++){c[_]=(1+c[_])*(1+oL)-1;oG[_]=Math.max(-1,Math.min(1,oG[_]))}}var Yw=new Uint8Array(256),YV=new Uint8Array(256),Yu=new Uint8Array(256);
for(var _=0;_<256;_++){var YJ=ox[_],fd=c[_],Yq=oG[_];if(YJ>1)YJ--;if(YJ<0)YJ++;fd=Yd.fVo(fd);fd=(1+fd)*.5;
Yq=(1+Yq)*.5;Yw[_]=Math.round(255*YJ);YV[_]=Math.round(255*fd);Yu[_]=Math.round(255*Yq)}var YU=Yf[2]/100,YE=YU<0?-YU:YU,Yc=YU<0?0:1;
z={type:j.zW,fMV:Yw,wL:YV,foV:Yu,fYT:YE*Yc,In:1-YE,fzn:Yf[2]/100,fYi:or?1:0}}if(S=="nvrt"){var e=new Uint8Array(256);
for(var _=0;_<256;_++)e[_]=255-_;z={type:j.VH,HN:e,BA:e,mM:e,BU:!1,Rq:!1}}if(S=="post"){var fJ=G.Lvls.v,e=new Uint8Array(256),oE=fJ/255.001,YB=255/(fJ-1);
for(var _=0;_<256;_++)e[_]=Math.floor(_*oE)*YB;z={type:j.VH,HN:e,BA:e,mM:e,BU:!1,Rq:!1}}if(S=="grdm"){var YG=G.Grad.v,Yr=x.T.Vm(YG.Clrs.v,0,0),P=1024,Yb=x.T.eH(YG,Yr,P,G.Rvrs.v),Y$=x.S(P),CE=x.S(P),My=x.S(P);
x.tb(Yb,Y$,0);x.tb(Yb,CE,1);x.tb(Yb,My,2);z={type:j.VH,HN:Y$,BA:CE,mM:My,BU:!0,Rq:!1}}if(S=="selc"){var Cg=new Float32Array(9*3*2),CP=G.dW,fO=G.Mthd.v.CrcM=="Absl";
for(var h=0;h<9;h++){var XT=h*6,Mc=Cx.rf(G,h),Cj=Mc[0]/100,XQ=Mc[1]/100,Cl=Mc[2]/100,CZ=Mc[3]/100;if(fO){Cg[XT]=Cg[XT+1]=Cg[XT+2]=1;
Cg[XT+3]=Cj*(1+CZ)+CZ;Cg[XT+4]=XQ*(1+CZ)+CZ;Cg[XT+5]=Cl*(1+CZ)+CZ}else{Cg[XT+0]=(1+Cj)*(1+CZ);Cg[XT+1]=(1+XQ)*(1+CZ);
Cg[XT+2]=(1+Cl)*(1+CZ)}}z={type:j.zZ,Mh:Cg}}if(S=="blwh"){var CT="Rd Yllw Grn Cyn Bl Mgnt".split(" "),z=[],fz=0,Ce=0;
for(var _=0;_<6;_++)z.push(G[CT[_]].v);z.push(G.useTint.v,G.tintColor.v);var Cu=[];for(var _=0;_<6;_++)Cu.push((z[_]-50)/50);
var Cp=x.T.cx(z[7]);Cp.H/=255;Cp.X/=255;Cp.C/=255;var Cv=x.Lm(Cp.H,Cp.X,Cp.C),Yq=x.Au(x.fv(Cv.QM,1,.5)),fY=Cv.sN*Cv.Gf;
if(Yq==.5)fz=Ce=.5;else{fz=fY*(.5-Yq)/(.5/Yq-1);Ce=1-fY*(.5-Yq)-1/(2*(1-Yq));Ce/=1-1/(2*(1-Yq))}z={type:j.zu,fCX:Cu,qc:z[6]?1:0,fSG:Cv.QM,Au:Yq,fad:fY,So:fz,fpd:Ce}}if(S=="blnc"){var y=[],fV=["ShdL","MdtL","HghL"];
for(var _=0;_<3;_++){var fJ=G[fV[_]].v,CG=fJ[0].v/100,fC=fJ[1].v/100,CX=fJ[2].v/100,So=G.PrsL.v?So=(Math.min(CG,fC,CX)+Math.max(CG,fC,CX))/2:0;
y[_]=[CG-So,fC-So,CX-So]}var d=[x.S(256),x.S(256),x.S(256)];for(var h=0;h<3;h++)for(var _=0;_<256;_++){var m=_*(1/255),fn=0,k=0,CC=0;
k=y[2][h];CC=Math.abs(k);if(k<0)fn=Math.pow(m,Math.SQRT2);else fn=1.63*(Math.pow(m+.04,.5)-.2);m=CC*fn+(1-CC)*m;
k=y[1][h];CC=Math.abs(k);if(k<0)fn=Math.pow(m,2);else fn=Math.min(2.35*(Math.pow(m+.09,.5)-.3),Math.pow(m,1/2));
m=CC*fn+(1-CC)*m;k=y[0][h];CC=Math.abs(k);if(k<0)fn=m<.4?0:Math.pow((m-.4)/.6,Math.SQRT2);else fn=Math.pow(m,Math.SQRT2/2);
m=CC*fn+(1-CC)*m;m=Math.max(0,Math.min(1,m));d[h][_]=Math.round(m*255)}z={type:j.VH,HN:d[0],BA:d[1],mM:d[2],BU:!1,Rq:!1}}if(S=="phfl"){var ff=x.T.cx(G.Clr.v),CI=[ff.H/255,ff.X/255,ff.C/255],Xl=G.Dnst.v/100,d=[x.S(256),x.S(256),x.S(256)];
for(var h=0;h<3;h++)for(var _=0;_<256;_++){var m=_*(1/255),C_=m*CI[h];C_=Math.max(0,Math.min(1,C_));
m=Xl*C_+(1-Xl)*m;d[h][_]=Math.round(m*255)}z={type:j.VH,HN:d[0],BA:d[1],mM:d[2],BU:!1,Rq:G.PrsL.v}}if(S=="thrs"){var e=x.S(256);
for(var _=G.Lvl.v;_<256;_++)e[_]=255;z={type:j.VH,HN:e,BA:e,mM:e,BU:!0,Rq:!1}}if(S=="mixr"){var CK=Yd.BY(G),F=[];
for(var _=0;_<CK.g.length;_++)if(_%5!=3)F.push(CK.g[_]/100);if(CK.dF){for(var XJ=1;XJ<3;XJ++)for(var m=0;
m<4;m++)F[XJ*4+m]=F[m]}z={type:j.zw,Mt:F}}if(S=="rplc"){var fw=G.Mnm.v,Xp=G.Mxm.v;z={type:j.zd,iY:[fw.Lmnc.v,fw.A.v,fw.B.v],iW:[Xp.Lmnc.v,Xp.A.v,Xp.B.v],shift:[G.H.v/360,G.Strt.v/100,G.Lght.v/100],Vy:G.Fzns.v/200}}if(S=="clrL"&&G.profile){var CS=new Uint8Array(G.profile.v),fr=ICC.R(CS.buffer),Cy=[],fG=0,XE=fr.tags.A2B0;
fG=XE&&XE.gpnum?XE.gpnum[0]:0;fG=fG>8?fG:17;var Cy=ICC.U.sampleLUT(fr,fG);z={type:j.HG,Pt:ICC.U.rgba8LUT(Cy,fG),fVs:Cy,JZ:fG}}return z};
Yd.zz={VH:0,zW:1,zQ:2,zZ:3,zu:4,zw:5,zd:6,HG:7};Yd.zc=function(S){if(S<0)return S;return Math.pow(Math.tan(Math.PI/2*S),1.3)};
Yd.fVo=function(S){if(S<0)return S;S=Math.pow(S,1/1.3);return Math.atan2(S,1)/(Math.PI/2)};Yd.KH=function(S,G,j,z){var O=Yd.zz,i=Date.now();
if(Z.Gp&&z.h()>300*300&&S.type!=O.VH&&S.type!=O.HG){z=z.clone();z.x=z.y=0;var C=Yd.fVH;if(C==null||C.o!=z.o||C.i!=z.i){if(C)C.delete();
Yd.fVH=C=new Z.XL(z.o,z.i)}C.set(G);Z.XD(C,z);C.Eq(z);Yd.zV(S,C.yu,z);C.get(j);return}if(S.type==O.HG){var M=S.fVs,D=S.JZ,F=3;
function X(fJ,YB,YM,YG,Yr,Yb){var Y$=1-YG;Yb[Yr+0]=Y$*YM[fJ]+YG*YM[YB];Yb[Yr+1]=Y$*YM[fJ+1]+YG*YM[YB+1];
Yb[Yr+2]=Y$*YM[fJ+2]+YG*YM[YB+2]}var l=[0,0,0,0,0,0,0,0,0,0,0,0],f=(D-1.000001)/255;for(var $=0;$<G.length;
$+=4){var z=f*G[$],_=f*G[$+1],P=f*G[$+2],k=~~z,H=~~_,q=~~P;X(F*(q+D*H+D*D*k),F*(q+1+D*H+D*D*k),M,P-q,0,l);
X(F*(q+D*(H+1)+D*D*k),F*(q+1+D*(H+1)+D*D*k),M,P-q,3,l);X(0,3,l,_-H,6,l);X(F*(q+D*H+D*D*(k+1)),F*(q+1+D*H+D*D*(k+1)),M,P-q,0,l);
X(F*(q+D*(H+1)+D*D*(k+1)),F*(q+1+D*(H+1)+D*D*(k+1)),M,P-q,3,l);X(0,3,l,_-H,9,l);X(6,9,l,z-k,0,l);j[$]=~~(.5+l[0]*255);
j[$+1]=~~(.5+l[1]*255);j[$+2]=~~(.5+l[2]*255)}}if(S.type==O.zw)x.Mt.o_(G,j,S.Mt);if(S.type==O.zu){var R=S.fad,I=S.Au,b=S.So,Y=S.fpd,m=G.length;
for(var $=0;$<m;$+=4){var z=G[$]*(1/255),_=G[$+1]*(1/255),P=G[$+2]*(1/255),h=x.Nk(z,_,P),e=0;for(var s=0;
s<6;s++)e+=Math.min(1,1.7*(1-h.we))*h.sN*S.fCX[s]*Yd.Tr(h.QM,s*(1/6));var y=Math.max(0,Math.min(1,h.we*(1+e)));
if(S.qc==1){var T=0;if(y<b)T=y*(.5/I);else if(y<Y)T=y+R*(.5-I);else T=1-(1-y)*.5/(1-I);h.QM=S.fSG;h.sN=Math.min(1,R+3*R*Math.abs(y-.5*(b+Y)));
h.we=T}else{h.QM=0;h.sN=0;h.we=y}var K=x.fv(h.QM,h.sN,h.we);j[$]=Math.round(K.H*255);j[$+1]=Math.round(K.X*255);
j[$+2]=Math.round(K.C*255)}}if(S.type==O.zZ){var B=S.Mh,m=G.length,a=1/255;for(var $=0;$<m;$+=4){var z=G[$]*a,_=G[$+1]*a,P=G[$+2]*a,h=x.Nk(z,_,P),u=Math.max(z,Math.max(_,P)),r=Math.min(z,Math.min(_,P)),v=1-z,o=1-_,V=1-P,J=0,d=0,oU=0;
for(var s=0;s<9;s++){var p=s*6,oF=0;if(B[p]==1&&B[p+1]==1&&B[p+2]==1&&B[p+3]==0&&B[p+4]==0&&B[p+5]==0)continue;
var N=v*B[p]+B[p+3],ob=o*B[p+1]+B[p+4],oe=V*B[p+2]+B[p+5];if(s<6)oF=Yd.Tr(h.QM,s*(1/6))*h.sN*2*Math.min(h.we,1-h.we);
else if(s==6)oF=Math.max(0,r-.5)*2;else if(s==7)oF=1-(Math.abs(u-.5)+Math.abs(r-.5));else oF=Math.max(0,.5-u)*2;
J+=(Math.max(0,Math.min(1,N))-v)*oF;d+=(Math.max(0,Math.min(1,ob))-o)*oF;oU+=(Math.max(0,Math.min(1,oe))-V)*oF}v=Math.max(0,Math.min(1,v+J));
o=Math.max(0,Math.min(1,o+d));V=Math.max(0,Math.min(1,V+oU));z=1-v;_=1-o;P=1-V;j[$]=Math.round(z*255);
j[$+1]=Math.round(_*255);j[$+2]=Math.round(P*255)}}if(S.type==O.VH){x.fMp(G,j,S.HN,S.BA,S.mM,S.BU,S.Rq)}if(S.type==O.zW){var oN=new Uint32Array(G.buffer),YM=new Uint32Array(j.buffer),m=oN.length;
if(Yd.IA==null){Yd.IA=new Float64Array(256);for(var $=0;$<256;$++)Yd.IA[$]=Yd.zc(-1+2*$/255)}var oE=Yd.IA;
for(var $=0;$<m;$++){var ox=oN[$],z=(ox&255)*(1/255),_=(ox>>>8&255)*(1/255),P=(ox>>>16&255)*(1/255),c=ox>>>24,oG=Math.min(z,_,P),or=Math.max(z,_,P),Yf=0,oL=0,YX=0;
if(or!=oG){var YC=or-oG;switch(or){case z:Yf=(_-P)/YC+(_<P?6:0);break;case _:Yf=(P-z)/YC+2;break;case P:Yf=(z-_)/YC+4;
break}Yf=Yf*(1/6)}var Yp=~~(Yf*255+.5),YZ=S.fMV[Yp]*(1/255),Yz=S.wL[Yp]*(1/255)*2-1,YT=S.foV[Yp]*(1/255)*2-1,e=-YT,Yg=oG;
if(0<YT){e=YT;Yg=or}var YY=S.fYT+S.In*e*Yg,Yo=S.In*(1-e);z=YY+Yo*z;_=YY+Yo*_;P=YY+Yo*P;or=Math.max(z,_,P);
oG=Math.min(z,_,P);YX=(or+oG)*.5;if(or!=oG){var YC=or-oG;oL=YX>.5?YC/(2-(or+oG)):YC/(or+oG)}var Ya=Yz;
if(S.fYi==0){Yz=oE[Math.floor((1+Yz)*127.5)];Ya=Math.min(oL*(1+Yz),1)}Yf=YZ;oL=Ya;if(oL==0)z=_=P=YX;
else{var YQ=YX<.5?YX*(1+oL):YX+oL-YX*oL,YK=2*YX-YQ;z=x.Xn(YK,YQ,Yf+1/3);_=x.Xn(YK,YQ,Yf);P=x.Xn(YK,YQ,Yf-1/3)}YM[$]=c<<24|P*255<<16|_*255<<8|z*255}}if(S.type==O.zd){x.Fj(G,j);
var oN=new Uint32Array(G.buffer),YM=new Uint32Array(j.buffer),m=oN.length,fa=S.Vy,YO=1/fa,Yw={Fa:S.iY[0],A:S.iY[1],C:S.iY[2]},YV={Fa:S.iW[0],A:S.iW[1],C:S.iW[2]};
for(var $=0;$<m;$++){var ox=oN[$],k=ox&255,H=ox>>>8&255,q=ox>>>16&255,z=k*(1/255),_=H*(1/255),P=q*(1/255),c=ox>>>24,Yu=x.cy(k,H,q),YJ=x.bm(Yu,Yw,YV,fa,YO);
if(YJ==0)continue;var h=x.Nk(z,_,P),YZ=2+h.QM+YJ*S.shift[0];h.QM=YZ-~~YZ;h.sN=Math.max(0,Math.min(1,h.sN+YJ*S.shift[1]));
h.we=Math.max(0,Math.min(1,h.we+YJ*S.shift[2]));var K=x.fv(h.QM,h.sN,h.we);z=K.H;_=K.X;P=K.C;YM[$]=c<<24|P*255<<16|_*255<<8|z*255}}if(S.type==O.zQ){var oN=new Uint32Array(G.buffer),YM=new Uint32Array(j.buffer),m=oN.length,fd=S.zC[0]/100,Yq=S.zC[1]/100;
for(var $=0;$<m;$++){var ox=oN[$],z=(ox&255)*(1/255),_=(ox>>>8&255)*(1/255),P=(ox>>>16&255)*(1/255),c=ox>>>24,h=x.Lm(z,_,P),Yf=h.QM,oL=h.sN,YX=h.Gf,YU=0,YE=45/360,Yc=Yf<YE?Math.cos(Math.PI/2*(Yf-YE/2)/(YE/2)):0;
oL=oL+.2*(1-.4*Yc)*fd*Math.max(0,Math.sin(oL*Math.PI));oL=oL*(1+Yq);oL=Math.max(0,Math.min(1,oL));var K=x.HV(Yf,oL,YX);
z=K.H;_=K.X;P=K.C;YM[$]=c<<24|P*255<<16|_*255<<8|z*255}}};Yd.zV=function(S,G,j){var z=Yd.zz;if(S.type==z.VH)Z.a$(G,{H:S.HN,X:S.BA,C:S.mM},S.BU,S.Rq,j);
if(S.type==z.zW)Z.tc(G,{H:S.fMV,X:S.wL,C:S.foV},j,S.fYT,S.In,S.fYi);if(S.type==z.zQ)Z.ZA(G,S.zC[0]/100,S.zC[1]/100,j);
if(S.type==z.zZ)Z.wW(G,S.Mh,j);if(S.type==z.zu)Z.ws(G,S.fCX,[S.qc,S.fSG,S.Au,S.fad,S.So,S.fpd],j);if(S.type==z.zw)Z.Zk(G,S.Mt,j);
if(S.type==z.zd)Z.ZB(G,S.iY,S.iW,S.shift,S.Vy,j);if(S.type==z.HG)Z.SA(G,S.JZ,S.Pt,j)};Yd.Tr=function(S,G){var j=x.cp(G,S)*6;
return Math.max(0,Math.min(1,j<0?1+j:1-j))};Yd.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
Yd.TL=["expA","clrL","selc"];Yd.zn=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];Yd.fVY=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
Yd.zi=[[13,1,1],[13,1,4],[13,1,5]];Yd.ot={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
Yd.TF=function(){var S=JSON.parse(JSON.stringify(Yd.ot));delete S["\0\0\0\xDE"];delete S["\0\0\0\xDD"];
delete S.GrMp;S.vibrance="vibA";S.photoFilter="phfl";S.GdMp="grdm";return S}();Yd.Qv={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
Yd.keys={levl:[w.kw,w.Fa],curv:[w.kw,w.hs],hue2:[w.kw,w.mQ],nvrt:[w.kw,w.zM],blnc:[w.kw,w.TB]};Yd.TG=function(S){var G=Yy.Cr("mixr");
G.Mnch={t:"bool",v:S.dF};function j(z,O){var i={classID:"ChMx"},C={Rd:0,Grn:1,Bl:2,Cnst:4};for(var M in C)i[M]={t:"UntF",v:{type:"#Prc",val:z[O+C[M]]}};
return{t:"Objc",v:i}}if(S.dF)G.Gry=j(S.g,0);else{G.Rd=j(S.g,0);G.Grn=j(S.g,5);G.Bl=j(S.g,10)}return G};
Yd.BY=function(S){function G(z,O,i){var C={Rd:0,Grn:1,Bl:2,Cnst:4};for(var M in C)if(z[M])O[i+C[M]]=z[M].v.val}var j={dF:!1,g:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(S.Mnch&&S.Mnch.v)j.dF=!0;if(j.dF)G(S.Gry.v,j.g,0);else{G(S.Rd.v,j.g,0);G(S.Grn.v,j.g,5);G(S.Bl.v,j.g,10)}return j};
var Yy={};Yy.yM=[{tZ:"GEfc"},{tZ:"LnCr"},{tZ:"LqFy",uz:!0},{iS:[24,2],Qa:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,MtnB,RdlB,\0\0\x02\xB5".split(",")},{iS:[24,4],Qa:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{iS:[24,6],Qa:["AdNs","DstS","Mdn "]},{iS:[24,8],Qa:["ClrH","Crst","Mztn","Msc ","Pntl"]},{iS:[24,10],Qa:["Clds","DfrC","LnsF"]},{iS:[24,12],Qa:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{iS:[24,14],Qa:["FndE"]},{iS:[24,16],Qa:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{iS:"Fourier",Qa:["dDFT","iDFT"]}];
Yy.Qv={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
Yy.names={LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
Yy.Cr=function(S){var G=null;if(S=="GEfc")G=XC.Cr("GlwE");if(S=="LqFy"){var j={YC:50,QM:50,map:new Float32Array(50*50*2)},z=new Uint8Array(Sc.Rk(j)),O=[];
for(var i=0;i<z.length;i++)O.push(z[i]);G={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:O}}}if(S=="LnCr")G={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(S=="\0\0\x02\xB1")G={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(S=="GsnB")G={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(S=="MtnB")G={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(S=="RdlB")G={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(S=="\0\0\x02\xB5")G={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(S=="Dspl")G={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(S=="Pnch")G={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(S=="Plr ")G={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(S=="Rple")G={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(S=="Shr ")G={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(S=="Sphr")G={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(S=="Twrl")G={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(S=="Wave")G={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(S=="AdNs")G={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(S=="DstS")G={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(S=="Mdn ")G={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(S=="ClrH")G={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(S=="Crst")G={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(S=="Mztn")G={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(S=="Msc ")G={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(S=="Pntl")G={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(S=="LnsF")G={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(S=="\0\0\x03\xE8")G={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(S=="UnsM")G={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(S=="HghP")G={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(S=="Mxm ")G={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(S=="Mnm ")G={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(S=="Ofst")G={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(S=="Rept")G={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(S=="brit")G={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(S=="levl")G={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(S=="curv")G={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(S=="expA")G={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(S=="vibA")G={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(S=="hue2")G={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(S=="blnc")G={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(S=="blwh")G={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(S=="phfl")G={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(S=="grdm")G={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!0},Grad:JSON.parse(n.s_[6]).Grad};
if(S=="selc")G={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Absl"}},ClrC:{t:"VlLs",v:[]}};
if(S=="thrs")G={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(S=="mixr")G={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(S=="clrL")G={__name:"Color Lookup",classID:"colorLookup"};if(S=="nvrt")G={};if(S=="post")G={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(S=="rplc")G={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(S=="fade")G={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return G};Yy.fVC=function(S){var G=new A(0,0);if(S.enab.v==!1)return G;var j=S.filterFXList.v;for(var z=0;
z<j.length;z++){var O=j[z].v,C=0,M=0;if(O.enab.v==!1)continue;var i=W.Pd(O.filterID.v);if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(i)!=-1){var D=O.Fltr.v.Rds.v.val;
C=M=D*2.57}if(i=="MtnB")C=M=O.Fltr.v.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Plr ,LnCr".split(",").indexOf(i)!=-1){C=M=1e4}if(i=="GEfc")C=M=1e4;
C=Math.ceil(C);M=Math.ceil(M);if(C>G.x)G.x=C;if(M>G.y)G.y=M}return G};Yy.fVS=function(S,G,j,z){for(var O=0;
O<S.length;O++){j[O]=S[O]*(1/255);z[O]=0}FFT.fft2d(j,z);var i=G>>>1,C=16384,M=128,X=100;while(M<G){M<<=1;
C<<=2}var D=255/Math.log(C),l=-100;for(var f=0;f<G;f++)for(var F=0;F<i;F++){var $=G+i+f&G-1,_=j[$*G+F],P=z[$*G+F],k=Math.sqrt(_*_+P*P),H=Math.atan2(P,_);
S[f*G+F]=Math.round(D*Math.log(k+1));S[f*G+i+F]=Math.round((Math.PI+H)*(255*.5/Math.PI))}};Yy.fVP=function(S,G,j,z){j.fill(0);
z.fill(0);var O=G>>>1,i=16384,C=128;while(C<G){C<<=1;i<<=2}var M=255/Math.log(i),D=[],X=[],l=[];for(var f=0;
f<256;f++){D[f]=Math.exp(f/M)-1;var F=f*(2*Math.PI/255)-Math.PI;X[f]=Math.sin(F);l[f]=Math.cos(F)}for(var $=0;
$<G;$++)for(var _=0;_<O;_++){var P=G+O+$&G-1,k=D[S[$*G+_]],F=S[$*G+O+_],H=k*l[F],q=k*X[F];j[P*G+_]=H;
z[P*G+_]=q;if(_!=0){var R=P==0?P*G+G-_:(G-P)*G+(G-_);j[R]=H;z[R]=-q}}FFT.ifft2d(j,z);for(var f=0;f<S.length;
f++){S[f]=Math.max(0,Math.min(255,~~(.5+255*j[f])))}};Yy.KH=function(S,G,j,z,O,i,C){if(i==null)i={buffer:x.S(G.buffer.length),rect:G.rect.clone()};
x.Fj(G.buffer,i.buffer);if(S=="GEfc")XC.KH(S,G,j,z,O,i,C);if(S=="dDFT"||S=="iDFT"){function M(XK){if(XK==0)return 1;
XK--;XK|=XK>>1;XK|=XK>>2;XK|=XK>>4;XK|=XK>>8;XK|=XK>>16;return XK+1}var D=G.rect.o,X=G.rect.i,l=M(Math.max(D,X)),f=l>>>1,F=new Q(0,0,l,l),$=new Q(0,0,D,X);
$.y=l-X>>>1;var _=D>>>1,P=new Q(0,$.y,_,X),k=new x.XL(D*X);x.fy(G.buffer,k);var H=new Float64Array(l*l),q=new Float64Array(l*l),R=x.S(l*l);
FFT.init(l);var I=[k.H,k.X,k.C];for(var b=0;b<3;b++){var Y=I[b];R.fill(0);if(S=="dDFT"){x.zP(Y,$,R,F);
Yy.fVS(R,l,H,q);x.zP(R,F,Y,$,P);P.x+=_;F.x-=f-_;x.zP(R,F,Y,$,P);P.x-=_;F.x+=f-_}else{x.zP(Y,$,R,F,P);
P.x+=f;$.x+=f-_;x.zP(Y,$,R,F,P);P.x-=f;$.x-=f-_;Yy.fVP(R,l,H,q);x.zP(R,F,Y,$)}}x.FP(k,i.buffer)}if(S=="Avrg"){var m=0,h=0,e=0,s=0,y=1;
for(var b=0;b<G.buffer.length;b+=4){var T=G.buffer[b+3];e+=G.buffer[b]*T;h+=G.buffer[b+1]*T;m+=G.buffer[b+2]*T;
s+=T}var K=1/s;m=Math.round(y*(m*K)+(1-y)*255);h=Math.round(y*(h*K)+(1-y)*255);e=Math.round(y*(e*K)+(1-y)*255);
x.GC(i.buffer,m<<16|h<<8|e,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(S)!=-1){var B=j.Rds.v.val,a=S=="\0\0\x02\xB1"?x.blur.bE:x.blur.fPV;
Yy.By(B,a,i.buffer,i.rect);if(S=="UnsM"||S=="\0\0\x03\xE8"){var u=j.Amnt.v.val/100,r=0;if(S=="UnsM")r=j.Thsh.v;
else u*=.75;for(var b=0;b<G.buffer.length;b++){if((b&3)==3){i.buffer[b]=G.buffer[b];continue}var v=G.buffer[b],o=i.buffer[b],V=u*(v-o);
if(V>0)V=Math.max(0,V-r);else V=Math.min(0,V+r);i.buffer[b]=Math.max(0,Math.min(255,v+V))}}if(S=="HghP")for(var b=0;
b<G.buffer.length;b++){if((b&3)==3){i.buffer[b]=G.buffer[b];continue}var v=G.buffer[b],o=i.buffer[b];
i.buffer[b]=Math.max(0,Math.min(255,128+v-o))}}if(S=="\0\0\x02\xB5"){var J=j.Rds.v.val,d=j.Thsh.v,D=G.rect.o,X=G.rect.i,k=new x.XL(D*X);
x.fy(G.buffer,k);var oU=new x.XL(D*X);x.cI.Mi(k.H,k.A,oU.H,D,X,J,x.cI.ok,[d]);x.cI.Mi(k.X,k.A,oU.X,D,X,J,x.cI.ok,[d]);
x.cI.Mi(k.C,k.A,oU.C,D,X,J,x.cI.ok,[d]);x.Fj(k.A,oU.A);x.FP(oU,i.buffer)}if(S=="AdNs"){var p=new Uint8ClampedArray(i.buffer.buffer),N=255*j.Nose.v.val/100,ob;
if(j.Dstr.v.Dstr=="Gsn")ob=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else ob=function(){return Math.random()*2-1};for(var b=0;b<p.length;b+=4){var J=p[b],oe=p[b+1],oF=p[b+2],oN,YM,oE;
if(j.Mnch.v){oN=YM=oE=ob()}else{oN=ob();YM=ob();oE=ob()}J+=N*oN;oe+=N*YM;oF+=N*oE;p[b]=J;p[b+1]=oe;p[b+2]=oF}}if(S=="Mdn "||S=="DstS"||S=="Mxm "||S=="Mnm "){var J=0;
if(S=="Mdn "||S=="Mxm "||S=="Mnm ")J=j.Rds.v.val;if(S=="DstS")J=j.Rds.v;x.cI.VK=.5;var a=x.cI.ou;if(S=="Mxm ")a=x.cI.eY;
if(S=="Mnm ")a=x.cI.fTd;var D=G.rect.o,X=G.rect.i,ox={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[S];Yy.BT(G.buffer,i.buffer,D,X,J,a,ox);
if(S=="DstS"){var d=j.Thsh.v;for(var b=0;b<D*X*4;b++){var c=Math.abs(G.buffer[b]-i.buffer[b]);if(c<=d)i.buffer[b]=G.buffer[b]}}}if(S=="ClrH"){var P=G.rect.clone();
P.x=P.y=0;var J=j.Rds.v;J=Math.round(J*Math.sqrt(2));var D=P.o,X=P.i,k=new x.XL(D*X);x.fy(G.buffer,k);
x.uT(k.H);x.uT(k.X);x.uT(k.C);var oG=E._("canvas","");oG.width=D;oG.height=X;var or=oG.getContext("2d"),Yf=x.S(D*X*4);
for(var oL=0;oL<3;oL++){var R=oL==0?k.H:oL==1?k.X:k.C,YX=Math.PI*j["Ang"+(oL+1)].v/180,YC=new Ym(1/J,0,0,1/J,0,0);
YC.rotate(YX);x.Cy(R,Yf,3);var Yp=t.Gh.vh([Yf,P],YC,!0),$=Yp.rect;or.clearRect(0,0,D,X);var YZ=Math.sin(YX),Yz=Math.cos(YX);
for(var b=0;b<$.i;b++)for(var YT=0;YT<$.o;YT++){var Yg=(YT+$.x+.5)*J,YY=(b+$.y+.5)*J,Yo=Yg,Ya=YY;Yg=Yz*Yo-YZ*Ya;
YY=YZ*Yo+Yz*Ya;var YQ=Yp.buffer[(b*$.o+YT<<2)+3]*(1/255),B=J*Math.sqrt(YQ*(1/Math.PI));or.beginPath();
or.arc(Yg,YY,B,0,2*Math.PI);or.fill()}var YK=or.getImageData(0,0,D,X);x.tb(YK.data,R,3)}x.uT(k.H);x.uT(k.X);
x.uT(k.C);x.FP(k,i.buffer)}if(S=="Crst"||S=="Pntl"){var D=G.rect.o,X=G.rect.i,a=S=="Crst"?x.pQ.fPf:x.pQ.fSe;
a(G.buffer,D,X,i.buffer,j.ClSz.v,[Math.round(O.H),Math.round(O.X),Math.round(O.C)])}if(S=="Mztn"){var D=G.rect.o,X=G.rect.i,YQ=D*X,k=new x.XL(YQ),oU=[k.H,k.X,k.C];
x.fy(G.buffer,k);var fa=j.MztT.v.MztT,YO={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[fa],Yw=Date.now(),YV=[];
for(var b=0;b<YQ;b++){YV[b]=Math.random()}var YQ=D*X,Yu=Math.round(YQ*YO[0]),YJ=YQ-D-1;for(var b=0;b<Yu;
b++){var fd=Math.random(),Yq=1;if(fd<.5){Yq=D;fd*=2}else fd=2*(fd-.5);var YU=Math.floor(fd*YJ),YE=YU+Yq;
YV[YU]=YV[YE]}var Yc=Math.round(D*YO[1]);for(var YY=0;YY<X;YY++)for(var b=0;b<Yc;b++){var fd=x.k.jw(YY*YQ+b),YU=YY*D+Math.floor(fd*(D-1));
YV[YU]=YV[YU+1]}var fJ=new Float64Array(256);for(var b=0;b<256;b++){var YB=b/255,YG=2*(YB<.5?YB:1-YB);
YG=YO[2]+Math.pow(YG,YO[3])*(1-YO[2]);YB=YB<.5?YG*.5:1-YG*.5;fJ[b]=YB}for(var Yr=0;Yr<3;Yr++){var R=oU[Yr];
for(var YY=0;YY<X;YY++){for(var Yg=0;Yg<D;Yg++){var b=YY*D+Yg,Yb=R[b],YB=fJ[Yb],fd=YV[b];R[b]=fd>YB?0:255}}}x.FP(k,i.buffer)}if(S=="Msc "){var Y$=j.ClSz.v.val,D=G.rect.o,X=G.rect.i,CE=Math.ceil(D/Y$),My=Math.ceil(X/Y$),Cg=x.S(CE*My*4);
x.scale.oG(G.buffer,D,X,Cg,CE,My,1/Y$);x.scale.oG(Cg,CE,My,i.buffer,D,X,Y$)}if(S=="Clds"||S=="DfrC"){if(S=="Clds")x.GC(i.buffer,4278190080);
var CP=x.S(256*4);for(var b=0;b<256;b++){var fO=b<<2,XT=b/255,Mc=1-XT;CP[fO]=Math.round(XT*z.H+Mc*O.H);
CP[fO+1]=Math.round(XT*z.X+Mc*O.X);CP[fO+2]=Math.round(XT*z.C+Mc*O.C)}var D=i.rect.o,X=i.rect.i,YQ=D*X,Cj=x.S(YQ);
noise.seed(Math.random());for(var YY=0;YY<X;YY++)for(var Yg=0;Yg<D;Yg++){var XQ=0,Cl=1,CZ=1;for(var b=0;
b<8;b++){var CT=CZ*(1/170);XQ+=noise.perlin2(Yg*CT,YY*CT)*Cl;Cl*=.5;CZ=CZ<<1}Cj[YY*D+Yg]=Math.round(Math.max(0,255*Math.min(1,.5+.7*XQ*.5)))}var Cu=i.buffer;
for(var b=0;b<YQ;b++){var fO=b<<2,Yr=Cj[b]<<2,J=CP[Yr],oe=CP[Yr+1],oF=CP[Yr+2];if(S=="Clds"){Cu[fO]=J;
Cu[fO+1]=oe;Cu[fO+2]=oF}else{Cu[fO]=Math.abs(Cu[4*b]-J);Cu[fO+1]=Math.abs(Cu[4*b+1]-oe);Cu[fO+2]=Math.abs(Cu[4*b+2]-oF)}}}if(S=="LnsF"){var D=G.rect.o,X=G.rect.i,fa=["Zm","Nkn","Nkn1","PnVs"].indexOf(j.Lns.v.Lns),Cp=j.FlrC.v,Cv=[Math.min(fa,2),j.Brgh.v/100,Cp.Hrzn.v,Cp.Vrtc.v],Yw=Date.now();
x.fdM(G.buffer,D,X,i.buffer,Cv)}if(S=="Blr "||S=="BlrM"||S=="Shrp"||S=="ShrM"){var D=G.rect.o,X=G.rect.i,fY;
if(S=="Blr ")fY=[1,2,1,2,16,2,1,2,1];else if(S=="BlrM")fY=[1,2,1,2,4,2,1,2,1];else if(S=="Shrp")fY=[0,-1,0,-1,8,-1,0,-1,0];
else fY=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];fY=x.cI.jE(fY);var fz=G.buffer.slice(0);x.bu(fz);x.cI.oM(fz,i.buffer,D,X,fY,S=="Shrp"||S=="ShrM"?0:255);
x.bd(i.buffer)}if(S=="MtnB"){var Yw=Date.now(),YC=new Ym;YC.rotate(-j.Angl.v*Math.PI/180);var Yp=t.Gh.vh([G.buffer,G.rect],YC,!1,null,!0);
Yy.By(j.Dstn.v.val/2,x.blur.bb,Yp.buffer,Yp.rect);YC.uT();Yp=t.Gh.vh([Yp.buffer,Yp.rect],YC,!1,i.buffer.buffer,!0,i.rect);
console.log(Date.now()-Yw)}if(S=="RdlB"){var D=G.rect.o,X=G.rect.i,u=j.Amnt.v,Ce=j.BlrM.v.BlrM=="Zm",oL=j.Cntr.v,fV=oL.Hrzn.v,CG=oL.Vrtc.v,fC=Math.max(fV,1-fV)*D,CX=Math.max(CG,1-CG)*X,B=Math.sqrt(fC*fC+CX*CX),So=2*Math.PI*B*1.2,fn=Math.round(So),CC=Math.round(B),P=new Q(0,0,fn,CC),ff=x.S(fn*CC*4),CI=Ce?4:1,Xl=Ce?.6:8*((D+X)/2)/1400,C_=.1,CT=1,CK=1;
x.Z.ey(G.buffer,D,X,ff,fn,CC,fV,CG,CI,C_,CT,CK);var XJ=Ce?x.S(fn*CC*4):null;if(Ce){x.Z.jt(ff,XJ,fn,CC);
var fw=XJ;XJ=ff;ff=fw;P.o=CC;P.i=fn}Yy.By(Xl*u,x.blur.bb,ff,P);if(Ce){x.Z.jt(ff,XJ,CC,fn);var fw=XJ;
XJ=ff;ff=fw;P.o=fn;P.i=CC}x.Z.ek(ff,fn,CC,i.buffer,D,X,fV,CG,CI,C_,CT,CK)}if(S=="Plr "){var D=G.rect.o,X=G.rect.i;
if(j.Cnvr.v.Cnvr=="RctP")x.Z.ek(G.buffer,D,X,i.buffer,D,X,.5,.5,1,0,2,D/X);else x.Z.ey(G.buffer,D,X,i.buffer,D,X,.5,.5,1,0,2,D/X)}if(S=="FndE"){var D=G.rect.o,X=G.rect.i;
Yy.Tt(G.buffer,i.buffer,D,X)}if(S=="Ofst"){var D=G.rect.o,X=G.rect.i,Xp=new Uint32Array(G.buffer.buffer),CS=new Uint32Array(i.buffer.buffer),Yo=j.Hrzn.v,Ya=j.Vrtc.v,fr=j.Fl.v.FlMd;
x.GC(CS,0);if(fr=="Bckg"||fr=="Rpt"){var P=G.rect.clone();P.offset(Yo,Ya);x.yF(Xp,P,CS,i.rect)}if(fr=="Rpt"){var Cy,fG,XE,CN,oa;
Yo=Math.max(-D,Math.min(D,Yo));Ya=Math.max(-X,Math.min(X,Ya));Cy=Yo>0?Yo:0;XE=Yo>0?D:D+Yo;fG=Ya>0?0:Ya+X;
CN=Ya>0?Ya:X;oa=Ya>0?0:D*(X-1);for(var YY=fG;YY<CN;YY++)for(var Yg=Cy;Yg<XE;Yg++)CS[YY*D+Yg]=Xp[oa+Yg-Yo];
Cy=Yo>0?0:D+Yo;XE=Yo>0?Yo:D;fG=Ya>0?Ya:0;CN=Ya>0?X:X+Ya;oa=Yo>0?0:D-1;for(var YY=fG;YY<CN;YY++)for(var Yg=Cy;
Yg<XE;Yg++)CS[YY*D+Yg]=Xp[oa+D*(YY-Ya)];if(Yo>=0&&Ya>=0){Cy=0;XE=Yo;fG=0;CN=Ya;oa=0}if(Yo>=0&&Ya<0){Cy=0;
XE=Yo;fG=X+Ya;CN=X;oa=D*(X-1)}if(Yo<0&&Ya>=0){Cy=D+Yo;XE=D;fG=0;CN=Ya;oa=D-1}if(Yo<0&&Ya<0){Cy=D+Yo;
XE=D;fG=X+Ya;CN=X;oa=D*X-1}for(var YY=fG;YY<CN;YY++)for(var Yg=Cy;Yg<XE;Yg++)CS[YY*D+Yg]=Xp[oa]}if(fr=="Wrp"){Yo=(Yo+100*D)%D;
Ya=(Ya+100*X)%X;var P=new Q(Yo-D,Ya-X,D,X);x.yF(Xp,P,CS,i.rect);P.offset(D,0);x.yF(Xp,P,CS,i.rect);P.offset(0,X);
x.yF(Xp,P,CS,i.rect);P.offset(-D,0);x.yF(Xp,P,CS,i.rect)}}if(S=="Rept"){var Pq=j.Rsft.v.val/100,Sr=j.SpcX.v.val/100;
Sr=Math.max(Sr,-.99);var Cm=j.SpcY.v.val/100;Cm=Math.max(Cm,-.99);var CT=j.Scl.v.val/100,YC=new Ym;YC.rotate(j.Angl.v*Math.PI/180);
YC.scale(CT,CT);var Cn={buffer:G.buffer,rect:G.rect};x.cU(Cn);if(Cn.rect.tR()){Cn.buffer=G.buffer;Cn.rect=G.rect}var Cu=Cn.buffer,P=Cn.rect,MC=x.MK(Cu,P,0),CA=new Uint32Array(Cu.buffer)[0];
if(!MC.tR()&&!MC.Xs(P)){var Ms=x.S(MC.h()*4);x.yF(Cu,P,Ms,MC);Cu=Ms;P=MC}P.x=P.y=0;CA=Sr==0&&Cm==0||j.SpcC.v?CA:0;
function fq(Yg){return Yg<0?Math.ceil(Yg):Math.floor(Yg)}var XV=YC.LU(new A(P.o,0));XV.x=fq(XV.x);XV.y=fq(XV.y);
var XF=YC.LU(new A(0,P.i));XF.x=fq(XF.x);XF.y=fq(XF.y);var Yp=t.Gh.vh([Cu,P],YC,!1),$=Yp.rect,oo=Yp.buffer,oK=Math.round($.x),Sz=Math.round($.y),Xa=Math.max(i.rect.o,i.rect.i)/Math.min(P.o*CT*(1+Sr),P.i*CT*(1+Cm));
Xa=Math.ceil(Xa*1.7);x.GC(i.buffer,CA);for(var YY=-Xa;YY<Xa;YY++){for(var Yg=-Xa;Yg<Xa;Yg++){var Sm=(Yg+YY*Pq)*(1+Sr),XY=YY*(1+Cm);
$.x=oK+Math.round(Sm*XV.x+XY*XF.x);$.y=Sz+Math.round(Sm*XV.y+XY*XF.y);if($.f$(i.rect))x.k.me("norm",oo,$,i.buffer,i.rect,$,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(S)!=-1){var D=G.rect.o,X=G.rect.i,fJ,Cc=0;
if(S=="LqFy")fJ=Sc.wD(new Uint8Array(j.LqMe.v).buffer);else{var Ct=S=="Dspl"?1:3;fJ={YC:Math.floor(D/Ct),QM:Math.floor(X/Ct)};
fJ.map=new Float32Array(fJ.YC*fJ.QM*2);if(S=="LnCr"){var fV=.5*(fJ.YC-1),CG=.5*(fJ.QM-1),Xt=Math.max(Math.abs(0-fV),Math.abs(1-fV)),MM=Math.max(Math.abs(0-CG),Math.abs(1-CG)),oi=Math.sqrt(Xt*Xt+MM*MM),Mm=0,MQ=0,MT=-1,SA=2,CT=j.LnSi.v/100,Ce=1/CT,SK=j.LnIa.v/100,Sl=SK==0?1e-6:SK*4.6,oO=Ce/oi;
for(var YY=0;YY<fJ.QM;YY++){for(var Yg=0;Yg<fJ.YC;Yg++){var fC=(Yg-fV)*oO,CX=(YY-CG)*oO,J=Math.sqrt(fC*fC+CX*CX)*Sl,Sa=Math.atan(J),fN=SK>0?Sa/J:J/Sa,CK=fV+oi*fN*fC,SW=CG+oi*fN*CX,b=YY*fJ.YC+Yg<<1;
fJ.map[b]=CK-Yg;fJ.map[b+1]=SW-YY}}}else if(S=="Dspl"&&C.length!=0){Cc=j.UndA.v.UndA=="WrpA"?2:1;var Xi=j.DspF.v.pth,XD;
for(var b=0;b<C.length;b++)if(C[b].Pq==Xi)XD=C[b];if(XD==null)XD=C[0];XD.yA();var Ml=XD.DA[1],SJ=x.S(Ml.h());
x.Lw(XD.DA[0],SJ);var Sj=Ml.o,SO=2*j.HrzS.v/Ct,MV=2*j.VrtS.v/Ct;for(var YY=0;YY<fJ.QM;YY++){for(var Yg=0;
Yg<fJ.YC;Yg++){var Xt=Math.floor(Ml.o*Yg/fJ.YC),MM=Math.floor(Ml.i*YY/fJ.QM),fC=CX=-.5+SJ[MM*Sj+Xt]/255,b=YY*fJ.YC+Yg<<1;
fJ.map[b]=fC*SO;fJ.map[b+1]=CX*MV}}}else if(S=="Pnch"||S=="Twrl"||S=="Sphr"){var u=1,MF=Math.PI,Mn=0,oL=3,Y$=1.53,fN=1;
if(S=="Pnch"||S=="Sphr")u=j.Amnt.v/100;if(S=="Twrl")MF=j.Angl.v*Math.PI/180;if(S=="Sphr")Mn=["Nrml","HrzO","VrtO"].indexOf(j.SphM.v.SphM);
function a(Yg){Yg=Math.pow(Yg,1-Yg*.3-Yg*Yg*(Yg*Yg)*.5);return-.225*Math.sin(Yg*Math.PI)}function SU(X,XK,J,Cy,fG,XE,CN,fN){var fC=XE-Cy,CX=CN-fG,CL=Cy-X,Sh=fG-XK,XT=fC*fC+CX*CX,oF=2*(fC*CL+CX*Sh),oL=CL*CL+Sh*Sh-J*J,Pd=Math.sqrt(oF*oF-4*XT*oL),PS=fN/(2*XT),Xe=(-oF+Pd)*PS,PI=(-oF-Pd)*PS;
return fN*Math.min(Xe,PI)}var CE=fJ.YC,My=fJ.QM,ft=fJ.YC/2,XG=fJ.QM/2,fk=1/ft,J=Math.sqrt(oL*oL+1)/oL,Y=oL+Math.sqrt(1/(oL*oL));
if(u<0){oL=1.72;J=1;Y=oL;Y$=-1;fN=-1}for(var YY=0;YY<My;YY++){var CX=(YY-XG)/XG;for(var Yg=0;Yg<CE;Yg++){var fC=(Yg-ft)*fk;
if(Mn==1)CX=0;else if(Mn==2)fC=0;var PP=Math.sqrt(fC*fC+CX*CX);if(PP<1&&PP!=0){var b=YY*fJ.YC+Yg<<1;
if(S=="Pnch"){var SH=-u*a(PP)/PP;fJ.map[b]=fC*SH*ft;fJ.map[b+1]=CX*SH*XG}else if(S=="Sphr"){var fw=SU(0,Y,J,0,0,PP,oL,fN),ov=Y$*u*(fw-1);
fJ.map[b]=fC*ov*ft;fJ.map[b+1]=CX*ov*XG}else if(S=="Twrl"){var YX=Math.atan2(CX,fC)-MF*(1-PP)*(1-PP),oj=Math.cos(YX),fl=Math.sin(YX);
fJ.map[b]=(PP*oj-fC)*ft;fJ.map[b+1]=(PP*fl-CX)*XG}}}}}else if(S=="Shr "){var SD=JSON.parse(JSON.stringify(j.ShrP.v));
x.aY.GY(SD,new Ym(0,255/127,255/127,0,-2,0));var SG=x.aY.hD(SD,fJ.QM,!0);Cc=j.UndA.v.UndA=="WrpA"?2:1;
for(var YY=0;YY<fJ.QM;YY++){var fC=-SG[YY]*fJ.YC;for(var Yg=0;Yg<fJ.YC;Yg++){var b=YY*fJ.YC+Yg<<1;fJ.map[b]=fC}}}else if(S=="Wave"){var SV=j.NmbG.v,Sv=j.WLMn.v,Mr=j.WLMx.v,Xz=j.AmMn.v*(Math.PI/4),SQ=j.AmMx.v*(Math.PI/4),XW=j.SclH.v/100,Sn=j.SclV.v/100,fa=j.Wvtp.v.Wvtp,SP=Math.sin;
if(fa=="WvTr")SP=function(Yg){Yg*=2/Math.PI;return-.5+Math.abs(Yg%2-1)};if(fa=="WvSq")SP=function(Yg){Yg*=2/Math.PI;
return 1+2*Math.floor(Yg%2-1)};var Sg=[],fg=new x.k.bl(j.RndS.v);for(var b=0;b<SV;b++){Sg.push(fg.get()*10);
Sg.push(Math.PI*Ct/(Sv+fg.get()*(Mr-Sv)));Sg.push(XW*(Xz+fg.get()*(SQ-Xz))/Ct);Sg.push(fg.get()*10);
Sg.push(Math.PI*Ct/(Sv+fg.get()*(Mr-Sv)));Sg.push(Sn*(Xz+fg.get()*(SQ-Xz))/Ct)}var S_=[],SF=[],Pp=Math.max(fJ.YC,fJ.QM);
for(var b=0;b<Pp;b++){var fC=0,CX=0;for(var YT=0;YT<SV;YT++){var XO=YT*6;fC+=Sg[XO+2]*SP(Sg[XO]+b*Sg[XO+1]);
CX+=Sg[XO+5]*SP(Sg[XO+3]+b*Sg[XO+4])}S_[b]=CX;SF[b]=fC}for(var YY=0;YY<fJ.QM;YY++){for(var Yg=0;Yg<fJ.YC;
Yg++){var b=YY*fJ.YC+Yg<<1;fJ.map[b]=SF[YY];fJ.map[b+1]=S_[Yg]}}Cc=j.UndA.v.UndA=="WrpA"?2:1}else if(S=="Rple"){Cc=1;
var u=j.Amnt.v/100,Sp=4,fL=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],Xx=1,Si=1,CL=0,fP=["Sml","Mdm","Lrg"].indexOf(j.RplS.v.RplS);
if(fP==0){Xx=1;Si=.2;CL=3}if(fP==2){Xx=1;Si=2;CL=-1;fL=fL.reverse()}var Su=function(Yg,YY){var oL=Math.cos,XQ=0;
for(var b=0;b<Sp;b++)for(var YT=0;YT<Sp;YT++)XQ+=fL[b*Sp+YT]*oL(Yg*(b+CL)-YY*(YT+CL));return XQ},f$=Math.floor(50/Ct),SB=new Float32Array(f$*f$*2),Pv=Si*u*.5/Ct;
for(var YY=0;YY<f$;YY++)for(var Yg=0;Yg<f$;Yg++){var fV=Xx*Yg*2*Math.PI/f$,CG=Xx*YY*2*Math.PI/f$,Pc=Su(fV,CG),fC=(Su(fV+.01,CG)-Pc)*100,CX=(Su(fV,CG+.01)-Pc)*100,b=(YY*f$+Yg)*2;
SB[b]=fC*Pv;SB[b+1]=CX*Pv}for(var YY=0;YY<fJ.QM;YY++)for(var Yg=0;Yg<fJ.YC;Yg++){var fl=YY%f$,oj=Yg%f$,b=YY*fJ.YC+Yg<<1,Pa=fl*f$+oj<<1;
fJ.map[b]=SB[Pa];fJ.map[b+1]=SB[Pa+1]}}}x.hQ.ej(G.buffer,i.buffer,D,X,null,fJ.map,fJ.YC,fJ.QM,Cc)}return i};
Yy.Tt=function(S,G,j,z){var O=x.S(S.length);x.cI.oM(S,G,j,z,[-1,0,1,-2,0,2,-1,0,1],0,!0);x.cI.oM(S,O,j,z,[1,2,1,0,0,0,-1,-2,-1],0,!0);
for(var i=0;i<O.length;i+=4){var C=G[i],M=G[i+1],D=G[i+2],X=G[i+3],l=O[i],f=O[i+1],F=O[i+2],$=O[i+3];
G[i]=255-Math.max(0,Math.min(255,Math.sqrt(C*C+l*l)));G[i+1]=255-Math.max(0,Math.min(255,Math.sqrt(M*M+f*f)));
G[i+2]=255-Math.max(0,Math.min(255,Math.sqrt(D*D+F*F)))}};Yy.BT=function(S,G,j,z,O,i,C){var M=new x.XL(j*z);
x.fy(S,M);var D=new x.XL(j*z);x.cI.Mi(M.H,M.A,D.H,j,z,O,i);x.cI.Mi(M.X,M.A,D.X,j,z,O,i);x.cI.Mi(M.C,M.A,D.C,j,z,O,i);
if(C==0){x.set(M.H,255);x.cI.Mi(M.A,M.H,D.A,j,z,O,i)}else if(C==1){var X=x.S(M.A.length);x.set(X,255);
x.uT(M.A);x.cI.Mi(M.A,X,D.A,j,z,O,i);x.uT(M.A);x.uT(D.A)}else x.Fj(M.A,D.A);x.FP(D,G)};Yy.By=function(S,G,j,z){x.bu(j);
if(S<1){var O=Math.round(S*5),i=[1,2,1,2,[40,26,13,6,4,2][O],2,1,2,1];i=x.cI.jE(i);var C=j.slice(0);
x.cI.oM(C,j,z.o,z.i,i,255)}else G(j,z,S);x.bd(j)};Yy.zD=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
Yy.BI=function(S,G){var j={H:G.Cj>>16,X:G.Cj>>8&255,C:G.Cj&255},z={H:G.iw>>16,X:G.iw>>8&255,C:G.iw&255},O=Yy.names[S];
if(O==null)O=Yd.names[S];var i=S;for(var C in Yd.ot)if(Yd.ot[C]==S)i=C;var M={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:YP.get(O)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:x.T.qL(j)},BckC:{t:"Objc",v:x.T.qL(z)},filterID:{t:"long",v:W.fJU(i)}}};
if(U[S])M.v.Fltr={t:"Objc",v:Yy.Cr(S)};return M};var XC={};XC.Zg="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");
XC.zj="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");XC.zO=["ScrC","ScrD","ScrL"];XC.Qv={PntD:"paintDaubs"};
XC.names={PntD:"Paint Daubs",BsRl:"Bas Relief",GlwE:"Glowing Edges",StnG:"Stained Glass",HlfS:"Halftone Pattern"};
XC.Cr=function(S){var G;if(S=="PntD")G={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(S=="PlsW")G={Dtl:{t:"long",v:15},Smth:{t:"long",v:5},HghS:{t:"long",v:20}};if(S=="BsRl")G={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(S=="GlwE")G={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(S=="StnG")G={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(S=="HlfS")G={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};G.__name="Filter Gallery";
G.classID="GEfc";G.GEfk={t:"enum",v:{GEft:S}};return G};XC.KH=function(S,G,j,z,O,i,C){S=j.GEfk.v.GEft;
var M=G.rect.o,D=G.rect.i;if(S=="BsRl"){var X=G.rect.h(),l=x.S(X),f=l.slice(0);x.Lw(G.buffer,l);var F=j.Dtl.v,$=j.Smth.v;
if(F!=15){x.blur.VX(l,f,G.rect,Math.round((15-F)*.5));x.Fj(f,l)}var _=2/M,P=2/D,k=(2+XC.zj.indexOf(j.LghD.v.LghD))*Math.PI*.25,H=Math.cos(k);
if(Math.abs(H)<.1)H=0;H=Math.sign(H);var q=Math.sin(k);if(Math.abs(q)<.1)q=0;q=Math.sign(q);var R=1/(H*H+q*q);
for(var I=0;I<D;I++)for(var b=0;b<M;b++){var Y=I*M+b,m=b==M-1?l[Y]-l[Y-1]:l[Y+1]-l[Y],h=I==D-1?l[Y]-l[Y-M]:l[Y+M]-l[Y],e=b*_-1,s=I*P-1,y=m==0?e:m*.4;
y=Math.max(-1,Math.min(1,H*y));var T=h==0?s:h*.4;T=Math.max(-1,Math.min(1,q*T));f[Y]=128+127*(y+T)*R}if($!=1){x.blur.VX(f,l,G.rect,Math.round(($-1)*.5));
x.Fj(l,f)}x.Xy(f,i.buffer)}if(S=="PlsW__"){var X=G.rect.h(),l=x.S(X),f=l.slice(0);x.Lw(G.buffer,l);var F=j.Dtl.v,$=j.Smth.v;
if(F!=15){x.blur.VX(l,f,G.rect,Math.round((15-F)*.5));x.Fj(f,l)}for(var I=0;I<D;I++)for(var b=0;b<M;
b++){var Y=I*M+b,m=b==M-1?l[Y]-l[Y-1]:l[Y+1]-l[Y],h=I==D-1?l[Y]-l[Y-M]:l[Y+M]-l[Y],K=m*m+h*h;f[Y]=Math.max(0,255-K*190)}var B=new Float32Array(X);
for(var Y=0;Y<X;Y++)B[Y]=f[Y];if($!=1){x.blur.ct(B.slice(0),B,G.rect,Math.round(($-1)*.2))}for(var I=0;
I<D;I++)for(var b=0;b<M;b++){var Y=I*M+b,a=Y<<2,u=B[Y],r=i.buffer[a],v=i.buffer[a+1],o=i.buffer[a+2],m=b==M-1?u-B[Y-1]:B[Y+1]-u,h=I==D-1?u-B[Y-M]:B[Y+M]-u,V=-1,J=1,d=0,oU=m,p=0,N=1,ob=h,ox=1;
m=d*ob-oU*N;h=oU*p-J*ob;V=J*N-d*p;var oe=1/Math.sqrt(m*m+h*h+V*V);m*=oe;h*=oe;V*=oe;var oF=b-M/2,oN=I-D/2,YM=M*.3,oe=1/Math.sqrt(oF*oF+oN*oN+YM*YM);
oF*=oe;oN*=oe;YM*=oe;var oE=Math.max(0,oF*m+oN*h+YM*V);if(oE>1)throw oE;var c=oE*255;i.buffer[a]=ox*c+(1-ox)*r;
i.buffer[a+1]=ox*c+(1-ox)*v;i.buffer[a+2]=ox*c+(1-ox)*o}}if(S=="PntD"){var oG=j.Shrp.v*.4,or=j.BrsT.v.BrsT,Yf={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[or],oL=Math.round(j.Sz.v*.5);
x.cI.VK=Yf[0];var YX=x.cI.ou;Yy.BT(G.buffer,i.buffer,M,D,oL,YX,0);var YC=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
YC=x.cI.jE(YC);var Yp=i.buffer.slice(0);x.cI.oM(Yp,i.buffer,M,D,YC,0);for(var Y=0;Y<G.buffer.length;
Y++){var YZ=i.buffer[Y]-Yp[Y];i.buffer[Y]=Math.max(0,Math.min(255,Yp[Y]+oG*YZ))}}if(S=="GlwE"){var Yz=i.buffer.slice(0);
x.cI.VK=.5;var YX=x.cI.ou;Yy.BT(G.buffer,Yz,M,D,j.Smth.v>>>1,YX,0);Yy.Tt(Yz,i.buffer,M,D);x.Fj(i.buffer,Yz);
x.uT(Yz);x.GC(Yz,4278190080,16777215);Yy.BT(Yz,i.buffer,M,D,j.EdgW.v>>>1,x.cI.eY,0);var ox=j.EdgB.v/10;
for(var Y=0;Y<Yz.length;Y++){if((Y&3)==3)continue;var YT=i.buffer[Y];i.buffer[Y]=Math.max(0,Math.min(255,YT*ox))}}if(S=="StnG"){var M=G.rect.o,D=G.rect.i;
x.pQ.fPc(G.buffer,M,D,i.buffer,j.ClSz.v,[Math.round(z.H),Math.round(z.X),Math.round(z.C)],j.BrdT.v)}if(S=="HlfS"){var Yg=j.HlSz.v,YY=Yg*2+1,Yo=j.Cntr.v,Ya=XC.zO.indexOf(j.ScrT.v.ScrT),X=M*D,YQ=X*4,YK=x.S(X),fa=G.buffer,fd=0,Yq=0;
for(var Y=0;Y<YQ;Y+=4)YK[Y>>>2]=~~(.5+(fa[Y]+fa[Y+1]+fa[Y+2])*(1/3));var YO=YK.slice(0);x.blur.bq(YO,YK,G.rect,Yg);
var Yw=Math.PI/YY,YV=new Float64Array(M),H=new Float64Array(M),Yu=new Float64Array(2*M);for(var b=0;
b<M;b++){var YJ=(b-(M>>>1))*Yw;YV[b]=YJ*YJ;H[b]=Math.cos(YJ);var m=b<<1;Yu[m]=Math.sin(m*(1/4.5));Yu[m+1]=Math.sin((m+1)*(1/4.5))}for(var I=0;
I<D;I++){var YU=(I-(D>>>1))*Yw,q=Math.cos(YU),YE=YU*YU;for(var b=0;b<M;b++){var Yc=q;if(Ya==0){var fJ=.5+Math.sqrt(YV[b]+YE)*4.5;
Yc=Yu[~~fJ]}else if(Ya==1){Yc=H[b]*q}var Y=I*M+b,c=YK[Y]*(.75+.25*Yc),YB=fa[(Y<<2)+3]*(1/255),YG=Math.max(0,Math.min(255,~~c));
fd+=YG*YB,Yq+=YB;YK[Y]=YG}}fd/=Yq;var Yr=128+1.26*(fd-128),ox=.08+.25*Math.abs((128-fd)/128),Yb=1+ox*Yo;
for(var Y=0;Y<X;Y++){var c=Yr+(YK[Y]-Yr)*Yb;YK[Y]=Math.max(0,Math.min(255,~~c))}if(Yo>46)x.round(YK);
x.Xy(YK,i.buffer)}for(var Y=0;Y<G.buffer.length;Y+=4)i.buffer[Y+3]=G.buffer[Y+3]};function YR(){}YR.hI=[2,5,5,7,4,4];
YR.fh="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
YR.kC="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
YR.Cm=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
YR.Zf=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
YR.im=function(S){if(S=="passThrough")return"pass";return YR.fh[YR.kC.indexOf(S)]};YR.Lj=function(S){if(S=="pass")return"passThrough";
return YR.kC[YR.fh.indexOf(S)]};YR.getName=function(S){return YR.Cm[YR.fh.indexOf(S)]};function g(){this.rect=null;
this.eD="norm";this.opacity=255;this.iH=!1;this.Ge=0;this.Xk=0;this.uV=[];for(var S=0;S<10;S++)this.uV.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.PM=null;this.dv=null;this.q=null;this.lm=null;this.fpb=30;
this.Rr=g.hH();this.fzN=g.hH();this.fzF=g.hH();this.fKw=g.hH();this.hz=0;this.yU=!1;this.ke=null;this.t=new g.zq}g.hH=function(){var S=E._("canvas");
S.width=S.height=30;return S.getContext("2d")};g.zq=function(){this.AB=!0;this.WM=!0;this.IJ=x.S(0);
this.fWJ=x.S(0);this.lr=null;this.HK={};this.fmW=null;this.IB=null;this.bH=null;this.iz=null;this.hT=null;
this.JJ=null;this.Sd=null;this.jn=null;this.Jr=null;this.bR=null;this.AD=null;this.IR=null;this.hk=!1};
g.zq.prototype.ZX=function(){this.AB=!1;this.WM=!1;this.lr=null;this.hk=Z.Gp};g.zq.prototype.fVv=function(){Yv.fMn(this.HK);
this.IJ=x.S(0);this.fWJ=x.S(0);if(this.iz)this.iz.delete();if(this.hT)this.hT.delete();this.iz=null;
this.hT=null;var S=[this.JJ,this.Sd,this.jn,this.Jr,this.bR,this.AD];for(var G=0;G<6;G++)if(S[G]!=null&&S[G]instanceof Z.XL)S[G].delete();
this.JJ=null;this.Sd=null;this.jn=null;this.Jr=null;this.bR=null;this.AD=null};g.prototype.I=function(S){if(S==null)S=this.rect.clone();
if(this.t.lr==null)this.t.lr=S;else this.t.lr=this.t.lr.wB(S)};g.prototype.$P=function(){return this.add.lsct==YF.WY||this.add.lsct==YF.Aa};
g.prototype.dr=function(){var S=this.add;return S.SoCo!=null||S.GdFl!=null||S.PtFl!=null};g.prototype.ZM=function(){var S=this.add.lmfx;
if(S==null)return;var G=["GrFl","patternFill"];for(var j=0;j<G.length;j++){var z=n.lH[n.order.indexOf(G[j])],O=S[z].v;
if(O.length==0)continue;for(var i=0;i<O.length;i++){var C=O[i].v;if(C.enab.v&&(C.Algn==null||!C.Algn.v))this.t.WM=!0}}};
g.prototype.Zo=function(){var S=this.q;if(this.dr())S=this.Ew();if(!Z.Gp)return S.pt();if(this.t.hT==null||this.t.AB||Z.Gp!=this.t.hk){if(this.t.hT)this.t.hT.delete();
this.t.hT=new Z.Cv(S.to().o,S.to().i);this.t.hT.set(S.pt())}return this.t.hT};g.prototype.ZY=function(S){var G=this.rect,j=this.buffer;
if(!Z.Gp){var z=this.zh(S,j,G);if(z){j=z.hC;G=z.rect}return j}if(this.t.lr!=null||Z.Gp!=this.t.hk){var z=this.zh(S,j,G);
if(z){j=z.hC;G=z.rect}var O=G;if(Z.Gp!=this.t.hk||this.t.iz==null||this.t.iz.o!=O.o||this.t.iz.i!=O.i){if(this.t.iz)this.t.iz.delete();
this.t.iz=new Z.XL(O.o,O.i);this.t.iz.set(j)}else{var i=this.t.lr.clone();i.offset(-G.x,-G.y);this.t.iz.set(j,i)}}return this.t.iz};
g.prototype.Qq=function(){var S=this.q;if(this.dr())S=this.Ew();return S!=null&&S.isEnabled&&(S.cx()==0||S.cx()!=0&&!S.rect.tR())};
g.prototype.zh=function(S,G,j){if(this.AG()){var z=this.td(S);if(z.q&&z.q.isEnabled&&(!z.q.rect.tR()||z.q.color==0)){var O=this.add.SoLd.filterFX.v;
z.q.iA=O.filterMaskDensity?O.filterMaskDensity.v:255;z.q.vU=O.filterMaskFeather?O.filterMaskFeather.v:0;
var i=z.buffer,C=z.q.Jy(j);x.uT(C);G=x.clone(G);x.k.AN(i,z.rect,G,j,C,j,0,j,1);return{hC:G,rect:j}}}};
g.prototype.fVa=function(){var S={Aj:!1,AO:!1,Ix:0,I$:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)S.AO=!0;
if(this.Ew()&&this.Ew().isEnabled)S.Aj=!0;if(S.Aj&&S.AO){S.Ix=this.Ew().rect.x-this.add.vmsk.Ew().rect.x;
S.I$=this.Ew().rect.y-this.add.vmsk.Ew().rect.y}return S};g.prototype.uf=function(S){if(this.add.lsct==YF.px)return;
var G=this,j=this.Ew()!=null&&this.Ew().io,z=this.add.vmsk!=null&&this.add.vmsk.io,O=this.fVa(),i=JSON.stringify(O)!=this.t.fmW||O.Aj&&j||O.AO&&z;
if(i){if(O.AO){var C=this.add.vmsk.Ew();if(O.Aj){this.q=this.Ew().FS(C);this.t.IB=new A(this.q.rect.x-this.Ew().rect.x,this.q.rect.y-this.Ew().rect.y)}else this.q=C}if(this.q)this.t.AB=!0;
if(this.q)this.t.bH=new A(this.rect.x-this.q.rect.x,this.rect.y-this.q.rect.y);if(O.Aj)this.Ew().io=!1;
if(O.AO)this.add.vmsk.io=!1;this.I()}else{if(O.Aj&&O.AO){this.q.rect.x=this.Ew().rect.x+this.t.IB.x;
this.q.rect.y=this.Ew().rect.y+this.t.IB.y}}if(G.dr()){this.BN(S)}if(G.Jl()){var M;if(this.q)M=new A(this.rect.x-this.q.rect.x,this.rect.y-this.q.rect.y);
if(this.q&&this.q.isEnabled&&(this.t.bH==null||!M.Xs(this.t.bH))){this.t.bH=M;this.I();this.t.AB=!0}}if(Yd.get(G.add)!=null)this.t.AB=!0;
this.t.fmW=JSON.stringify(O)};g.prototype.BN=function(S){var G=this,j=G.add.vstk,z,O=G.add.vmsk?this.add.vmsk.Ew():null,M=!0;
if(O&&O.isEnabled&&O.cx()==0)z=O.to().clone();else z=new Q(0,0,S.o,S.i);var i=G.Ew();if(i&&i.isEnabled&&i.cx()==0)z=z.tY(G.q.to());
var C=O&&j;if(j&&(!j.strokeEnabled.v||j.strokeStyleLineWidth.v.val==0))C=!1;if(j&&!j.fillEnabled.v&&C)M=!1;
var D=x.S(z.h()*4);if(M){if(G.add.SoCo)Yv.mF(D,G.add.SoCo.Clr.v);if(G.add.GdFl)Yv.WG(G.add.GdFl,D,z,S,null,O&&O.color==0?O.rect:null);
if(G.add.PtFl)Yv.Qd(G.add.PtFl,D,z,S,G.add.fxrp)}if(O){var X=O.iA;if(C)O.iA=255;var l=x.S(z.h());if(O.cx()!=0)x.set(l,Math.round(O.cx()));
if(O&&O.isEnabled){var f=O.to(),F=O.pt();if(f.Xs(z))x.Fj(F,l);else x.zP(F,f,l,z)}if(G.add.SoCo&&M){x.Cy(l,D,3)}else x.HD(l,z,D,z);
if(C)O.iA=X}G.buffer=D;G.rect=z;if(C){var $=n.GN.Uw.indexOf(j.strokeStyleLineAlignment.v.strokeStyleLineAlignment),_=j.strokeStyleContent.v,P=n.GN.iX.indexOf(_.classID),k=this.add.vmsk.Ew(j);
if(G.rect.Xs(new Q(0,0,S.o,S.i)))G.rect=G.rect;else if($!=0){var H=G.rect.wB(k.to()),q=x.S(H.h()*4);
x.yF(G.buffer,G.rect,q,H);G.buffer=q;G.rect=H}var X=k.iA;k.iA=255;var R=k.Jy(G.rect);k.iA=X;if(k.color==255)x.uT(R);
var I=x.S(G.rect.h()*4);if(P==0)Yv.mF(I,_.Clr.v);if(P==1)Yv.WG(_,I,G.rect,S,null,O.color==0?O.rect:null);
if(P==2)Yv.Qd(_,I,G.rect,S,G.add.fxrp);var b=j.strokeStyleOpacity.v.val/100;if(b!=1)x.cO(R,b);x.Cy(R,I,3);
if(k.color==255)$=2-$;if($==0){x.k.me("norm",I,G.rect,G.buffer,G.rect,G.rect,1);x.HD(l,G.rect,G.buffer,G.rect)}if($==1){x.k.me("norm",I,G.rect,G.buffer,G.rect,G.rect,1)}if($==2){x.uT(l);
x.k.AN(I,G.rect,G.buffer,G.rect,l,z,255,G.rect,1,!1);x.uT(l)}if(k.iA!=255){var Y=x.clone(I);x.GC(Y,4278190080,16777215);
x.k.me("norm",Y,G.rect,G.buffer,G.rect,G.rect,1-k.iA/255)}X=O.iA;O.iA=255;this.fWJ=O.Jy(G.rect);O.iA=X}this.I()};
g.prototype.pi=function(S,G){var j=this,z=j.add.SoLd.Idnt.v,O=j.add.SoLd,i=S.iZ(z,O.Crop?O.Crop.v:null);
if(i==null)return;var C=i.DA;O.Sz.v.Wdth.v=C[1].o;O.Sz.v.Hght.v=C[1].i;var M=O.warp.v,D=t.Gh.JF(O.nonAffineTransform),X=x.Z.Ia(D,C[1]);
if(M&&!x.yw.Bc(M)){var l=x.Y.wR(x.yw.Ys(M)),f=l.x,F=l.y,$=1/l.o,_=1/l.i;X=x.Z.Ia(D);X=x.Z.FS(X,[$,0,-f*$,0,_,-F*_,0,0])}var P=t.Gh.oh(C,G,X,M);
if(P==null){j.buffer=x.S();j.rect=new Q}else if(j.AG()){var k=j.td(S);k.buffer=P.buffer;k.rect=P.rect.clone();
this.JY(S,G)}else{j.buffer=P.buffer;j.rect=P.rect}j.uf(S);j.I();S.I()};g.prototype.JY=function(S,G){if(G==null)G=!1;
var j=this.td(S),z=this.add.SoLd.filterFX.v,O=Yy.fVC(z),i=new Q(0,0,S.o,S.i),C=j.rect.wB(i),M=j.rect.clone();
M.En(O.x,O.y);var D={buffer:null,rect:C.tY(M)};D.buffer=x.S(D.rect.h()*4);x.yF(j.buffer,j.rect,D.buffer,D.rect);
if(z.enab.v&&G==!1){var X=z.filterFXList.v;for(var l=0;l<X.length;l++){var f=X[l].v;if(f.enab.v==!1)continue;
var F=x.T.cx(f.FrgC.v),$=x.T.cx(f.BckC.v),_=W.Pd(f.filterID.v),P=f.Fltr?f.Fltr.v:null;if(Yd.ot[_]!=null){var k=Yd.ot[_],H=Yd.oF(k,P);
if(H)Yd.KH(H,D.buffer,D.buffer,D.rect)}else D=Yy.KH(_,D,P,F,$,null,S.add.lnk2?S.add.lnk2:[])}}this.rect=D.rect;
this.buffer=D.buffer;this.Gw();this.I();S.I()};g.prototype.zb=function(S,G,j){this.ke=this.ZP(S,G,j)};
g.prototype.ZC=function(S,G){var j=this.ZP(S,G,!0);if(j==null)return null;var z={zl:j.hz,Pt:j.qz,rect:j.nj};
if(z.zl==1||z.zl==3){var O=z.rect,i=x.S(O.o*O.i*4);x.Cy(z.Pt,i,0);x.Cy(z.Pt,i,1);x.Cy(z.Pt,i,2);x.bT(S.f.channel,S.f.rect,i,O);
z.Pt=i}return z};g.prototype.ZP=function(S,G,j){var z,O,i,C,M,D,X;if(this.hz<=0){var l=x.S(this.rect.h());
x.tb(this.buffer,l,3);z=x.yl.YR(G,{channel:l,rect:this.rect},"intersection");if(z==null)return null;
var f=x.Fw(z.channel,z.rect);C=z.rect.clone();M=this.rect.clone();O=x.S(C.h()*4);x.yF(this.buffer,M,O,C);
x.Cy(z.channel,O,3);i=x.clone(this.buffer);if(!j){var F=x.clone(G.channel);x.uT(F);x.HD(F,G.rect,i,M)}D=x.clone(this.buffer);
X=this.rect.clone()}if(this.hz==1||this.hz==3){var $=this.hz==1?this.Ew():this.td(S).q;C=G.rect.clone();
M=$.rect.clone();O=$.Je(C);var i=x.clone($.channel);if(!j)x.k.MH($.color==255?x.bJ(C.h()):x.Xh(C.h()),C,i,M,G.channel,C,1);
D=x.clone($.channel);X=$.rect.clone()}return{hz:this.hz,qz:O,nj:C,HQ:i,BL:M,kY:D,kp:X}};g.prototype.z_=function(S,G){var j=this.ke;
if(j.hz==0){this.rect=j.kp;this.buffer=j.kY;this.I()}if(j.hz==1||j.hz==3){var z=j.hz==1?this.Ew():this.td(S).q;
z.channel=j.kY;z.rect=j.kp;if(this.hz==1){z.io=!0;this.uf(S)}if(this.hz==3)this.I()}this.ke=G};g.prototype.Br=function(S,G){if(this.hz<=0&&G.rect.Xs(this.rect)){var j=x.S(this.rect.h());
x.tb(this.buffer,j,3);if(x.Xs(S.f.channel,j)){var z=this.rect,O=this.buffer;this.ke={hz:this.hz,qz:O.slice(0),nj:z.clone(),HQ:x.S(0),BL:new Q,kY:x.S(0),kp:new Q};
return!0}}var i=this.ke;if(i==null)return!1;if(i.hz!=this.hz)return!1;if(!G.rect.Xs(i.nj))return!1;var C=i.BL.wB(i.nj);
if(i.hz<=0){if(!C.Xs(this.rect))return!1;var M=x.S(i.qz.length>>2);x.tb(i.qz,M,3);if(!x.Xs(G.channel,M))return!1;
var D=x.S(C.o*C.i*4);x.yF(i.HQ,i.BL,D,C);x.k.me("norm",i.qz,i.nj,D,C,C,1);return x.Xs(D,this.buffer)}if(i.hz==1||i.hz==3){var X=i.hz==1?this.Ew():this.td(S).q;
if(!C.Xs(X.rect))return!1;var l=x.S(C.h());x.set(l,X.color);x.zP(i.HQ,i.BL,l,C);x.k.MH(i.qz,i.nj,l,C,G.channel,C,1);
return x.Xs(l,X.channel)}};g.prototype.aF=function(S,G,j,z){var O=this.ke;O.nj.offset(G,j);var i=O.BL.wB(O.nj);
if(O.hz<=0){var C=x.S(i.h()*4);x.yF(O.HQ,O.BL,C,i);x.k.me("norm",O.qz,O.nj,C,i,i,1);this.buffer=C;this.rect=i;
this.I()}else{var M=this.hz==1?this.Ew():this.td(S).q,D=x.S(i.h());x.set(D,M.color);x.zP(O.HQ,O.BL,D,i);
x.k.MH(O.qz,O.nj,D,i,z.channel,i,1);M.channel=D;M.rect=i.clone();if(this.hz==1){M.io=!0;this.uf(S)}if(this.hz==3)this.I()}};
g.prototype.Zu=function(){var S=[-1,0,1,2];if(this.q)S.push(-2);if(this.lm)S.push(-3);return S};g.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
g.prototype.lX=function(S){this.add.luni=this.name=S};g.prototype.zr=function(S){var G=this.add.lnsr,j=this.add.TySh;
if(G=="rend"&&j)this.lX(o_.Kj(j.Nv).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};g.prototype.Gg=function(){return(this.Ge&1<<1)==0};
g.prototype.Jl=function(){return(this.Ge&1<<4)==0};g.prototype.LO=function(){return(this.Ge&1<<5)!=0};
g.prototype.fVm=function(){var S=this;if(S.add.lnsr!="bgnd"){S.add.lnsr="bgnd";S.lX("Background");S.add.lspf=1<<2}};
g.prototype.fno=function(){var S=this;if(S.add.lnsr=="bgnd"){delete S.add.lnsr;S.lX("Layer 0");S.add.lspf=0}};
g.prototype.Ka=function(S){var G=this.add.lspf;return G==null?!1:(G>>S&1)!=0};g.prototype.aA=function(S){if(S&&!this.Gg())this.Ge-=2;
if(!S&&this.Gg())this.Ge+=2};g.prototype.Rf=function(){var S=this.add.lmfx;if(S==null)return!1;for(var G in S){if(G=="masterFXSwitch")continue;
if(G=="Scl")continue;if(G=="classID")continue;if(S[G].v.length>0)return!0}return!1};g.prototype.AG=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
g.prototype.nx=function(){var S=this.add.lmfx;if(S==null)return!1;if(!S.masterFXSwitch.v)return!1;for(var G in S){if(G=="masterFXSwitch")continue;
if(G=="Scl")continue;if(G=="classID")continue;var j=S[G].v;for(var z=0;z<j.length;z++)if(j[z].v.enab.v)return!0}return!1};
g.prototype.yo=function(S,G,j,z){var O=new Q,i=this.RX(S,j,z);if(i.indexOf(0)!=-1)O=O.wB(this.rect);
if(i.indexOf(1)!=-1)O=O.wB(this.Ew().to());if(i.indexOf(2)!=-1){var C=this.add.vmsk,M;if(G){if(C.Am.length>1){var D=x.p.Vc(C.z,null,C.Am);
M=x.Y.wR(D)}else M=x.p.Mq(C.z,C.N.length!=0?C.N:null)}else M=x.p.Mq(C.z);O=O.wB(M)}if(i.indexOf(3)!=-1)O=O.wB(this.td(S).q.to());
if(i.length==0&&this.dr())O=new Q(0,0,S.o,S.i);return O};g.prototype.he=function(){var S=this.add.artb.artboardRect.v,G=S.Btom.v,j=S.Left.v,z=S.Rght.v,top=S.Top.v;
return new Q(j,top,z-j,G-top)};g.prototype.pY=function(S){var G={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
G.Btom.v=S.y+S.i;G.Left.v=S.x;G.Rght.v=S.x+S.o;G.Top.v=S.y;if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null}};
this.add.artb.artboardRect.v=G};g.prototype.RX=function(S,G,j){var z=[],O=this,i=this.yU;if(!G&&O.yU&&j){z.push(2)}else if(O.hz<=0||G){if(O.Jl())if(!this.rect.tR())z.push(0);
if(O.Ew()&&!O.Ew().rect.tR())if(O.Ew().KQ||G)z.push(1);if(O.add.vmsk)if(O.add.vmsk.KQ||G)z.push(2);if(O.AG()&&O.td(S).q&&!O.td(S).q.rect.tR())z.push(3)}else if(O.hz==1){z.push(1);
if(O.Ew().KQ&&!O.Ew().rect.tR()){if(O.Jl())if(!this.rect.tR())z.push(0);if(O.add.vmsk)if(O.add.vmsk.KQ)z.push(2)}}else if(O.hz==3&&!O.td(S).q.rect.tR())z.push(3);
if(O.add.artb&&z.indexOf(0)==-1)z.push(0);z.sort();return z};g.prototype.Ew=function(){var S=this;return S.lm?S.lm:S.add.vmsk&&S.add.vmsk.isEnabled?null:S.q};
g.prototype.td=function(S){var G=this.add.SoLd.placed.v,j=S.add.FEid;if(j==null)return null;for(var z=0;
z<j.length;z++)if(j[z].id==G)return j[z];return null};g.prototype.extend=function(S){x.fMw(this,S)};
g.prototype.uS=function(S,G){var j=S.clone();if(this.nx()){var z=this.add.lmfx,O=G.root.cv(G.d.indexOf(this)),i=z.gradientFillMulti.v,C=!1;
for(var M=0;M<i.length;M++)if(i[M].v.enab.v&&i[M].v.Algn.v)C=!0;if(C)j=j.wB(O.to(G,!1));var D=Yv.fAn(this,G);
j.offset(D.x,D.y);j.o+=D.o;j.i+=D.i}return j};g.prototype.Gw=function(){if(this.Jl())x.cU(this);var S=this.Ew();
if(S)S.Gw()};g.prototype.clone=function(){var S=new g;S.rect=this.rect.clone();S.buffer=x.clone(this.buffer);
S.eD=this.eD;S.opacity=this.opacity;S.iH=this.iH;S.Ge=this.Ge;S.name=this.name;S.uV=this.uV.slice(0);
if(this.q)S.q=this.q.clone();if(this.lm)S.lm=this.lm.clone();for(var G in this.add)S.add[G]=fh.clone(G,this.add[G]);
return S};g.prototype.uP=function(S){var G=this;if(G.add.TySh)delete G.add.TySh;if(G.add.SoLd){var j=this.zh(S,this.buffer,this.rect);
if(j){this.buffer=j.hC;this.rect=j.rect;this.I()}delete G.add.SoLd}if(G.add.SoCo||G.add.GdFl||G.add.PtFl){if(G.add.vogk)delete G.add.vogk;
if(G.add.SoCo)delete G.add.SoCo;if(G.add.GdFl)delete G.add.GdFl;if(G.add.PtFl)delete G.add.PtFl;if(G.add.vmsk){console.log(G.lm,G.q);
delete G.add.vmsk;if(G.lm==null&&G.q)delete G.q;else if(G.lm!=null&&G.q!=null){G.q=G.lm;delete G.lm}}}if(!G.$P()&&Yd.get(G.add)==null&&!this.Jl())this.Ge-=16};
g.prototype.wk=function(S){var G=255,j=0;if(S==2){var z=this.add.SoLd.filterFX.v;if(z.filterMaskDensity)G=z.filterMaskDensity.v;
if(z.filterMaskFeather)j=z.filterMaskFeather.v}else{var O=S==0?this.Ew():this.add.vmsk;G=O.iA;j=O.vU}return{AK:S,Bi:G,RC:j}};
g.prototype.dG=function(S){if(S.AK==2){var G=this.add.SoLd.filterFX.v;if(S.Bi==255)delete G.filterMaskDensity;
else G.filterMaskDensity={t:"long",v:S.Bi};if(S.RC==0)delete G.filterMaskFeather;else G.filterMaskFeather={t:"doub",v:S.RC};
this.I()}else{var j=S.AK==0?this.Ew():this.add.vmsk;j.iA=S.Bi;j.vU=S.RC;j.io=!0}};g.prototype.Ko=function(){var S=this,G=S.add.vmsk;
if(G==null)return;S.add.vogk=g.Ko(G.z)};g.Ko=function(S){var G=[],j=x.p.Bv(S);for(var z=0;z<j;z++)G.push(x.tS.Xh());
return G};var YF={zL:0,WY:1,Aa:2,px:3};g.QS=function(){this.name="Mask";this.tO=!1;this.AE={H:255,X:0,C:0};
this.Pv=50;this.Rp=0;this.color=255;this.KQ=!0;this.isEnabled=!0;this.RI=!1;this.iA=255;this.vU=0;this.rect=new Q;
this.channel=x.S(0);this.fKa=null;this.fKp=null;this.io=!0};g.QS.prototype.FS=function(S){if(!this.isEnabled)return S;
var G=new g.QS;G.color=Math.round(this.cx()*S.cx()/255);if(this.cx()==0&&S.cx()==0)G.rect=this.to().tY(S.to());
else if(S.cx()==0)G.rect=S.to().clone();else if(this.cx()==0)G.rect=this.to().clone();else G.rect=this.to().wB(S.to());
G.channel=this.Jy(G.rect);G.iA=255;G.vU=0;var j=S.Jy(G.rect);x.fXD(j,G.rect,G.channel,G.rect);return G};
g.QS.prototype.to=function(){if(this.vU==0)return this.rect;var S=Math.ceil(this.vU*2.2),G=this.rect.clone();
G.En(S,S);return G};g.QS.prototype.pt=function(){if(this.vU==0&&this.iA==255)return this.channel;if(this.vU==0){var S=x.clone(this.channel);
x.uT(S);x.cO(S,this.iA/255);x.uT(S);return S}var G=this.to(),j=this.Je(G),S=x.S(G.h());x.blur.VX(j,S,G,this.vU);
if(this.iA!=255){x.uT(S);x.cO(S,this.iA/255);x.uT(S)}return S};g.QS.prototype.cx=function(){return Math.round(255-(255-this.color)*(this.iA/255))};
g.QS.prototype.extend=function(S){x.extend(this,S,this.color)};g.QS.prototype.Gw=function(){if(this.color==255)x.uT(this.channel);
x.Gw(this);if(this.color==255)x.uT(this.channel)};g.QS.prototype.clone=function(){var S=new g.QS;S.name=this.name;
S.tO=this.tO;S.AE=this.AE;S.Pv=this.Pv;S.Rp=this.Rp;S.color=this.color;S.KQ=this.KQ;S.isEnabled=this.isEnabled;
S.RI=this.RI;S.iA=this.iA;S.vU=this.vU;S.rect=this.rect.clone();S.channel=x.clone(this.channel);return S};
g.QS.prototype.Je=function(S,G){if(G==null)G=x.S(S.h());x.set(G,this.color);x.zP(this.channel,this.rect,G,S);
return G};g.QS.prototype.Jy=function(S,G){var j=this.to(),z=this.pt();if(G==null)G=x.S(S.h());x.set(G,this.cx());
x.zP(z,j,G,S);return G};g.XT=function(){this.KQ=!0;this.isEnabled=!0;this.iA=255;this.vU=0;this.z=[{type:6},{type:8,all:0}];
this.lm=null;this.io=!0;this.N=[];this.Am=[]};g.XT.prototype.offset=function(S,G){this.lm=this.Ew();
x.p.hu(this.z,new Ym(1,0,0,1,S,G));this.lm.rect.offset(S,G)};g.XT.prototype.Ew=function(S){if(!this.io&&this.lm&&S==null){this.lm.isEnabled=this.isEnabled;
return this.lm}var G=x.p.Mq(this.z);if(G.h()>2e4*2e4)G=new Q(0,0,100,100);if(S){var j=Math.ceil(S.strokeStyleLineWidth.v.val);
G.En(j,j)}G=x.Y.tE(G);var z=new g.QS;z.color=x.p.EW(this.z)?0:255;z.KQ=this.KQ;z.isEnabled=this.isEnabled;
z.RI=!0;z.rect=G;z.iA=this.iA;z.vU=this.vU;z.channel=x.S(z.rect.h());if(!G.tR())x.p.fKj(this.z,z.channel,z.rect,S);
if(S==null){this.lm=z;this.io=!1}return z};g.XT.prototype.clone=function(){var S=new g.XT;S.KQ=this.KQ;
S.isEnabled=this.isEnabled;S.iA=this.iA;S.vU=this.vU;S.z=g.XT.yS(this.z);S.N=this.N.slice(0);S.Am=this.Am.slice(0);
return S};g.XT.prototype.concat=function(S){var G=S.z.slice(2);if(G.length==0)return;G[0].ta=3;this.z=this.z.concat(G)};
g.XT.yS=function(S){var G=[];for(var j=0;j<S.length;j++){var z=S[j];if(z.type>5||z.type==0||z.type==3)G.push(JSON.parse(JSON.stringify(z)));
else G.push({type:z.type,Cu:z.Cu.clone(),K:z.K.clone(),tw:z.tw.clone()})}return G};g.XT.fnY=function(S,G,j){if(S.length!=G.length)return!1;
for(var z=2;z<S.length;z++){var O=S[z],i=G[z];if(O.type!=i.type)return!1;if(O.type==0||O.type==3){if(O.length!=i.length||!j&&O.ta!=i.ta)return!1}else if(!O.Cu.Xs(i.Cu)||!O.K.Xs(i.K)||!O.tw.Xs(i.tw))return!1}return!0};
g.XT.prototype.fnS=function(){var S=this.z;for(var G=3;G<S.length;G++)if(S[G].type==0||S[G].type==3)S[G].ta=-1};
g.Ff=function(){this.type=null;this.S_=2;this.Pq=null;this.HU="";this.Gu="";this.dm="";this.open=0;this.raw=null;
this.DA=null};g.Ff.prototype.clone=function(){var S=new g.Ff;S.type=this.type;S.S_=this.S_;S.Pq=this.Pq;
S.HU=this.HU;S.Gu=this.Gu;S.dm=this.dm;S.open=this.open;S.raw=new Uint8Array(this.raw.buffer.slice(0));
return S};g.Ff.prototype.yA=function(S){var G=this;if(G.DA)return;var j=ot.AM(G.raw.buffer);if(j!="svg"&&j!="pdf")S=0;
if(j==null){alert("Unsupported format: "+W.PP(G.raw,0,4));return null}var z=ot.Lc(j);if(z.CP){var O=new Yi(name+(j=="psd"?"":"-"+j)+".psd");
z.Uf(G.raw.buffer,O);for(var i=0;i<O.d.length;i++)if(O.d[i].dr())O.d[i].uf(O);O.C$();O.I();O.qE();G.DA=[O.yA(),new Q(0,0,O.o,O.i)]}else if(z){var C=z.Uf(G.raw.buffer)[0];
G.DA=[new Uint8Array(C.data),C.tv]}if(G.DA){if(S==1){var M=G.DA[0],D=G.DA[1],X=x.S(D.h());x.tb(M,X,3);
var l=x.Fw(X,D),f=x.S(l.h()*4);x.yF(M,D,f,l);G.DA=[f,l]}x.XU(G.DA)}};g.Ec="0";g.Yv="2";g.zm="2.5";g.yh="3";
g.FY="4";g.Iv="5";g.zG="5.5";g.RM="6";g.Kf="7";g.yv="8";g.FT="9";g.KS="9.5";g.Iy="9.6";g.yR="10";g.zU="11";
g.FA="12";g.KA="13";g.Rz="13.5";g.KV="13.7";g.KR="14";g.RW="14.5";g.Zj="15";g.yD="16";g.Fi="17";g.Rs="18";
g.II="19";g.RQ="19.5";g.yj="19.6";g.Ip="20";g.Is="21";g.K$="21.5";g.RT="22";g.Rc="22.5";g.Yr="23";g.fAh="24";
g.IQ="25";g.Ik="26";g.IH="27";g.Gv="28";g.Gs="29";g.GA="30";g.JU="31";g.YG="32";g.Rn="33";g.kM="34";
g.RA="35";g.K_="36";g.Ry="36.5";g.GI="37";g.kQ="37.5";g.fAE="37.6";g.KN="38";g.Gi="38.5";g.Rb="39";g.Gt="40";
g.Ii="41";g.ID="42";g.tU="50";g.tG="51";g.RD="52";g.Rj="53";g.Kn="54";g.Ij="54.5";g.IO="54.6";g.Iq="54.7";
g.fo="54.8";g.Kr="55";g.CC="56";g.Cl="57";g.RE="58";g.Kl="59";function Cs(){this.depth=0;this.index=-1;
this.B=null;this.fVF=null;this.kc=-1;this.children=null;this.parent=null;this.kV=null}Cs.prototype.fnz=function(){var S=0;
if(this.B.$P()){for(var G=0;G<this.children.length;G++)S+=this.children[G].fnz()}else if(this.B.buffer)S+=this.B.buffer.length;
return S};Cs.prototype.cv=function(S){var G=this.kV[S];return this.kV[S]};Cs.prototype.Ih=function(S,G){var j=this.B;
if(!j.Gg()||j.Ka(2)||j.Ka(31))return null;if(j.Qq()){var z=j.q.rect.f$(S);if(!z&&j.q.color==0)return}if(j.$P()){for(var O=0;
O<this.children.length;O++){var i=this.children[O];i.Ih(S,G)}}else if(j.rect.f$(S))G.push(this.index)};
Cs.prototype.Rl=function(S,G){var j=this.B;if(!j.Gg()||j.Ka(2)||j.Ka(31))return null;if(j.Qq()){if(j.q.rect.oO(S)){if(!x.Rl(S,j.q.channel,j.q.rect))return null}else if(j.q.color==0)return null}if(j.$P()){for(var z=this.children.length-1;
z>=0;z--){var O=this.children[z],i=O.Rl(S,G);if(i&&G==null)return i}return null}else if(j.add.TySh&&j.rect.oO(S)||x.fMD(S,j.buffer,j.rect)){if(G==null)return this;
else G.push(this.index)}return null};Cs.prototype.fnV=function(S){var G=this.B;if(!G.Gg()||G.Ka(2)||G.Ka(31))return null;
var j=G.add.vmsk;if(j&&j.isEnabled){var z=x.p.Rl(j.z,S).Qf;if(z!=-1)return{fKs:this,fKm:z}}if(G.$P()){for(var O=this.children.length-1;
O>=0;O--){var i=this.children[O],C=i.fnV(S);if(C)return C}return null}return null};Cs.prototype.BJ=function(S,G){S.push(this.index);
if(this.B.$P()){S.push(this.kc);if(G)if(this.B.hz==1&&this.B.Ew().KQ==!1)return;for(var j=0;j<this.children.length;
j++)this.children[j].BJ(S)}};Cs.prototype.QE=function(S,G,j){var z=this.B,O,i;if(z.$P()&&z.add.artb!=null)G=z.he();
if(G.o>G.i){O=j;i=Math.floor(j*(G.i/G.o))}else{O=Math.floor(j*(G.o/G.i));i=j}if(z.dr()&&z.add.vmsk==null||z.add.TySh)O=i=Math.max(i,16);
var C=i,M=z.dr()&&z.add.vmsk;if(M){var D=z.rect.clone(),f,F;if(D.tR())D=new Q(0,0,20,20);var X=D.o,l=D.i;
if(X>l){f=j;F=Math.floor(j*(l/X))}else{f=Math.floor(j*(X/l));F=j}if(f*F==0)f=F=16;x.w$.Eg(z.Rr,f,F,D,z.buffer,z.rect,!1);
x.w$.fCk(z.Rr,f,F);C=F}else if(z.add.TySh){x.w$.fSY(z.Rr,C,C,z.add.TySh)}else if(z.add.SoCo){C=Math.max(16,Math.min(O,i));
x.w$.fSo(z.Rr,C,C,z.add.SoCo)}else if(z.add.GdFl){x.w$.fPz(z.Rr,C,C,z.add.GdFl)}else if(z.add.PtFl){x.w$.fPK(z.Rr,C,C,z.add.PtFl,S)}else if(Yd.get(z.add)!=null){x.w$.fSz(z.Rr,C,C,z.add)}else if(z.add.SoLd){x.w$.Eg(z.Rr,O,i,G,z.buffer,z.rect,!1);
x.w$.fCm(z.Rr,O,i,z.add.SoLd)}else if(z.$P()){C=16}else{if(z.Jl())x.w$.Eg(z.Rr,O,i,G,z.buffer,z.rect,!1);
else{x.w$.fSC(z.Rr,C,C)}}var $=z.Ew();if($)x.w$.hG(z.fzN,O,i,G,$);if(z.AG()&&z.td(S)&&z.td(S).q){var _=z.td(S).q;
x.w$.hG(z.fKw,O,i,G,_)}if(!M&&z.add.vmsk){x.w$.hG(z.fzF,O,i,G,z.add.vmsk.Ew(),!0)}if(z.add.vmsk||$)C=Math.max(C,i);
z.fpb=Math.max(C,16);if(z.$P()&&z.add.lsct==YF.WY)for(var P=0;P<this.children.length;P++)this.children[P].QE(S,G,j)};
Cs.prototype.Bx=function(S,G,j,z){this.depth=j;var O=S[G];if(z==null)z=[];this.kV=z;if(O.add.lsct==YF.px){this.fVF=O;
this.kc=G-1;this.children=[];var i=G+1;while(!0){var C=S[i];if(C==null)console.log(i,S.length);if(C.add.lsct==YF.WY||C.add.lsct==YF.Aa){if(O.add.lyid==C.add.lyid)O.add.lyid+=16777215;
this.B=C;this.index=i-1;z[this.index]=this;z[G-1]=this;break}var M=new Cs;M.parent=this;i=M.Bx(S,i,j+1,z);
this.children.push(M)}return i+1}else{this.B=O;this.index=G-1;z[this.index]=this;return G+1}};Cs.prototype.Ky=function(S,G,j){var z=this.cv(j),O=S;
while(z.parent!=null){O=z.B.uS(O,G);z=z.parent}return O};Cs.prototype.to=function(S,G){var j=this.B,z=new Q;
if(!j.Gg())return z;var O=j.Ew();if(j.$P())for(var i=0;i<this.children.length;i++){var C=this.children[i].to(S,!0);
z=z.wB(C)}else if(Yd.get(j.add)!=null)z=j.Qq()&&j.q.color==0?j.q.to().clone():new Q(0,0,S.o,S.i);else if(j.dr()&&j.add.vmsk&&j.add.vmsk.isEnabled&&j.add.vstk){var M=j.add.vmsk,D=j.add.vstk,X=Math.ceil(M.vU*2.2),l=D.strokeEnabled.v?Math.ceil(D.strokeStyleLineWidth.v.val):0,f=n.GN.Uw.indexOf(D.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(f==0)l=0;else if(f==1)l/=2;z=x.Y.tE(x.p.Mq(M.z));z.En(Math.ceil(X+l),Math.ceil(X+l))}else if(j.dr()&&O&&O.isEnabled&&O.cx()!=0)z=new Q(0,0,S.o,S.i);
else{z=j.yo(S,!1,!0);if(j.add.vmsk)z=x.Y.tE(z)}return G?j.uS(z,S):z};Cs.prototype.iL=function(S,G,j,z,O){var i=this.B,C=Yv.n_(i);
if(!i.Gg())return;if(i.opacity==255){this.Da(S,G,j,z,O);return}var M=x.clone(S);this.Da(M,G,j,z,O);x.k.AN(M,G,S,G,null,null,0,j,i.opacity/255,i.eD=="diss")};
Cs.prototype.Da=function(S,G,j,z,O){var i=this.B,C=Yv.n_(i),M=Yd.get(i.add)!=null,f,_;if(i.$P()&&i.eD=="pass"&&!i.Qq()&&!(O.length>0||C.fill!=1||i.nx())){this.RU(S,G,j,z);
return}var D=i.$P()&&i.eD=="pass"&&(O.length>0||C.fill!=1||i.nx()),X=i.rect,l=i.buffer;if(i.$P()){X=this.to(z,!1);
var F=x.S(X.h()*4);f=x.S(X.h());this.RU(F,X,j,z);x.tb(F,f,3)}else if(M){X=G.clone();f=x.S(X.h());x.set(f,255)}else{X=i.rect;
f=x.S(X.h());x.tb(l,f,3)}if(i.Qq()){var $=i.q.Jy(X);x.cq($,f)}if(i.nx())_=Yv.fgC(i.add.lmfx,i.add.fxrp,f,X,z);
if(i.nx())Yv.fgA(i.add.lmfx,_,X,S,G,j);if(i.$P()){l=x.S(X.h()*4);if(i.eD=="pass")x.yF(S,G,l,X);if(D){var F=x.S(X.h()*4);
this.RU(F,X,j,z);var P=x.S(X.h());x.tb(F,P,3);x.HD(P,X,l,X)}this.RU(l,X,j,z)}if(M){l=x.clone(S);x.GC(l,4278190080,16777215);
var k=Yd.get(i.add),H=Yd.oF(k,i.add[k]);Yd.KH(H,l,l,X)}var q=x.clone(l);x.GC(q,4278190080,16777215);
for(var R=0;R<O.length;R++)O[R].iL(q,X,j,z,[]);var I=x.S(X.h()*4);x.yF(S,G,I,X);if(M)C.GJ=!0;x.k.me(i.eD=="pass"?"norm":i.eD,q,X,I,X,j,1,C);
if(i.nx()){var b=i.t.HK.type.FrFX,Y=null;if(b.length!=0){Y=b[0];for(var R=0;R<b.length;R++)if(b[R].kL.o>Y.kL.o)Y=b[R];
var m=x.S(Y.kL.o*Y.kL.i*4);x.yF(S,G,m,Y.kL)}Yv.fZU(i.add.lmfx,_,X,S,G,j,I,m,Y?Y.kL:null)}x.k.AN(I,X,S,G,f,X,0,j,1,i.eD=="diss")};
Cs.prototype.RU=function(S,G,j,z){var O=this.children;for(var i=0;i<O.length;i++){var C=[];for(var M=i+1;
M<O.length;M++)if(O[M].B.iH)C.push(O[M]);else break;O[i].iL(S,G,j,z,C);i+=C.length}};Cs.mQ={delete:function(S){if(S&&S.o)S.delete()},S:function(S,G){return Z.Gp?new Z.XL(S,G):x.S(S*G*4)},Z$:function(S,G,j){if(Z.Gp){if(S==null||S.o!=G||S.i!=j){Cs.mQ.delete(S);
return new Z.XL(G,j)}}else{if(S==null||!(S instanceof Uint8Array)||S.length!=G*j*4){Cs.mQ.delete(S);
return x.S(G*j*4)}}return S},zP:function(S,G,j,z,O){(Z.Gp?Z.Mp:x.yF)(S,G,j,z,O)},AN:function(S,G,j,z,O,i,C,M,D,X){(Z.Gp?Z.k.nk:x.k.AN)(S,G,j,z,O,i,C,M,D,X)},me:function(S,G,j,z,O,i,C,M){if(Z.Gp)Z.k._x(S,G,j,z,O,i,C,M);
else x.k.me(S,G,j,z,O,i,C,M)},GC:function(S,G,j){if(Z.Gp){Z.XD(S);Z.js(G,j)}else x.GC(S,G,j)},fnI:function(S,G,j,z,O){if(Z.Gp){Z.k.nk(null,null,z,O,S,G,j,O,1,!1)}else{if(j==255)x.HD(S,G,z,O);
else{var i=x.S(G.h());x.MS(z,O,i,G);x.cq(S,i);x.GC(z,0,16777215);x.bT(i,G,z,O)}}},Mz:function(S,G,j,z){if(Z.Gp)Z.k.nk(null,null,j,z,S,G,0,z,1,!1);
else x.Mz(S,G,j,z)}};Cs.prototype.Wo=function(S,G,j,z,O,i){var C=typeof i=="number";if(!this.B.$P()&&(C&&this.index>i||!C&&i.indexOf(this.index)==-1)){return}var M=this.B,D=Yv.n_(M),X=Cs.mQ,l=M.dr()?M.Ew():M.q;
if(!M.Gg())return;if(M.Qq()&&l.rect.tR()){return}if(M.add.vstk==null&&this.to(z,!1).tR()){return}var f=this.to(z,!0).tY(j);
if(!G.Xs(j)&&!j.f$(f))return;if(M.$P()&&M.add.artb)j=j.tY(M.he());var F=Cs.Dz(M,O);if(!F){this.Ox(S,G,j,z,O,i);
return}M.t.JJ=X.Z$(M.t.JJ,f.o,f.i);X.zP(S,G,M.t.JJ,f,j);this.Ox(M.t.JJ,f,j,z,O,i);X.AN(M.t.JJ,f,S,G,null,null,0,j,M.opacity/255,M.eD=="diss")};
Cs.Dz=function(S,G){return S.opacity!=255&&(G.length!=0||S.$P()||S.nx())};Cs.fnk={t:{}};Cs.prototype.Ox=function(S,G,j,z,O,i){var C=this.B,M=Yv.n_(C),D=Yd.get(C.add)!=null,X=Cs.mQ,l=Cs.Dz(C,O),f=l?1:C.opacity/255,F=C.dr()?C.Ew():C.q,$=C.$P()&&C.eD=="pass"&&!(O.length>0||M.fill!=1||C.nx()),_=!C.$P()&&!D&&!C.nx()&&O.length==0,P=D&&!C.nx()&&O.length==0,b=null,Y=null,m=null,y;
if($||_||P){var k=S,H=G;if(C.Qq()){H=this.to(z,!1);k=C.t.Jr=X.Z$(C.t.Jr,H.o,H.i);X.zP(S,G,C.t.Jr,H)}if($)this.Wp(k,H,j,z,i);
if(_)X.me(C.eD,C.ZY(z),C.rect,k,H,j,f,M);if(P){var q=C.Qq()&&F.cx()==0?F.to().clone():H.clone(),R=C.t;
if(q.Xs(new Q(0,0,z.o,z.i)))R=Cs.fnk;R.jn=this.qQ(k,H,R.jn,q,C.add);M.GJ=!0;X.me(C.eD,R.jn,q,k,H,j,f,M)}if(C.Qq())X.AN(k,H,S,G,C.Zo(),F.to(),F.cx(),j,1,C.eD=="diss");
C.t.ZX();return}var I=C.$P()&&C.eD=="pass"&&(O.length>0||M.fill!=1||C.nx()),q=C.rect;if(C.$P()){q=this.to(z,!1);
m=C.t.jn=X.Z$(C.t.jn,q.o,q.i);X.GC(m,0);this.Wp(m,q,q,z,i);Y=X.Z$(C.t.Sd,q.o,q.i);X.zP(m,q,Y,q)}else if(D){q=C.Qq()&&F.cx()==0?F.to().clone():G.clone();
Y=X.Z$(C.t.Sd,q.o,q.i);X.GC(Y,4294967295)}else{q=C.rect;b=C.ZY(z);Y=X.Z$(C.t.Sd,q.o,q.i);X.zP(b,q,Y,q)}C.t.Sd=Y;
if(C.Qq())X.fnI(C.Zo(),F.to(),F.cx(),Y,q);if(C.nx())if(C.t.lr||C.t.WM||C.t.hk!=Z.Gp||C.t.AB||C.$P()){var h=x.S(q.o*q.i);
if(Z.Gp){if(!C.$P()&&C.Ew()==null&&C.rect.Xs(q))x.tb(C.buffer,h,3);else{var e=x.S(q.o*q.i*4);Y.get(e);
x.tb(e,h,3)}}else x.tb(Y,h,3);if(C.t.WM||C.t.hk!=Z.Gp||!x.Xs(h,C.t.IJ)){var s=null;if(C.dr()&&C.add.vmsk&&C.add.vmsk.isEnabled&&C.add.vmsk.Ew().color==0)s=C.add.vmsk.Ew().rect;
Yv.fJg(C.t.HK,h,q,C.add.lmfx,C.add.fxrp,z,s);C.t.IJ=h}}if(C.nx())Yv.fgA(C.add.lmfx,C.t.HK,q,S,G,j);if(C.$P()){b=X.Z$(C.t.Jr,q.o,q.i);
X.GC(b,0);if(C.eD=="pass")X.zP(S,G,b,q);if(I)X.Mz(m,q,b,q);this.Wp(b,q,j,z,i);C.t.Jr=b}if(D){b=C.t.Jr=this.qQ(S,G,C.t.Jr,q,C.add)}if(C.$P()||D)y=b;
else{y=X.Z$(C.t.Jr,q.o,q.i);X.zP(b,q,y,q,j);C.t.Jr=y}X.GC(y,4278190080,16777215);for(var T=0;T<O.length;
T++)O[T].Wo(y,q,j,z,[],i);var K=C.t.bR=X.Z$(C.t.bR,q.o,q.i);X.zP(S,G,K,q,j);if(D)M.GJ=!0;X.me(C.eD=="pass"?"norm":C.eD,y,q,K,q,j,1,M);
if(C.nx()){var B=C.t.HK.type.FrFX,a=null;if(B.length!=0){a=B[0];for(var T=0;T<B.length;T++)if(B[T].kL.o>a.kL.o)a=B[T];
C.t.AD=X.Z$(C.t.AD,a.kL.o,a.kL.i);X.zP(S,G,C.t.AD,a.kL,j);C.t.IR=X.Z$(C.t.IR,a.kL.o,a.kL.i)}Yv.fZU(C.add.lmfx,C.t.HK,q,S,G,j,K,C.t.AD,C.t.IR,a?a.kL:null)}if(!Z.Gp){var u=x.S(q.h());
x.tb(Y,u,3);Y=u}X.AN(K,q,S,G,Y,q,0,j,1,C.eD=="diss");C.t.ZX()};Cs.prototype.qQ=function(S,G,j,z,O){var i=Yd.get(O),C;
if(i)C=Yd.oF(i,O[i]);var M=Cs.mQ;j=M.Z$(j,z.o,z.i);if(!(Z.Gp&&G.Xs(z)))M.zP(S,G,j,z);if(C){if(Z.Gp){var D=z.clone();
D.x=D.y=0;if(G.Xs(z)){Z.XD(j,D);Yd.zV(C,S.Om,D)}else{Z.XD(j,z);j.Eq(z);Yd.zV(C,j.yu,D)}}else Yd.KH(C,j,j,z)}return j};
Cs.prototype.Wp=function(S,G,j,z,O){var i=this.children;for(var C=0;C<i.length;C++){var M=[];for(var D=C+1;
D<i.length;D++)if(i[D].B.iH)M.push(i[D]);else break;i[C].Wo(S,G,j,z,M,O);C+=M.length}};function Yi(S){this.name=S;
this.PC=-1;this.QD=null;this.sD=null;this.iU=null;this.lV=null;this.o=0;this.i=0;this.d=[];this.qJ={};
this.add={};this.buffer=null;this.PQ=4;this.hO=null;this.bY=72;this.N=[];this.WX=[[],[]];this.fF=[];
this.Eu=[];this.qD=[Yi.kI("Working Path")];this.ML=[];this.IN=null;this.hx={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.hK=null;this.dD=!1;this.fmd=!1;this.Ic=!1;this.az=!1;this.yK=!1;this.Kh=!1;this.PJ=!1;
this.UI=!1;this.nK=!1;this.lr=null;this.kn=null;this.ke={};this.f=null;this.Ft=[];this.wE=[];this.m={Ag:{},oZ:[],fna:[],GR:null,OM:null,BR:null,nQ:null,cu:[],dj:[]};
this.history=[new fX([1,0],null)];this.dN=0;this.pI=0;this.Q=new Sq(this)}Yi.prototype.wh=function(){var S=this.Ft,G=this.Ft.length;
if(G!=0&&S[G-1].name=="Quick Mask")return S[G-1]};Yi.prototype.qb=function(){var S=this.name;return S.slice(0,S.length-4).endsWith("-sketch")};
Yi.prototype.R$=function(S){this.add.artd={classID:"null",Cnt:{t:"long",v:S},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
Yi.prototype.KL=function(S){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(S)==-1)this.add.FEid.push(S)};
Yi.prototype.Ws=function(S){var G=this.add.FEid.indexOf(S);this.add.FEid.splice(G,1);if(this.add.FEid.length==0)delete this.add.FEid};
Yi.prototype.I=function(S){if(S==null)S=new Q(0,0,this.o,this.i);if(this.lr==null)this.lr=S;else this.lr=this.lr.wB(S)};
Yi.prototype.fnB=function(S){return this.lr!=null};Yi.prototype.R_=function(S){var G=this.d[S],j=this.root.cv(S);
if(j==null)return!1;if(G.$P()||j.parent.children.indexOf(j)==0)return!1;return!0};Yi.fn_=function(S){if(S.add.lnk2)for(var G=0;
G<S.add.lnk2.length;G++){var j=S.add.lnk2[G].Pq;S.add.lnk2[G].Pq=Yi.KP()+j.slice(8);for(var z=0;z<S.d.length;
z++){var O=S.d[z].add.SoLd;if(O&&O.Idnt.v==j)O.Idnt.v=S.add.lnk2[G].Pq}}};Yi.prototype.qt=function(S,G,j){S.sort(function(F,$){return F-$});
var top=S[S.length-1],z=this.d.slice(0),O=this.N.slice(0),i=[],C=[];for(var M=0;M<this.d.length;M++){if(S.indexOf(M)!=-1)C.push(this.d[M]);
else i.push(this.d[M])}this.Wb(C);this.N=[];var D=this.root.to(this,!0);if(G)D=D.tY(G);if(j)D=D.wB(j);
if(D.tR())D=new Q(0,0,100,100);var X=new Q(-D.x,-D.y,this.o,this.i),l=new Uint8Array(ot.PSD.tu(this,0,0,[!0,!1]));
this.Wb(z);this.N=O;var f=new Yi(this.d[top].getName());ot.PSD.Uf(l.buffer,f);delete f.add.artd;f.WX=[[],[]];
f.fF=[];f.Wb(f.d);Yi.fn_(f);t.yc.eE(f,D);f.I();f.qE();f.yA();return[f,D,i,top]};Yi.prototype.ES=function(S,G){var j=this.qt(S),z=j[0],O=j[1],i=j[2],top=j[3],C=new Uint8Array(ot.PSD.tu(z));
if(G)i=this.d.slice(0);var M=this.Wf(C,z.name,O.x,O.y);if(top==this.d.length-1)i.push(M);else i.splice(G?top+1:top-S.length+1,0,M);
this.Wb(i);this.N=[i.indexOf(M)]};Yi.KP=function(){var S="";for(var G=0;G<8;G++)S+=Math.floor(Math.random()*16).toString(16);
return S};Yi.prototype.kJ=function(S){if(S==null)return;if(this.add.Patt==null)this.add.Patt=[];var G=this.add.Patt;
for(var j=0;j<G.length;j++)if(G[j].id==S.id)return;G.push(S)};Yi.prototype.Wf=function(S,G,j,z,O){if(this.add.lnk2==null)this.add.lnk2=[];
var i=null,F=!1;for(var C=0;C<this.add.lnk2.length;C++)if(x.Xs(S,this.add.lnk2[C].raw)){i=this.add.lnk2[C].Pq;
break}if(i==null){var M=ot.AM(S.buffer);i=Yi.KP()+"-d71c-11e5-b1ae-a548a96e5f9f";var D=new g.Ff;D.Pq=i;
D.dm=M=="psd"?"8BIM":"    ";D.HU=G+"."+M;D.Gu=M=="psd"?"8BPB":"    ";D.open=0;D.raw=S;D.type="liFD";
D.S_=2;this.add.lnk2.push(D)}var X=this.iZ(i),l=Yi.KP()+"-d71c-11e5-b1ae-a548a96e5f9f",f=this.YJ();f.lX(G);
if(X!=null){var $=f.rect=X.DA[1].clone();f.rect.offset(j,z);var _=Math.max($.o/this.o,$.i/this.i),F=O&&_>1.0001;
if(F){$.o=Math.round($.o/_);$.i=Math.round($.i/_);$.x=Math.round((this.o-$.o)/2);$.y=Math.round((this.i-$.i)/2)}f.buffer=x.S(f.rect.h()*4);
if(!F)x.Fj(X.DA[0],f.buffer)}f.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:i},placed:{t:"TEXT",v:l},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:x.yw.S(f.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:f.rect.o},Hght:{t:"doub",v:f.rect.i}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var P=x.Y.pu(f.rect).v;f.add.SoLd.Trnf=t.Gh.Zl(P);f.add.SoLd.nonAffineTransform=t.Gh.Zl(P);if(F)f.pi(this,!1);
return f};Yi.prototype.yA=function(S){if(S!=null){this.I();this.qE(S);var G=this.buffer;if(Z.Gp)this.hK.get(G);
else G=G.slice(0);this.I();this.qE();return G}if(this.lr){this.qE();this.lr=null}if(Z.Gp&&this.kn){this.hK.get(this.buffer);
this.kn=null;this.Kh=!0}return this.buffer};Yi.prototype.EL=function(){for(var S=0;S<this.d.length;S++)this.d[S].ZM();
this.I()};Yi.prototype.xu=function(){for(var S=0;S<this.d.length;S++)if(this.d[S].add.lmfx)this.d[S].t.WM=!0};
Yi.prototype.RN=function(){var S=this.qJ.r1044;if(S==null){S=this.qJ.r1044=new Uint8Array(4);var G=0;
for(var j=0;j<this.d.length;j++)G=Math.max(G,this.d[j].add.lyid);W.Wk(S,0,G)}var z=W.O(S,0);W.Wk(S,0,z+1);
return z+1};Yi.prototype.OX=function(S,G){if(S==null)S=!0;var j=this;if(j.wE.length!=0)return!0;if(j.N.length!=1){if(S)alert(j.N.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.ia(S,G)};Yi.prototype.ia=function(S,G){if(S==null)S=!0;if(G==null)G=!1;var j=this;
if(j.wE.length!=0)return!0;for(var z=0;z<j.N.length;z++){var O=j.d[j.N[z]],i=G||O.hz<=0;if(O.add.lsct!=null&&O.add.lsct!=YF.zL&&O.hz!=1){if(S)alert(YP.get([15,7,2]));
return!1}if(i&&!O.Jl()){if(S)alert(YP.get([15,7,2]));return!1}if(i&&O.add.TySh){if(S)alert(YP.get([15,7,3]));
return!1}if(i&&O.add.SoLd){if(S)alert(YP.get([15,7,4]));return!1}if(O.Ka(1)||O.Ka(31)){if(S)alert(YP.get([6,57,0]));
return!1}}return!0};Yi.prototype.$f=function(S){var G=this.root.cv(S);if(G.parent)return G.B.Gg()&&this.$f(G.parent.index);
else return G.B.Gg()};Yi.prototype._$=function(S){var G=this.root.cv(S);if(G==null)return null;var j=G.B;
if(j.add.artb)return j.he();if(G.parent)return this._$(G.parent.index);return null};Yi.prototype.Nm=function(){var S=this.d[this.N[0]];
if(S.hz<=0&&!S.rect.f$(this.f.rect)){alert("Selected area is empty.");return!1}if(this.N.length==1&&this.f){var G=x.S(this.f.channel.length);
x.MS(S.buffer,S.rect,G,this.f.rect);x.cq(this.f.channel,G);if(x.cH(G,0)){alert("Selected area is empty.");
return!1}}return!0};Yi.prototype.kl=function(){if(this.qJ["r"+1037]==null)this.fz(30);return W.SM(this.qJ["r"+1037],0)};
Yi.prototype.fz=function(S){if(this.qJ["r"+1037]==null)this.qJ["r"+1037]=new Uint8Array(4);if(W.SM(this.qJ["r"+1037],0)==S)return;
W.Rh(this.qJ["r"+1037],0,S);this.xu()};Yi.prototype.fs=function(){if(this.qJ["r"+1049]==null)this.ip(30);
return W.SM(this.qJ["r"+1049],0)};Yi.prototype.ip=function(S){if(this.qJ["r"+1049]==null)this.qJ["r"+1049]=new Uint8Array(4);
if(W.SM(this.qJ["r"+1049],0)==S)return;W.Rh(this.qJ["r"+1049],0,S);this.xu()};Yi.prototype.CD=function(S){if(this.add.lnk2==null)return null;
for(var G=0;G<this.add.lnk2.length;G++)if(this.add.lnk2[G].Pq==S)return this.add.lnk2[G];return null};
Yi.prototype.fnF=function(S){var G=this.CD(S);if(G==null)return!1;var j=ot.AM(G.raw.buffer);if(j==null)return!1;
if(ot.Lc(j)!=null||j=="psd")return!0;return!1};Yi.prototype.iZ=function(S,G){var j=this.CD(S);if(j==null)return null;
j.yA(G);if(j.DA)return j};Yi.prototype.qE=function(S){if(S==null)S=1e9;var G=this.o,j=this.i,z=new Q(0,0,G,j),O=z.tY(this.lr);
if(Z.Gp&&this.hK==null)this.hK=new Z.XL(G,j,!0);if(this.buffer==null||this.buffer.length!=G*j*4||Z.Gp&&(this.hK.o!=G||this.hK.i!=j)){this.buffer=x.S(G*j*4);
if(this.hK)this.hK.delete();if(Z.Gp)this.hK=new Z.XL(G,j,!0)}if(O.tR())return;if(!O.Xs(z)){if(!Z.Gp){var i=x.Xh(O.h()*4);
x.yF(i,O,this.buffer,z)}if(Z.Gp){Z.XD(this.hK,O);Z.js(0)}}else{if(Z.Gp){this.hK.set(null)}else{x.set(this.buffer,0)}}var C=Date.now(),M=Z.Gp?this.hK:this.buffer;
this.root.Wo(M,z,O,this,[],S);this.kn=this.lr.clone()};Yi.prototype.YJ=function(){var S=new g;S.rect=new Q(0,0,0,0);
S.buffer=x.S(1);S.add.luni=new A(0,0);S.add.lyid=this.RN();S.add.lsct=YF.zL;S.add.lclr=0;S.add.fxrp=new A(0,0);
return S};Yi.prototype.hP=function(){var S=this.YJ();S.lX("</Layer group>");S.add.lsct=YF.px;S.Ge=24;
return S};Yi.prototype.iJ=function(){return this.dN!=this.pI};Yi.prototype.Aq=function(S){while(this.history.length>this.dN+1)this.history.pop();
if(this.pI>this.dN)this.pI=-1;if(S.s.id!=t.J$){this.Ic=!0;if(this.hx.lastAppliedComp){delete this.hx.lastAppliedComp;
this.PJ=!0}}this.history.push(S);this.dN++;this.Kh=!0;var G=YW.de()?60:30,j=0;for(var z=this.history.length-1;
z>=0;z--){var O=this.history[z];if(O.IV)continue;j++;if(j==G){this.dN-=z;this.history=this.history.slice(z);
break}}};Yi.prototype.KZ=function(){if(this.dN!=this.history.length-1)return null;return this.history[this.history.length-1]};
Yi.prototype.Of=function(S,G,j){if(S==null)S=!1;var z=G!=null?[G]:this.N.slice(0),O=[];for(var i=0;i<z.length;
i++){var C=this.d[z[i]].Xk;if(C!=0&&O.indexOf(C)==-1)O.push(C)}for(var i=0;i<this.d.length;i++){var C=this.d[i].Xk;
if(C!=0&&O.indexOf(C)!=-1&&z.indexOf(i)==-1)z.push(i)}var M=[];for(var i=0;i<z.length;i++){var D=this.fw(z[i],S);
for(var X=0;X<D.length;X++)if(M.indexOf(D[X])==-1)M.push(D[X]);if(j){var l=this.root.cv(z[i]);while(l.parent!=null&&l.parent.parent!=null){l=l.parent;
if(M.indexOf(l.index)==-1){M.push(l.index,l.kc)}}}}return M};Yi.prototype.fQ=function(S,G){var j=this,z=j.Of(!1,S);
z.sort(function(H,q){return H-q});var O={};for(var i=0;i<j.d.length;i++){var C=j.d[i].getName();O[C]=!0}var M=[];
for(var D=0;D<z.length;D++){var X=j.d[z[D]].clone(),P,k;X.add.lyid=j.RN();if(X.AG()){var l=X.td(j),f=Yi.rV(l);
j.KL(f);X.add.SoLd.placed.v=f.id}X.uf(j);var F=X.getName(),$=F.length;while(48<=F.charCodeAt($-1)&&F.charCodeAt($-1)<=57)$--;
var _=parseInt(F.slice($));if(isNaN(_)){if(F.endsWith(" copy")){_=1;P=F.slice(0,F.length-5)}else{_=0;
P=F}}else if(F.slice(0,$).endsWith(" copy ")){_=_;P=F.slice(0,$-6)}else{_=0;P=F}_++;while(!0){k=P+" copy"+(_==1?"":" "+_);
if(O[k]==null)break;_++}if(G!=!0)X.lX(k);O[k]=!0;M.push(X)}return M};Yi.rV=function(S){return{id:Yi.KP()+S.id.slice(8),buffer:x.clone(S.buffer),rect:S.rect.clone(),q:S.q?S.q.clone():null}};
Yi.rn=function(S){return{id:S,rect:new Q,buffer:x.S(1),q:new g.QS}};Yi.kI=function(S,G,j,z){if(j==null)j=new g.XT;
if(G){j.z=G}if(z==null){z=[];var O=x.p.Bv(j.z);for(var i=0;i<O;i++)z.push(x.tS.Xh())}return{name:S,Qf:0,add:{vmsk:j,vogk:z}}};
Yi.prototype.ya=function(S){var G=[],j=[],z=this,C=0;for(var O=1;O<z.qD.length;O++){var i=z.qD[O];i.Qf=-1-O;
G.push(i);if(z.ML.indexOf(O)!=-1)j.push(G.length-1)}if(z.qD[0].add.vmsk.z.length>2){var i=z.qD[0];i.Qf=-1;
G.push(i);if(z.ML.indexOf(0)!=-1)j.push(G.length-1)}var M=z.IN==null;if(M)z.IN=[];for(var O=z.N.length-1;
O>=0;O--){var D=z.d[z.N[O]];if(D.add.vmsk==null||!(D.yU||D.dr()))continue;var i=Yi.kI("\""+D.getName()+"\" Shape Path",null,D.add.vmsk,D.add.vogk);
i.Qf=z.N[O];G.push(i);if(M)z.IN.push(C);if(z.IN.indexOf(C)!=-1)j.push(G.length-1);C++}if(j.length==0&&S){z.qD[0].Qf=-1;
z.ML=[0];j.push(G.length);G.push(z.qD[0])}return[G,j]};Yi.prototype.fw=function(S,G){var j=[],z=this.root.cv(S);
if(z)z.BJ(j,G);return j};Yi.prototype.iB=function(){this.root.QE(this,new Q(0,0,this.o,this.i),32)};
Yi.prototype.Wb=function(S){for(var G=0;G<this.d.length;G++){var j=this.d[G];if(S.indexOf(j)==-1){j.t.fVv();
j.I()}}this.d=S.slice(0);this.C$()};Yi.prototype.C$=function(){var S=this.d,G=S.length;this.root=new Cs;
var j=this.YJ();j.eD="pass";j.add.lsct=YF.WY;var z=this.hP(),O=[z];for(var i=0;i<G;i++)O.push(S[i]);
O.push(j);this.root.Bx(O,0,0);if(this.N.length==0)this.N=[G-1]};Yi.prototype.Wm=function(){if(this.N.length!=1)return;
var S=this.root.cv(this.N[0]);while(S.parent!=null){var G=S.parent.B;G.add.lsct=YF.WY;S=S.parent}this.yK=this.fKJ=!0};
Yi.rj=function(S,G,j,z,O){var i={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:z},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:S}},Hght:{t:"UntF",v:{type:"#Rlt",val:G}},Rslt:{t:"UntF",v:{type:"#Rsl",val:j}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:O}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{mB:"make",MZ:i}};Yi.fAC=function(S,G){var j=S.Wdth.v.val,z=S.Hght.v.val,O=new Yi((S.Nm?S.Nm.v:YP.get([11,7]))+".psd");
O.o=j;O.i=z;O.bY=S.Rslt.v.val;var i=O.YJ();i.lX("Background");O.Wb([i]);i.add.lspf=1<<2;var C=S.Fl?S.Fl.v.Fl:"Trns";
if(C!="Trns"){var M=G.iw;M=(M&255)<<16|(M>>>8&255)<<8|M>>>16;i.rect=new Q(0,0,j,z);i.buffer=x.S(j*z*4);
x.GC(i.buffer,{Wht:4294967295,BckC:255<<24|M}[C])}O.buffer=x.S(j*z*4);return O};function Sq(S){this.lq=S;
this.u=0;this.c=new A(0,0);this.qk=[1,1,1];this.G=new Q(0,0,1,1);this.kb=new Q(0,0,S.o,S.i);this.Js=null;
this.XR=null;this.SB=new Uint32Array(0);this.wn=null;this.CB=null;this.jD=x.S(0);this.RS=null;this.pk=null}Sq.prototype.ie=function(S,G){var j=Math.round((this.G.o-this.lq.o*this.u)/2+this.c.x),z=Math.round((this.G.i-this.lq.i*this.u)/2+this.c.y),O=(S-j)/this.u,i=(G-z)/this.u;
return new A(O,i)};Sq.prototype.We=function(S,G){var j=Math.round((this.G.o-this.lq.o*this.u)/2+this.c.x),z=Math.round((this.G.i-this.lq.i*this.u)/2+this.c.y),O=S*this.u+j,i=G*this.u+z;
return new A(O,i)};Sq.prototype.Ww=function(){var S=this.lq,G=this.u,j=this.G.o,z=this.G.i,O=Math.floor(S.o*G),i=Math.floor(S.i*G);
if(G<.99){var C=x.jT(null,new Q(0,0,S.o,S.i),G).rect;O=C.o;i=C.i}return new Q(Math.round((j-O)/2+this.c.x),Math.round((z-i)/2+this.c.y),O,i)};
Sq.prototype.iR=function(){var S=this.lq,G=this,j=1/G.u,z=this.Ww();return new Q(Math.floor((G.G.x-z.x)*j),Math.floor((G.G.y-z.y)*j),Math.ceil(G.G.o*j)+1,Math.ceil(G.G.i*j)+1)};
function n(){}n.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");n.lH="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
n.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];n.LJ=["DrSh","IrSh","SoFi","GrFl","FrFX"];
n.W$=["Clr"];n.wU="Grad Rvrs Type Algn Angl Scl Ofst".split(" ");n.dH=["Ptrn","Scl","Algn","phase"];
n.nS={ER:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",tf:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",tX:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",ih:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
n.nS.ER="\"Clr\": "+n.nS.ER;n.nS.T="\"Grad\":"+n.nS.tf+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"}";
n.nS.ih="\"Ptrn\":"+n.nS.ih+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
n.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
n.s_=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+n.nS.ER+","+n.nS.T+","+n.nS.ih+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+n.nS.ER+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+n.nS.T+",\"Dthr\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+n.nS.ih+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
n.T={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
n.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],WQ:["SClr","GrFl","Ptrn"],fAP:[[13,0],[12,37],[12,62]]};
n.Wn={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],tI:["SrcC","SrcE"],fAv:[[19,5,1],[12,69]]};n.Hg={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],fPg:["SfBL","PrBL","Slmt"],fAa:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
n.GN={Ej:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Uw:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],iX:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+n.nS.ER+"}")},strokeStyleResolution:{t:"doub",v:72}}};
n.JL=[{classID:"null",Clr:JSON.parse(n.s_[5]).Clr},{classID:"null",Grad:JSON.parse(n.s_[6]).Grad,Dthr:{t:"bool",v:!0},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(n.s_[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var Yv={};Yv.fAN=function(S,G,j){if(S.tR())return;var z=x.p.fKR(S.z);z.x=Math.floor(z.x*G);z.o=Math.ceil(z.o*G);
z.y=Math.floor(z.y*j);z.i=Math.ceil(z.i*j);S.rect=z;S.channel=x.S(z.h());x.GH.width=z.o;x.GH.height=z.i;
var O=x.G;O.fillStyle="#ffffff";x.p.fKi(O,S.z,G,j,-z.x,-z.y);O.fill();var i=O.getImageData(0,0,z.o,z.i).data;
x.tb(i,S.channel,3)};Yv.WZ=function(S,G){function j(S,$){if(S==null)return null;var _=S[$].v,P;if(_.length!=0){P=_[0].v;
if(!P.enab.v)P=null}return P}var z=G.SoCo,O=G.GdFl,i=j(S,"solidFillMulti"),C=j(S,"gradientFillMulti");
if(i==null&&C==null)return[z,O];var M=Yv.fAV;if(z&&i&&C==null){var D=JSON.parse(JSON.stringify(z));D.Clr.v=M(i.Clr.v,z.Clr.v,i);
return[D,null]}if(O&&i&&C==null){var X=JSON.parse(JSON.stringify(O)),l=X.Grad.v.Clrs.v;for(var f=0;f<l.length;
f++){var F=l[f].v.Clr;F.v=M(i.Clr.v,F.v,i)}return[null,X]}if(z&&C){var X=JSON.parse(JSON.stringify(C)),l=X.Grad.v.Clrs.v;
for(var f=0;f<l.length;f++){var F=l[f].v.Clr;F.v=M(F.v,z.Clr.v,C)}return[null,X]}return[i,C]};Yv.fAw={fc:x.S(4),Sn:x.S(4),H:new Q(0,0,1,1)};
Yv.fAV=function(S,G,j){var z=YR.im(j.Md.v.BlnM),O=j.Opct.v.val/100,i=Yv.fAw;i.fc[0]=S.Rd.v;i.fc[1]=S.Grn.v;
i.fc[2]=S.Bl.v;i.fc[3]=255;i.Sn[0]=G.Rd.v;i.Sn[1]=G.Grn.v;i.Sn[2]=G.Bl.v;i.Sn[3]=255;x.k.me(z,i.fc,i.H,i.Sn,i.H,i.H,O);
return{classID:"RGBC",Rd:{t:"doub",v:i.Sn[0]},Grn:{t:"doub",v:i.Sn[1]},Bl:{t:"doub",v:i.Sn[2]}}};Yv.fgv=function(S,G,j){var z=S;
S=S.slice(0);var O=YR.fh[YR.kC.indexOf(G.Md.v.BlnM)],i=x.T.cx(G.Clr.v),C=4278190080|Math.round(i.C)<<16|Math.round(i.X)<<8|Math.round(i.H),M=x.S(j.h()*4);
x.GC(M,C);x.k.me(O,M,j,S,j,j,G.Opct.v.val/100);for(var D=0;D<S.length;D+=4)S[D+3]=z[D+3];return S};Yv.fYO=function(S,G){var j=["Sz","blur","Sftn","Dstn"];
for(var z=0;z<n.order.length;z++){var O=n.order[z],i=S[n.lH[z]].v;for(var C=0;C<i.length;C++){var M=i[C].v;
for(var D=0;D<j.length;D++){var X=M[j[D]];if(X){var l=X.v.val,f=l;f=Math.max(l==0?0:1,f*G);if(O=="ChFX")f=Math.min(f,250);
if(O=="ebbl"){if(j[D]=="blur")f=Math.min(f,250);if(j[D]=="Sftn")f=Math.min(f,16)}X.v.val=Math.round(f)}}if(O=="ebbl"||O=="patternFill"||O=="FrFX")if(M.Ptrn&&M.Scl)M.Scl.v.val=Math.max(1,Math.min(1e3,M.Scl.v.val*G))}}};
Yv.fAn=function(S,G){var j=new Q(-.5,-.5,1,1),z=S.add.lmfx;for(var O=0;O<n.order.length;O++){var i=n.order[O],C=z[n.lH[O]].v;
for(var M=0;M<C.length;M++){var D=C[M].v,F;if(!D.enab.v)continue;var X=D.blur?D.blur.v.val+1:0,l=D.Ckmt?D.Ckmt.v.val/100:0,f=Math.round(X*l);
if(i=="DrSh"){F=new Q(-.5,-.5,1,1);F.En(X,X);Yv.fA(F,D,G,0)}if(i=="OrGl"){F=new Q(-.5,-.5,1,1);F.En(X,X)}if(i=="FrFX"){var $=Yv.ix(D)[1];
F=new Q(-.5,-.5,1,1);F.En(Math.ceil($),Math.ceil($))}if(i=="ebbl"){var X=D.blur.v.val;if(D.bvlS.v.BESl=="Embs"||D.bvlS.v.BESl=="PlEb")X/=2;
var _=["OtrB","InrB","Embs","PlEb","strokeEmboss"],P=["SfBL","PrBL","Slmt"],k=["In","Out"],H=D.bvlT.v.bvlT!="SfBL"?X:X*.43,q=Math.round(X);
F=new Q(-q-.5,-q-.5,2*q+1,2*q+1)}if(F)j=j.wB(F)}}if(j.x!=Math.ceil(j.x)){j.x=Math.ceil(j.x);j.o-=1}if(j.y!=Math.ceil(j.y)){j.y=Math.ceil(j.y);
j.i-=1}return j};Yv.ix=function(S){var G=0,j=0,z=S.Styl.v.FStl,O=S.Sz.v.val;if(z=="OutF")j=O;if(z=="InsF")G=O;
if(z=="CtrF")G=j=O/2;return[G,j]};Yv.fMn=function(S){if(S.all==null)return;for(var G=0;G<S.all.length;
G++){var j=S.all[G];if(j.bi)j.bi.delete();if(j.pR)j.pR.delete();if(j.pD)j.pD.delete()}};Yv.fJg=function(S,G,j,z,O,i,C){Yv.fMn(S);
var M=Yv.fgC(z,O,G,j,i,C);S.type=M.type,S.all=M.all;if(Z.Gp)for(var D=0;D<S.all.length;D++){var X=S.all[D];
X.bi=new Z.XL(X.BW.o,X.BW.i);X.bi.set(X.hC);delete X.hC;if(X.pr){X.pR=new Z.Cv(X.BW.o,X.BW.i);X.pR.set(X.pr);
delete X.pr}if(X.pL){X.pD=new Z.Cv(X.BW.o,X.BW.i);X.pD.set(X.pL);delete X.pL}}};Yv.fgC=function(S,G,j,z,O,i){if(i==null)i=z;
var C=0,M=0;for(var D=0;D<n.order.length;D++){var X=n.order[D],l=n.lH[D],f=S[l].v;for(var F=0;F<f.length;
F++){var $=f[F].v;if(X=="DrSh"&&$.enab.v&&$.Ckmt.v.val>0&&$.blur.v.val>0)C=Math.max(C,Math.ceil($.Ckmt.v.val*$.blur.v.val/100));
if(X=="OrGl"&&$.enab.v&&$.Ckmt.v.val>0&&$.blur.v.val>0&&$.GlwT.v.BETE=="SfBL")C=Math.max(C,Math.ceil($.Ckmt.v.val*$.blur.v.val/100));
if(X=="OrGl"&&$.enab.v&&$.blur.v.val>0&&$.GlwT.v.BETE=="PrBL")C=Math.max(C,$.blur.v.val);if(X=="FrFX"&&$.enab.v&&$.Sz.v.val>0){if($.Styl.v.FStl=="OutF")C=Math.max(C,$.Sz.v.val);
if($.Styl.v.FStl=="CtrF")C=Math.max(C,Math.ceil($.Sz.v.val/2));M=Math.max(M,Yv.ix($)[1])}}}var _=new Yv.Ui(j,z,C),P={type:{},all:[]};
for(var k=0;k<n.order.length;k++){var X=n.order[k],l=n.lH[k];P.type[X]=[];for(var H=S[l].v.length-1;
H>=0;H--){var q=S[l].v[H].v;if(!q.enab.v)continue;var R=q.blur?q.blur.v.val:0,I=q.Ckmt?q.Ckmt.v.val/100:0,b=R*I;
if(X=="DrSh"){var Y=_.sz(b,R-b,!0),m=Y.Wz,h=Y.L;h.offset(-_.rect().x-1,-_.rect().y-1);Yv.Wt(m,q,!1);
Yv.fA(h,q,O,0);var e=x.S(h.h()*4);Yv.mF(e,q.Clr.v);x.Cy(m,e,3);var s={hC:e,BW:h,mM:YR.im(q.Md.v.BlnM),ho:q.Opct.v.val/100,fmF:q.layerConceals.v};
P.type[X].push(s);P.all.push(s)}if(X=="IrSh"){var Y=_.sz(b,R-b,!1);Yv.fA(Y.L,q,O,0);var h=_.rect().clone(),m=x.S(h.h());
x.set(m,255);x.zP(Y.Wz,Y.L,m,h);Yv.Wt(m,q,!0);var e=x.S(h.h()*4);Yv.mF(e,q.Clr.v);x.Cy(m,e,3);h.offset(-_.rect().x-1,-_.rect().y-1);
var s={hC:e,BW:h,mM:YR.im(q.Md.v.BlnM),ho:q.Opct.v.val/100};P.type[X].push(s);P.all.push(s)}if(X=="GrFl"){var e=x.S(_.rect().h()*4);
Yv.WG(q,e,_.rect(),O,null,i);var h=_.rect().clone();h.offset(-_.rect().x-1,-_.rect().y-1);var s={hC:e,BW:h,mM:YR.im(q.Md.v.BlnM),ho:q.Opct.v.val/100};
P.type[X].push(s);P.all.push(s)}if(X=="SoFi"){var e=x.S(_.Wz().length*4);Yv.mF(e,q.Clr.v);var h=_.rect().clone();
h.offset(-_.rect().x-1,-_.rect().y-1);var s={hC:e,BW:h,mM:YR.im(q.Md.v.BlnM),ho:q.Opct.v.val/100};P.type[X].push(s);
P.all.push(s)}if(X=="ebbl"){var y=!1,J=1;if(y)console.log(q);var T=Date.now(),K=q.bvlS.v.BESl;if(K=="strokeEmboss"){var B=S.frameFXMulti.v;
if(B.length==0)continue;B=B[0].v;if(!B.enab.v)continue;var a=B.Styl.v.FStl;if(a=="OutF")K="OtrB";if(a=="CtrF")K="Embs";
if(a=="InsF")K="InrB"}var R=q.blur.v.val;if(R==0)R=.7;if(K=="Embs"||K=="PlEb")R/=2;var u=["OtrB","InrB","Embs","PlEb","strokeEmboss"],r=["SfBL","PrBL","Slmt"],v=["In","Out"],o=q.bvlT.v.bvlT!="SfBL"?R:R*.45,V=Math.round(R);
R*=J;o*=J;V*=J;var d=_.rect().clone();d.x*=J;d.y*=J;d.o*=J;d.i*=J;var oU=d.clone();oU.En(V,V);var p=oU.o,N=oU.i,ob=p*N,oe=_.rect().o,oF=_.rect().i,oN=x.S(oe*oF*J*J);
x.scale.hZ(_.Wz(),oe,oF,oN,oe*J,oF*J,J);var YM=x.S(ob);x.zP(oN,d,YM,oU);var oE=new Float64Array(ob),ox=new Float64Array(ob);
x.style.YK(YM,oE,p,N);x.uT(YM);x.style.YK(YM,ox,p,N);if(y)console.log("distTransform computed",Date.now()-T);
var c=ox;ox=new Float64Array(ob);for(var D=0;D<ob;D++)c[D]=c[D]-oE[D];for(var D=0;D<ob;D++){var oG=c[D];
if(oG<-o)c[D]=-o;else if(oG>o)c[D]=o}if(y)console.log("summing + cropping",Date.now()-T);if(q.bvlT.v.bvlT=="SfBL"){var or=Math.pow(R*.21,1.22);
if(K=="InrB")or=Math.max(or,2);x.blur.ct(c,oE,oU,or);var Yf=c;c=oE;oE=Yf}if(y)console.log("blurring",Date.now()-T);
var oL=new Float64Array(ob);x.Fj(c,oL);if(q.useShape.v){var YX=Math.min(100,q.Inpr.v.val+1)/100;if(K!="OtrB"&&K!="InrB")YX=1;
var YC=x.aY.hD(q.MpgS.v.Crv.v,2e3),Yp=Math.round(2e3/YX);YC=x.aY.fMI(YC,Yp,K=="InrB");var YZ=.5/o;for(var D=0;
D<ob;D++){var Yz=c[D],YT=.99999*(Yz+o)*YZ;c[D]=-o+2*o*YC[~~(YT*(Yp-1))]}if(y)console.log("applying shape",Date.now()-T)}if(q.useTexture.v){var Yg=x.S(p*N*4);
Yv.Qd(q,Yg,oU,O,G);var YY=x.S(p*N);x.Lw(Yg,YY);var Yo=x.S(p*N);x.blur.bq(YY,Yo,oU,1);YY=Yo;var Ya=R*q.textureDepth.v.val*(1/100)*(1/255);
if(q.InvT.v)Ya=-Ya;for(var D=0;D<ob;D++)c[D]+=-Ya*YY[D];if(y)console.log("applying texture",Date.now()-T)}var YQ=(q.bvlT.v.bvlT=="SfBL"?1:.5)*(q.bvlD.v.BESs=="In"?1:-1)*q.srgR.v.val/100;
for(var D=0;D<ob;D++)c[D]*=YQ;if(y)console.log("scaling",Date.now()-T);var YK=q.uglg&&q.uglg.v?O.kl():q.lagl.v.val;
YK=YK*(Math.PI/180);var fa=q.uglg&&q.uglg.v?O.fs():q.Lald.v.val;fa=fa*(Math.PI/180);var YO=Math.cos(YK)*Math.cos(fa),Yw=-Math.sin(YK)*Math.cos(fa),YV=Math.sin(fa),Yu=new Float64Array(ob),YJ=new Float64Array(ob),fd=K=="PlEb";
for(var D=0;D<N;D++)for(var F=0;F<p;F++){var Yq=D*p+F,YU=-(D==0?c[Yq+p]-c[Yq]:D==N-1?c[Yq]-c[Yq-p]:.5*(c[Yq+p]-c[Yq-p])),YE=-(F==0?c[Yq+1]-c[Yq]:F==p-1?c[Yq]-c[Yq-1]:.5*(c[Yq+1]-c[Yq-1])),Yc=1,fJ=1/Math.sqrt(YE*YE+YU*YU+1);
YE*=fJ;YU*=fJ;Yc*=fJ;var YB=YE*YO+YU*Yw+Yc*YV,YG=YB;if(fd)YG=-YE*YO-YU*Yw+Yc*YV;if(YB>0)Yu[Yq]=YB;if(YG>0)YJ[Yq]=YG}if(y)console.log("raycasting",Date.now()-T);
if(q.Sftn.v.val!=0){x.blur.ct(Yu,oE,oU,q.Sftn.v.val*.43);var Yf=oE,oE=Yu,Yu=Yf;if(fd){x.blur.ct(YJ,oE,oU,q.Sftn.v.val*.43);
var Yf=oE,oE=YJ,YJ=Yf}else x.Fj(Yu,YJ)}if(y)console.log("softening",Date.now()-T);var YC=x.aY.hD(q.TrnS.v.Crv.v,1024);
for(var D=0;D<ob;D++){Yu[D]=YC[~~(Yu[D]*1024)];YJ[D]=YC[~~(YJ[D]*1024)]}if(y)console.log("contour remap",Date.now()-T);
p=Math.round(p/J);N=Math.round(N/J);var Yr=x.S(p*N*4);Yv.mF(Yr,q.hglC.v);var Yb=x.S(p*N*4);Yv.mF(Yb,q.sdwC.v);
var Y$=x.S(p*N*4);Yv.mF(Y$,q.hglC.v);var CE=x.S(p*N*4);Yv.mF(CE,q.sdwC.v);var My=1/YV,Cg=1/(1-YV),YZ=1/o,CP=new Float64Array(1e3);
for(var D=0;D<1e3;D++)CP[D]=Math.pow(D*.001,.2);for(var D=0;D<N;D++)for(var F=0;F<p;F++){var Yq=D*p+F,fO=4*Yq+3,XT=0,Mc=0;
if(J==1){XT=Yu[Yq];Mc=YJ[Yq]}else{var Cj=J*J*D*p+J*F;XT=.25*(Yu[Cj]+Yu[Cj+1]+Yu[Cj+J*p]+Yu[Cj+J*p+1]);
Mc=.25*(YJ[Cj]+YJ[Cj+1]+YJ[Cj+J*p]+YJ[Cj+J*p+1])}var XQ=Math.max(0,Math.min(.9999,(oL[Yq]+o*.993)*YZ));
XQ=CP[Math.floor(XQ*1e3)];var Cl=XQ*(1-Math.min(1,XT*My)),CZ=XQ*(1-Math.min(1,(1-XT)*Cg)),CT=XQ*(1-Math.min(1,Mc*My)),Cu=XQ*(1-Math.min(1,(1-Mc)*Cg));
Yb[fO]=Math.round(255*Cl);Yr[fO]=Math.round(255*CZ);CE[fO]=Math.round(255*CT);Y$[fO]=Math.round(255*Cu)}if(y)console.log("baking textures",Date.now()-T);
oU=_.rect().clone();oU.En(V/J,V/J);oU.offset(-_.rect().x-1,-_.rect().y-1);var Cp={fnp:q.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(K)!=-1){Cp.zX={hC:Yr,BW:oU,mM:YR.im(q.hglM.v.BlnM),ho:q.hglO.v.val/100};
Cp.zY={hC:Yb,BW:oU,mM:YR.im(q.sdwM.v.BlnM),ho:q.sdwO.v.val/100};P.all.push(Cp.zX,Cp.zY)}if(["OtrB","Embs","PlEb"].indexOf(K)!=-1){Cp.za={hC:Y$,BW:oU,mM:YR.im(q.hglM.v.BlnM),ho:q.hglO.v.val/100};
Cp.zK={hC:CE,BW:oU,mM:YR.im(q.sdwM.v.BlnM),ho:q.sdwO.v.val/100};P.all.push(Cp.za,Cp.zK)}if(y)console.log(Date.now()-T);
P.type[X].push(Cp)}if(X=="patternFill"){var Cv=_.rect(),e=x.S(Cv.h()*4);Yv.Qd(q,e,Cv,O,G);var h=Cv.clone();
h.offset(-Cv.x-1,-Cv.y-1);var s={hC:e,BW:h,mM:YR.im(q.Md.v.BlnM),ho:q.Opct.v.val/100};P.type[X].push(s);
P.all.push(s)}if(X=="ChFX"){var e=x.S(_.Wz().length*4);Yv.mF(e,q.Clr.v);var R=q.blur.v.val,fY=_.rect().clone();
fY.En(R,R);var fz=x.S(fY.h()),Ce=x.S(fY.h());x.zP(_.Wz(),_.rect(),Ce,fY);x.blur.VX(Ce,fz,fY,R*.43);var fV=x.aY.Yz(q.MpgS.v.Crv.v,256,!0);
x.a$(fz,fV);var CG=x.S(_.Wz().length),fC=x.S(_.Wz().length),CX=_.rect().clone();Yv.fA(CX,q,O,0);x.zP(fz,fY,CG,CX);
CX=_.rect().clone();Yv.fA(CX,q,O,Math.PI);x.zP(fz,fY,fC,CX);var So=CG.length;for(var D=0;D<So;D++)e[4*D+3]=Math.abs(CG[D]-fC[D]);
if(q.Invr.v)for(var D=0;D<So;D++)e[4*D+3]=255-e[4*D+3];var h=_.rect().clone();h.offset(-_.rect().x-1,-_.rect().y-1);
var s={hC:e,BW:h,mM:YR.im(q.Md.v.BlnM),ho:q.Opct.v.val/100};P.type[X].push(s);P.all.push(s)}if(X=="OrGl"){var Y;
if(q.GlwT.v.BETE=="SfBL")Y=_.sz(b,R-b,!0);else Y=_.fYb(R,I,!0);var m=Y.Wz,h=Y.L,fn=m.slice(0);Yv.fW$(m,q);
var e=x.S(h.h()*4);if(q.Grad==null){Yv.mF(e,q.Clr.v);Yv.Wt(m,q,!1)}else{Yv.Wt(m,q,null);var CC={CT:m,$w:255,GL:0,Nd:h};
Yv.WG(q,e,h,O,CC);var ff=q.Nose.v.val/100,oe=h.o;for(var D=0;D<fn.length;D++){var CI=255,Xl=fn[D];if(Xl<32){var C_=(Xl+fn[D-1]+fn[D+1]+fn[D-oe]+fn[D+oe])*.2-1;
CI=Math.min(255,Math.round(Math.max(0,C_)*8))}m[D]=CI}Yv.fgQ(m,q)}x.Cy(m,e,3);h.offset(-_.rect().x-1,-_.rect().y-1);
var s={hC:e,BW:h,mM:YR.im(q.Md.v.BlnM),ho:q.Opct.v.val/100};P.type[X].push(s);P.all.push(s)}if(X=="IrGl"){var Y;
if(q.GlwT.v.BETE=="SfBL")Y=_.sz(b,R-b,!1);else Y=_.fYb(R,I,!1);var m=Y.Wz,h=Y.L;Yv.fW$(m,q);if(q.glwS.v.IGSr=="SrcC")x.uT(m);
var e=x.S(h.h()*4);if(q.Grad==null){Yv.mF(e,q.Clr.v);Yv.Wt(m,q,!0)}else{Yv.Wt(m,q,null);var CC={CT:m,$w:255,GL:0,Nd:h};
Yv.WG(q,e,h,O,CC);x.set(m,255);Yv.fgQ(m,q)}x.Cy(m,e,3);h.offset(-_.rect().x-1,-_.rect().y-1);var s={hC:e,BW:h,mM:YR.im(q.Md.v.BlnM),ho:q.Opct.v.val/100};
P.type[X].push(s);P.all.push(s)}if(X=="FrFX"){var CK=Yv.ix(q),XJ=CK[0],fw=CK[1],h=_.rect().clone(),Xp=null,CS=null;
h.En(Math.ceil(M),Math.ceil(M));if(fw>0){var Y=_.sz(fw,0,!0);CS=Y.Wz;if(CS.length<h.h()){CS=x.S(h.h());
x.zP(Y.Wz,Y.L,CS,h)}}if(XJ>0){var Y=_.sz(XJ,0,!1);Xp=x.S(h.h());x.set(Xp,255);x.zP(Y.Wz,Y.L,Xp,h)}h.offset(-_.rect().x-1,-_.rect().y-1);
var e=x.S(h.h()*4),fr=q.PntT.v.FrFl;if(fr=="SClr")Yv.mF(e,q.Clr.v);if(fr=="GrFl")Yv.WG(q,e,h,O,_.fJu(XJ,fw));
if(fr=="Ptrn")Yv.Qd(q,e,h,O,G);var s={hC:e,BW:h,mM:YR.im(q.Md.v.BlnM),ho:q.Opct.v.val/100,pL:CS,pr:Xp};
P.type[X].push(s);P.all.push(s)}}}return P};Yv.wr=function(S){var G=1/Math.sqrt(S.x*S.x+S.y*S.y+S.yW*S.yW);
S.x*=G;S.y*=G;S.yW*=G};Yv.fJo=function(S,G){return{x:S.y*G.yW-S.yW*G.y,y:S.yW*G.x-S.x*G.yW,yW:S.x*G.y-S.y*G.x}};
Yv.fJP=function(S,G){return S.x*G.x+S.y*G.y+S.yW*G.yW};Yv.fgQ=function(S,G){var j=G.Nose.v.val/100;if(j>0)for(var z=0;
z<S.length;z++){var O=S[z];O=Math.min(510-(1+j)*x.style.jw(z),O);S[z]=O}};Yv.n_=function(S){var G=Yv.WF(),j=S.uV,z=!1;
for(var O=0;O<32;O+=8)if(j[O]+j[O+1]+j[4]+j[5]!=0||j[O+2]+j[O+3]+j[6]+j[7]!=1020)z=!0;if(z){j=j.slice(0);
for(var O=0;O<40;O+=4){var i=j[O]/255,C=j[O+1]/255,M=j[O+2]/255,D=j[O+3]/255;j[O]=i-1e-4;j[O+1]=i==C?1e9:1/(C-(i-1e-4));
j[O+2]=M==D?-1e9:1/(M-(D+1e-4));j[O+3]=D+1e-4}}var X=S.add.iOpa!=null?S.add.iOpa/255:G.fill,l=S.add.vstk;
if(l&&!l.fillEnabled.v&&(!l.strokeEnabled.v||l.strokeStyleLineWidth.v.val==0))X=0;return{fill:X,tk:z?j:null,fuV:S.add.brst!=null?S.add.brst:G.fuV,fwz:S.add.knko!=null?S.add.knko:G.fwz,style:!1,GJ:!1}};
Yv.WF=function(){return{fill:1,tk:null,fuV:[1,1,1],fwz:0,style:!1,GJ:!1}};Yv.m_=function(S,G){if(G==null)return null;
var j=S.Idnt.v,z=null;for(var O=0;O<G.length;O++)if(G[O].id==j)return G[O];return null};Yv.fYZ=function(S,G,j){var z=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var O=0;O<z.length;O++){var i=S.v[z[O]].v;for(var C=0;C<i.length;C++)if(i[C].v.Ptrn)G.kJ(Yv.m_(i[C].v.Ptrn.v,j))}};
Yv.fJS=function(S,G,j){var z=["patternFillMulti","ebblMulti","frameFXMulti"];for(var O=0;O<z.length;
O++){var i=S.v[z[O]].v;for(var C=0;C<i.length;C++)if(i[C].v.Ptrn){var M=i[C].v.Ptrn.v,D=Yv.m_(M,j),X=Yv.m_(M,G.add.Patt);
if(D==null&&X)j.push(X)}}};Yv.Qd=function(S,G,j,z,O){var i=Yv.m_(S.Ptrn.v,z.add.Patt);if(i!=null&&!j.tR()){var C=x.scale.Qd(i.hC,i.L.o,i.L.i),M=S.Scl.v.val/100,D=-j.x+S.phase.v.Hrzn.v-1,X=-j.y+S.phase.v.Vrtc.v-1;
if(S.Algn!=null&&!S.Algn.v){}else{D+=O.x;X+=O.y}x.scale.fgl(C,G,j.o,j.i,M,M,D+1,X+1)}};Yv.WG=function(S,G,j,z,O,i){if(i==null)i=j;
var C=S.Type?S.Type.v.GrdT:"shapeburst",M=S.Algn&&S.Algn.v?i:new Q(0,0,z.o,z.i),D=S.Angl?x.T.od(S,M):[new A(0,0),new A(100,0)],X=D[0].x,l=D[0].y,f=D[1].x-X,F=D[1].y-l,$=Math.sqrt(f*f+F*F);
$=1/(2*$*$);var _=[f*$,F*$,-F*$,f*$];x.T.OQ(S.Grad.v,G,j,_,X,l,S.Rvrs?S.Rvrs.v:!1,n.T.types.indexOf(C),0,0,O)};
Yv.fJQ=function(S,G){for(var j=0;j<S.all.length;j++){var z=S.all[j];z.kL=z.BW.clone();z.kL.offset(G.x,G.y)}};
Yv.fgA=function(S,G,j,z,O,i){var C=Z.Gp?Yv.fYu:Yv.fXT;Yv.fJQ(G,j);var M=G.type.DrSh;for(var D=0;D<M.length;
D++)if(!M[D].fmF)C(M[D],z,O,i)};Yv.fZU=function(S,G,j,z,O,i,C,M,D,X){var l=j,f=Z.Gp?Yv.fYu:Yv.fXT,F=Z.Gp?Z.k.nk:x.k.AN,$;
$=G.type.DrSh;for(var _=0;_<$.length;_++)if($[_].fmF)f($[_],z,O,i);$=G.type.OrGl;for(var _=0;_<$.length;
_++)f($[_],z,O,i);var P="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var k=0;k<P.length;k++){var $=G.type[P[k]];
for(var _=0;_<$.length;_++)f($[_],C,l,i)}var H=G.type.ebbl[0],q=H!=null&&H.fnp;$=G.type.FrFX;for(var _=0;
_<$.length;_++){var R=$[_];Cs.mQ.zP(M,X,D,X,i);f(R,D,X,i);if(q&&_==$.length-1){if(H.zK)f(H.zK,D,X,i);
if(H.za)f(H.za,D,X,i);if(H.zY)f(H.zY,D,X,i);if(H.zX)f(H.zX,D,X,i)}if(R.pr||R.pR)F(D,X,C,l,Z.Gp?R.pR:R.pr,R.kL,0,i,1);
if(R.pL||R.pD)F(D,X,z,O,Z.Gp?R.pD:R.pL,R.kL,0,i,1)}if(!q&&H!=null){if(H.zK)f(H.zK,z,O,i);if(H.za)f(H.za,z,O,i);
if(H.zY)f(H.zY,C,l,i);if(H.zX)f(H.zX,C,l,i)}};Yv.fXT=function(S,G,j,z){var O=Yv.WF();O.fill=S.ho;O.style=!0;
x.k.me(S.mM,S.hC,S.kL,G,j,z,1,O)};Yv.fYu=function(S,G,j,z){var O=Yv.WF();O.fill=S.ho;O.style=!0;Z.k._x(S.mM,S.bi,S.kL,G,j,z,1,O)};
Yv.fW$=function(S,G){var j=1-G.Inpr.v.val/100,z=1+Math.tan(j*(Math.PI/2)),O=S.length;for(var i=0;i<O;
i++)S[i]=Math.min(255,Math.round(S[i]*z))};Yv.Wt=function(S,G,j){var z=G.blur.v.val,O=Math.round(z*(G.Ckmt.v.val/100));
if(z>O){var i=x.aY.Yz(G.TrnS.v.Crv.v,256,!0);x.a$(S,i)}if(j!=null&&G.Nose.v.val>0)x.style.fY$(S,G.Nose.v.val/100,j)};
Yv.mF=function(S,G,j){if(j==null)j=255;var z=x.T.cx(G),O=j<<24|z.C<<16|z.X<<8|z.H;x.GC(S,O)};Yv.fA=function(S,G,j,z){var O=G.uglg&&G.uglg.v?j.kl():G.lagl.v.val;
O=O*Math.PI/180+z;var i=Math.cos(O)*G.Dstn.v.val,C=Math.sin(O)*G.Dstn.v.val;S.x-=Math.round(i);S.y+=Math.round(C)};
Yv.WR=function(S){if(S==null)return null;var G=S.frameFXMulti.v;if(G.length==0)return null;G=G[0].v;
var j=JSON.parse(JSON.stringify(n.GN.default));Yv.fYw(G,j);return j};Yv.fYw=function(S,G){var j=n.stroke.WQ.indexOf(S.PntT.v.FrFl),z=[n.W$,n.wU,n.dH][j],O=G.strokeStyleContent.v={classID:n.GN.iX[j]};
for(var i=0;i<z.length;i++)O[z[i]]=S[z[i]];G.strokeEnabled=S.enab;G.strokeStyleLineWidth=S.Sz;G.strokeStyleLineAlignment.v.strokeStyleLineAlignment=n.GN.Uw[n.stroke.types.indexOf(S.Styl.v.FStl)];
G.strokeStyleOpacity=S.Opct;G.strokeStyleBlendMode=S.Md};Yv.Wi=function(S,G){var j=[];for(var z=0;z<S.length;
z++)j.push({t:"UntF",v:{type:"#Nne",val:Math.round(S[z]*G)}});return j};Yv.Ui=function(S,G,j){this.bO=G.clone();
this.bO.En(1,1);this.fwn=G.clone();this.fwn.En(j,j);this.fwi=x.S(this.bO.h());x.zP(S,G,this.fwi,this.bO);
this.zT=null;this.zI=null;this.zR=null};Yv.Ui.prototype.Wz=function(){return this.fwi};Yv.Ui.prototype.rect=function(){return this.bO};
Yv.Ui.prototype.DX=function(){return this.fwn};Yv.Ui.prototype.c$=function(){if(this.zT)return this.zT;
this.zT=x.clone(this.Wz());x.uT(this.zT);return this.zT};Yv.Ui.prototype.DM=function(){if(this.zI)return this.zI;
this.zI=new Float64Array(this.rect().h());x.style.YK(this.c$(),this.zI,this.rect().o,this.rect().i);
return this.zI};Yv.Ui.prototype.WD=function(){if(this.zR)return this.zR;var S=this.DX(),G=x.S(S.h());
x.zP(this.Wz(),this.rect(),G,S);this.zR=new Float64Array(S.h());x.style.YK(G,this.zR,S.o,S.i);return this.zR};
Yv.Ui.prototype.fJu=function(S,G){var j={$w:-G,GL:S,Nd:null,CT:null};if(G==0){j.Nd=this.rect();j.CT=this.DM();
return j}var z=this.WD().slice(0),O=this.DX();j.Nd=O;j.CT=z;for(var i=0;i<z.length;i++)z[i]=-z[i];if(S==0)return j;
var C=this.DM(),M=this.rect();for(var D=0;D<M.i;D++)for(var X=0;X<M.o;X++){var l=D*M.o+X,f=(D+M.y-O.y)*O.o+X+M.x-O.x;
z[f]+=C[l]}return j};Yv.Ui.prototype.sz=function(S,G,j){var z=Math.ceil(S+G),O={L:this.rect().clone(),Wz:null};
O.L.En(z,z);O.Wz=x.S(O.L.h());if(S==0&&G==0)x.Fj(j?this.Wz():this.c$(),O.Wz);else{var i=x.S(O.L.h());
x.zP(this.Wz(),this.rect(),i,O.L);if(!j)x.uT(i);if(S!=0){if(j)x.style.Yi(i,O.L,this.WD(),this.DX(),S);
else x.style.Yi(i,O.L,this.DM(),this.rect(),S)}if(G!=0)x.blur.VX(i,O.Wz,O.L,Math.max(1,G*.43));else O.Wz=i}return O};
Yv.Ui.prototype.fYb=function(S,G,j){var z=S*(G-.5),O={L:this.rect().clone(),Wz:null};if(j)O.L.En(S,S);
O.Wz=x.S(O.L.h());var i=O.L.o,C=O.L.i,M=j?this.WD():this.DM(),D=j?this.DX():this.rect(),X=O.L,l=X.tY(D),i=l.o,C=l.i,f=l.x-X.x,F=l.y-X.y,$=l.x-D.x,_=l.y-D.y,P=1-G*2;
for(var k=0;k<C;k++)for(var H=0;H<i;H++){var q=M[(k+_)*D.o+H+$],R=q/S;O.Wz[(k+F)*X.o+H+f]=Math.max(0,Math.min(255,255-255*((R+P)/(1+P))))}return O};
Yv.fCG=function(S,G,j){var z=S.Lefx,O=S.blendOptions;if(z){var i=G.add.lmfx;if(j==null)j=i?i.Scl.v.val:100;
G.add.lmfx=JSON.parse(JSON.stringify(z.v));Yv.fYO(G.add.lmfx,j/G.add.lmfx.Scl.v.val);if(i)G.add.lmfx.Scl.v.val=i.Scl.v.val}else delete G.add.lmfx;
if(O){O=O.v;if(O.Md)G.eD=YR.im(O.Md.v.BlnM);if(O.Opct)G.opacity=Math.round(O.Opct.v.val*255/100);if(O.fillOpacity)G.add.iOpa=Math.round(O.fillOpacity.v.val*255/100);
if(O.Blnd){var C=[];for(var M=0;M<10;M++)C.push(0,0,255,255);var D=O.Blnd.v,X="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var M=0;M<D.length;M++){var l=D[M].v,f=8*["Gry","Rd","Grn","Bl"].indexOf(l.Chnl.v[0].v.enum);for(var F=0;
F<8;F++){C[f+F]=l[X[F]].v}}G.uV=C}}};Yv.fgT=function(S){var G="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),j=[],z=S.uV;
for(var O=0;O<4;O++){var i=O*8;if(z[i]+z[i+1]+z[i+4]+z[i+5]==0&&z[i+2]+z[i+3]+z[i+6]+z[i+7]==4*255)continue;
var C={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][O]}}]}}};
j.push(C);for(var M=0;M<8;M++)C.v[G[M]]={t:"long",v:z[O*8+M]}}var D={classID:"blendOptions"};if(S.eD!="norm")D.Md={t:"enum",v:{BlnM:YR.Lj(S.eD)}};
if(S.opacity!=255)D.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(S.opacity*100/255)}};if(S.add.iOpa!=null)D.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(S.add.iOpa*100/255)}};
if(j.length!=0)D.Blnd={t:"VlLs",v:j};var X={kT:{classID:"null",Idnt:{t:"TEXT",v:Yi.KP()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},qi:{classID:"Styl",blendOptions:{t:"Objc",v:D}}},l=S.add.lmfx;
if(l)X.qi.Lefx={t:"Objc",v:l};return X};function oH(){}oH.lf=function(S){return JSON.parse(JSON.stringify(S))};
oH.fR=function(S){var G=oH.lf(oH.fJA),j=G.Brsh.v;if(S!=null){delete j.Hrdn;j.classID="sampledBrush";
j.Nm={t:"TEXT",v:"layer.png"},j.sampledData={t:"TEXT",v:S}}return G};oH.fJA={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
oH.wr={};oH.wr.check=function(S){var G=oH.wr.W_;for(var j=0;j<G.length;j++)if(S[G[j]]==null)S[G[j]]=JSON.parse(oH.wr.DS[G[j]]);
var z=[];for(var j=0;j<G.length;j++)z.push(G[j]);var O=oH.wr.fSl;for(var j=0;j<O.length;j++){var i=O[j][0],C=O[j][1],M=!0;
for(var D=0;D<i.length;D++)M=M&&S[i[D]].v==!0;if(M)for(var D=0;D<C.length;D++){if(S[C[D]]==null)console.log("Missing conditional parameter "+C[D]);
else z.push(C[D])}}for(var X in S)if(z.indexOf(X)==-1)console.log("Extra parameter "+X);S=S.Brsh.v;G=oH.wr.vJ.W_;
for(var j=0;j<G.length;j++)if(S[G[j]]==null)S[G[j]]=JSON.parse(oH.wr.vJ.DS[G[j]]);z=[];for(var j=0;j<G.length;
j++)if(S[G[j]])z.push(G[j]);else console.log("Missing default parameter "+G[j]);O=oH.wr.vJ.fJR[S.classID];
for(var j=0;j<O.length;j++)if(S[O[j]]==null&&O[j]!="dtipsGridSize"&&O[j]!="dtipsErodibleTipHeightMap"&&S.fWX!=1)console.log("Missing conditional parameter "+O[j]);
else z.push(O[j]);for(var X in S)if(z.indexOf(X)==-1)console.log("Extra parameter "+X)};oH.wr.Wj=function(S){var G=oH.wr.fSl;
for(var j=0;j<G.length;j++){var z=G[j][0],O=G[j][1],i=!0;for(var C=0;C<z.length;C++)i=i&&S[z[C]]&&S[z[C]].v==!0;
if(i){for(var C=0;C<O.length;C++)if(S[O[C]]==null){S[O[C]]=JSON.parse(oH.wr.DS[O[C]])}}else for(var C=0;
C<O.length;C++)if(S[O[C]]!=null){delete S[O[C]]}}};oH.wr.vJ={};oH.wr.vJ.W_="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
oH.wr.vJ.DS={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};oH.wr.vJ.fJR={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
oH.wr.fSl=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
oH.wr.W_="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
oH.wr.DS={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function PA(S){this.zE=S;this.dir=0}PA.prototype.Dv=function(S,G){if(this.dir==0&&!this.zE.Xs(S))this.dir=Math.abs(this.zE.x-S.x)<Math.abs(this.zE.y-S.y)?1:2;
var j=S;if(G.U(w.H$)){if(this.dir==1)j=new A(this.zE.x,S.y);if(this.dir==2)j=new A(S.x,this.zE.y)}return j};
function fs(S,G,j,z,O,i,C,M){this.qH=G;this.ki=j;this.iw=i;this.qh=z;if(z.EQ==null)z.EQ=[!1,!0];this.Ef=null;
this.ik=null;this.b_=0;this.fwD=0;this.fJZ=0;this.bG=0;this.l_=0;this.fWP=C;this.tv=new Q;this.eM=new Q;
this.rect=new Q;if(M!=null){this.hC=M}else{var D=fs.fgm;if(D.length!=C.h()*4)D=x.S(C.h()*4);else D.fill(0);
this.hC=fs.fgm=D}this.rect=C.clone();this.ze=[];this.eC=[];this.ku=null;this.Cj=0;this.C=null;this.zF="";
this.hR=null;this.fui(S,O)}fs.fgm=x.S(16);fs.prototype.fui=function(S,G){this.Cj=G;this.C=S;this.zF=JSON.stringify(S)+JSON.stringify(this.qh.nC);
this.hR=fs.flQ(S,this.qH,this.ki)};fs.prototype.moveTo=function(S,G,j){j=this.fgS(j);this.b_=j;var z=new A(S,G),O=this.C.Brsh.v.Dmtr.v.val;
this.Ef=z.clone();this.ik=z.clone();this.ku=z.clone();this.ze=[S,G];this.eC=[j];var i=this.qh.EQ;if(this.qh.nf!=fs.AY)this.sg(this.fYd(z,this.fXr()*(i[1]?j:1),this.qh.Ar*(i[0]?j*.5:1),new A(0,0)));
this.bG=z.clone()};fs.prototype.lineTo=function(S,G,j){j=this.fgS(j);var z=this.ze,O=z.length,i=z[O-2],C=z[O-1];
if(S==i&&G==C)return;var M=this.C.Brsh.v.Dmtr.v.val,D=Math.ceil(M)+1,X=new Q(Math.round(i),Math.round(C),0,0);
X.En(D,D);var l=new Q(Math.round(S),Math.round(G),0,0);l.En(D,D);this.fYL(X.wB(l));this.ze.push(S,G);
this.eC.push(j);O+=2;if(O>=6)this.sg(this.fXQ(O))};fs.prototype.fgS=function(S){if(S==null)S=1;S=Math.max(.05,Math.min(5,S));
if(isNaN(S)){alert("Pressure is not a number");throw"e"}return S};fs.prototype.sg=function(S){this.tv=S;
this.eM=this.eM.wB(S)};fs.prototype.finish=function(){var S=this.ze,G=S.length,j;if(G==4)j=this.fSm(S[G-2],S[G-1],this.eC[(G>>1)-1],!0);
if(G>4)j=this.fXQ(G+2);if(j)this.sg(j)};fs.prototype.fXQ=function(S){var G=this.ze,j=this.eC,z=G[S-6],O=G[S-5],i=G[S-4],C=G[S-3],M=j[(S>>1)-3],D=j[(S>>1)-2],X=new A(0,0),l=new A(0,0);
if(8<=S)X=fs.foc(G[S-8],G[S-7],z,O,i,C);if(S<=G.length)l=fs.foc(G[S-2],G[S-1],i,C,z,O);var f=z+X.x,F=O+X.y,$=i+l.x,_=C+l.y,P=new Q;
for(var k=0;k<10;k++){var H=(k+1)*.1,q=1-H,R=q*q*q*z+3*H*q*q*f+3*H*H*q*$+H*H*H*i,I=q*q*q*O+3*H*q*q*F+3*H*H*q*_+H*H*H*C,b=this.fSm(R,I,M+H*(D-M));
P=P.wB(b)}return P};fs.foc=function(S,G,j,z,O,i){var C=S-j,M=G-z,D=O-j,X=i-z,l=Math.sqrt(C*C+M*M),f=Math.sqrt(D*D+X*X),F=Math.acos((C*D+M*X)/(l*f))/Math.PI,$=.35,_=.1;
F=_+F*($-_);var P=O-S,k=i-G,H=Math.sqrt(P*P+k*k),q=F*f/H;return new A(P*q,k*q)};fs.prototype.fSm=function(S,G,j,z){var O=new Q,i=this.qh.fZJ;
if(i==null)i=0;if(i==0||z){O=this.fmC(S,G,j);return O}var C=this.ku,M=S-C.x,D=G-C.y,X=Math.sqrt(M*M+D*D);
M/=X;D/=X;if(X>i){var l=C.x+M*(X-i),f=C.y+D*(X-i);O=this.fmC(l,f,j);this.ku.cK(l,f)}return O};fs.prototype.fmC=function(S,G,j){var z=new Q,O=new A(S,G),i=this.C.Brsh.v.Dmtr.v.val,C=this.qh.nf,M=O.aB(this.ik);
M.normalize(1);var D=A.nM(this.ik,O),X=-this.fwD,l=this.ik.clone(),f=this.qh.EQ;while(!0){var F=this.b_+(j-this.b_)*(Math.max(0,X)/D),$=this.fXr()*(f[1]?F:1),_=this.fJO()*($+this.fJZ)/2;
if(C==fs.AY)_=1;if(X+_<D){X+=_;var P=new A(this.ik.x+M.x*X,this.ik.y+M.y*X),q=1;if(C==fs.AY){var k=l.clone();
k.x+=M.x>0?1:-1;var H=l.clone();H.y+=M.y>0?1:-1;if(A.nM(k,P)<A.nM(H,P))P=k;else P=H;X=A.nM(P,this.ik)}if(this.C.useScatter.v==!0){q=this.C.Cnt.v;
var R=this.C.countDynamics.v.jitter.v.val/100,I=R*(-1+2*this.XF());q+=Math.round(q*I)}for(var b=0;b<q;
b++){var Y=this.fYd(P,$,this.qh.Ar*(f[0]?F*.5:1),M);z=z.wB(Y)}l=P}else break}this.fwD=D-X;this.ik=O;
this.b_=j;return z};fs.prototype.fJO=function(){var S=this.C.Brsh.v,G=S.Spcn.v.val,j=Math.max(5,S.Rndn.v.val);
return j/100*(G/100)};fs.prototype.fXr=function(){var S=this.C,G=S.Brsh.v.Dmtr.v.val;if(S.useTipDynamics.v){var j=G*(S.minimumDiameter.v.val/100);
G=j+(G-j)*(1-this.XF()*(S.szVr.v.jitter.v.val/100))}return G};fs.prototype.fYd=function(S,G,j,z){j=Math.min(1,j);
var O=this.C,i=this.C.Brsh.v,C=i.Dmtr.v.val,M=this.qh,D=M.nf,X=M.fWW,l=new Ym;l.translate(-this.hR.eP.o/2,-this.hR.eP.i/2);
l.scale(1/this.hR.fgM,1/this.hR.fgM);l.scale(G/C,G/C);l.scale(1,Math.max(5,i.Rndn.v.val)/100);if(O.useTipDynamics.v){var f=O.minimumRoundness.v.val/100;
l.scale(1,f+(1-f)*Math.round(100-this.XF()*O.roundnessDynamics.v.jitter.v.val)/100);l.rotate((-.5+this.XF())*4*Math.PI*(O.angleDynamics.v.jitter.v.val/100))}l.rotate(i.Angl.v.val*(Math.PI/180));
if(O.useScatter.v){var F=(-1+2*this.XF())*O.scatterDynamics.v.jitter.v.val/100;l.translate(-F*G*z.y,F*G*z.x)}l.translate(S.x,S.y);
var $=this.fJN(l,S);this.fYL($.rect);var _=$.rect.clone();if(D==null){var P=this.cx(O);x.GC($.hF,Math.round(P.C*255)<<16|Math.round(P.X*255)<<8|Math.round(P.H*255)<<0,4278190080);
if(this.eM.tR()&&this.rect.Xs($.rect)&&j==1)this.hC=$.hF.slice(0);else x.k.fYh($.hF,$.rect,this.hC,this.rect,$.rect,j)}if(D==fs.AY){var k=new A($.rect.x+$.rect.o/2,$.rect.y+$.rect.i/2),H=Math.round(k.x-this.bG.x),q=Math.round(k.y-this.bG.y),R=$.rect.clone();
R.offset(-H,-q);var I=R.tY(this.rect);I.offset(H,q);x.yF(this.hC,this.rect,$.hF,R);x.k.bI($.hF,$.rect,this.hC,this.rect,$.eK,$.rect,j)}if(D==fs.ep||D==fs.eW||D==fs.DK){var b=$.rect.tY(this.rect),Y;
if(b.Xs($.rect))Y=$.eK;else{Y=x.S(b.h());x.zP($.eK,$.rect,Y,b)}var m=x.S(b.h()*4);x.yF(this.hC,this.rect,m,b);
if(D==fs.eW){var h=x.clone(m),e=x.cI.jE([-1,-1,-1,-1,25,-1,-1,-1,-1]);x.cI.oM(m,h,b.o,b.i,e,0);x.Fj(h,m)}else if(D==fs.DK){var s=Yy.Cr("UnsM");
s.Amnt.v.val=15;s.Thsh.v=0;s.Rds.v.val=5;var h=x.S(m.length);Yy.KH("UnsM",{buffer:m,rect:b},s,0,0,{buffer:h,rect:b});
x.Fj(h,m)}else{Yy.By(1,x.blur.bE,m,b)}x.k.bI(m,b,this.hC,this.rect,Y,b,j)}this.fJZ=G;this.bG=k;return _};
fs.prototype.cx=function(S){var G=fs.fTK(this.Cj);if(S.useColorDynamics&&S.useColorDynamics.v){var j=1-this.XF()*S.clVr.v.jitter.v.val/100,z=fs.fTK(this.iw);
G.H=j*G.H+(1-j)*z.H;G.X=j*G.X+(1-j)*z.X;G.C=j*G.C+(1-j)*z.C;var O=(-.5+this.XF())*S.H.v.val/100,i=(-1+2*this.XF())*S.Strt.v.val/100,C=(-1+2*this.XF())*S.Brgh.v.val/100,M=x.Lm(G.H,G.X,G.C);
M.QM=(M.QM+O+1)%1;M.sN=M.sN+i;if(M.sN<0)M.sN=-M.sN;if(M.sN>1)M.sN=1-(M.sN-1);M.Gf=M.Gf+C;if(M.Gf<0)M.Gf=-M.Gf;
if(M.Gf>1)M.Gf=1-(M.Gf-1);G=x.HV(M.QM,M.sN,M.Gf)}return G};fs.prototype.wr=function(S){return Math.max(0,Math.min(1,S))};
fs.prototype.XF=function(){this.l_++;return fs.hash(this.l_)};fs.fTK=function(S){return{H:(S>>16&255)/255,X:(S>>8&255)/255,C:(S>>0&255)/255}};
fs.hash=function(S){S=S^61^S>>16;S=S+(S<<3);S=S^S>>4;S=S*668265261;S=S^S>>15;return(S&16777215)/16777215};
fs.dc=[];fs.prototype.fJN=function(S,G){var j=null,C;for(var z=0;z<fs.dc.length;z++)if(fs.dc[z].zF==this.zF){j=fs.dc[z];
fs.dc.splice(z,1)}if(j==null)j={hi:[],zF:this.zF,kG:0};var O=j.hi,i=this.qh.nC;if(i){S=S.clone();S.cg=Math.floor(S.cg);
S.tL=Math.floor(S.tL)}var M=fs.fcy(S.cg,S.tL);for(var z=0;z<O.length;z++){var D=O[z];if(!(D.dK.A==S.A&&D.dK.C==S.C&&D.dK.vK==S.vK&&D.dK.JE==S.JE))continue;
if(fs.flP(D.MY,M)<.2||D.rect.h()>1e4){C=D;break}}var X=Math.round(this.C.Brsh.v.Dmtr.v.val);if(C){C.rect.x=Math.round(C.Xu.x-C.dK.cg+S.cg);
C.rect.y=Math.round(C.Xu.y-C.dK.tL+S.tL);if(i){C.rect.x=Math.round(G.x-X/2);C.rect.y=Math.round(G.y-X/2)}}else{var l;
if(i&&X<=3){l={buffer:x.S(X*X*4),rect:new Q(Math.round(G.x-X/2),Math.round(G.y-X/2),X,X)};x.GC(l.buffer,4278190080)}else if(S.A==1&&S.C==0&&S.vK==0&&S.JE==1){l={buffer:this.hR.hF,rect:this.hR.eP.clone()};
l.rect.x=Math.round(S.cg);l.rect.y=Math.round(S.tL)}else l=t.Gh.vh([this.hR.hF,this.hR.eP],S);if(i){for(var z=0;
z<l.buffer.length;z++)l.buffer[z]=l.buffer[z]>127?255:0}if(l==null)l={buffer:x.S(0),rect:new Q};var f=S.cg-Math.floor(S.cg),F=S.tL-Math.floor(S.tL);
C={hF:l.buffer,eK:x.S(l.rect.h()),rect:l.rect,Xu:l.rect.clone(),dK:S,MY:fs.fcy(S.cg,S.tL)};x.tb(C.hF,C.eK,3);
O.push(C);if(O.length>200)O=O.slice(100)}j.hi=O;j.kG=Date.now();fs.dc.push(j);fs.dc.sort(function($,_){return _.kG-$.kG});
while(fs.dc.length>3)fs.dc.pop();return C};fs.fcy=function(S,G){return new A(S-Math.floor(S),G-Math.floor(G))};
fs.flP=function(S,G){var j=G.x,z=G.y,O=Math.abs(j-S.x),i=Math.abs(z-S.y);if(Math.abs(j-1-S.x)<O)j--;
else if(Math.abs(j+1-S.x)<O)j++;if(Math.abs(z-1-S.y)<i)z--;else if(Math.abs(z+1-S.y)<i)z++;O=S.x-j;i=S.y-z;
return Math.sqrt(O*O+i*i)};fs.prototype.fYL=function(S){};fs.flQ=function(S,G,j){var z,O,i,C=S.Brsh.v.Dmtr.v.val;
if(S.Brsh.v.classID=="computedBrush"){var M=S.Brsh.v.Hrdn.v.val/100,D=1+.55*(1-M);i=C<100?1.2:1;var X=Math.round(i*C*D);
O=new Q(0,0,X,X);z=x.S(X*X*4);var l=new Uint32Array(z.buffer),f=X/2,F=D/f,$=Date.now(),_=fs.IM(M),P=Math.round(8e3/f),G=_[0],k=_[1]-P,H=_[2]+P,q=Math.min(X,(X>>>1)+1);
for(var R=0;R<q;R++){var I=F*(R-f+.25);I*=I;var b=F*(R-f+.75);b*=b;var Y=R*X,m=(X-1-R)*X;for(var h=0;
h<q;h++){var e=F*(h-f+.25),s=Math.floor(Math.sqrt(e*e+I)*(4e3/1.55));if(H<s)continue;else if(s<k){var y=4278190080;
while(h<q){var T=X-1-h;l[Y+h]=y;l[Y+T]=y;l[m+h]=y;l[m+T]=y;h++}break}else{var K=F*(h-f+.75),B=Math.floor(Math.sqrt(K*K+I)*(4e3/1.55)),a=Math.floor(Math.sqrt(e*e+b)*(4e3/1.55)),u=Math.floor(Math.sqrt(K*K+b)*(4e3/1.55)),y=~~(.5+255*.25*(G[s]+G[B]+G[a]+G[u]))<<24,T=X-1-h;
l[Y+h]=y;l[Y+T]=y;l[m+h]=y;l[m+T]=y}}}}if(S.Brsh.v.classID=="sampledBrush"){var r;for(var R=0;R<G.length;
R++)if(G[R].id==S.Brsh.v.sampledData.v)r=G[R];O=new Q(0,0,r.L.o,r.L.i);i=Math.max(O.o,O.i)/C;z=x.S(O.h()*4);
x.Cy(r.channel,z,3)}while(Math.min(O.o,O.i)>C*2){var v=new Q(O.x,O.y,Math.floor(O.o/2),Math.floor(O.i/2)),o=t.Gh.vh([z,O],new Ym(v.o/O.o,0,0,v.i/O.i,0,0));
i*=v.o/O.o;O=o.rect;z=o.buffer}return{fgM:i,eP:O,hF:z}};fs.sf=[];fs.IM=function(S){if(fs.sf[S])return fs.sf[S];
var G=Math.pow(S,.55),j=new Float64Array(8e3),z=0,O=8e3;for(var i=0;i<8e3;i++){var C=fs.flO(i*(1.55/4e3),G);
if(C>=1)z=i;else if(C<=0&&O==8e3)O=i;j[i]=C}var M=[j,z,O];fs.sf[S]=M;return M};fs.flO=function(S,G){var j=S<G?1:fs.flh((S-G)/Math.pow(1.001-G,.86));
return j};fs.flh=function(S){var G=S*.85;return Math.exp(-(G*G)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
fs.prototype.to=function(){return this.rect.clone()};fs.prototype.sX=function(){return this.tv.tY(this.rect)};
fs.prototype.sK=function(){return this.eM.tY(this.rect)};fs.prototype.sZ=function(){return this.hC};
fs.QE=function(S,G,j,z,O,i){var C=E._("canvas",""),M=C.getContext("2d");C.width=i!=null?i:z;C.height=O;
M.fillStyle="#ffffff";M.fillStyle="#000000";M.font=Math.floor(10*E.V())+"px sans-serif";var D=""+S.Brsh.v.Dmtr.v.val,X=M.measureText(D);
M.fillText(D,(z-X.width)/2,O-2);var l=z,f=O-10*E.V(),F=Math.min(l,f),$=S.Brsh.v.Dmtr.v.val,_=S.Brsh.v.classID;
if(_=="computedBrush"){M.translate(l/2,f/2);M.rotate(-S.Brsh.v.Angl.v.val*Math.PI/180);M.scale(1,.1+.9*S.Brsh.v.Rndn.v.val/100);
var P=Math.min(.95*F/2,D/2)+.5,k=.9*S.Brsh.v.Hrdn.v.val/100,H=M.createRadialGradient(0,0,0,0,0,P);H.addColorStop(k,"rgba(0,0,0,1)");
H.addColorStop((.5+k)/1.5,"rgba(0,0,0,.5)");H.addColorStop(1,"rgba(0,0,0,0)");M.fillStyle=H;M.fillRect(-P,-P,2*P,2*P)}else if(_=="sampledBrush"){var q;
for(var R=0;R<G.length;R++)if(G[R].id==S.Brsh.v.sampledData.v)q=G[R];var I=E._("canvas",""),b=I.getContext("2d");
I.width=q.L.o;I.height=q.L.i;var Y=b.getImageData(0,0,I.width,I.height),m=new x.XL(I.width*I.height);
m.A=q.channel;x.FP(m,Y.data);b.putImageData(Y,0,0);F=Math.min(F,S.Brsh.v.Dmtr.v.val);var h=Math.max(I.width,I.height),e=.85*I.width*F/h,s=.85*I.height*F/h;
M.drawImage(I,(l-e)/2,(f-s)/2,e,s)}else{}return C.toDataURL()};fs.sM=function(S,G,j,z){if(j==0)j=1;var O=S.Brsh.v,i=O.Dmtr.v.val,C=O.Dmtr.v.val=Math.min(z!=null?Math.round(z*2.6):3e3,i*j),M=O.Hrdn?O.Hrdn.v.val/100:1,D=z!=null?z:Math.round(C*(1+.55*(1-M)))+4,f;
D=Math.max(15,Math.min(D,3e3));var X=new Q(0,0,D,D),l=new fs(S,G,null,{Ar:1},16711680,0,X);O.Dmtr.v.val=i;
l.moveTo(X.o/2,X.i/2);var F=l.sZ(),$=l.to();if(X.Xs($))f=F;else{f=x.S(X.h()*4);x.yF(F,$,f,X)}return[f,X,C]};
fs.sY=function(S,G,j){var z=fs.sM(S,G,j),O=z[0],i=z[1],C=z[2],M=i.h(),D=x.S(M);x.tb(O,D,3);var X=x.S(M);
x.f.ffO(D,X,i);if(C<3||x.cH(X,0)){var l=i.o,f=l>>>1,F=X,$=255;for(var _=0;_<4;_++){F[l*(f-6+_)+f]=$;
F[l*f+f-6+_]=$;F[l*f+f+6-_]=$;F[l*(f+6-_)+f]=$}}var P=[1,2,1,2,8,2,1,2,1];P=x.cI.jE(P);x.cI.fQ$(X,D,i.o,i.i,P);
x.GC(O,4294967295);x.Cy(D,O,3);for(var _=0;_<M;_++)if(X[_]==255){O[_<<2]=O[(_<<2)+1]=O[(_<<2)+2]=0;O[(_<<2)+3]=255}return{Hc:O,L:i,Bm:new A(i.o/2,i.i/2)}};
fs.AY="0";fs.ep="1";fs.eW="2";fs.DK="3";var Cw={};Cw.Dm=function(S,G){var j=S.sP(),D;if(j.x==Infinity||j.tR())return{hC:x.S(0),L:new Q,Aw:new Q};
var z=S.sP(),O=Cw.Du(S,G),i=x.Y.sO(O.v);if(i.tR())return{hC:x.S(0),L:new Q,Aw:new Q};var C=E._("canvas","");
C.width=i.o;C.height=i.i;var M=C.getContext("2d");M.translate(-i.x,-i.y);Cw.fyT(O,M);if(S.Ed.length!=0){var X=M.getImageData(0,0,i.o,i.i);
D=new Uint8Array(X.data.buffer)}else D=x.S(i.h()*4);return{hC:D,L:i,Aw:z}};Cw.Du=function(S,G){var j={w:[],v:[]};
Cw.fyc(S,j);if(!x.yw.Bc(G.nX)){var z=x.Y.wR(j.v);j=x.Y.qo(j);j=x.Y.qw(j,Math.min(z.o,z.i)/8);var O=o_.to(G,S),i=x.yw.Ys(G.nX,O);
x.GW.apply(i,j.v,O)}var C=G.GY;x.Y.GY(j.v,C,j.v);return j};Cw.fyT=function(S,G){Typr.U.pathToContext({crds:S.v,cmds:S.w},G)};
Cw.fWF=!1;Cw.fi=function(S,G){if(fv.fgo==null){if(!Cw.fWF){fv.ffq();Cw.fWF=!0}return!1}var j=S.Nv,z=j.ResourceDict.FontSet,O=j.ResourceDict.StyleSheetSet[0].StyleSheetData,i=j.EngineDict.StyleRun.RunLengthArray,C=j.EngineDict.StyleRun.RunArray,M=o_.Kj(j),D={},X=0;
for(var l=0;l<C.length;l++){var f=C[l].StyleSheet.StyleSheetData.Font;if(f==null)f=O.Font;for(var F=0;
F<i[l];F++){var $=M.charCodeAt(X+F),_=f+","+($>128?$:-1);if(D[_]==null){D[_]=1;if(G.dP(z[f].Name,$)==null)return!1}}X+=i[l]}return!0};
Cw.fyc=function(S,G){var j=new Ym;for(var z=0;z<S.HJ.length;z++)Cw.fgI(S.Ed,S.HJ[z],G,j)};Cw.fgI=function(S,G,j,z){z.translate(G.MY.x,G.MY.y);
for(var O=0;O<G.KW.length;O++){var i={},C=G.KW[O];if(!C.eQ)break;z.translate(C.MY.x,C.MY.y);for(var M=C.start;
M<C.end;M++)Cw.fg_(S,G.kj[M],G,i,j,z);z.translate(-C.MY.x,-C.MY.y)}z.translate(-G.MY.x,-G.MY.y)};Cw.fgq="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
Cw.fg_=function(S,G,j,z,O,i){i.translate(G.MY.x,G.MY.y);for(var C=G.eT;C<=G.KM;C++){var M=j.Pw[C],D=M.L.o,X=S[j.fXo+M.lI];
if(X.UD=="\n")continue;var l=X.EG.FontSize/X.Rt.head.unitsPerEm,f=o_.cx(X.EG),F=(Math.round(f.H)<<16)+(Math.round(f.X)<<8)+Math.round(f.C);
O.w.push("#"+x.zt(F));var $=i.clone();$.translate(M.MY.x+M.Ix*l,M.MY.y-M.I$*l);if(M.path.w.length!=0&&X.UD!="\t"){var _=new Ym(l,0,0,-l,0,0);
if(X.it==1&&Cw.fgq.indexOf(X.UD)!=-1)_.concat(new Ym(-1,0,0,1,D,0));if(X.EG.FauxItalic)_.concat(new Ym(1,0,-Math.tan(.18),1,0,0));
_.scale(X.scale.x,X.scale.y);_.concat($);if(X.EG.FauxBold){var P=X.EG.FontSize/2048*27*X.scale.x;_.cg+=P;
x.Y.concat(O,M.path,_);_.cg-=P+P;x.Y.concat(O,M.path,_)}else x.Y.concat(O,M.path,_)}if(X.UD!="\n"){if(X.EG.Underline){if(z.Hs==null)z.Hs=X.Rt.post.underlineThickness*l;
if(z.fXS==null)z.fXS=X.Rt.post.underlinePosition*l;var k=0,H=-z.fXS+z.Hs/2,q=1.05*D/X.scale.x,R=z.Hs;
x.Y.concat(O,{w:["M","L","L","L","Z"],v:[k,H,k+q,H,k+q,H+R,k,H+R]},$)}if(X.EG.Strikethrough){var I=X.Rt["OS/2"].yStrikeoutSize*l,b=X.Rt["OS/2"].yStrikeoutPosition*l,k=0,H=-b-I/2,q=1.05*D/X.scale.x,R=I;
x.Y.concat(O,{w:["M","L","L","L","Z"],v:[k,H,k+q,H,k+q,H+R,k,H+R]},$)}}O.w.push("X")}i.translate(-G.MY.x,-G.MY.y)};
function fv(S,G){var j,z=o_.sI(S),C;if(z)j=new Q(z[0],z[1],z[2],z[3]);this.flZ=0;this.fgs=!1;this.HJ=[];
this.L=new Q;this.Ed=[];var O=o_.Kj(S),i=-1;for(var M=0;M<O.length;M++){var D=C,X=o_.fYG(S,M),H=0;if(X!=i){i=X;
D=C=o_.ffU(S,M)}var l={UD:O.charAt(M),EG:D,Rt:null,eu:-1,ew:0,scale:new A(0,0),q_:0,lineHeight:0,it:0},f=S.ResourceDict.FontSet[D.Font].Name,F=l.Rt=G.dP(f,O.charCodeAt(M));
l.scale.x=D.HorizontalScale==null?1:D.HorizontalScale;l.scale.y=D.VerticalScale==null?1:D.VerticalScale;
var $=F["OS/2"],_=F.hhea;if(D.FontCaps==1&&l.UD!=l.UD.toUpperCase()){var P=$.sxHeight?$.sxHeight/$.sTypoAscender:.76;
l.scale.x*=P;l.scale.y*=P}var k=1/F.head.unitsPerEm*D.FontSize;if(D.FontBaseline==1){var P=S.ResourceDict.SuperscriptSize;
l.scale.x*=P;l.scale.y*=P;l.ew-=S.ResourceDict.SuperscriptPosition*D.FontSize}if(D.FontBaseline==2){var P=S.ResourceDict.SubscriptSize;
l.scale.x*=P;l.scale.y*=P;l.ew+=S.ResourceDict.SubscriptPosition*D.FontSize}if(D.BaselineShift)l.ew-=D.BaselineShift;
if(H==0&&$&&$.sxHeight&&f.toLowerCase().indexOf("capitals")!=-1)H=$.sxHeight;if(H==0&&$&&$.sCapHeight)H=$.sCapHeight;
if(H==0&&$&&$.sTypoAscender)H=$.sTypoAscender;if(H==0)H=_.ascender;l.q_=H*k;l.lineHeight=D.FontSize*1.2;
if(D.AutoLeading==!1)l.lineHeight=D.Leading;this.Ed.push(l)}for(var M=0;M<S.EngineDict.ParagraphRun.RunLengthArray.length;
M++){var q=new fv.sv(S,G,this.Ed,M,j);this.HJ.push(q)}var R=j==null?0:this.HJ[0].KW[0].q_;for(var M=0;
M<this.HJ.length;M++){var I=this.HJ[M].KW,D=this.HJ[M].EG;if(M>0)R+=I[0].lineHeight;this.HJ[M].MY.y=R;
this.flZ+=I.length;if(j)for(var b=0;b<I.length;b++){I[b].eQ=I[b].MY.y+R<j.y+j.i;if(!I[b].eQ)this.fgs=!0}var Y=this.HJ[M].L.clone();
Y.An(this.HJ[M].MY);this.L=this.L.wB(Y);for(var b=1;b<I.length;b++)R+=I[b].lineHeight;var m=D.SpaceAfter;
if(m!=null)R+=m;if(M<this.HJ.length-1){var h=this.HJ[M+1].EG.SpaceBefore;if(h!=null)R+=h}}}fv.prototype.fgL=function(S){return this.Ed[S]};
fv.prototype.fgF=function(S){for(var G=0;G<this.HJ.length;G++){var j=this.HJ[G];for(var z=0;z<j.KW.length;
z++){var O=j.KW[z],i=j.kj[O.start].start,C=j.kj[O.end-1].end;if(i<S&&S<C)return[i,C-1]}}return[0,1]};
fv.prototype.fMf=function(S,G){var j=-1;for(var z=0;z<this.HJ.length;z++){var O=this.HJ[z];for(var i=0;
i<O.KW.length;i++){j++;var C=O.KW[i],M=O.KW[i+1];if(M==null&&z<this.HJ.length-1)M=this.HJ[z+1].KW[0];
if(G!=null){if(j!=G)continue}else{if(M!=null&&O.MY.y+C.MY.y<S.y)continue}for(var D=C.start;D<C.end;D++){var X=O.kj[D];
for(var l=X.eT;l<=X.KM;l++){var f=O.Pw[l],F=f.L.o,$=O.MY.x+C.MY.x+X.MY.x,_=$+f.MY.x,P=$+(l<X.KM?O.Pw[l+1].MY.x:f.MY.x+F);
if(S.x<=P||D+1==C.end&&l==X.KM){var k=O.fXo+f.lI,H=this.Ed[k],q=H.it&1;if(H.UD!="\n"&&(q==0&&S.x>_+F/2||q==1&&S.x<_+F/2))k++;
return k}}}}}};fv.prototype.Dw=function(S){var G={L:new Q,Um:0},j=0;for(var z=0;z<this.HJ.length;z++){var O=this.HJ[z];
for(var i=0;i<O.KW.length;i++){var C=O.KW[i];G.Um=j;j++;for(var M=C.start;M<C.end;M++){var D=O.kj[M];
for(var X=D.start;X<D.end;X++){if(X==S){var l=this.Ed[X],f=l.eu,F=O.Pw[f].lI,$=1;while(O.Pw[f]!=null&&O.Pw[f].lI==F){var _=O.Pw[f],P=O.MY.x+C.MY.x+D.MY.x+_.MY.x,k=O.MY.y+C.MY.y+D.MY.y+_.MY.y;
G.L=G.L.wB(new Q(P,k-l.lineHeight,_.L.o,l.lineHeight));f+=$}return G}}}}}};fv.prototype.sP=function(){var S=Infinity,G=Infinity,j=-Infinity,z=-Infinity;
for(var O=0;O<this.HJ.length;O++){var i=this.HJ[O];for(var C=0;C<i.KW.length;C++){var M=i.KW[C];if(!M.eQ)break;
for(var D=M.start;D<M.end;D++){var X=i.kj[D];for(var l=X.eT;l<=X.KM;l++){var f=i.Pw[l],F=f.L,$=i.MY.x+M.MY.x+X.MY.x+f.MY.x,_=i.MY.y+M.MY.y+X.MY.y+f.MY.y;
S=Math.min(S,$+F.x);G=Math.min(G,_+F.y);j=Math.max(j,$+F.x+F.o);z=Math.max(z,_+F.y+F.i)}}}}return new Q(S,G,j-S,z-G)};
fv.fgG=function(S,G,j,z,O,i,C){var M=[i],D=0;for(var X=i;X<C;X++){if(j[X]==null)console.log(X,i,C,j);
var l=j[X].UD,f=l.charCodeAt(0);if(f==32||f==9){M.push(D,X,1,X+1);D=0}else if(f==3851){M.push(D+1,X+1);
D=0}else if(19968<=f&&f<=40959||12288<=f&&f<=12543){M.push(D,X);D=1}else if(X!=i&&j[X].it!=j[X-1].it){M.push(D,X);
D=1}else D++}M.push(D);var F=[];for(var X=0;X<M.length;X+=2){var $=M[X],_=M[X+1];if(_==0)continue;F.push(new fv.ffH(S,G,j,z,O,$,_))}return F};
fv.ffg=function(S,G,j,z){var O=[[],[]],i=0,C=0;while(i<S.length){var M=0,D=i,X=G?G.o-j.StartIndent-j.EndIndent-(i==0?j.FirstLineIndent:0):Infinity;
while(!0){if(i==S.length)break;var l=S[i],f=M==0;if(z)f=f||z.indexOf(C)==-1;else f=f||(l.Pc||l.cs)||M+l.L.o<X;
if(f){M+=l.L.o;i++;C+=l.end-l.start}else break}O[0].push(i-D);O[1].push(X)}return O};fv.fff=function(S,G){var j=S.length,z=new Uint32Array(j),O=new Uint8Array(j),i=0;
for(var C=0;C<j;C++){O[C]=0;var M=S.charCodeAt(C);z[C]=M;if(M>i)i=M}if(i>1424){O=fv.fns(z,G)}return O};
fv.sv=function(S,G,j,z,O){this.kj=[];this.KW=[];this.L=new Q;this.MY=new A(0,0);this.Pw=null;this.kj=null;
this.EG=o_.fXa(S,z);var i=this.EG,C=S.EngineDict.ParagraphRun.RunLengthArray,M=C[z],D=0,F="",H=0,q=1,o=0;
for(var X=0;X<z;X++)D+=C[X];var l=i._Direction?i._Direction:0;this.fXo=D;var f=o_.Kj(S).slice(D,D+M);
for(var $=0;$<f.length;$++){var _=f.charAt($);F+=j[D+$].EG.FontCaps==0?_:_.toUpperCase()}f=F;var P=fv.fff(f,l),k=[],R=P[X]&1,I=j[D].Rt;
j[D].it=P[0];for(var X=1;X<f.length;X++){var _=j[D+X],b=P[X];_.it=b;if(b!=R||_.Rt!=I){k.push(H,q);H=X;
q=1;R=b;I=_.Rt}else q++}k.push(H,q);var Y=this.Pw=[];for(var X=0;X<k.length;X+=2){var m=k[X],h=k[X+1],e=(j[D+m].it&1)==0,s=f.slice(m,m+h),y=fv.fgo(j[D+m].Rt,s,e),T=[],a=0;
for(var $=0;$<y.length;$++){var K=y[$];T.push({X:K.g,lI:K.cl,B_:K.ax,cd:K.ay,Ix:K.dx,I$:K.dy})}y=T;var B=y.slice(0);
if(!e)B.reverse();for(var $=0;$<s.length;$++){while(a+1<B.length&&B[a+1].lI<=$){a++}while(a>0&&B[a-1].lI==$)a--;
j[D+m+$].eu=Y.length+(e?a:B.length-a-1)}for(var $=0;$<y.length;$++){Y.push(y[$]);y[$].lI+=m;var _=j[D+y[$].lI];
if(_.UD=="\n")y[$].B_=0;if(_.UD=="\t")y[$].B_=_.Rt.head.unitsPerEm*2}}this.kj=fv.fgG(S,G,j,D,Y,D,D+M);
var u=fv.ffg(this.kj,O,i),r=u[0],v=u[1];for(var V=0;V<r.length;V++){var J={start:o,end:0,L:new Q,MY:new A(0,0),q_:0,lineHeight:0,eQ:!0},oE=0,ox=0;
this.KW.push(J);o+=r[V];J.end=o;var d=J.end==this.kj.length,oU=v[V];function p(B,m,or){var Yf=or-m>>>1;
for(var X=0;X<Yf;X++){var oL=B[m+X];B[m+X]=B[or-1-X];B[or-1-X]=oL}}for(var N=1;N<5;N++){var ob=-1;for(var X=J.start;
X<J.end;X++){var b=j[this.kj[X].start].it;if(ob==-1&&b>=N)ob=X;else if(ob!=-1&&b<N){p(this.kj,ob,X);
ob=-1}}var oe=J.end;if(l==0&&this.kj[oe-1].Pc)oe--;if(ob!=-1)p(this.kj,ob,oe)}var oF=o_.f_(i);if(O&&oF>2&&(oF==6||!d))this.ffM(J,this.kj,j,oU,l);
else{var oN=0;for(var X=J.start;X<J.end;X++){this.kj[X].MY.x=oN;oN+=this.kj[X].L.o}}for(var X=J.start;
X<J.end;X++){var YM=this.kj[X].L.clone();YM.An(this.kj[X].MY);J.L=J.L.wB(YM);J.q_=Math.max(J.q_,this.kj[X].q_);
J.lineHeight=Math.max(J.lineHeight,this.kj[X].lineHeight)}if(O){var c=this.lineWidth(J,this.kj,l);if(oF==1||d&&oF==4)oE=c[1]+(oU-c[0]);
if(oF==2||d&&oF==5)oE=c[1]+(oU-c[0])/2;if(this.KW.length==1)oE+=i.FirstLineIndent;oE+=i.StartIndent}else{if(oF==0)oE=i.StartIndent+i.FirstLineIndent;
if(oF==1)oE=-J.L.o-i.EndIndent;if(oF==2)oE=-J.L.o/2}if(this.KW.length==1)ox=0;else ox=this.KW[this.KW.length-2].MY.y+J.lineHeight;
J.MY.x=oE;J.MY.y=ox}for(var X=0;X<this.KW.length;X++){var oG=this.KW[X].L.clone();oG.An(this.KW[X].MY);
this.L=this.L.wB(oG)}};fv.sv.prototype.lineWidth=function(S,G,j){var z=0,O=0;for(var i=S.start;i<S.end;
i++)z+=G[i].L.o;if(j==0)for(var i=S.end-1;i>=S.start;i--)if(G[i].Pc||G[i].cs)z-=G[i].L.o;else break;
if(j==1)for(var i=S.start;i<S.end;i++)if(G[i].Pc||G[i].cs){var C=G[i].L.o;z-=C;O-=C}else break;return[z,O]};
fv.sv.prototype.ffM=function(S,G,j,z,O){var i=0,C=0,M=0,D=0;for(var X=S.start;X<S.end;X++)if(G[X].Pc)M++;
else{i+=G[X].L.o;C++}if(O==0)for(var X=S.end-1;X>=S.start;X--)if(G[X].Pc||G[X].cs){if(G[X].Pc){M--}}else break;
if(O==1)for(var X=S.start;X<S.end;X++)if(G[X].Pc||G[X].cs){if(G[X].Pc){M--;D++}}else break;if(C<=1||M==0)return;
var l=(z-i)/M,f=-D*l;for(var X=S.start;X<S.end;X++){if(G[X].Pc)this.Pw[G[X].eT].L.o=G[X].L.o=l;G[X].MY.x=f;
f+=G[X].L.o}};fv.ffH=function(S,G,j,z,O,i,C){this.YW="";for(var M=0;M<C;M++)this.YW+=j[i+M].UD;this.Pc=C==1&&(j[i].UD==" "||j[i].UD=="\t");
this.cs=C==1&&j[i].UD=="\n";this.start=i;this.end=i+C;this.L=new Q;this.MY=new A(0,0);this.q_=0;this.lineHeight=0;
var D=0,X=0;if(C==0){this.lineHeight=j[i].lineHeight;this.q_=j[i].q_;this.L=new Q(0,-j[i].lineHeight,0,j[i].lineHeight)}var l=j[i].eu,f=j[i+C-1].eu;
if(f<l){var F=l;l=f;f=F}while(f+1<O.length&&O[f].lI==O[f+1].lI){f++}this.eT=l;this.KM=f;for(var $=l;
$<=f;$++){var _=O[$],P=j[z+_.lI],k=1/P.Rt.head.unitsPerEm*P.EG.FontSize,I=0;if(!P.EG.AutoKerning)D+=P.EG.Kerning*2*k*P.scale.x;
var H=_.B_*k*P.scale.x;_.MY=new A(D,P.ew);_.L=new Q(0,-P.lineHeight,H,P.lineHeight);var q=Typr.U.glyphToPath(P.Rt,_.X);
_.path={w:q.cmds,v:q.crds};var R=_.L.clone();R.An(_.MY);if(P.EG.Tracking!=null)I=P.EG.Tracking*.001*P.EG.FontSize;
if(P.EG.FauxBold==!0)I+=.027*P.EG.FontSize;D+=H+I;if(C==1&&(P.UD==" "||P.UD=="\t"))R.o+=2*I;this.L=this.L.wB(R);
this.q_=Math.max(this.q_,P.q_);this.lineHeight=Math.max(this.lineHeight,P.lineHeight)}};fv.ffq=function(){fetch("code/external/hb.wasm").then(function(S){return S.arrayBuffer()}).then(function(S){return WebAssembly.instantiate(S)}).then(function(S){S.instance.exports.memory.grow(400);
fv.fnm=hbjs(S.instance);fv.fgo=function(){var G=function(j){var z=0;if((j&4294967295-(1<<7)+1)==0){z=1}else if((j&4294967295-(1<<11)+1)==0){z=2}else if((j&4294967295-(1<<16)+1)==0){z=3}else if((j&4294967295-(1<<21)+1)==0){z=4}return z};
return function(j,z,O){var i=fv.fnm,C=j._data,M=YH.XA(j),D=fv.fnw,k=0,H=0;if(fv.fnc!=M){if(D!=null){D[0].free();
D[1].free();D[2].free()}var X=i.createBlob(C),l=i.createFace(X,0),f=i.createFont(l);fv.fnw=D=[X,l,f];
fv.fnc=M}var f=D[2],F=i.createBuffer(),$=W.flp(z);F.addText($);F.setDirection(O?"ltr":"rtl");F.guessSegmentProperties();
F.shape(f);var _=F.json(f);F.free();var P=_.slice(0);if(!O)P.reverse();for(var q=1;q<P.length;q++){var R=P[q],I=R.cl;
while(H+G(z.charCodeAt(k))<=I){H+=G(z.charCodeAt(k));k++}R.cl=k}return _}}();fetch("code/external/fribidi.wasm").then(function(G){return G.arrayBuffer()}).then(function(G){return WebAssembly.instantiate(G)}).then(function(S){var G=S.instance.exports,j=G.memory,i=16,C=256,M=1;
j.grow(400);var z=new Uint8Array(j.buffer),O=new Uint32Array(j.buffer),D=i|C,X=i|C|M;fv.fns=function(f,F){var $=f.length,_=G.calloc($*4+4+$*4+$*4+$,1),P=_+$*4,k=P+4,H=k+$*4,q=H+$*4;
O.set(f,_>>>2);O[P>>>2]=F==0?D:X;G.fribidi_get_bidi_types(_,$,k);G.fribidi_get_bracket_types(_,$,k,H);
G.fribidi_get_par_embedding_levels_ex(k,H,$,P,q);var R=z.slice(q,q+$);G.free(_);return R};var l=new L(E.E.e,!0);
l.data={r:E.a.zv,QD:"add",zC:o$.lQ,hr:null};YH.FO.D(l)})})};function o_(){}o_.lf=function(S){return JSON.parse(JSON.stringify(S))};
o_.fx=function(S,G){for(var j in G)S[j]=G[j]};o_.lR=function(S,G,j){var z=o_.fMT();if(j)o_.QN(z,0,0,j);
var O={GY:new Ym(1,0,0,1,Math.round(S),Math.round(G)),Nv:z};O.Hd=o_.ffZ();O.nX=x.yw.S();O.Aw=new Q;return O};
o_.fXh=function(S){var G=["CharacterDirection",0];for(var j=0;j<G.length;j+=2){if(S[G[j]]!=null&&S[G[j]]!=G[j+1]){throw"e";
console.log(G[j],S[G[j]])}}if(S instanceof Array)for(var j=0;j<S.length;j++)o_.fXh(S[j]);else if(S instanceof Object)for(var z in S)o_.fXh(S[z])};
o_.f_=function(S,G){if(G==null)G=S.Justification;var j=S._Direction?S._Direction:0;if(j==1){if(G==0||G==3)G++;
else if(G==1||G==4)G--}return G};o_.cx=function(S){var G={H:0,X:0,C:0};if(S.FillColor){var j=S.FillColor,z=j.Values;
if(j.Type==1)G={H:z[1]*255,X:z[2]*255,C:z[3]*255};else if(j.Type==2){var O={classID:"CMYC",Cyn:{t:"doub",v:z[1]*100},Mgnt:{t:"doub",v:z[2]*100},Ylw:{t:"doub",v:z[3]*100},Blck:{t:"doub",v:z[4]*100}};
G=x.T.cx(O)}else console.log("Unknown color type")}return G};o_.ffh=function(S){for(var G=0;G<S.length;
G++){var j=S[G].StyleSheet.StyleSheetData,z=j.FillColor;if(z&&z.Type==2){var O=o_.cx(j);z.Type=1;z.Values=[1,O.H/255,O.X/255,O.C/255]}}};
o_.to=function(S,G){var j;if(o_.QK(S.Nv)==1){var z=o_.sI(S.Nv);j=new Q(0,0,z[2]-z[0],z[3]-z[1])}else j=G.sP();
return j};o_.FS=function(S){var G=S[0];for(var j=0;j<S.length;j++)G=o_.ffE(G,S[j]);return G};o_.ffE=function(S,G){var j={};
for(var z in S)if(JSON.stringify(S[z])==JSON.stringify(G[z]))j[z]=S[z];return j};o_.cf=function(S,G){var j=S.GQ,z=-1;
for(var O=0;O<j.length;O++)if(j[O].Name==G)z=O;if(z==-1){z=j.length;j.push({FontType:1,Name:G,Script:0,Synthetic:0})}S.Ed.Font=z};
o_.Kj=function(S){return S.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};o_.sa=function(S,G){S.EngineDict.Editor.Text=G.replace(/\n/g,"\r")};
o_.QK=function(S){return S.EngineDict.Rendered.Shapes.Children[0].ShapeType};o_.cn=function(S,G){var j=S.EngineDict.Rendered.Shapes.Children[0];
j.ShapeType=G;var z=j.Cookie.Photoshop;z.ShapeType=G;z.Base.ShapeType=G;if(G==0){delete z.BoxBounds;
z.PointBase=[0,0]}if(G==1){delete z.PointBase;z.BoxBounds=[0,0,1,1]}};o_.sI=function(S){return S.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
o_.xg=function(S,G){S.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=G};o_.ffU=function(S,G){return o_.ff$(S,o_.fYG(S,G))};
o_.fYG=function(S,G){var j=S.EngineDict.StyleRun.RunLengthArray;return o_.Zv(j,G).Kc};o_.ff$=function(S,G){var j=S.ResourceDict.StyleSheetSet[0].StyleSheetData,z={};
for(var O in j)z[O]=j[O];var i=S.EngineDict.StyleRun.RunArray[G].StyleSheet.StyleSheetData;o_.fx(z,i);
return z};o_.fXa=function(S,G){var j=S.ResourceDict.ParagraphSheetSet[0].Properties,z={};for(var O in j)z[O]=j[O];
var i=S.EngineDict.ParagraphRun.RunArray[G].ParagraphSheet.Properties;o_.fx(z,i);var C=["StartIndent","EndIndent","FirstLineIndent"];
for(var M=0;M<3;M++)if(z[C[M]]==null)z[C[M]]=0;return z};o_.bs=function(S,G,j){if(j=="")return;var z=o_.Kj(S);
o_.sa(S,z.substring(0,G)+j+z.substring(G,z.length));var O=S.EngineDict.StyleRun,i=O.RunLengthArray,C=o_.Zv(i,G-1);
i[C.Kc]+=j.length;var M=S.EngineDict.ParagraphRun,i=M.RunLengthArray,D=o_.Zv(i,G),X=j.split("\n");if(X.length==1){i[D.Kc]+=j.length;
return}i.splice(D.Kc+1,0,i[D.Kc]-(G-D.A_));M.RunArray.splice(D.Kc+1,0,o_.lf(M.RunArray[D.Kc]));i[D.Kc]-=i[D.Kc+1];
i[D.Kc]+=X[0].length+1;for(var l=1;l<X.length-1;l++){M.RunArray.splice(D.Kc+l,0,o_.lf(M.RunArray[D.Kc+l-1]));
M.RunLengthArray.splice(D.Kc+l,0,X[l].length+1)}i[D.Kc+X.length-1]+=X[X.length-1].length};o_.sp=function(S,G,j){var z=o_.Kj(S);
o_.sa(S,z.substring(0,G)+z.substring(j,z.length));o_.fdd(S.EngineDict.ParagraphRun,G,j,!0);o_.fdd(S.EngineDict.StyleRun,G,j,!1)};
o_.fdd=function(S,G,j,z){var O=S.RunLengthArray,i=o_.Zv(O,G),C=o_.Zv(O,j),M=[];for(var D=0;D<O.length;
D++)for(var X=0;X<O[D];X++)M.push(D);M.splice(G,j-G);var l=[];for(var D=0;D<O.length;D++)l.push(0);for(var D=0;
D<M.length;D++)l[M[D]]++;for(var D=0;D<O.length;D++){if(l[D]==0){l.splice(D,1);O.splice(D,1);S.RunArray.splice(D,1);
D--}else if(l[D]<O[D])O[D]=l[D]}if(z&&i.Kc!=C.Kc&&i.A_!=G){O[i.Kc]+=O[i.Kc+1];O.splice(i.Kc+1,1);S.RunArray.splice(i.Kc+1,1)}};
o_.QN=function(S,G,j,z){var O=S.EngineDict.Editor.Text.length;if(j==O-2)j++;if(z.Ed.Font!=null)S.ResourceDict.FontSet=z.GQ.slice(0);
if(G<=j)o_.fPp(S.EngineDict.StyleRun,z.Ed,G,j,!0);o_.fPp(S.EngineDict.ParagraphRun,z.HJ,G,j,!1)};o_.fPp=function(S,G,j,z,O){var i=S.RunLengthArray;
if(O){var C=o_.Zv(i,j);if(C.A_!=j){var M=i[C.Kc];i.splice(C.Kc,0,j-C.A_);i[C.Kc+1]=M-i[C.Kc];S.RunArray.splice(C.Kc+1,0,o_.lf(S.RunArray[C.Kc]))}var D=o_.Zv(i,z);
if(D.A_+i[D.Kc]-1!=z){var M=i[D.Kc];i.splice(D.Kc,0,z-D.A_+1);i[D.Kc+1]=M-i[D.Kc];S.RunArray.splice(D.Kc+1,0,o_.lf(S.RunArray[D.Kc]))}}var C=o_.Zv(i,j),D=o_.Zv(i,z);
if(O)for(var X=C.Kc;X<=D.Kc;X++)o_.fx(S.RunArray[X].StyleSheet.StyleSheetData,G);else for(var X=C.Kc;
X<=D.Kc;X++)o_.fx(S.RunArray[X].ParagraphSheet.Properties,G)};o_.fXJ=function(S,G,j){var z=S.EngineDict.StyleRun.RunLengthArray,O=[],i=0;
for(var C=0;C<z.length;C++){var M=z[C];for(var D=0;D<M;D++)if(G<=i+D&&i+D<j)O.push(C);i+=M}var X=O[0],l=[];
for(var C=0;C<O.length;C++){var f=O[C]-X;if(f==l.length)l.push(0);l[f]++}return l};o_.fXl=function(S){var G=S.EngineDict.StyleRun,j=G.RunArray,z=G.RunLengthArray;
for(var O=0;O<z.length-1;O++){var i=j[O].StyleSheet.StyleSheetData,C=j[O+1].StyleSheet.StyleSheetData;
if(JSON.stringify(i)==JSON.stringify(C)){j.splice(O+1,1);z[O]+=z[O+1];z.splice(O+1,1);O--}}};o_.KT=function(S,G,j){var z={GQ:S.ResourceDict.FontSet.slice(0),Ed:[],HJ:[]},O=S.EngineDict.StyleRun.RunLengthArray,i=o_.Zv(O,G).Kc,C=o_.Zv(O,j).Kc;
for(var M=i;M<=C;M++){var D=o_.lf(S.ResourceDict.StyleSheetSet[0].StyleSheetData),X=S.EngineDict.StyleRun.RunArray[M].StyleSheet.StyleSheetData;
o_.fx(D,X);z.Ed.push(D)}var l=S.EngineDict.ParagraphRun.RunLengthArray,f=o_.Zv(l,G).Kc,F=o_.Zv(l,j).Kc;
for(var M=f;M<=F;M++){z.HJ.push(o_.lf(S.EngineDict.ParagraphRun.RunArray[M].ParagraphSheet.Properties))}z.Ed=o_.FS(z.Ed);
z.HJ=o_.FS(z.HJ);return z};o_.sT=function(S,G){var j,z;j=["FontSize","Leading","BaselineShift"];z=S.Ed;
for(var O=0;O<j.length;O++)if(z[j[O]]!=null)z[j[O]]*=G;j=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
z=S.HJ;for(var O=0;O<j.length;O++)if(z[j[O]]!=null)z[j[O]]*=G};o_.fXE=function(){return o_.KT(o_.fmx,0,0)};
o_.ffZ=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
o_.Zv=function(S,G){var j=0,z=0;while(j+S[z]<=G){j+=S[z];z++}return{Kc:z,A_:j}};o_.fMT=function(){var S=o_.lf(this.fmx);
return S};o_.fYF={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
o_.fMZ={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
o_.fmx={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(o_.fYF))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(o_.fYF))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(o_.fMZ))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var Co={};Co.fMu=function(S,G,j){var z={};z._98={_0:"i7"};z._0=Co.fMR(S,G,j?j._0:null);z._1=Co.foZ(S,G,z._0,j?j._1:null);
return z};Co.fMR=function(S,G,j){var z={};z._1=Co.fMi(S,j?j._1:null);z._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
z._3=JSON.parse(JSON.stringify(Co.foJ));z._4=JSON.parse(JSON.stringify(Co.fol));z._5=Co.fME(S,z._1._0,j?j._5:null);
z._6=Co.foa(S,j?j._6:null);z._8=Co.foz(S,G,j?j._8:null);z._9=Co.foO;return z};Co.fMi=function(S,G){var j=[],z=[];
for(var O=0;O<S.length;O++){var i=S[O].ResourceDict.FontSet;for(var C=0;C<i.length;C++){var M=i[C];if(z.indexOf(M.Name)!=-1)continue;
j.push(M);z.push(M.Name)}}var D={_0:[]};for(var O=0;O<j.length;O++){var X=j[O],l={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+X.Name,_1:"i"+X.Script,_2:"i"+X.FontType}}};
if(X.Script==0)delete l._0._0._1;D._0.push(l)}return D};Co.fME=function(S,G,j){var z={_0:[],_1:[]},O={_0:JSON.parse(JSON.stringify(Co.fXF))};
Co.fuH(O._0,S[0].ResourceDict.StyleSheetSet[0],G,S[0].ResourceDict.FontSet);z._0.push(O);z._1.push({_0:"i0"});
z._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});z._1.push({_0:"i1"});return z};Co.foa=function(S,G){var j={_0:[],_1:[]},z={_0:JSON.parse(JSON.stringify(Co.sc))};
Co.sd(z._0,S[0].ResourceDict.ParagraphSheetSet[0]);j._0.push(z);j._1.push({_0:"i0"});z={_0:JSON.parse(JSON.stringify(Co.sc))};
Co.sd(z._0,S[0].ResourceDict.ParagraphSheetSet[0]);z._0._0="sBasic Paragraph";z._0._6="i0";j._0.push(z);
j._1.push({_0:"i1"});return j};Co.foz=function(S,G,j){var z={_0:[]};for(var O=0;O<S.length;O++){var i={};
z._0.push({_0:i});var C=o_.QK(S[O]);if(C==1){var M=o_.sI(S[O]),D=M[2],X=M[3];i._1={_0:Co.fwu("f",[0,0,0,0,D,0,D,0,D,0,D,0,D,X,D,X,D,X,D,X,0,X,0,X,0,X,0,X,0,0,0,0])}}i._2={};
i._2._0="i"+C;i._2._6=C==0?["f-1","f-1"]:["f-2","f-2"];i._2._11={_4:"i-"+(C==0?1:2),_7:!1}}return z};
Co.foZ=function(S,G,j,z){var O={};O._0=JSON.parse(JSON.stringify(Co.fYk));O._1=Co.fon(S,G,j,z?z._1:null);
O._2=JSON.parse(JSON.stringify(Co.fXF._6));O._3=JSON.parse(JSON.stringify(Co.sc._5));return O};Co.fon=function(S,G,j,z){var O=[],i=j._1._0;
for(var C=0;C<S.length;C++){var M=S[C],D={_0:{}};O.push(D);var X=z?z[C]:null;D._0._0="s"+M.EngineDict.Editor.Text;
D._0._0=D._0._0;var l={_0:[]};D._0._5=l;var f=M.EngineDict.ParagraphRun;for(var F=0;F<f.RunArray.length;
F++){var $={_0:{}};l._0.push($);$._0._0={_0:"s",_5:{},_6:"i1"};Co.sd($._0._0,M.EngineDict.ParagraphRun.RunArray[F].ParagraphSheet);
$._1="i"+f.RunLengthArray[F]}var _={_0:[]};D._0._6=_;var P=X?X._0._6:null;f=M.EngineDict.StyleRun;for(var F=0;
F<f.RunArray.length;F++){var k={_0:{}};_._0.push(k);var H=P?P._0:null;k._0._0={_0:"s",_5:"i1",_6:{}};
Co.fuH(k._0._0,M.EngineDict.StyleRun.RunArray[F].StyleSheet,i,M.ResourceDict.FontSet,H?k._0._0:null);
k._1="i"+f.RunLengthArray[F]}D._0._10={_0:"i4",_2:!0};D._1=Co.view.fCz(M,null,C,null)}return O};Co.fuH=function(S,G,j,z,O){S._0="s"+(G.Name?G.Name:"");
var i=S._6,C=O?O._6:null,M=G.StyleSheetData;if(M.Font==null)return;var D=z[M.Font].Name,X=-1;for(var l=0;
l<j.length;l++)if("s"+D==j[l]._0._0._0){X=l;break}i._0="i"+X;if(M.FontSize!=null)i._1="f"+M.FontSize;
if(M.FauxBold!=null)i._2=M.FauxBold;if(M.FauxItalic!=null)i._3=M.FauxItalic;if(M.AutoLeading!=null)i._4=M.AutoLeading;
if(M.Leading!=null)i._5="f"+M.Leading;if(M.HorizontalScale!=null)i._6="f"+M.HorizontalScale;if(M.VerticalScale!=null)i._7="f"+M.VerticalScale;
if(M.Tracking!=null)i._8="i"+M.Tracking;if(M.BaselineShift!=null)i._9="f"+M.BaselineShift;if(M.AutoKerning!=null)i._11="i"+(M.AutoKerning?1:0);
if(M.FontCaps!=null)i._12="i"+M.FontCaps;if(M.FontBaseline!=null)i._13="i"+M.FontBaseline;if(M.Strikethrough!=null)i._15="i"+(M.Strikethrough?1:0);
if(M.Underline!=null)i._16="i"+(M.Underline?2:0);if(M.Ligatures!=null)i._18=M.Ligatures;if(M.DLigatures!=null)i._19=M.DLigatures;
if(M.Language!=null)i._38="i"+M.Language;if(M.FillColor!=null)i._53={_99:"/SimplePaint",_0:{_0:"i1",_1:Co.fwu("f",M.FillColor.Values)}}};
Co.sd=function(S,G){S._0="s"+(G.Name?G.Name:"");var j=S._5,z=G.Properties;if(z.Justification!=null)j._0="i"+z.Justification;
if(z.FirstLineIndent!=null)j._1="f"+z.FirstLineIndent;if(z.StartIndent!=null)j._2="f"+z.StartIndent;
if(z.EndtIndent!=null)j._3="f"+z.EndtIndent;if(z.SpaceBefore!=null)j._4="f"+z.SpaceBefore;if(z.SpaceAfter!=null)j._5="f"+z.SpaceAfter;
if(z.AutoHyphenate!=null)j._9=z.AutoHyphenate;if(z._Direction!=null)j._33="i"+z._Direction};Co.fwu=function(S,G){var j=[];
for(var z=0;z<G.length;z++)j.push(S+G[z]);return j};Co.foJ={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
Co.fol={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
Co.fXF={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
Co.sc={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
Co.foO={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
Co.fYk={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var CD={};CD.fYH=function(S){return CD.sV(S,CD.mJ)};CD.fJa=function(S){return CD.sn(S,CD.mJ)};CD.sV=function(S,G){var j;
if(typeof S=="string")return S;if(S instanceof Array){j=[];for(var z=0;z<S.length;z++)j[z]=CD.sV(S[z],G)}else{j={};
var O={};for(var i in G){var C=G[i],M="_"+C[0];if(S[M]!=null){j[i]=C[1]?CD.sV(S[M],C[1]):S[M];O[M]=!0}}for(var i in S){if(O[i]==null){console.log(O);
console.log(i,S,G);throw"e"}}}return j};CD.sn=function(S,G){var j;if(S instanceof Array){j=[];for(var z=0;
z<S.length;z++)j[z]=CD.sn(S[z],G)}else{j={};var O={};for(var i in G){var C=G[i],M="_"+C[0];if(S[i]!=null){j[M]=C[1]?CD.sn(S[i],C[1]):S[i];
O[i]=!0}}for(var i in S){if(O[i]==null){console.log(O);console.log(i,S);throw"e"}}}return j};CD.b$={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
CD.kC={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,CD.b$],_StrokeColor:[54,CD.b$],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,CD.b$],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
CD.fPi={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,CD.kC],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
CD.fTZ={_Name:[0],_Features:[5,CD.fPi],_Parent:[6]};CD.fJx={_Name:[0],_Parent:[5],_Features:[6,CD.kC]};
CD.mJ={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,CD.fJx]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,CD.fTZ]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_0:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,CD.fTZ]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,CD.fJx]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,CD.kC],_OriginalNormalParagraphFeatures:[3,CD.fPi]}]};
Co.view={};Co.view.fCz=function(S,G,j,z){var O={},i=o_.QK(S);O._0=[{_0:"i"+j}];return O};function CSS(){}CSS.fCW=function(S){var G=S.add,j=G.vmsk,z=G.vstk,O=G.lmfx,i=G.TySh,C=[],M=CSS.fCd(O,G);
if(S.dr()&&j){var D=x.p.Mq(j.z);if(!D.tR()){C.push("width: "+Math.round(D.o)+"px");C.push("height: "+Math.round(D.i)+"px")}var X=x.p.fvZ(j.z);
if(X>0)C.push("border-radius: "+Math.round(X)+"px")}else if(i){var l=i.Nv;if(o_.QK(l)==1){var D=o_.sI(l);
C.push("width: "+Math.round(D[2])+"px");C.push("height: "+Math.round(D[3])+"px")}CSS.fXx(C,o_.KT(l,0,0),i.GY,!1,!1,M[0])}if(O&&O.dropShadowMulti.v.length!=0){var f=O.dropShadowMulti.v[0].v;
if(f.enab.v){var F=f.Dstn.v.val,$=f.lagl.v.val*Math.PI/180,_=F*Math.cos($),P=F*Math.sin($);C.push("box-shadow: "+(_==0?"0 ":CSS.Ce(-_)+"px ")+(P==0?"0 ":CSS.Ce(P)+"px ")+f.blur.v.val+"px "+CSS.ec(f.Clr.v,f.Opct.v.val/100)+"")}}if(i==null)CSS.fCJ(M,C);
if(z==null||!z.strokeEnabled.v)z=Yv.WR(O);if(z&&z.strokeEnabled.v){var k=z.strokeStyleContent.v,H=k.classID,q=n.GN.Ej.indexOf(z.strokeStyleLineCapType.v.strokeStyleLineCapType),R=n.GN.join.indexOf(z.strokeStyleLineJoinType.v.strokeStyleLineJoinType),I=z.strokeStyleOpacity.v.val/100,b=z.strokeStyleLineWidth.v.val,Y="";
if(H=="solidColorLayer")Y=CSS.ec(k.Clr.v,I);C.push("border: "+b+"px solid "+Y)}return C};CSS.fCd=function(S,G){var j=Yv.WZ(S,G),z=j[0],O=j[1],i,C;
if(z){i=CSS.ec(z.Clr.v,G.iOpa!=null?G.iOpa/255:1)}else if(O){C=CSS.AU(O)}return[i,C]};CSS.fCJ=function(S,G){if(S[0])G.push("background-color: "+S[0]);
if(S[1])G.push("background-image: "+S[1])};CSS.nh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.Ce=function(S){return""+parseFloat(S.toFixed(3))};CSS.iy=function(S){if(S==null)return{H:0,X:0,C:0};
if(S.slice(0,4)=="rgb("){var G=S.slice(4,S.length-1).split(",").map(parseFloat);return{H:G[0],X:G[1],C:G[2]}}if(S.charAt(0)!="#"){var j=CSS.nh;
if(j[S])S=j[S];else console.log("unknown color "+S)}S=S.slice(1);if(S.length==3)S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2];
S=parseInt(S,16);return{H:S>>16&255,X:S>>8&255,C:S&255}};CSS.ec=function(S,G){return CSS.UO(x.T.cx(S),G)};
CSS.UO=function(S,G){if(G==null)G=1;var j=Math.round(S.H),z=Math.round(S.X),O=Math.round(S.C),i=j<<16|z<<8|O;
return G==1?"#"+x.zt(i):"rgba("+j+","+z+","+O+","+G+")"};CSS.AU=function(S){var G=S.Grad.v;if(G.Clrs==null)return"";
var j=G.Clrs.v.slice(0),z=G.Trns.v.slice(0),O=S.Ofst.v,i=S.Type.v.GrdT=="Rdl"?1:0,C=(i==1?"radial":"linear")+"-gradient",M=i==0?Math.round(-S.Angl.v.val+90)+"deg":"circle at center",D=S.Rvrs.v;
if(D){j.reverse();z.reverse()}for(var X=0;X<j.length;X++){var l=j[X].v,f=X<z.length?z[X].v.Opct.v.val/100:1,F=l.Lctn.v/4096;
if(D)F=1-F;M+=", "+CSS.ec(l.Clr.v,f)+" "+Math.round(F*100)+"%"}return C+"("+M+")"};CSS.fXx=function(S,G,j,z,O,i){var C=G.Ed,M=z?1:t.Gh.HR(j),D=Math.round(C.FontSize*M);
S.push("font-size: "+D+"px");var X=C.Tracking;if(!z&&X!=null&&X!=0)S.push("letter-spacing: "+Math.round(X*D/1e3)+"px");
if(!C.AutoLeading)S.push("line-height: "+Math.round(C.Leading*M)+"px");if(C.Strikethrough)S.push("text-decoration: line-through");
var l=o_.cx(C);l=[l.H,l.X,l.C].map(Math.round);S.push((z?"fill: ":"color: ")+(i?i:"#"+x.zt(l[0]<<16|l[1]<<8|l[2])));
var f=G.GQ[C.Font].Name;if(f){var F=O,$=YH.FO.dP(f);if($!=null&&f!=YH.XA($))$=null;if(F&&$==null)F=!1;
if(F)S.push("font-family: \""+f+"\"");else{var _=null,P=null,k=f.toLowerCase();if($){_=YH.Ut($)[0];if($["OS/2"])P=$["OS/2"].usWeightClass}else{_=CSS.fSp(f);
if(k.indexOf("light")!=-1)P=300;else if(k.indexOf("medium")!=-1)P=500;else if(k.indexOf("black")!=-1||k.indexOf("extrabold")!=-1)P=800;
else if(k.indexOf("bold")!=-1)P="bold"}if(_!=null)S.push("font-family: \""+_+"\"");if(P!=null)S.push("font-weight: "+P);
if(k.indexOf("italic")!=-1||k.indexOf("oblique")!=-1)S.push("font-style: italic")}}var H=G.HJ.Justification;
if(H!=null&&H!=0)if(z)S.push("text-anchor: "+["start","end","middle"][H%3]);else S.push("text-align: "+["left","right","center"][H%3])};
CSS.fSp=function(S){S=S.split("-")[0];while(S.endsWith("MT")||S.endsWith("PS"))S=S.slice(0,S.length-2);
var G=!0;for(var j=0;j<S.length;j++){var z=S.charAt(j);if(!G&&z.toLowerCase()!=z){S=S.slice(0,j)+" "+S.slice(j);
j++;G=!0}else G=!1}return S};function Yl(){}Yl.Dd={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
Yl.sA=function(S,G){var j=Date.now(),z;try{z=acorn.parse(S)}catch(fI){console.log(fI);return}var O=JSON.parse(JSON.stringify(Yl.MX.sJ));
O.__return=!1;O.__break=!1;O.__throw=!1;O.__fs={};O.__window={};Yl.eval(z,G,O);var i=O.__fs;if(Object.keys(i).length!=0){var C=UZIP.encode(i);
fm.save(C,"output.zip")}};Yl.eval=function(S,G,j){var z=S.type;if(!1){}else if(z=="Program"||z=="BlockStatement"){var O=S.body;
for(var i=0;i<O.length;i++){var C=O[i].type;if(C=="FunctionDeclaration")j[O[i].id.name]=O[i]}for(var i=0;
i<O.length;i++){var C=O[i].type,M=Yl.eval(O[i],G,j);if(j.__return||j.__break||j.__throw)return M}}else if(z=="ReturnStatement"){j.__return=!0;
return S.argument?Yl.oJ(S.argument,G,j):null}else if(z=="BreakStatement"){j.__break=!0}else if(z=="VariableDeclaration"){var D=S.declarations;
for(var i=0;i<D.length;i++)Yl.eval(D[i],G,j)}else if(z=="VariableDeclarator"){j[S.id.name]=S.init?Yl.oJ(S.init,G,j):null}else if(z=="FunctionDeclaration"){j[S.id.name]=S}else if(z=="MemberExpression"){var X=Yl.oJ(S.object,G,j),l=S.computed?Yl.oJ(S.property,G,j):Yl.eval(S.property,G,j),M;
if(X.qk!=null)M=Yl.MX.hd(X,l,G,j);else if(X==window&&Yl.Dd[l]){}else M=X[l];return M}else if(z=="ArrayExpression"){var f=[],F=S.elements;
for(var i=0;i<F.length;i++)f.push(Yl.oJ(F[i],G,j));return f}else if(z=="ObjectExpression"){var f={},F=S.properties;
for(var i=0;i<F.length;i++){var $=F[i],_=F[i].key.name?F[i].key.name:F[i].key.value;f[_]=Yl.oJ(F[i].value,G,j)}return f}else if(z=="ExpressionStatement"){return Yl.eval(S.expression,G,j)}else if(z=="NewExpression"){var P=S.arguments,k=S.callee,H=k.type,f=null;
if(H=="Identifier")f=Yl.MX.fSV(k.name,P,G,j);else throw"e";if(f==null)throw"new "+k.name;return f}else if(z=="CallExpression"){var P=S.arguments,k=S.callee,H=k.type,q={};
for(var R in j)q[R]=j[R];var I=[];for(var i=0;i<P.length;i++)I.push(Yl.oJ(P[i],G,j));if(H=="Identifier"){var b=k.name,Y=j[b];
if(Y){if(Y.params){var m=Y.params;for(var i=0;i<m.length;i++)q[m[i].name]=I[i];return Yl.eval(Y.body,G,q)}else{return Y.apply(null,I)}}else if(Yl.MX.fSB.indexOf(b)!=-1)return Yl.MX.JN({qk:"Application"},b,I,G,j);
else if(window[b]==null)console.log("Unknown function "+b);else if(Yl.Dd[b])alert(b+"() not available");
else{var h=window[b].apply(window,I);return h}}else if(H=="MemberExpression"){var X=Yl.oJ(k.object,G,j),l=k.computed?Yl.oJ(k.property,G,j):Yl.eval(k.property,G,j);
if(X==window&&Yl.Dd[l])return;if(X.qk!=null)return Yl.MX.JN(X,l,I,G,j);else return X[l].apply(X,I)}else console.log(S)}else if(z=="AssignmentExpression"){var e=S.operator,s=S.left,y=s.type,T=Yl.oJ(s,G,j),K=Yl.oJ(S.right,G,j),M=null;
if(!1){}else if(e=="=")M=K;else if(e=="+=")M=T+K;else if(e=="-=")M=T-K;else if(e=="*=")M=T*K;else if(e=="/=")M=T/K;
else if(e=="%=")M=T%K;else if(e=="&=")M=T&K;else if(e=="|=")M=T|K;else if(e=="&&=")M=T&&K;else if(e=="||=")M=T||K;
else console.log(S);if(y=="Identifier"){var B=s.name;if(j.hasOwnProperty(B))j[B]=M;else j.__window[B]=M}else if(y=="MemberExpression"){var a=Yl.eval(s.property,G,j),u=Yl.oJ(s.object,G,j);
if(u.qk!=null)Yl.MX.fSt(u,a,M,G,j);else u[a]=M}else console.log(S)}else if(z=="Identifier")return S.name;
else if(z=="Literal")return S.value;else if(z=="UpdateExpression"){var e=S.operator,r=S.argument.name,f=Yl.oJ(S.argument,G,j);
if(!1){}else if(e=="++"){j[r]++;return S.prefix?j[r]:j[r]-1}else if(e=="--"){j[r]--;return S.prefix?j[r]:j[r]+1}else console.log(S)}else if(z=="UnaryExpression"){var e=S.operator,v=Yl.oJ(S.argument,G,j);
if(v.qk=="UnitValue"){if(e=="-")return-v.g;else return Yl.fCV(v.g,e)}else return Yl.fCV(v,e)}else if(z=="BinaryExpression"||z=="LogicalExpression"){var e=S.operator,s=Yl.oJ(S.left,G,j),v=Yl.oJ(S.right,G,j);
if(s==null||v==null)return Yl.Xg(s,v,e);else if(s.qk=="UnitValue"&&v.qk=="UnitValue")return Yl.Xg(s.g,v.g,e);
else if(s.qk=="UnitValue")return Yl.Xg(s.g,v,e);else if(v.qk=="UnitValue"){if(e=="-")return-(s-v.g);
else return Yl.Xg(s,v.g,e)}else return Yl.Xg(s,v,e)}else if(z=="IfStatement"||z=="ConditionalExpression"){var o=Yl.oJ(S.test,G,j);
if(o)return Yl.eval(S.consequent,G,j);else if(S.alternate)return Yl.eval(S.alternate,G,j)}else if(z=="ForInStatement"){Yl.eval(S.left,G,j);
var V=S.left.declarations[0].id.name,J=Yl.oJ(S.right,G,j);for(var R in J){j[V]=R;var d=Yl.eval(S.body,G,j);
if(j.__break)break;if(j.__return)return d}j.__break=!1}else if(z=="ForStatement"){Yl.eval(S.init,G,j);
while(Yl.eval(S.test,G,j)){var d=Yl.eval(S.body,G,j);if(j.__break)break;if(j.__return)return d;Yl.eval(S.update,G,j)}j.__break=!1}else if(z=="DoWhileStatement"){do{var d=Yl.eval(S.body,G,j);
if(j.__break)break;if(j.__return)return d}while(Yl.eval(S.test,G,j));j.__break=!1}else if(z=="TryStatement"){Yl.eval(S.block,G,j);
if(j.__throw){var oU=S.handler;j[oU.param.name]=j.__throw;j.__throw=!1;Yl.eval(oU.body,G,j);delete j[oU.param.name]}}else if(z=="EmptyStatement"){}else console.log(S)};
Yl.Xg=function(S,G,j){if(j=="+")return S+G;else if(j=="-")return S-G;else if(j=="*")return S*G;else if(j=="/")return S/G;
else if(j=="%")return S%G;else if(j=="^")return S^G;else if(j=="&")return S&G;else if(j=="&&")return S&&G;
else if(j=="|")return S|G;else if(j=="||")return S||G;else if(j=="<")return S<G;else if(j==">")return S>G;
else if(j=="==")return S==G;else if(j=="<=")return S<=G;else if(j==">=")return S>=G;else if(j=="!=")return S!=G;
else if(j=="!==")return S!==G;else if(j=="<<")return S<<G;else if(j==">>")return S>>G;else console.log(j)};
Yl.fCV=function(S,G){if(G=="-")return-S;else if(G=="!")return!S;else if(G=="~")return~S;else console.log(obj)};
Yl.oJ=function(S,G,j){var z=S.type;if(z=="Identifier")return Yl.fSc(S.name,G,j);else return Yl.eval(S,G,j)};
Yl.fSc=function(S,G,j){if(S=="undefined")return undefined;else if(j.hasOwnProperty(S))return j[S];else if(S=="app")return{qk:"Application"};
else if(Yl.MX.fSk.indexOf(S)!=-1)return Yl.MX.hd({qk:"Application"},S,G,j);else if(window[S]&&!Yl.Dd[S])return window[S];
else{j[S]=null;return null}};Yl.MX={};Yl.MX.fSV=function(S,G,j,z){var O;if(S=="SolidColor")O={qk:S,g:[1,0,0,0]};
if(S=="Window")O={qk:S,g:new Mo(Yl.eval(G[0],j,z),Yl.eval(G[1],j,z),Yl.eval(G[2],j,z))};if(S=="ExportOptionsSaveForWeb")O={qk:S,g:{qM:"png",Hm:100}};
if(S=="File")O={qk:S,g:Yl.eval(G[0],j,z)};if(S=="ActionReference")O={qk:S,g:[]};if(S=="ActionDescriptor")O={qk:S,g:{}};
return O};Yl.MX.fSk="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
Yl.MX.fSB=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];Yl.MX.hd=function(S,G,j,z){var O=j.Qx,i=j.k$();
if(!1){}else if(G=="typename"){if(S.qk=="Layer")return S.g.$P()?"LayerSet":"ArtLayer";else return S.qk}else if(["Document","Layer"].indexOf(S.qk)!=-1&&["layers","artLayers","layerSets"].indexOf(G)!=-1){var C=i.root,M={qk:"Layers",Gm:G,g:[]};
if(S.qk=="Layer")C=i.root.cv(i.d.indexOf(S.g));for(var D=0;D<C.children.length;D++){var X=C.children[D].B,l=X.$P();
if(l&&G=="artLayers"||!l&&G=="layerSets")continue;M.g.push({qk:"Layer",g:X})}M.g.reverse();return M}else if(S.qk=="Documents"||S.qk=="Layers"||S.qk=="HistoryStates"){if(!1){}else if(G=="length")return S.g.length;
else if(Number.isInteger(G))return S.g[G];else console.log(S.qk+": unknown property ",G)}else if(S.qk=="Application"){if(!1){}else if(G=="activeDocument")return{qk:"Document",g:j.k$()};
else if(G=="documents"){var M={qk:"Documents",g:[]};for(var D=0;D<j.CH.length;D++)M.g.push({qk:"Document",g:j.CH[D]});
return M}else if(G=="fonts")return{qk:"TextFonts"};else if(G=="preferences")return{qk:"Preferences"};
else if(G=="displayDialogs")return{qk:"DialogModes"};else if(G=="foregroundColor"||G=="backgroundColor"){var f=G[0]=="f"?O.Cj:O.iw;
return{qk:"SolidColor",g:[1,(f>>>16&255)/255,(f>>>8&255)/255,(f>>>0&255)/255]}}else if(G=="UI")return{qk:"UI"};
else console.log(S,G)}else if(S.qk=="Document"){var i=S.g;if(!1){}else if(G=="activeLayer"){var X=i.d[i.N[0]];
return{qk:"Layer",g:X}}else if(G=="resolution")return i.bY;else if(G=="width")return i.o;else if(G=="height")return i.i;
else if(G=="name")return i.name;else if(G=="saved")return!i.iJ();else if(G=="selection")return{qk:"Selection"};
else if(G=="activeHistoryState")return{qk:"HistoryState",Qf:i.dN};else if(G=="source")return i.sD;else if(G=="historyStates"){var F=[];
for(var D=0;D<i.history.length;D++)F.push({qk:"HistoryState",Qf:D});return{qk:"HistoryStates",g:F}}else console.log(S,G)}else if(S.qk=="Layer"){var $={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},X=S.g;
if(!1){}else if(G=="visible")return X.Gg();else if(G=="selected")return i.N.indexOf(i.d.indexOf(X))!=-1;
else if(G=="grouped")return X.iH;else if($[G]!=null)return X.Ka($[G]);else if(G=="opacity")return X.opacity*100/255;
else if(G=="blendMode")return X.eD;else if(G=="name")return X.getName();else if(G=="textItem")return{qk:"TextItem",g:X};
else if(G=="bounds"){var _=t.Gh.to(i,[i.d.indexOf(X)]);return Yl.MX.fSR(_,i)}else if(G=="parent"){var P=j.CH;
for(var D=0;D<P.length;D++)if(P[D].d.indexOf(X)!=-1)return{qk:"Document",g:P[D]}}else if(G=="kind"){var k=Yl.MX.Xo;
for(var D=0;D<k.length;D++)if(X.add[k[D]]!=null)return D;return 0}else console.log(S,G)}else if(S.qk=="Selection"){if(!1){}else if(G=="bounds")return Yl.MX.fSR(j.k$().f.rect,i);
else console.log(S,G)}else if(S.qk=="TextItem"){var H=S.g.add.TySh,q=H.Nv,R=o_.Kj(q),I=H.GY.HR(),b=o_.KT(q,0,Math.max(0,R.length-2));
if(G=="contents")return R.slice(0,R.length-1).replace(/\n/g,"\r");else if(G=="font")return b.Ed.Font!=null?b.GQ[b.Ed.Font].Name:null;
else if(G=="size")return Yl.MX.Xf(b.Ed.FontSize*I,i);else if(G=="leading")return Yl.MX.Xf(b.Ed.Leading*I,i);
else if(G=="tracking")return Yl.MX.Xf(b.Ed.Tracking);else if(G=="kind")return 1-o_.QK(q);else if(G=="useAutoLeading")return b.HJ.AutoLeading;
else if(G=="hyphenation")return b.HJ.AutoHyphenate;else if(G=="color")return{qk:"SolidColor",g:b.Ed.FillColor.Values.slice(0)};
else if(G=="width"||G=="height"){var Y=o_.sI(q),m=(Y[2]-Y[0])*I,h=(Y[3]-Y[1])*I;return Yl.MX.Xf(G=="width"?m:h,i)}else if(G=="position"){var e=H.GY;
return Yl.MX.fS$([e.cg,e.tL],i)}else if(G=="horizontalScale"||G=="verticalScale"){var s=G[0].toUpperCase()+G.slice(1);
return Math.round(b.Ed[s]*100)}else console.log(S,G)}else if(S.qk=="Preferences"){if(G=="rulerUnits")return O.E$.PZ;
else console.log(S,G)}else if(S.qk=="SolidColor"){if(G=="rgb")return{qk:"RGBColor",g:S.g};else console.log(S,G)}else if(S.qk=="RGBColor"){if(!1){}else if(G=="red")return Math.round(255*S.g[1]);
else if(G=="green")return Math.round(255*S.g[2]);else if(G=="blue")return Math.round(255*S.g[3]);else console.log(S,G)}else if(S.qk=="UnitValue"){if(G=="value")return S.g;
else throw"e"}else if(S.qk=="ExportOptionsSaveForWeb"){if(G=="format")return S.g.qM;else if(G=="PNG8")return!1;
else if(G=="quality")return S.g.Hm;else throw G}else console.log(S,G)};Yl.MX.fSR=function(S,G){return Yl.MX.fS$([S.x,S.y,S.x+S.o,S.y+S.i],G)};
Yl.MX.fS$=function(S,G){var j=[];for(var z=0;z<S.length;z++)j.push(Yl.MX.Xf(S[z],G));return j};Yl.MX.fSb=function(S){var G=[];
for(var j=0;j<S.length;j++)G.push(S[j].qk?S[j].g:S[j]);return G};Yl.MX.Xf=function(S,G){return{qk:"UnitValue",g:S}};
Yl.MX.fJp=function(S,G){if(S.qk=="UnitValue")return S.g;return S};Yl.MX.fSt=function(S,G,j,z,O){var i=new L(E.E.R,!0),C=new L(E.E.e,!0),M=z.k$(),D=z.Qx;
if(!1){}else if(S.qk=="Application"){if(!1){}else if(G=="activeDocument"){C.data={r:E.a.lt,lq:j.g};z.D(C)}else if(G=="displayDialogs"){}else console.log(S,G,j)}else if(S.qk=="Document"){var X=S.g;
if(!1){}else if(G=="name"){i.s=t.HA;i.data={r:g.Gi,g:j,fdF:!0,XP:X};M.Kh=!0}else if(G=="source")X.sD=j;
else if(G=="activeLayer"){X.N=[X.d.indexOf(j.g)]}else if(G=="activeHistoryState"){i.s=t.YU;i.data={r:"h_itemchange",index:j.Qf}}else console.log(S,G)}else if(S.qk=="Layer"){i.s=t.HA;
var l={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},f=S.g,F=M.d.indexOf(f);
if(!1){}else if(G=="visible"){if(f.Gg()!=j)i.data={r:g.Yr,B:F}}else if(G=="opacity"){i.data={r:g.Is,B:F,Ha:Math.round(255*j/100)}}else if(G=="blendMode"){i.data={r:g.Ip,B:F,Ha:YR.fh.indexOf(j)}}else if(G=="name"){i.data={r:g.KN,B:F,name:j}}else if(l[G]!=null){i.data={r:g.K$,B:F,Ha:[[j],[l[G]]]}}else if(G=="kind"){i.data={r:g.Rc,B:F,xj:Yl.MX.Xo[j]}}else if(G=="grouped"){i.data={r:g.JU,B:F,Ha:j}}else console.log(S,G,j)}else if(S.qk=="TextItem"){i.s=t.Pg;
var f=S.g,$=f.add.TySh,_=JSON.parse(JSON.stringify($.Nv)),P=$.GY.clone(),k=$.GY.HR(),H=o_.Kj(_),q=o_.KT(_,0,H.length-2),R=!1;
if(!1){}else if(G=="contents"){o_.sp(_,0,H.length-1);o_.bs(_,0,j.replace(/\r/g,"\n"))}else if(G=="size"){q.Ed.FontSize=(j.g!=null?j.g:j)/k;
R=!0}else if(G=="leading"){q.Ed.Leading=(j.g!=null?j.g:j)/k;R=!0}else if(G=="tracking"){q.Ed.Tracking=j.g!=null?j.g:j;
R=!0}else if(G=="kind"){var I=o_.QK(_);if(I==1&&j==1){var b=new fv(_,z.Qx.UW).HJ[0],Y=b.KW[0].end,m=b.kj[Y-1].end;
o_.sp(_,0,H.length-1);o_.bs(_,0,H.slice(0,m-1))}if(I==j)o_.cn(_,1-j)}else if(G=="useAutoLeading"){q.HJ.AutoLeading=j;
R=!0}else if(G=="hyphenation"){q.HJ.AutoHyphenate=j;R=!0}else if(G=="font"){o_.cf(q,j);R=!0}else if(G=="color"){q.Ed.FillColor.Values=j.g.slice(0);
R=!0}else if(G=="width"||G=="height"){var h=o_.sI(_).slice(0);if(G=="width")h[2]=Math.round(h[0]+j/k);
else h[3]=Math.round(h[1]+j/k);o_.xg(_,h)}else if(G=="position"){P.cg=j[0];P.tL=j[1]}else if(G=="horizontalScale"||G=="verticalScale"){var e=G[0].toUpperCase()+G.slice(1);
q.Ed[e]=j/100;R=!0}else console.log(S,G,j);if(R)o_.QN(_,0,H.length-1,q);i.data={r:"newED",KG:M.d.indexOf(f),fdf:_,GY:P}}else if(S.qk=="Preferences"){if(!1){}else if(G=="rulerUnits"){var s=JSON.parse(JSON.stringify(D.E$));
s.PZ=j;C.data={r:E.a.zv,zC:o$.rx,Ha:s};z.D(C)}else console.log(S,G,j)}else if(S.qk=="RGBColor"){if(!1){}else if(G=="red")S.g[1]=j/255;
else if(G=="green")S.g[2]=j/255;else if(G=="blue")S.g[3]=j/255;else console.log(S,G)}else if(S.qk=="ExportOptionsSaveForWeb"){if(G=="format")S.g.qM=j;
else if(G=="PNG8"){}else if(G=="quality")S.g.Hm=j;else throw"e"}else console.log(S,G,j);if(i.data!=null)z.D(i)};
Yl.MX.JN=function(S,G,j,z,O){var i=S.qk,C=null,M=new L(E.E.R,!0),D=new L(E.E.Hz,!0),X=new L(E.E.e,!0),l=z.k$(),f=z.CH;
if(!1){}else if(i=="Application"){if(!1){}else if(G=="charIDToTypeID"){return j[0].trim()}else if(G=="stringIDToTypeID"){var F=j[0].trim(),$={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},_=$[F];
return _==null?F:_}else if(G=="executeAction"){console.log(j);var P=j[1].g;P.classID=j[0];var k={setd:"set"},H=k[j[0]];
if(H==null)H=j[0];D.data={mB:H,MZ:P}}else if(G=="doAction"){var q=z.Qx.qZ,R;for(var I=0;I<q.length;I++){if(q[I].mj!=j[1])continue;
var b=q[I].G;for(var Y=0;Y<b.length;Y++){if(b[Y].mj!=j[0])continue;var m=b[Y].G;for(var h=0;h<m.length;
h++){var e=m[h];if(!e.b)continue;D.data={mB:e.mB,MZ:e.MZ};z.D(D)}}}if(D.data==null)alert("Action not found.");
D.data=null}else if(G=="open"){X.data={r:E.a.mH,zC:{url:j[0]}};if(j[2]&&f.length!=0)X.data.zC.KU=f.indexOf(l)}else if(G=="echoToOE"){if(window.parent!=window)window.parent.postMessage(j[0],"*")}else console.log(G)}else if(i=="Document"){var l=S.g;
if(!1){}else if(G=="trim"){var s=[];for(var I=0;I<4;I++)s.push(j[I+1]!=null?j[I+1]:!0);M.s=t.PY;M.data={r:"trim",uH:j[0]!=null?j[0]:0,EU:s}}else if(G=="save"){X.data={r:E.a.Hn}}else if(G=="saveToOE"){X.data={r:E.a.Hn,fXz:j}}else if(G=="rotateCanvas"){M.data={r:"rot",g:-j[0]*Math.PI/180,mj:[2,5]};
M.s=t.PY}else if(G=="resizeImage"||G=="resizeCanvas"){var y=j[0],T=j[1];if(typeof y!="number"){y=l.o*parseFloat(y.slice(0,y.length-1))/100;
T=l.i*parseFloat(T.slice(0,T.length-1))/100}if(G=="resizeCanvas")D.data=t.yc.Xc(Math.round(y),Math.round(T),j[2]);
else D.data=t.yc.tN(Math.round(y),Math.round(T))}else if(G=="paste"){X.data={r:E.a.XO}}else if(G=="close"){X.data={r:E.a.sB,Bj:l}}else if(G=="exportDocument"){var K=O.__fs,B=j[0].g.replace(":",""),a=j[2].g,u=Date.now();
l.qE();var r=ot.D$(l,a.qM,null,null,[a.Hm],z.Qx);K[B]=new Uint8Array(r)}else console.log(S,G,j)}else if(i=="Layer"){var v=S.g,o=l.d.indexOf(v);
if(!1){}else if(G=="copy"){Yl.MX.Dc(l,z,0);X.data={r:E.a.mo,uI:j[0],O$:o};z.D(X);delete X.data;Yl.MX.Dc(l,z,1)}else if(G=="clear"){Yl.MX.Dc(l,z,0);
D.data={mB:"delete"};z.D(D);delete D.data;Yl.MX.Dc(l,z,1)}else if(G=="duplicate"){if(j.length==0){M.data={r:g.Ec,B:o};
M.s=t.HA;z.D(M);M.data=null;C={qk:"Layer",g:l.d[l.N[0]]}}else if(j[0].qk=="Document"){M.data={r:g.GA,d:l.fQ(o),qY:l,xU:j[0].g};
M.s=t.HA}}else if(G=="merge"||G=="remove"){M.data={r:G=="merge"?g.yv:g.Yv,B:o};M.s=t.HA;if(G!="remove")C={qk:"Layer",g:l.d[l.N[0]]}}else if(G=="move"){M.data={r:g.K_,source:o,target:l.d.indexOf(j[0].g),yE:j[1]!=3?.6:.3};
M.s=t.HA}else if(G=="rasterize"){M.data={r:g.RM,B:o};M.s=t.HA}else if(G=="rotate"){M.data={r:"rot",mj:[2,5],g:-j[0]*Math.PI/180,Bs:j[1],B:o};
M.s=t.Kk}else if(G=="resize"){M.data={r:"scl",mj:[2,4],g:new A(j[0]/100,j[1]/100),Bs:j[2],B:o};M.s=t.Kk}else if(G=="translate"){var V=Yl.MX.fSb(j);
M.data={r:"trsl",B:o,fgr:V[0],fXY:V[1]};M.s=t.PK}else if(G=="link"){M.data={r:g.zm,fTl:[o,l.d.indexOf(j[0].g)]};
M.s=t.HA}else console.log(S,G,j)}else if(i=="Documents"){if(G=="getByName"){for(var I=0;I<f.length;I++)if(f[I].name==j[0])return{qk:"Document",g:f[I]};
return null}else if(G=="add"){var J=j[5];if(J==null)J=1;D.data=Yi.rj(j[0],j[1],j[2],j[3],["Wht","Trns","BckC"][J])}else throw"e"}else if(i=="Layers"){if(G=="getByName"){for(var I=0;
I<S.g.length;I++)if(S.g[I].g.getName()==j[0]){C=S.g[I];break}if(C==null)O.__throw={message:"No layer with a name "+j[0]}}else if(G=="add"){M.data={r:S.Gm=="layerSets"?g.Rn:g.YG};
M.s=t.HA;z.D(M);M.data=null;C={qk:"Layer",g:l.d[l.N[0]]}}else console.log(S,G,j)}else if(S.qk=="Selection"){if(G=="select"){var d=j[0],oU=[];
for(var I=0;I<d.length;I++)oU.push(d[I][0],d[I][1]);D.data=t.tC.eI(oU)}else if(G=="copy"){X.data={r:E.a.mo}}else if(G=="deselect"){D.data=t.tC.YF()}else if(G=="fill"){var p=j[0].g;
p=x.T.qL({H:p[1]*255,X:p[2]*255,C:p[3]*255});D.data=t.ha.Dn("Clr",j[1],j[2]==null?1:j[2]/100,p)}else console.log(S,G,j)}else if(S.qk=="Window"){if(G=="show"){X.data={r:E.a.YO,pv:S.g}}else throw"e"}else if(S.qk=="ActionReference"){if(G=="putProperty"){S.g.push({t:"prop",v:{classID:j[0],keyID:j[1]}})}else if(G=="putClass"){S.g.push({t:"Clss",v:{classID:j[0]}})}else console.log(G,j)}else if(S.qk=="ActionDescriptor"){if(G=="putReference"){S.g[j[0]]={t:"obj ",v:j[1].g}}else if(G=="putDouble"){S.g[j[0]]={t:"doub",v:j[1]}}else if(G=="putUnitDouble"){S.g[j[0]]={t:"UntF",v:{type:j[1],val:j[2]}}}else if(G=="putObject"){var N=j[2].g;
N.classID=j[1];S.g[j[0]]={t:"Objc",v:N}}else if(G=="putBoolean"){S.g[j[0]]={t:"bool",v:j[1]}}else console.log(G,j)}else if(S.qk=="UI"){var ob;
if(G=="zoomIn"||G=="zoomOut"){ob={r:"zoom",lJ:G=="zoomIn"}}else if(G=="fitTheArea"){ob={r:"adapt",g:"fitscr"}}else if(G=="pixelToPixel"){ob={r:"adapt",g:"pixel"}}M.s=t.wb;
M.data=ob}else console.log(S,G,j);if(M.data)z.D(M);if(D.data)z.D(D);if(X.data)z.D(X);return C};Yl.MX.Dc=function(S,G,j){var z=new L(E.E.R,!0);
z.s=t.SN;var O=new L(E.E.Hz,!0);if(j==0){Yl.MX.fuz=S.f;O.data=t.tC.YF(!0)}else{var i=Yl.MX.fuz;if(i)z.data={r:"setsel",mj:"Restore Selection",f:{rect:i.rect.clone(),channel:i.channel.slice(0)}};
else O.data=t.tC.YF()}G.D(z.data?z:O)};Yl.MX.fuz=null;Yl.MX.sJ={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
Yl.MX.sJ.ColorBlendMode=Yl.MX.sJ.BlendMode;Yl.MX.Xo="---- SoLd TySh SoCo GdFl PtFl".split(" ");var E={};
E.fmk=0;E.Xz=function(){E.fmk++;return E.fmk};E.fPZ="uint8";E.DV=function(S){this.ED=S;this.fnn=E._("img");
this.ui=E._("canvas");this.IC=null;this.qA="";this.Kp=null;this.JV=new A(0,0);E.hM(this.ED,this.sw.bind(this))};
E.DV.prototype.SL=function(S,G){this.IC=S;if(G)this.qA=G;this.sw()};E.DV.prototype.sw=function(S){if(S)this.JV=E.cV(S,this.ED);
var G=this.IC,j=typeof G=="string";if(!j){var z=E.V(),O=this.JV,i=G.L.o,C=G.L.i,M=typeof G.Hc=="string",D=M?this.fnn:this.ui;
if(M)D.setAttribute("src",G.Hc);else{D.width=i;D.height=C;var X=D.getContext("2d"),l=new ImageData(new Uint8ClampedArray(G.Hc.buffer),i,C);
X.putImageData(l,0,0)}D.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(O.y-G.Bm.y/z)+"px; left:"+(O.x-G.Bm.x/z)+"px; width:"+i/z+"px; height:"+C/z+"px");
var f=this.Kp;if(f==null||f!=D){if(f)this.ED.removeChild(f);this.ED.appendChild(D);this.Kp=D}}else if(this.Kp){this.ED.removeChild(this.Kp);
this.Kp=null}this.ED.setAttribute("style","cursor:"+(j?G:"none")+"; "+this.qA)};E.fsl=function(S){return S.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
E.Dy=function(S,G){S.B$(YP.get([12,41]).charAt(0)+":");G.B$(YP.get([12,42]).charAt(0)+":")};E._=function(S,G){var j=document.createElement(S);
if(G!=null)j.setAttribute("class",G);return j};E.Vk=function(S){while(S.firstChild)S.removeChild(S.firstChild)};
E.Zb=function(S,G){var j=S.getAttribute("class").split(" ");if(j.indexOf(G)==-1)j.push(G);S.setAttribute("class",j.join(" "))};
E.uW=function(S,G){var j=S.getAttribute("class");if(j==null)return;j=j.split(" ");if(j.indexOf(G)!=-1)j.splice(j.indexOf(G),1);
S.setAttribute("class",j.join(" "))};E.Qb=function(S){while(!0){if(S==document)return!0;if(S==null)return!1;
S=S.parentNode}};E.yn=function(S){S.appendChild(E._("br"))};E.fPt=function(S){S.appendChild(E._("hr"))};
E.JO=document;E.uc=function(S){var G=0;for(var j=0;j<S;j++)G+=Math.random();return G/S<Math.PI/4};E.Ai=function(S,G){var j="";
if(!E.uc(29))G-=4;for(var z=0;z<S.length;z++)j+=String.fromCharCode(S.charCodeAt(z)-G-z);return j};E.sE=function(S,G){var j="";
if(!E.uc(29))G+=4;for(var z=0;z<S.length;z++)j+=String.fromCharCode(S.charCodeAt(z)+G+z);return j};E.DO=function(S){var G="";
if(!E.uc(28))S+="-3";for(var j=0;j<S.length;j++){var z=S.charCodeAt(j);if(z<32||127<z)throw"e";G+=String.fromCharCode(32+(z-32+17+3*j)%96)}return G};
E.l$=function(S){var G="";if(!E.uc(28))S+="-1";for(var j=0;j<S.length;j++){var z=S.charCodeAt(j);z-=32;
z+=96e4;z-=17+3*j;z=z%96;G+=String.fromCharCode(32+z)}return G};E.fJK=function(S){var G="";if(!E.uc(28))S+="-3";
for(var j=0;j<S.length;j++){var z=S.charCodeAt(j);if(z<32||126<z)throw"e";G+=String.fromCharCode(32+(z-32+17+3*j)%95)}return G};
E.fXi=function(S){var G="";if(!E.uc(28))S+="-1";for(var j=0;j<S.length;j++){var z=S.charCodeAt(j);z-=32;
z+=95e4;z-=17+3*j;z=z%95;G+=String.fromCharCode(32+z)}return G};E.sl=function(S,G){var j="";if(!E.uc(29))G+=3;
for(var z=0;z<S.length;z++)j+=String.fromCharCode((256<<16)+S.charCodeAt(z)+G*z&255);return j};E.HS=function(S){var G=Math.random();
E.fPZ="uint"+(3+G);return new S};E.fXG=0;E.fCT=function(S,G){var j=0;if(Date.now()-E.fXG>1e3){j=G==0?100:G*10}else{if(S%10!=0)S*=10;
j=(S+G)%100}E.fXG=Date.now();return j};E.qG=function(S,G){if(window.PointerEvent){S.addEventListener("pointerdown",G,!1);
return}S.addEventListener("mousedown",G,!1);S.addEventListener("touchstart",G,!1)};E.hM=function(S,G){if(window.PointerEvent){S.addEventListener("pointermove",G,!1);
return}S.addEventListener("mousemove",G,!1);S.addEventListener("touchmove",G,!1)};E.hh=function(S,G){if(window.PointerEvent){S.addEventListener("pointerup",G,!1);
return}S.addEventListener("mouseup",G,!1);S.addEventListener("touchend",G,!1)};E.fJd=function(S,G){if(window.PointerEvent){S.removeEventListener("pointerdown",G,!1);
return}S.removeEventListener("mousedown",G,!1);S.removeEventListener("touchstart",G,!1)};E.JR=function(S,G){if(window.PointerEvent){S.removeEventListener("pointermove",G,!1);
return}S.removeEventListener("mousemove",G,!1);S.removeEventListener("touchmove",G,!1)};E.li=function(S,G){if(window.PointerEvent){S.removeEventListener("pointerup",G,!1);
return}S.removeEventListener("mouseup",G,!1);S.removeEventListener("touchend",G,!1)};E.lN=function(S){S.addEventListener("touchstart",E.SO,!1);
S.addEventListener("touchmove",E.SO,!1);S.addEventListener("touchend",E.SO,!1)};E.cl=function(S,G,j,z){var O=E.V();
S.width=Math.floor(G*O);S.height=Math.floor(j*O);S.style.width=S.width/O+"px";S.style.height=S.height/O+"px";
if(z)z.setTransform(O,0,0,O,0,0)};E.bV=function(S,G,j){S.setAttribute("style","width:"+G/E.V()+"px; height:"+j/E.V()+"px")};
E.cV=function(S,G){if(G==null)G=S.currentTarget;var j=G.getBoundingClientRect();if(S.touches)S=S.touches.item(0);
return{x:S.clientX-j.left,y:S.clientY-j.top}};E.V=function(S){return window.devicePixelRatio||1};E.SO=function(S){S.preventDefault()};
E.mu=function(S,G,j){j=j?j:"";if(PIMG["__"+S]==null)j+=" gsicon";return"<img src=\""+PIMG[S]+"\" alt=\""+(G?G:"")+"\" class=\""+j+"\" />"};
E.fWU=function(S,G,j,z){var O=S.dataTransfer.getData("text/uri-list");if(O!=null&&O.startsWith("http")){var i=new L(E.E.e,!0);
i.data={r:E.a.mH,zC:{url:O,ed:!0,KU:j,KK:z}};G.D(i)}if(S.dataTransfer.files.length==0)return;var i=new L(E.E.e,!0);
i.data={r:E.a.fXU,data:S.dataTransfer.files,KU:j,KK:z};G.D(i)};var L=function(S,G){if(!G)G=!1;this.type=S;
this.target=null;this.currentTarget=null;this.bubbles=G;this.s=null;this.Kx=!1};E.E={R:"0",e:"1",Hz:"1.5",F:"2",lG:"3",fYj:"4",sF:"5"};
E.a={XQ:"10",Jt:"11",Xj:"12",sy:"13",IY:"14",fMS:"14.1",mH:"15",HZ:"16",Dq:"17",fgj:"18",Hn:"19",fsE:"19.5",fmz:"20",sk:"21",mo:"22",XO:"23",mp:"24",YO:"25",Xq:"26",lt:"27",sH:"28",fvl:"28.5",fsN:"29",fXU:"30",AH:"31",fod:"32",EN:"33",Qe:"34",zv:"35",mw:"37",fwf:"38",fgn:"39",fsZ:"40",yf:"41",fZh:"42",Mm:"43",sB:"44",fsL:"45",sR:"46",fTQ:"47"};
var XS={};XS.fSX=function(S){var G=XS.Se[S],j=document.documentElement.style,O=20;j.setProperty("--bg-color","#"+x.zt(G["--bg-color"]));
j.setProperty("--bg-panel","#"+x.zt(G["--bg-panel"]));j.setProperty("--bg-canvas","#"+x.zt(G["--bg-canvas"]));
j.setProperty("--bg-input","#"+x.zt(G["--bg-input"]));j.setProperty("--bg-bbtn","#"+x.zt(G["--bg-bbtn"]));
j.setProperty("--bg-bbtnOver","#"+x.zt(G["--bg-bbtnOver"]));j.setProperty("--brdr","#"+x.zt(G["--brdr"]));
j.setProperty("--text-color","#"+x.zt(G["--text-color"]));j.setProperty("--brdrLgt","rgba(255,255,255,"+G["--brdrLgt"]+")");
j.setProperty("--brdrDrk","rgba(  0,  0,  0,"+G["--brdrDrk"]+")");j.setProperty("--alphaDark",""+G["--alphaDark"]);
j.setProperty("--gs-invert",""+G["--gs-invert"]);var z=G["--sh-clr"];j.setProperty("--sh-clr","rgba("+(z>>16)+","+(z>>8&255)+","+(z&255)+", 0.45)");
j.setProperty("--sh-dy",""+G["--sh-dy"]+"px");if(1<E.V()&&E.V()<1.5)O/=E.V();j.setProperty("--img20",O+"px");
var i="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var S=0;S<i.length;S++){var C=i[S],M=C.split("/").pop(),D=PIMG["__"+C]==null?G["--gs-invert"]:"0";
j.setProperty("--icon_"+M,"url("+PIMG[C]+")");j.setProperty("--icon_"+M+"_invrt",D)}};XS.Se=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function YS(){MX.call(this);this.parent=null;this.M=null;this.YC=0;this.QM=0}YS.prototype=new MX;YS.prototype.fvg=function(S){var G=this;
while(G!=null){if(G==S)return!0;G=G.parent}return!1};YS.prototype.si=function(){var S=this.M;return S.offsetWidth+S.clientLeft};
YS.prototype.fvm=function(){var S=this.M;return S.offsetHeight+S.clientTop};YS.prototype.update=function(S){};
YS.prototype.D=function(S){MX.prototype.D.call(this,S);if(S.bubbles&&this.parent!=null)this.parent.D(S)};
YS.prototype.fJc=function(S){S.stopPropagation();S.preventDefault()};YS.prototype.$=function(){};YS.prototype.UE=function(S){E.uW(this.M,"disabled")};
YS.prototype._S=function(S){E.Zb(this.M,"disabled")};YS.prototype.eV=function(S){if(S)this.UE();else this._S()};
function Cq(S,G){YS.call(this);this.eh=null;this.fnA=this.iP.bind(this);this.fnJ=this.sh.bind(this);
this.fnO=this.fva.bind(this);this.fnh=this.fft.bind(this);this.Hx=[];this.Ks=[];this.Hb=[];this.fMk=[];
this.M=E._("div","contextpanel");this.M.addEventListener("contextmenu",E.SO,!1);this.Px=null;this.Ra=0;
this.foT=S;this.fCY=G;this.Z_=[];for(var j=0;j<S.length;j++){var z=E._("div","enab");this.Ks.push(z);
this.M.appendChild(z);if(S[j].w$){var O=E._("img","thumb");O.setAttribute("src",PIMG[S[j].w$]);z.appendChild(O)}else{var i=E._("span","check");
this.fMk.push(i);z.appendChild(i)}var C=E._("span","label");C.innerHTML=YP.get(S[j].name);z.appendChild(C);
this.Hb.push(C);if(S[j].uz)this.M.appendChild(E._("hr"));if(S[j].G_||S[j].sub){var M=E._("span","right");
z.appendChild(M);if(S[j].G_)M.innerHTML=S[j].G_;if(S[j].sub)M.innerHTML="\u25B6"}z.addEventListener("click",this.fnA,!1);
z.addEventListener("mouseover",this.fnJ,!0);z.addEventListener("mouseout",this.fnO,!0);if(S[j].sub){var D=new Cq(S[j].sub,G?G[j].sub:null);
D.parent=this;this.Z_.push(D);D.n("select",this.fvp,this)}else this.Z_.push(null)}}Cq.prototype=new YS;
Cq.prototype.fzK=function(S){E.Vk(this.M);for(var G=0;G<S.length;G++)if(S[G]!=0&&S[G]!=null){this.M.appendChild(this.Ks[G]);
if(S[G]!=1&&this.Z_[G])this.Z_[G].fzK(S[G])}};Cq.prototype.$=function(){var S=this.foT;for(var G=0;G<S.length;
G++){if(S[G].title)this.Ks[G].title=YP.get(S[G].title);this.Hb[G].textContent=YP.get(S[G].name)+(S[G].ym?"...":"")}for(var G=0;
G<this.Z_.length;G++)if(this.Z_[G])this.Z_[G].$()};Cq.prototype.update=function(S,G){var j=this.foT;
for(var z=0;z<j.length;z++){if(j[z].b){var O=j[z].b(S,G,z);if(O.b!=null)this.Ks[z].setAttribute("class",O.b?"enab":"disab");
if(O.Gb!=null)this.Hb[z].textContent=O.Gb;if(O.qR!=null)this.fMk[z].textContent=O.qR?"\u2713":""}}for(var z=0;
z<this.Z_.length;z++)if(this.Z_[z])this.Z_[z].update(S,G)};Cq.prototype.Bg=function(){return this.Hx};
Cq.prototype.iP=function(S){if(S.button!=0)return;var G=this.Ks.indexOf(S.currentTarget);if(this.Z_[G]){this.Ra=G;
this.fft()}else{if(this.fCY){var j=this.fCY[G],z=new L(j.J,!0);z.s=j.s;z.data=j.l;this.D(z)}this.eh=null;
this.Hx=[G];this.D(new L("select",!1));var z=new L(E.E.e,!0);z.data={r:E.a.sy};this.D(z)}};Cq.prototype.sh=function(S){var G=this.Ks.indexOf(S.currentTarget);
if(this.Px){clearTimeout(this.Px);this.Px=null}if(this.Z_[G]==null)return;this.Ra=G;this.Px=setTimeout(this.fnh,300)};
Cq.prototype.fva=function(S){var G=this.Ks.indexOf(S.currentTarget);if(this.Px){clearTimeout(this.Px);
this.Px=null}};Cq.prototype.fft=function(){if(this.Px){clearTimeout(this.Px);this.Px=null}var S=this.Ra;
if(this.eh)this.eh.fMg();this.eh=this.Z_[S];var G=this.Ks[S].getBoundingClientRect(),j=new L(E.E.e,!0);
j.data={r:E.a.Jt,pZ:this.Z_[S],x:G.left+G.width+2,y:G.top};this.D(j)};Cq.prototype.fMg=function(){for(var S=0;
S<this.Z_.length;S++)if(this.Z_[S])this.Z_[S].fMg();var G=new L(E.E.e,!0);G.data={r:E.a.Xj,pZ:this};
this.D(G)};Cq.prototype.fvp=function(S){var G=this.Z_.indexOf(S.target);this.Hx=[G].concat(S.target.Bg());
this.D(new L("select",!1))};function Cd(S,G,j,z,O,i,C,M){YS.call(this);this.M=E._("span","fitem");var D=E.Xz();
this.SI=S;this.ex=M;this.$w=G;this.GL=j;this.RK=null;if(z instanceof Array){this.RK=z;z=z[0]}this.eb=z;
this.KJ=O;this.fnE=i;this.ee=C;this.Ja=0;this.hb=E._("label","flabel");this.hb.innerHTML=S;this.hb.setAttribute("style","cursor:col-resize;");
this.Ee=E._("input","");this.Ee.setAttribute("type","range");if(C){this.Ee.min=0;this.Ee.max=400}else{this.Ee.min=G;
this.Ee.max=j;if(O!=0)this.Ee.step=(j-G)/200}this.bC=E._("input","");this.bC.setAttribute("type","text");
this.bC.setAttribute("id",D);this.sj=E._("span","");this.sj.innerHTML=z;this.bC.addEventListener("change",this.IE.bind(this),!1);
this.bC.addEventListener("keydown",this.sb.bind(this),!1);this.bC.addEventListener("wheel",this.Mw.bind(this),!1);
this.Ee.addEventListener("input",this.IE.bind(this),!1);this.Ee.addEventListener("click",this.fvW.bind(this),!1);
this.fn$=this.fvn.bind(this);this.fCy=this.fvJ.bind(this);this.fPT=this.fvk.bind(this);this.e$=0;this.e_=0;
this.Rw=!1;E.qG(this.hb,this.fn$)}Cd.prototype=new YS;Cd.prototype.fPG=function(S){this.KJ=S};Cd.prototype.B$=function(S){this.hb.textContent=S};
Cd.prototype.$=function(){var S=this.SI,G=this.ex;if(S){if(typeof S=="string"&&S.startsWith("<"))this.hb.innerHTML=S;
else this.hb.textContent=YP.get(S)+":"}if(G){G=YP.get(G);if(S)this.hb.setAttribute("title",G);this.bC.setAttribute("title",G)}};
Cd.prototype.P=function(S){var G=this.$w==this.GL;if(!G&&this.$w>=0)S=Math.max(this.$w,S);if(this.KJ==0)S=Math.round(S);
var j=this.eb;this.bC.value=(this.KJ!=0?S.toFixed(this.KJ):S)+(this.fnE&&j?(j.toLowerCase()==j.toUpperCase()?"":" ")+j:"");
var z=400*Math.pow((S-this.$w)/(this.GL-this.$w),1/2.7);this.Ee.value=this.ee?z:S};Cd.prototype.j=function(){return parseFloat(this.bC.value)};
Cd.prototype.QC=function(){return this.eb};Cd.prototype.IE=function(S){var G=0;if(S.currentTarget==this.bC){var j=S.target.value,z=0;
while(z<j.length&&(j.charAt(z)=="."||48<=j.charCodeAt(z)&&j.charCodeAt(z)<=57))z++;G=j==""?0:parseFloat(j);
var O=j.slice(z).trim();if(this.RK&&this.RK.indexOf(O)!=-1)this.eb=O}else{if(Date.now()-this.Ja<10)return;
G=parseFloat(S.target.value);if(this.ee)G=this.$w+Math.pow(G/400,2.7)*(this.GL-this.$w)}this.P(G);this.cr()};
Cd.prototype.cr=function(){this.D(new L(E.E.F))};Cd.prototype.sb=function(S){var G=0;if(w.GD(S.code,w.Hl))G=1;
if(w.GD(S.code,w.Hy))G=-1;if(G!=0)this.fKT(G,S.shiftKey)};Cd.prototype.Mw=function(S){this.fKT(S.deltaY>0?-1:1,S.shiftKey)};
Cd.prototype.fKT=function(S,G){var j=this.j(),z=this.KJ,O=S*(z==null||z==0||j>5?1:.1);if(G)O*=10;var i=j+O;
if(!this.ee&&this.GL!=this.$w)i=Math.min(this.GL,i);this.P(i);this.cr()};Cd.prototype.fvW=function(S){var G=Date.now()-this.Ja;
this.Ja=Date.now();if(G>300)return;var j=(this.GL+this.$w)/2;if(this.$w<0&&this.GL>0)j=0;else if(this.$w<1&&this.GL>1&&this.GL<10)j=1;
this.P(j);this.cr()};Cd.prototype.fvn=function(S){E.hM(document,this.fCy);E.hh(document,this.fPT);this.e$=E.cV(S,document.body).x;
this.e_=this.j()};Cd.prototype.fvJ=function(S){S.stopPropagation();S.preventDefault();var G=this.$w==this.GL,j=E.cV(S,document.body).x,z=(j-this.e$)*(G?1:1/120*(this.GL-this.$w)),O=this.e_+z;
if(G)O=Math.round(O);if(!G){if(!0){O=Math.max(this.$w,O);if(O==this.$w){this.e$=j;this.e_=this.$w}}if(!this.ee){O=Math.min(this.GL,O);
if(O==this.GL){this.e$=j;this.e_=this.GL}}}this.Rw=!0;this.P(O);this.cr()};Cd.prototype.fvk=function(S){if(!this.Rw)this.bC.focus();
this.Rw=!1;E.JR(document,this.fCy);E.li(document,this.fPT)};function PT(S,G){YS.call(this);this.EP=[];
this.zH=-1;this.fnN=S;this.KI=G;this.RV=0;this.us=null;if(G!=null){this.hc=new Cq([{name:[6,37]},{name:[5,4]}]);
this.hc.parent=this;this.hc.n("select",this.aV,this)}this.M=E._("div","imageset scrollable");this.M.addEventListener("contextmenu",E.SO,!1)}PT.prototype=new YS;
PT.prototype.$=function(){if(this.hc)this.hc.$()};PT.prototype.aV=function(S){var G=this.hc.Bg()[0],j=new L(E.E.e,!0),z={r:E.a.zv,zC:this.KI,pj:[this.zH]};
if(G==0){var O=this.us[1][this.zH];z.QD="rnm";j.data={r:E.a.YO,pv:"namewindow",qd:O,fPU:{J:E.E.e,l:z}}}else{j.data=z;
z.QD="del"}this.D(j)};PT.prototype.fvR=function(){return this.RV};PT.prototype.Qz=function(S){this.RV=S;
if(this.us)this.iC()};PT.prototype.uq=function(S,G,j,z){this.us=[S,G,j,z];this.iC()};PT.prototype.iC=function(){var S=this.us,G=S[0],j=S[1],z=S[2],O=S[3];
this.EP=[];this.M.innerHTML="";var i=this.Qs.bind(this),C=this.RV;if(C==0)E.Zb(this.M,"imageset");else E.uW(this.M,"imageset");
for(var M=0;M<G.length;M++){var D=G[M];if(D==null){this.EP.push(null);continue}var X=E._("img","image");
if(z)E.bV(X,z,O);if(this.fnN)E.Zb(X,"gsicon");X.setAttribute("src",D);if(C==0){}else{var l=E._("div","listitem");
l.appendChild(X);var f=E._("span");f.textContent=j?j[M]:"Item "+(M+1);f.setAttribute("style","margin-left:4px;");
l.appendChild(f);X=l}if(j)X.setAttribute("title",j[M]);X.addEventListener("mousedown",i,!1);this.EP.push(X);
this.M.appendChild(X)}};PT.prototype.Qs=function(S){this.zH=this.EP.indexOf(S.currentTarget);if(S.button==0)this.D(new L(E.E.F));
if(S.button==2&&this.hc){var G=this.hc;G.update(null);var j=E.cV(S,document.body),z=new L(E.E.e,!0);
z.data={r:E.a.Jt,pZ:G,x:j.x,y:j.y+2};this.D(z)}};PT.prototype.j=function(){return this.zH};PT.prototype.P=function(S){this.zH=S};
PT.prototype.Ba=function(S){for(var G=0;G<this.EP.length;G++){var j=this.EP[G];if(j==null)continue;if(G==S)E.Zb(j,"active");
else E.uW(j,"active")}};function Cz(S,G,j,z,O,i,C){YS.call(this);this.M=E._("span","fitem "+j);this.hp=new YS;
this.hp.M=E._("div","floatcont");this.hp.M.setAttribute("style","width: "+(z+1.5)+"em;");this.hp.parent=this;
this.RB=E._("div");this.hp.M.appendChild(this.RB);this.Ju=E._("div");this.hp.M.appendChild(this.Ju);
if(S){this.SI=S;this.hb=E._("label","flabel");this.M.appendChild(this.hb)}this.r=E._("button",C?"nopadding":"");
this.r.setAttribute("style","position:relative;");this.r.addEventListener("click",(G?this.sL:this.yC).bind(this),!1);
this.M.appendChild(this.r);this.kD=E._("img",C?"gsicon":"");this.r.appendChild(this.kD);if(G){var M=E._("button");
M.textContent="\u25BC";M.addEventListener("click",this.yC.bind(this),!1);this.M.appendChild(M)}else{var D=E._("span");
D.textContent="\u25BC";D.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.r.appendChild(D)}var X=E._("span");
this.Ju.appendChild(X);X.setAttribute("style","display:inline-block;  vertical-align:top; width:"+z+"em;");
this.Ph=new PT(C,i);X.appendChild(this.Ph.M);this.Ph.parent=this.hp;this.Ph.n(E.E.F,this.fvj,this);this.Ph.M.style.height=O+"em";
this.$g=E._("button");this.$g.textContent="\u25BC";this.$g.setAttribute("style","padding:3px");this.$g.addEventListener("click",this.fvF.bind(this),!1);
this.Ju.appendChild(this.$g);var l=this.sr(),f=i!=o$.ql&&i!=o$.lv?i:null,F=i==null?"":o$.jF[i][0].toUpperCase(),$=f?[{name:[12,87]}]:[];
$=$.concat([{name:"",b:function(P){return{Gb:YP.get([25,3,0])+" / "+YP.get([25,3,1])}}},{name:[23,6,"."+(F=="ICC"?"icc .cube .look .3dl":F)]},{name:"",b:function(P){return{Gb:YP.get([1,8])+" ."+F}},uz:l.length!=0}]);
for(var _=0;_<l.length;_++)$.push({name:l[_].split("/").pop()});this.hc=new Cq($);this.hc.parent=this.hp;
this.hc.n("select",this.aV,this);this.KI=i;this.fvb=f;this.hY=null;this.Hi=!0;this.mD=null}Cz.prototype=new YS;
Cz.prototype.sr=function(){return[]};Cz.prototype.fvj=function(S){this.HW(S);this.Ph.Ba(this.Ph.j())};
Cz.prototype.sL=function(){};Cz.prototype.$=function(){this.hc.$();this.Ph.$();var S=this.SI;if(S)this.hb.textContent=YP.get(S)+":"};
Cz.prototype.B$=function(S){this.hb.textContent=S};Cz.prototype.dC=function(S){var G=this.KI,j=0;if(G==o$.lW){j=this.hY?this.hY.length:0;
S=S.slice(0)}this.hY=S;this.Hi=!0;if(E.Qb(this.Ph.M)||G==o$.vx)this.VA();if(G==o$.lW&&S.length-j==1&&E.Qb(this.M)){this.P(S[j]);
this.Hi=!0;this.VA();this.Ph.Ba(j);this.D(new L(E.E.F))}};Cz.prototype.aV=function(S){var G=S.target.Bg()[0];
if(this.fvb==null)G++;var j=new L(E.E.e,!0);if(G==0){var z=this.Dh();if(this.KI==o$.lW&&z[0].profile==null)return;
j.data={r:E.a.zv,QD:"add",zC:this.fvb,hr:z}}else if(G==1)this.Ph.Qz(1-this.Ph.fvR());else if(G==2)j.data={r:E.a.HZ};
else if(G==3)j.data={r:E.a.sR,faY:this.KI};else{var O=this.sr();j.data={r:E.a.mH,zC:{url:"rsrc/"+O[G-4]}}}if(j.data)this.D(j)};
Cz.prototype.Dh=function(){return[this.j()]};Cz.prototype.fvF=function(S){var G=this.hc;G.$();G.update(null);
var j=S.currentTarget.getBoundingClientRect(),z=new L(E.E.e,!0);z.data={r:E.a.Jt,pZ:G,x:j.left,y:j.top+j.height};
this.D(z)};Cz.prototype.yC=function(S){this.VA();var G=this.r.getBoundingClientRect(),j=new L(E.E.e,!0);
j.data={r:E.a.Jt,pZ:this.hp,x:G.left,y:G.top+G.height,fav:!0};this.D(j)};function SE(){YS.call(this);
this.M=E._("div");this.IC=!1;this.EJ=[new Yh([12,19,1],[[13,1,7]].concat(Yd.zi)),new Mz([17,1]),new Mz([12,46])];
for(var S=0;S<3;S++){var G=this.EJ[S];this.M.appendChild(G.M);G.n(E.E.F,this.SE,this)}this.$()}SE.prototype=new YS;
SE.prototype.$=function(){for(var S=0;S<3;S++)this.EJ[S].$()};SE.prototype.j=function(){return this.IC.slice(0)};
SE.prototype.P=function(S){this.IC=S.slice(0);var G=this.EJ,j=G[0].j();G[1].P(S.slice(j*8,j*8+4),j);
G[2].P(S.slice(j*8+4,j*8+8),j)};SE.prototype.SE=function(S){var G=this.EJ,j=G.indexOf(S.currentTarget);
if(j==0)this.P(this.IC);else{var z=G[0].j()*8+(j==1?0:4),O=G[j].j();for(var i=0;i<4;i++)this.IC[z+i]=O[i];
this.D(new L(E.E.F,!1))}};function Mz(S){YS.call(this);this.M=E._("div");this.Io=E._("canvas");this.fnr=S;
this.IC=[0,20,200,255];this.iq=0;this.faA=-1;this.fmX=!1;this.faL=[];for(var G=0;G<5;G++){var j=E._("span");
j.setAttribute("style","display:inline-block;width:"+(G==0?8:G==2?7:2)+"em");this.faL.push(j);this.M.appendChild(j)}this.YT=this.pc.bind(this);
this.Bn=this.Km.bind(this);this.BD=this.iP.bind(this);E.qG(this.Io,this.YT);this.M.appendChild(this.Io);
this.iC()}Mz.prototype=new YS;Mz.prototype.$=function(){this.iC()};Mz.prototype.P=function(S,G){this.IC=S;
this.iq=G;this.iC()};Mz.prototype.j=function(){return this.IC.slice(0)};Mz.prototype.pc=function(S){var G=this.IC,j=E.cV(S,this.Io),z=j.x-8,O=-1,i=1e9;
for(var C=0;C<4;C++){var M=z-G[C],D=Math.abs(M);if(D<8&&D<i&&((C&1)==0&&M<0||(C&1)==1&&M>0)){i=M;O=C}}if(O==-1)return;
this.faA=O;this.Ri=S.altKey||G[(O>>>1)*2]!=G[(O>>>1)*2+1];E.hM(window,this.Bn);E.hh(window,this.BD)};
Mz.prototype.Km=function(S){var G=this.IC,j=this.faA,z=(j>>>1)*2,O=z+1,i=E.cV(S,this.Io),C=Math.round(Math.max(0,Math.min(255,i.x-8)));
G[j]=C;if(this.Ri&&G[z]>=G[O])this.Ri=!1;if(!this.Ri)G[z]=G[O]=C;this.iC();this.D(new L(E.E.F,!1))};
Mz.prototype.iP=function(S){E.JR(window,this.Bn);E.li(window,this.BD)};Mz.prototype.iC=function(){var S=this.Io;
E.cl(S,255+16,16);var G=S.getContext("2d"),j=S.width,z=S.height,O=Math.round(255*E.V()),i=Math.round(8*E.V());
G.translate(i,0);var C=G.createLinearGradient(0,0,O,0);C.addColorStop(0,"black");C.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.iq]);
G.fillStyle=C;G.fillRect(0,0,O,i);var M=this.faL,D=YP.get(this.fnr)+":";M[0].textContent=D;for(var X=0;
X<4;X++){var l=this.IC[X];M[1+X].textContent=l;var f=Math.round(l*E.V());G.beginPath();G.moveTo(f,i);
G.lineTo(f,i+i);G.lineTo(f+((X&1)==0?-1:1)*i,i+i);G.closePath();G.fillStyle="#cccccc";G.fill();G.strokeStyle="black";
G.stroke()}};function Xk(S){YS.call(this);this.UT=0;this.alt=0;var G="ai"+E.Xz();this.M=E._("span","fitem angleinput");
if(S){this.hb=E._("label","flabel");this.SI=S;this.M.appendChild(this.hb);this.hb.setAttribute("for",G)}this.j$=20;
this.vd=E._("canvas","gsicon");this.Vj=this.vd.getContext("2d");E.cl(this.vd,this.j$*2+1,this.j$*2+1,this.Vj);
this.M.appendChild(this.vd);E.qG(this.vd,this.yP.bind(this));this.my=this.AF.bind(this);this.mq=this.kh.bind(this);
this.bC=E._("input","");this.bC.setAttribute("type","text");this.M.appendChild(this.bC);this.bC.setAttribute("id",G);
this.bC.addEventListener("change",this.IE.bind(this),!1);this.sj=E._("span","");this.sj.innerHTML="\xB0";
this.M.appendChild(this.sj);this.P(this.UT,this.alt)}Xk.prototype=new YS;Xk.prototype.$=function(){this.hb.textContent=YP.get(this.SI)+":"};
Xk.prototype.B$=function(S){this.hb.textContent=S};Xk.prototype.j=function(){return{UT:this.UT,alt:this.alt}};
Xk.prototype.P=function(S,G){if(S!=null)this.UT=S;if(G!=null)this.alt=G;this.bC.value=this.UT;S=Math.PI*this.UT/180;
G=.9*this.j$*(90-this.alt)/90;var j=this.j$+.5,z=this.Vj;z.clearRect(0,0,100,100);z.strokeStyle="#000000";
z.beginPath();z.arc(j,j,.9*this.j$,0,2*Math.PI);z.moveTo(j,j);z.lineTo(j+Math.cos(S)*this.j$*.9,j-Math.sin(S)*this.j$*.9);
z.stroke();z.strokeStyle="#ff0000";z.beginPath();z.moveTo(j+Math.cos(S)*G-3,j-Math.sin(S)*G);z.lineTo(j+Math.cos(S)*G+3,j-Math.sin(S)*G);
z.moveTo(j+Math.cos(S)*G,j-Math.sin(S)*G-3);z.lineTo(j+Math.cos(S)*G,j-Math.sin(S)*G+3);z.stroke()};
Xk.prototype.IE=function(S){var G=parseInt(this.bC.value);G=G%360;this.P(G);this.D(new L(E.E.F,!1))};
Xk.prototype.yP=function(S){E.hM(window,this.my);E.hh(window,this.mq);this.AF(S)};Xk.prototype.AF=function(S){var G=E.cV(S,this.vd),j=G.x-this.j$,z=G.y-this.j$,O=180*Math.atan2(-z,j)/Math.PI,i=90-90*Math.min(1,Math.sqrt(j*j+z*z)/(.9*this.j$));
this.P(Math.round(O),Math.round(i));this.D(new L(E.E.F,!1))};Xk.prototype.kh=function(S){this.D(new L(E.E.F,!1));
E.JR(window,this.my);E.li(window,this.mq)};function MA(S,G){YS.call(this);this.IC=0;this.Kb=G;this.M=E._("span","fitem angleinput");
if(S){this.hb=E._("label","flabel");this.SI=S;this.M.appendChild(this.hb)}this.vd=E._("canvas","gsicon");
this.Vj=this.vd.getContext("2d");E.cl(this.vd,G,G);this.M.appendChild(this.vd);E.qG(this.vd,this.yP.bind(this));
this.my=this.AF.bind(this);this.mq=this.kh.bind(this);this.P(0)}MA.prototype=new YS;MA.prototype.$=function(){if(this.SI)this.hb.textContent=YP.get(this.SI)+":"};
MA.prototype.B$=function(S){this.hb.textContent=S};MA.prototype.j=function(){return this.IC};MA.prototype.P=function(S){this.IC=S;
var G=this.vd.width,j=Math.floor(S/3),z=S-3*j,O=(z+.5)*G/3,i=(j+.5)*G/3,C=this.Vj,M=[.5,Math.round(G/3)+.5,Math.round(2*G/3)+.5,G-.5];
C.clearRect(0,0,G,G);var D=this.Kb<30;C.setLineDash([]);C.strokeStyle=D?"rgba(0,0,0,0.5)":"#000000";
C.beginPath();for(var X=0;X<4;X++){var l=M[X];C.moveTo(l,0);C.lineTo(l,G);C.moveTo(0,l);C.lineTo(G,l)}C.stroke();
if(S==9)return;if(!D){C.setLineDash([1,2]);var f=G*.53,F=Math.max(0,Math.min(G-f,O-f/2)),$=Math.max(0,Math.min(G-f,i-f/2));
C.strokeRect(Math.round(F)+.5,Math.round($)+.5,Math.round(f),Math.round(f))}C.fillStyle="#000000";C.beginPath();
C.arc(O,i,G/8,0,Math.PI*2);C.fill()};MA.prototype.yP=function(S){E.hM(window,this.my);E.hh(window,this.mq);
this.AF(S)};MA.prototype.AF=function(S){var G=E.cV(S,this.vd),j=Math.max(0,Math.min(2,Math.floor(G.x/(this.Kb/3)))),z=Math.max(0,Math.min(2,Math.floor(G.y/(this.Kb/3))));
this.P(z*3+j)};MA.prototype.kh=function(S){this.D(new L(E.E.F,!1));E.JR(window,this.my);E.li(window,this.mq)};
function Ys(S,G,j,z){YS.call(this);this.M=E._("button","fitem"+(G?" spread":"")+(z?" bbtn":""));this.SI=S;
this.ex=j;this.$();this.M.addEventListener("click",this.Qs.bind(this),!1)}Ys.prototype=new YS;Ys.prototype.$=function(){var S=this.M,G=this.SI,j=this.ex,z=YP.get(G);
S.innerHTML=z;if(z.startsWith("<img"))S.setAttribute("style","padding:2px");if(j){S.setAttribute("title",YP.get(j))}};
Ys.prototype.fJq=function(S){this.M.setAttribute("title",S)};Ys.prototype.Qs=function(S){this.D(new L("click",!1))};
Ys.prototype.hU=function(){E.Zb(this.M,"bactive")};Ys.prototype.dp=function(){E.uW(this.M,"bactive")};
Ys.prototype.B$=function(S,G){if(S)this.SI=S;if(G)this.ex=G;this.$()};Ys.prototype.P=function(S){if(S)this.hU();
else this.dp()};Ys.prototype.Ev=function(){return this.M.getAttribute("class").indexOf("bactive")!=-1};
Ys.prototype.j=function(){return this.Ev()};function Sw(S){YS.call(this);this.M=E._("span","fitem cswatch");
this.fzr=0;this.JH=[];this.XW=[];var G=this.fvG.bind(this);for(var j=0;j<S;j++){this.JH.push(0);var z=E._("span","colorsample");
z.addEventListener("click",G,!1);this.XW.push(z);this.M.appendChild(z)}var O=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],i=Math.min(S,O.length);
for(var j=0;j<i;j++)this.JH[j]=O[j];this.iM()}Sw.prototype=new YS;Sw.prototype.fvG=function(S){this.fzr=this.XW.indexOf(S.currentTarget);
this.D(new L(E.E.F))};Sw.prototype.j=function(){return this.JH[this.fzr]};Sw.prototype.P=function(S){var G=this.JH,j=G.indexOf(S);
if(j!=-1)G.splice(j,1);else G.pop();G.unshift(S);this.iM()};Sw.prototype.iM=function(){for(var S=0;S<this.JH.length;
S++){this.XW[S].setAttribute("style","background-color:#"+x.zt(this.JH[S]))}};function fQ(S){YS.call(this);
this.ig=!1;this.b$={H:0,X:0,C:0};this.lB=S;this.M=E._("span","fitem colorsample");this.M.addEventListener("click",this.Qs.bind(this),!1)}fQ.prototype=new YS;
fQ.prototype.$=function(){};fQ.prototype.fXy=function(S){if(this.ig==S)return;this.ig=S;this.mP()};fQ.prototype.Qs=function(S){var G=this.b$;
this.D(new L("click"));var j=new L(E.E.e,!0);j.data={r:E.a.YO,pv:"colorpicker",AE:G.H<<16|G.X<<8|G.C,xK:this.Dr.bind(this),iu:this.lB};
this.D(j)};fQ.prototype.Dr=function(S){this.dq(S);this.D(new L(E.E.F))};fQ.prototype.faP=function(){this.Qs(null)};
fQ.prototype.mY=function(){var S=this.b$;return S.H<<16|S.X<<8|S.C};fQ.prototype.j=function(){return x.T.qL(this.b$)};
fQ.prototype.dq=function(S){this.b$={H:S>>16&255,X:S>>8&255,C:S&255};this.mP()};fQ.prototype.P=function(S){this.b$=x.T.cx(S);
this.mP()};fQ.prototype.mP=function(){var S=this.b$,G=S.H,j=S.X,z=S.C;if(this.ig)G=j=z=Math.round(x.cJ(G,j,z));
var O=G<<16|j<<8|z;this.M.setAttribute("style","background-color:#"+x.zt(O))};function Xr(S){Cz.call(this,S,!1,"brushbutton nopadding",16.6,10,o$.bk,!0);
this.Kq=new fM([12,14,0],1,1e3," px",0,!0);this.Kq.n(E.E.F,this.ffz,this);this.RB.appendChild(this.Kq.M);
this.qI=new fM([12,17],0,100,"%");this.qI.n(E.E.F,this.ffz,this);this.RB.appendChild(this.qI.M)}Xr.prototype=new Cz;
Xr.prototype.yC=function(S){var G=this.M.getBoundingClientRect();this.fCN(G.left,G.top+G.height)};Xr.prototype.fCN=function(S,G){this.VA();
var j=new L(E.E.e,!0);j.data={r:E.a.Jt,pZ:this.hp,x:S,y:G};this.D(j)};Xr.prototype.P=function(S,G,j){this.mD=JSON.parse(JSON.stringify(S));
var z=Math.floor(20*E.V()),O=Math.floor(36*E.V()),i=Math.floor(24*E.V()),C=fs.QE(S,G,j,z,i,O);this.kD.setAttribute("src",C);
E.bV(this.kD,O,i);var M=S.Brsh.v;this.Kq.P(M.Dmtr.v.val);if(M.Hrdn!=null){this.qI.UE();this.qI.P(M.Hrdn.v.val)}else this.qI._S();
this.Ph.Ba(-1)};Xr.prototype.Dh=function(){return{list:[{t:"Objc",v:this.j()}],qH:[],ki:[]}};Xr.prototype.j=function(){return this.mD};
Xr.prototype.VA=function(){if(!this.Hi)return;var S=[],G=[],j=this.hY,z=Math.floor(33*E.V()),O=Math.floor(40*E.V());
for(var i=0;i<j.list.length;i++){var C=j.list[i].v,M=fs.QE(C,j.qH,j.ki,z,O);S.push(M);G.push(C.Nm.v.split("=").pop())}this.Ph.uq(S,G,z,O);
this.Hi=!1};Xr.prototype.HW=function(S){var G=this.hY;this.P(G.list[this.Ph.j()].v,G.qH,G.ki);this.D(new L(E.E.F))};
Xr.prototype.$=function(){Cz.prototype.$.call(this);this.Kq.$();this.qI.$()};Xr.prototype.ffz=function(S){var G=this.hY,j=this.mD;
j.Brsh.v.Dmtr.v.val=this.Kq.j();if(j.Brsh.v.Hrdn!=null)j.Brsh.v.Hrdn.v.val=this.qI.j();this.P(j,G.qH,G.ki);
this.D(new L(E.E.F))};function Mq(S){Cz.call(this,S,!0,"contourbutton",17,10.5,o$.rv)}Mq.prototype=new Cz;
Mq.prototype.HW=function(S){this.P(this.hY[S.target.j()]);this.D(new L(E.E.F))};Mq.prototype.sL=function(S){var G=new L(E.E.e,!0);
G.data={r:E.a.YO,pv:"contoureditor",G:this.mD,response:this.fap.bind(this)};this.D(G)};Mq.prototype.fap=function(S){this.P(S);
this.D(new L(E.E.F))};Mq.prototype.VA=function(){if(!this.Hi)return;var S=Math.floor(38*E.V()),G=Math.floor(38*E.V()),j=[],z=[],O=this.hY;
for(var i=0;i<O.length;i++){z.push(O[i].Nm?O[i].Nm.v:"");j.push(x.aY.QE(O[i].Crv.v,S,G))}this.Ph.uq(j,z,S,G);
this.Hi=!1};Mq.prototype.P=function(S){this.mD=JSON.parse(JSON.stringify(S));var G=this.mD.Crv.v;for(var j=0;
j<G.length;j++)if(G[j].v.Cnty==null)G[j].v.Cnty={t:"bool",v:!0};this._g()};Mq.prototype._g=function(){var S=Math.floor(30*E.V()),G=Math.floor(30*E.V()),j=x.aY.QE(this.mD.Crv.v,S,G);
this.kD.setAttribute("src",j);E.bV(this.kD,S,G)};Mq.prototype.j=function(){return JSON.parse(JSON.stringify(this.mD))};
function XI(S){YS.call(this);this.Ji=null;this.G$=null;this.Ou=null;this.$C=null;this.fKI=[];this.fWn=[];
this.M=E._("span","fitem fillbutton");this.hp=new YS;this.hp.M=E._("div","floatcont form");this.hp.M.setAttribute("style","width: 21em;");
this.hp.parent=this;this.lO=S;this.hb=this.hb=E._("label","flabel");this.M.appendChild(this.hb);this.vd=E._("canvas");
this.Vj=this.vd.getContext("2d");this.fWD=null;this.M.appendChild(this.vd);this.vd.addEventListener("click",this.yC.bind(this),!1);
this.E_=new Xv([12,66],["","Color","Grad","Patt"]);this.hp.M.appendChild(this.E_.M);this.E_.n(E.E.F,this.SE,this);
this.hp.M.appendChild(E._("hr"));this.fAm=E._("span");this.Er=new fQ(!0);this.Er.parent=this.hp;this.Er.n(E.E.F,this.SE,this);
this.$z=new Sw(10);this.$z.n(E.E.F,this.SE,this);this.qU=E._("div","marged hiline");this.qU.appendChild(this.Er.M);
E.yn(this.qU);this.qU.appendChild(this.$z.M);this.se=new Md("GrFl",!0);this.se.parent=this.hp;this.se.n(E.E.F,this.SE,this);
this.KF=E._("div","marged hiline");var G="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var j=0;
j<G.length;j++){var z=this.se.GU[G[j]].M;this.KF.appendChild(z)}this.mc=new Md("patternFill",!0);this.mc.parent=this.hp;
this.mc.n(E.E.F,this.SE,this);this.WC=E._("div","marged hiline");var G=["Ptrn","Scl","Algn","phase"];
for(var j=0;j<G.length;j++){var z=this.mc.GU[G[j]].M;this.WC.appendChild(z)}}XI.prototype=new YS;XI.prototype.uQ=function(S,G){if(G==o$.lY){this.fKI=[];
this.fWn=[];if(this.Ji)this.P(this.Ou,this.j(),this.Ji)}this.G$=S;this.se.uQ(S,G);this.mc.uQ(S,G)};XI.prototype.$=function(){this.hb.textContent=YP.get(this.lO)+": ";
this.E_.$();this.Er.$();this.se.$();this.mc.$()};XI.prototype.SE=function(S){var G=S.currentTarget;if(G==this.E_){var j=this.E_.j(),z={Gu:j,tZ:this.Ji[j]};
if(j>0&&z.tZ==null)z.tZ=JSON.parse(JSON.stringify(n.JL[j-1]));if(this.Ji)this.P(this.Ou,z,this.Ji)}if(G==this.$z)this.Er.dq(G.j());
this.D(new L(E.E.F,!1))};XI.prototype.yC=function(S){var G=this.vd.getBoundingClientRect(),j=new L(E.E.e,!0);
j.data={r:E.a.Jt,pZ:this.hp,x:G.left,y:G.top+G.height+4};this.D(j);this.$z.P(this.Er.mY())};XI.prototype.P=function(S,G,j){this.Ji=j;
this.Ou=S;var z=[[13,1,0],[13,0],[12,37],[12,62]],O=this.fKI,i=this.fWn,C=!1,f;for(var M=0;M<4;M++){var D={Gu:M,tZ:j[M]},X=XI.fCf(D);
if(i[M]==X)continue;C=!0;var l=XI.fuv(null,D,this.G$,this.Ou,22,22,!1);O[M]="<img width=\"22\" height=\"22\" src=\""+l+"\" />";
i[M]=X}if(C)this.E_.el(O,z);this.E_.P(G.Gu);var X=XI.fCf(G);if(X!=this.fWD)XI.fuv(this.Vj,G,this.G$,this.Ou,30,23,!0);
this.fWD=X;var F=G.Gu;if(F==0){f=this.fAm}if(F==1){this.Er.P(G.tZ.Clr.v);f=this.qU}if(F==2){this.se.update(S,G.tZ);
f=this.KF}if(F==3){this.mc.update(S,G.tZ);f=this.WC}if(f!=this.$C){if(this.$C!=null){this.hp.M.removeChild(this.$C)}this.hp.M.appendChild(f);
this.$C=f}};XI.prototype.j=function(){var S={Gu:this.E_.j()};if(S.Gu==1){S.tZ=JSON.parse(JSON.stringify(n.JL[0]));
S.tZ.Clr.v=this.Er.j()}if(S.Gu==2){S.tZ=this.se.j()}if(S.Gu==3){S.tZ=this.mc.j()}return S};XI.fCf=function(S){var G=S.Gu,j=S.tZ,z="empty";
if(G==1){z=x.T.cx(j.Clr.v);z=z.H+","+z.X+","+z.C}if(G==2)z=JSON.stringify(j.Grad.v);if(G==3)z=j.Ptrn.v.Idnt.v;
return z};XI.fuv=function(S,G,j,z,O,i,C){if(S==null)S=XI.Vj;var M=Math.floor(O*E.V()),D=Math.floor(i*E.V()),X=S.canvas,l;
X.width=M;X.height=D;E.bV(X,M,D);var f=G.Gu;if(f==0){S.fillStyle="#ffffff";S.fillRect(0,0,M,D);S.strokeStyle="#ff0000";
S.lineWidth=2;S.moveTo(0,0);S.lineTo(M,D);S.moveTo(0,D);S.lineTo(M,0);S.stroke()}if(f==1){var F=G.tZ.Clr.v;
F=x.T.cx(F);S.fillStyle="#"+x.zt(F.H<<16|F.X<<8|F.C);S.fillRect(0,0,M,D)}if(f==2){t.cE.QE(G.tZ.Grad.v,M,D,0,j.Cj,j.iw,X)}if(f==3){var $=G.tZ.Ptrn.v,_;
if(z!=null)_=Yv.m_($,z.add.Patt);if(_==null)_=Yv.m_($,j.Ax);SS.QE(_,M,D,X)}if(C){S.beginPath();S.strokeStyle="#000000";
S.fillStyle="#ffffff";S.lineWidth=2;var P=M*.7,k=Math.floor(D*.7),H=7*E.V();S.moveTo(P,k);S.lineTo(P+H,k);
S.lineTo(P+H/2,k+H/2);S.closePath();S.stroke();S.fill()}if(S==XI.Vj)return X.toDataURL()};XI.Vj=E._("canvas").getContext("2d");
function SS(S){Cz.call(this,S,!1,"patternbutton",18,10,o$.lY);this.iO=null}SS.prototype=new Cz;SS.prototype.HW=function(S){var G=this.hY[this.Ph.j()];
this.mD={classID:"Ptrn",Nm:{t:"TEXT",v:G.name},Idnt:{t:"TEXT",v:G.id}};this.D(new L(E.E.F));this._g()};
SS.Md=!1;SS.prototype.VA=function(){if(!this.Hi)return;var S=this.hY;if(S==null||!SS.Md){var G=new L(E.E.e,!0);
G.data={r:E.a.mH,zC:{url:"rsrc/basic/basic.pat"}};this.D(G);SS.Md=!0;return}var j=Math.floor(34*E.V()),z=Math.floor(34*E.V()),O=[],i=[];
for(var C=0;C<S.length;C++){O.push(SS.QE(S[C],j,z));i.push(S[C].name)}this.Ph.uq(O,i,j,z);this.Hi=!1};
SS.prototype.P=function(S,G){if(this.mD&&S.Idnt.v==this.mD.Idnt.v)return;this.mD=JSON.parse(JSON.stringify(S));
this._g(G)};SS.prototype.j=function(){return JSON.parse(JSON.stringify(this.mD))};SS.prototype.Dh=function(){return this.iO?[this.iO]:[]};
SS.prototype._g=function(S){var G=Math.floor(50*E.V()),j=Math.floor(50*E.V()),z;if(S!=null)z=Yv.m_(this.mD,S.add.Patt);
if(z==null)z=Yv.m_(this.mD,this.hY);this.iO=z;var O=SS.QE(z,G,j);this.kD.setAttribute("src",O);E.bV(this.kD,G,j)};
SS.Io=E._("canvas","");SS.QE=function(S,G,j,z){if(z==null)z=SS.Io;var O=z.getContext("2d");z.width=G;
z.height=j;if(S){var i=S.L.o,C=S.L.i,M=S.hC,D=Math.min(G/ i,j/C),X=D;if(X*i<2)X=2/ i;var l=D;if(l*C<2)l=2/C;
var f=t.Gh.vh([M,S.L],new Ym(X,0,0,l,0,0),!1),F=f.rect.o,$=f.rect.i,_=O.createImageData(F,$);x.Fj(f.buffer,_.data);
O.putImageData(_,Math.floor((G-F)/2),Math.floor((j-$)/2))}return z.toDataURL()};function oh(S){Cz.call(this,S,!1,"patternbutton",24.2,17,o$.ql);
this.Ro=""}oh.prototype=new Cz;oh.prototype.HW=function(S){this.mD=JSON.parse(JSON.stringify(this.hY[0][this.Ph.j()]));
this.D(new L(E.E.F))};oh.prototype.VA=function(){var S=this.hY;if(S==null||!this.Hi)return;var G=Math.floor(50*E.V()),j=Math.floor(50*E.V()),z=[],O=[];
for(var i=0;i<S[0].length;i++){z.push(oh.QE(this.hY[0][i].qi,G,j,this.hY[1]));O.push(S[0][i].kT.Nm.v.split("=").pop())}this.Ph.uq(z,O,G,j);
this.Hi=!1};oh.prototype.P=function(S,G,j,z){var O=JSON.stringify(S.qi)+","+j+","+z;if(this.Ro!=O){this.Ro=O;
this.mD=JSON.parse(JSON.stringify(S));this._g(G,j,z)}this.Ph.Ba(-1)};oh.prototype.j=function(){return JSON.parse(JSON.stringify(this.mD))};
oh.prototype._g=function(S,G,j){var z=Math.floor(68*E.V()),O=Math.floor(68*E.V()),i=oh.QE(this.mD.qi,z,O,S?S:this.hY[1],G,j);
this.kD.setAttribute("src",i);E.bV(this.kD,z,O)};oh.QE=function(S,G,j,z,O,i){var C=new Yi;C.o=G;C.i=j;
C.buffer=x.S(G*j*4);C.add.Patt=z;C.fz(O==null?90:O);C.ip(i==null?30:i);var M=new Q(0,0,Math.round(G*.5),Math.round(j*.5));
M.x=Math.round((G-M.o)/2);M.y=Math.round((j-M.i)/2);var D=C.YJ();D.rect=M;D.buffer=x.S(M.h()*4);x.GC(D.buffer,4284045657);
Yv.fCG(S,D,.5*100);C.d.push(D);C.C$();C.I();var X=Z.Gp;Z.Gp=!1;C.qE();var l=C.yA();Z.Gp=X;var f=ot.Db(l.buffer,C.o,C.i);
return f};function Xb(S){Cz.call(this,null,!1,"tpresetbutton",18,24,o$.ve,!0);E.uW(this.M,"fitem");this.Ph.Qz(1);
this.id=S;this._g();this.WS=new YI([15,7,9]);this.WS.P(!0);this.WS.n(E.E.F,this.faW,this);this.Ju.appendChild(this.WS.M)}Xb.prototype=new Cz;
Xb.prototype.faz=function(S){if(this.id==S)return;this.id=S;this.dC(this.hY)};Xb.prototype.HW=function(S){var G=this.hY[this.Ph.j()],j=new L(E.E.e,!0);
j.data={r:E.a.zv,QD:"set",zC:o$.ve,hr:G};this.D(j)};Xb.prototype.$=function(){Cz.prototype.$.call(this);
this.WS.$()};Xb.prototype.faW=function(){this.Hi=!0;this.VA()};Xb.prototype.VA=function(){if(!this.Hi)return;
var S=Math.floor(16*E.V()),G=Math.floor(16*E.V()),j=[],z=[],O=this.hY,i=this.WS.j();for(var C=0;C<O.length;
C++){var M=t.FH(O[C]);if(!i||M==this.id){z.push(O[C][0]?O[C][0].split("=").pop():"");j.push(M==-1?"":PIMG[t.VI[M][0]])}else{j.push(null);
z.push(null)}}this.Ph.uq(j,z,S,G);this.Hi=!1};Xb.prototype._g=function(){var S=this.kD;S.setAttribute("src",PIMG[t.VI[this.id][0]]);
E.Zb(S,"toolicon")};Xb.prototype.Dh=function(){return null};Xb.mJ={};Xb.QE=function(S,G,j){var z=Xb.um,O=Xb.mJ,i=x.zt(S.H<<16|S.X<<8|S.C);
if(O[i])return O[i];if(z==null){var C=E._("canvas");z=Xb.um=C.getContext("2d")}var C=z.canvas;C.width=G;
C.height=j;z.fillStyle="#"+i;z.fillRect(0,0,G,j);var M=O[i]=C.toDataURL();return M};function Mg(S,G){YS.call(this);
this.M=E._("span","fitem curveeditor");this.dc=null;this.fsW=0;this.iq="";this.mode=0;this.$K=S;this.fAT=G;
this.WK=null;this.iQ=null;this.ik=new A;this.mU=this.AF.bind(this);this.mb=this.kh.bind(this);this.vd=E._("canvas","");
this.Vj=this.vd.getContext("2d");E.lN(this.vd);E.cl(this.vd,256,256,this.Vj);this.M.appendChild(this.vd);
E.qG(this.vd,this.yP.bind(this))}Mg.prototype=new YS;Mg.prototype.P=function(S,G){var j=JSON.stringify(S);
if(j==JSON.stringify(this.WK))return;this.mode=S.length==256?1:0;this.WK=JSON.parse(j);if(G!=null)this.iQ=this.WK[G];
this.Ms()};Mg.prototype.Qj=function(S,G,j){this.dc=S;this.fsW=G;this.iq=j;this.Ms()};Mg.prototype.j=function(){return JSON.parse(JSON.stringify(this.WK))};
Mg.prototype.fwq=function(){return this.WK.indexOf(this.iQ)};Mg.prototype.yP=function(S){var G=E.cV(S,this.vd),j=G.x,z=256-G.y;
if(this.$K){var O=j;j=256-z;z=O}this.ik.cK(j,z);if(this.mode==0){var i=null;for(var C=0;C<this.WK.length;
C++){var M=this.WK[C].v,D=M.Hrzn.v-j,X=M.Vrtc.v-z,l=Math.sqrt(D*D+X*X);if(l<5)i=this.WK[C]}if(i==null){i=x.aY.VS(j,z,!0);
this.WK.push(i)}this.iQ=i}E.hM(document.body,this.mU);E.hh(document.body,this.mb);this.AF(S)};Mg.prototype.AF=function(S){var G=E.cV(S,this.vd),j=G.x,z=256-G.y;
if(this.$K){var O=j;j=256-z;z=O}if(this.mode==0){var i=this.WK,C=this.fAT,M=i.indexOf(this.iQ),D=M==0||M==i.length-1,X=0,l=255,f=!0;
if(D){X=1;l=254}if(!C||!D)this.iQ.v.Hrzn.v=Math.max(X,Math.min(l,Math.round(j)));this.iQ.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(z)));
for(var F=0;F<i.length;F++){if(i[F]==this.iQ)continue;if(Math.abs(i[F].v.Hrzn.v-this.iQ.v.Hrzn.v)<2)f=!1}if(j<0||j>255||z<0||z>255)f=!1;
if(f&&i.indexOf(this.iQ)==-1)i.push(this.iQ);if(!f&&i.indexOf(this.iQ)!=-1&&i.length>2&&(!C||!D))i.splice(i.indexOf(this.iQ),1);
if(i[0].v.Hrzn.v==i[1].v.Hrzn.v)if(i[0].v.Hrzn.v==0)i[1].v.Hrzn.v=1;else i[0].v.Hrzn.v--;i.sort(function(q,R){return q.v.Hrzn.v-R.v.Hrzn.v})}else{j=Math.round(j);
z=Math.round(z);j=Math.max(0,Math.min(255,j));z=Math.max(0,Math.min(255,z));var $=this.ik.x,_=j,P=this.ik.y,k=z;
if(j<this.ik.x){_=$;$=j;k=P;P=z}this.WK[j]=z;if($!=_)for(var H=$;H<=_;H++)this.WK[H]=Math.round(P+(H-$)*(k-P)/(_-$))}this.ik.cK(j,z);
this.Ms();this.D(new L(E.E.F))};Mg.prototype.kh=function(S){E.JR(document.body,this.mU);E.li(document.body,this.mb);
this.D(new L(E.E.F))};Mg.prototype.Ms=function(){var S=this.Vj;S.fillStyle="#ffffff";S.fillRect(0,0,256,256);
if(this.dc){S.translate(0,256);S.scale(1,-1);XX.fls(S,this.dc,5700/this.fsW,this.iq);S.scale(1,-1);S.translate(0,-256)}S.strokeStyle="#aaaaaa";
S.lineWidth=1;S.beginPath();for(var G=1;G<4;G++){S.moveTo(0,64*G-.5);S.lineTo(255,64*G-.5);S.moveTo(64*G-.5,0);
S.lineTo(64*G-.5,255)}S.stroke();if(this.$K){S.save();S.transform(0,1,-1,0,256,0)}if(this.mode==0){var j=this.WK,z=x.aY.Yz(j,256);
S.strokeStyle="#000000";S.beginPath();S.moveTo(0,255.5-z[0]);for(var G=0;G<256;G++)S.lineTo(G,255.5-z[G]);
S.stroke();S.lineWidth=2;for(var G=0;G<j.length;G++){var O=j[G].v;S.fillStyle=this.iQ==j[G]?"#333":"#fff";
S.beginPath();S.moveTo(O.Hrzn.v,255.5-O.Vrtc.v);S.arc(O.Hrzn.v,255.5-O.Vrtc.v,3,0,2*Math.PI);S.stroke();
S.fill()}}else{var z=this.WK;S.strokeStyle="#000000";S.beginPath();S.moveTo(0,255.5-z[0]);for(var G=0;
G<256;G++)S.lineTo(G,255.5-z[G]);S.stroke()}if(this.$K)S.restore()};function XX(S){YS.call(this);this.M=E._("span","");
this.WW=new Yh([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.WW.n(E.E.F,this.iC,this);this.M.appendChild(this.WW.M);
E.yn(this.M);this.Io=E._("canvas");var G=this.Io;this.M.appendChild(G);G.width=Math.round(S*E.V());G.height=Math.round(100*E.V());
E.bV(G,G.width,G.height);this.um=G.getContext("2d");this.dc=null;this.SJ=0}XX.prototype=new YS;XX.prototype.$=function(){this.WW.$()};
XX.prototype.Qz=function(S){this.WW.P(S);this.iC()};XX.prototype.P=function(S){this.dc=S;this.iC()};
XX.prototype.dq=function(S){if(S==this.SJ)return;this.SJ=S;this.iC()};XX.prototype.iC=function(){if(this.dc==null)return;
var S=this.Io,G=this.um,j=this.dc,z=this.WW.j(),O=6e3/j[4],i="#"+x.zt(this.SJ),C=XX.fls;S.width=S.width;
G.setTransform(S.width/256,0,0,-S.height/100,0,S.height);G.globalCompositeOperation="lighter";if(z==0)C(G,j[0],O/3,i);
else if(z<4)C(G,j[z],O,i);else{C(G,j[1],O,"#ff0000");C(G,j[2],O,"#00ff00");C(G,j[3],O,"#0000ff")}G.setTransform(1,0,0,1,0,0)};
XX.fls=function(S,G,j,z){S.beginPath();S.moveTo(0,0);for(var O=0;O<256;O++)S.lineTo(O,G[O]*j);S.lineTo(256,0);
S.closePath();S.fillStyle=z;S.fill()};function CH(S){YS.call(this);this.De={H:0,X:0,C:0};if(Math.abs(S-256/E.V())<10)S=256/E.V();
var G=this.M=E._("div","flexrow");this.vS=new A;this.Jq=new A;this.my=this.fSW.bind(this);this.mq=this.fah.bind(this);
this.vd=E._("canvas","");this.Vj=this.vd.getContext("2d");this.vd.width=this.vd.height=256;this.fAZ=this.Vj.getImageData(0,0,256,256);
this.fmb=-1;E.lN(this.vd);E.qG(this.vd,this.fay.bind(this));G.appendChild(this.vd);this.fQ_=this.fW_.bind(this);
this.fTW=this.fpA.bind(this);this.dt=E._("canvas","");this.lU=this.dt.getContext("2d");this.dt.width=20;
this.dt.height=256;this.fZo=this.lU.getImageData(0,0,20,256);this.faJ(this.fZo.data,20,256);E.lN(this.dt);
E.qG(this.dt,this.fpn.bind(this));G.appendChild(this.dt);this.vd.setAttribute("style","width:"+S+"px; height:"+S+"px");
this.dt.setAttribute("style","width:"+20/E.V()+"px; height:"+S+"px")}CH.prototype=new YS;CH.prototype.yd=function(S,G){this.vd.style.width=S+"px"};
CH.prototype.P=function(S){this.De=S;this.update()};CH.prototype.j=function(){return JSON.parse(JSON.stringify(this.De))};
CH.prototype.update=function(){var S=this.De,G=x.Lm(S.H,S.X,S.C);if(G.Gf==0)G.sN=this.vS.x/255;if(G.sN==0||G.Gf==0)G.QM=(255-this.wr(this.Jq.y))/255;
if(G.Gf!=0)this.vS.x=G.sN*255;this.vS.y=(1-G.Gf)*255;this.Jq.y=(1-G.QM)*255;var j=this.fAZ;if(Math.abs(G.QM-this.fmb)>.002){this.faQ(j.data,256,256,G.QM);
this.fmb=G.QM}this.Vj.putImageData(j,0,0);this.Vj.strokeStyle="#000000";this.Vj.beginPath();this.Vj.arc(this.vS.x+1,this.vS.y+1,5,0,2*Math.PI);
this.Vj.stroke();this.Vj.strokeStyle="#ffffff";this.Vj.beginPath();this.Vj.arc(this.vS.x,this.vS.y,5,0,2*Math.PI);
this.Vj.stroke();var j=this.fZo;this.lU.putImageData(j,0,0);this.lU.strokeStyle="#ffffff";this.lU.beginPath();
this.lU.moveTo(0,this.Jq.y);this.lU.lineTo(20,this.Jq.y);this.lU.lineWidth=2;this.lU.stroke()};CH.prototype.faQ=function(S,G,j,z){var O=1/G,i=1/j;
for(var C=0;C<j;C++)for(var M=0;M<G;M++){var D=x.HV(z,M*O,(j-C-1)*i),X=C*G+M<<2;S[X+0]=~~(D.H*255);S[X+1]=~~(D.X*255);
S[X+2]=~~(D.C*255);S[X+3]=255}};CH.prototype.faJ=function(S,G,j){var z=new Uint32Array(S.buffer);for(var O=0;
O<j;O++){var i=x.HV(1-O/j,1,1),C=255<<24|i.C*255<<16|i.X*255<<8|i.H*255;for(var M=0;M<G;M++)z[O*G+M]=C}};
CH.prototype.fay=function(S){E.hM(window,this.my);E.hh(window,this.mq);this.fSW(S)};CH.prototype.fah=function(S){E.JR(window,this.my);
E.li(window,this.mq)};CH.prototype.fSW=function(S){var G=E.cV(S,this.vd);G.x=G.x*(256/parseFloat(this.vd.style.width));
G.y=G.y*(256/parseFloat(this.vd.style.height));this.vS.cK(this.wr(G.x),this.wr(G.y));this.cr()};CH.prototype.cr=function(){this.De=this.faU();
this.D(new L(E.E.F))};CH.prototype.faU=function(){var S=x.HV((255-this.wr(this.Jq.y))/255,this.Ta(this.vS.x/255),this.Ta(1-this.vS.y/255));
return{H:S.H,X:S.X,C:S.C}};CH.prototype.fpn=function(S){E.hM(window,this.fQ_);E.hh(window,this.fTW);
this.fW_(S)};CH.prototype.fpA=function(S){E.JR(window,this.fQ_);E.li(window,this.fTW)};CH.prototype.fW_=function(S){var G=E.cV(S,this.dt);
G.y=G.y*(256/parseFloat(this.dt.style.height));this.Jq.cK(this.wr(G.x),this.wr(G.y));this.cr()};CH.prototype.wr=function(S){return Math.max(0,Math.min(255,S))};
CH.prototype.Ta=function(S){return Math.max(0,Math.min(1,S))};function Xv(S,G){YS.call(this);if(!G)return;
this.zH=0;this.M=E._("span","fitem bbmenu");if(S){this.SI=S;this.hb=E._("label","flabel");this.hb.textContent=S+":";
this.M.appendChild(this.hb)}this.qq=[];this.WA=null;this.el(G);this.P(0)}Xv.prototype=new YS;Xv.prototype.B$=function(S){this.SI=S;
this.$()};Xv.prototype.$=function(){if(this.SI!=null){this.hb.textContent=YP.get(this.SI)+": "}for(var S=0;
S<this.qq.length;S++)this.qq[S].$()};Xv.prototype.j=function(){return this.zH};Xv.prototype.el=function(S,G){while(this.qq.length>0)this.M.removeChild(this.qq.pop().M);
this.WA=S;for(var j=0;j<S.length;j++){var z=new Ys(S[j],!1,G?G[j]:null);z.n("click",this.IE,this);this.M.appendChild(z.M);
this.qq.push(z)}this.$()};Xv.prototype.P=function(S){this.zH=S;for(var G=0;G<this.qq.length;G++)this.qq[G].dp();
this.qq[S].hU()};Xv.prototype.IE=function(S){var G=this.qq.indexOf(S.target);this.P(G);this.D(new L(E.E.F,!1))};
function Sb(S,G){var j=Sb.fpl;Xv.call(this,S,[j[G[0]],j[G[1]],j[G[2]]])}Sb.prototype=new Xv;Sb.fpl=["<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />","<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEV5eXkrfmUiAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />","<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEX///+nxBvIAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />","<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////IyMhc4gNCAAAAEElEQVR4nGNg+M+AFeEQBgB+vw/xkaQUAAAAAABJRU5ErkJggg==\" />"];
function Yh(S,G,j,z){YS.call(this);if(!G)return;if(j==null)j=!1;this.zH=0;this.fAd=j;this.SI=S;this.$W=null;
this.fum=z;var O="dd"+E.Xz();this.M=E._("span","fitem ddmenu");if(S&&!j){this.hb=E._("label","flabel");
this.M.appendChild(this.hb);this.hb.setAttribute("for",O)}this.xQ=E._("select","bbtn");this.xQ.setAttribute("id",O);
this.M.appendChild(this.xQ);this.xQ.addEventListener("change",this.IE.bind(this),!1);this.qq=[];this.WA=null;
this.el(G,z);this.$()}Yh.prototype=new YS;Yh.prototype.B$=function(S){this.SI=S;this.$()};Yh.prototype.$=function(){if(this.SI!=null){var S=YP.get(this.SI);
if(this.fAd)this.xQ.setAttribute("title",S);else this.hb.textContent=S+":"}if(this.WA)this.el(this.WA,this.fum);
this.P(this.zH)};Yh.prototype.j=function(){return this.zH};Yh.prototype.el=function(S,G){E.Vk(this.xQ);
var j=[],O=0;if(G){j.push(G[0]);for(var z=1;z<G.length;z++)j.push(j[z-1]+G[z])}this.WA=S;this.$W=[];
this.fum=G;for(var z=0;z<S.length;z++){var i=E._("option");i.textContent=YP.get(S[z]);i.setAttribute("value",z);
this.xQ.appendChild(i);this.qq.push(i);this.$W.push(z+O);if(j.indexOf(z+1)!=-1&&z!=S.length-1){var C=E._("option");
C.setAttribute("disabled","");C.textContent="";this.xQ.appendChild(C);O++}}};Yh.prototype.P=function(S){this.zH=S;
this.xQ.selectedIndex=this.$W[S]};Yh.prototype.IE=function(S){this.zH=this.$W.indexOf(this.xQ.selectedIndex);
this.D(new L(E.E.F,!1))};function Xy(){YS.call(this);this.Wh=null;this.hV=new Sf;this.hV.n(E.E.F,this.fpj,this);
this.hV.parent=this;this.Ex=new YN([12,14,0],1,300,"px",0,!0);this.Ex.n(E.E.F,this.fph,this);this.Ex.parent=this;
this.UM=new CY([16,0]," px",3);this.UM.n(E.E.F,this.Jg,this);this.xD=new YN([16,1],-500,5e3,"%",0,!0);
this.xD.n(E.E.F,this.Jg,this);this.xD.parent=this;this.Jh=new YN("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);
this.Jh.n(E.E.F,this.Jg,this);this.Jh.parent=this;this.lp=new YN("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);
this.lp.n(E.E.F,this.Jg,this);this.lp.parent=this;this.ls=new YN([16,2],-10,10,"px");this.ls.n(E.E.F,this.Jg,this);
this.ls.parent=this;this.xq=new fQ(!0);this.xq.n(E.E.F,this.fpF,this);this.xq.parent=this;this.$s=new Ys("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.$m=new Ys("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.$Q=new Ys("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.$n=new Ys("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.$y=new Ys("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.$j=new Ys("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.$E=new Ys("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.$L=new Ys("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var S=[this.$s,this.$m,this.$Q,this.$n,this.$y,this.$j,this.$E,this.$L];
for(var G=0;G<S.length;G++)S[G].n("click",this.fpy,this);this.iE=new Ys("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.ib=new Ys("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.iG=new Ys("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.fuZ=new Ys("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.fda=new Ys("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.fcd=new Ys("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.fcE=new Ys("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.lZ=[this.iE,this.ib,this.iG,this.fuZ,this.fda,this.fcd,this.fcE];for(var G=0;G<this.lZ.length;G++)this.lZ[G].n("click",this.Jg,this);
var j=["lind","rind","flind","bind","aind"],z=[];for(var G=0;G<5;G++)z.push("<img src=\""+PIMG["par/"+j[G]]+"\" class=\"autoscale gsicon\" /> ");
this.WI=new YN(z[0],-20,20,"px");this.WI.n(E.E.F,this.Jg,this);this.WI.parent=this;this.WH=new YN(z[1],-20,20,"px");
this.WH.n(E.E.F,this.Jg,this);this.WH.parent=this;this.WB=new YN(z[2],-20,20,"px");this.WB.n(E.E.F,this.Jg,this);
this.WB.parent=this;this.WO=new YN(z[3],-20,20,"px");this.WO.n(E.E.F,this.Jg,this);this.WO.parent=this;
this.WE=new YN(z[4],-20,20,"px");this.WE.n(E.E.F,this.Jg,this);this.WE.parent=this;this.ld=new Xv([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.ld.n(E.E.F,this.Jg,this);this.ld.parent=this}Xy.prototype=new YS;Xy.prototype.$=function(){this.hV.$();
this.Ex.$();this.UM.$();this.xD.$();this.ls.$();this.Jh.$();this.lp.$();this.ld.$()};Xy.prototype.mz=function(S){this.cT=JSON.parse(JSON.stringify(S.cT));
var G=this.cT,j=G.Ed,z=G.HJ;this.$s.P(j.FauxBold!=null?j.FauxBold:!1);this.$m.P(j.FauxItalic!=null?j.FauxItalic:!1);
this.$Q.P(j.FontCaps==2);this.$n.P(j.FontCaps==1);this.$j.P(j.FontBaseline==1);this.$y.P(j.FontBaseline==2);
this.$E.P(j.Underline);this.$L.P(j.Strikethrough);this.hV.P(j.Font==null?null:G.GQ[j.Font].Name,S.UW,S._c);
var O=j.FontSize==null?20:j.FontSize;this.Ex.P(O);var i=j.Tracking;this.xD.P(i==null?0:i);if(j.AutoLeading)this.UM.P("Auto");
else this.UM.P(j.Leading);this.Jh.P((j.VerticalScale!=null?j.VerticalScale:0)*100);this.lp.P((j.HorizontalScale!=null?j.HorizontalScale:0)*100);
this.ls.P(j.BaselineShift!=null?j.BaselineShift:0);if(j.FillColor){var C=o_.cx(j);this.xq.dq(Math.round(C.H)<<16|Math.round(C.X)<<8|Math.round(C.C))}else this.xq.dq(0);
var M=z._Direction!=null?z._Direction:0,D=o_.f_(z);for(var X=0;X<this.lZ.length;X++)this.lZ[X].P(D==X);
this.ld.P(M);this.WI.P(z.StartIndent!=null?z.StartIndent:0);this.WH.P(z.EndIndent!=null?z.EndIndent:0);
this.WB.P(z.FirstLineIndent!=null?z.FirstLineIndent:0);this.WO.P(z.SpaceBefore!=null?z.SpaceBefore:0);
this.WE.P(z.SpaceAfter!=null?z.SpaceAfter:0)};Xy.prototype.s$=function(){var S=new L(E.E.e,!0);S.data={r:E.a.zv,zC:o$.aw,cT:this.cT};
this.D(S)};Xy.prototype.fpy=function(S){var G=this.cT.Ed,j=S.target,z=!j.Ev();if(j==this.$s)G.FauxBold=z;
if(j==this.$m)G.FauxItalic=z;if(j==this.$Q)G.FontCaps=z?2:0;if(j==this.$n)G.FontCaps=z?1:0;if(j==this.$j)G.FontBaseline=z?1:0;
if(j==this.$y)G.FontBaseline=z?2:0;if(j==this.$E)G.Underline=z;if(j==this.$L)G.Strikethrough=z;this.s$()};
Xy.prototype.Jg=function(S){var G=this.cT.Ed,j=this.cT.HJ,z=S.target;if(z==this.xD){var O=this.xD.j();
if(O==null)window.fAB("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
G.Tracking=O}if(z==this.UM){var i=this.UM.j().toLowerCase();G.AutoLeading=i=="auto";G.Leading=i=="auto"?40:parseInt(i)}if(z==this.Jh)G.VerticalScale=z.j()/100;
if(z==this.lp)G.HorizontalScale=z.j()/100;if(z==this.ls)G.BaselineShift=z.j();if(this.lZ.indexOf(z)!=-1){j.Justification=o_.f_(j,this.lZ.indexOf(z))}if(z==this.WI)j.StartIndent=z.j();
if(z==this.WH)j.EndIndent=z.j();if(z==this.WB)j.FirstLineIndent=z.j();if(z==this.WO)j.SpaceBefore=z.j();
if(z==this.WE)j.SpaceAfter=z.j();if(z==this.ld)j._Direction=z.j();this.s$()};Xy.prototype.fpj=function(S){var G=this.cT,j=this.hV.j(),z=-1;
for(var O=0;O<G.GQ.length;O++)if(G.GQ[O].Name==j)z=O;if(z==-1){z=G.GQ.length;var i=JSON.parse(JSON.stringify(G.GQ[0]));
i.Name=j;G.GQ.splice(z,0,i)}G.Ed.Font=z;this.s$()};Xy.prototype.fph=function(S){var G=parseFloat(this.Ex.j());
if(isNaN(G))return;this.cT.Ed.FontSize=G;this.s$()};Xy.prototype.fpF=function(S){var G=this.xq.mY(),j={Type:1,Values:[1,(G>>16&255)/255,(G>>8&255)/255,(G>>0&255)/255]};
for(var z=0;z<4;z++)j.Values[z]=Math.round(j.Values[z]*1e3)/1e3;this.cT.Ed.FillColor=j;this.s$()};function Sf(){YS.call(this);
this.M=E._("span","fontinput");this.JB=null;this.Df=null;this.mN=null;this.lc="";this.EP={};this.DY=[];
this.fyS={};this.DP=!1;this.bp=E._("button","fitem");this.bp.setAttribute("style","width:9em;");this.bp.textContent="Family Name \u25BC";
this.M.appendChild(this.bp);E.qG(this.bp,this.fse.bind(this));this.xy=new YS;this.xy.parent=this;this.xy.M=E._("div","floatcont");
this.xy.M.addEventListener("keyup",this.fpG.bind(this),!1);this.Dg=new oA(6.8);this.xy.M.appendChild(this.Dg.fzh());
this.Dg.parent=this.xy;this.Dg.n(E.E.F,this.Tp,this);var S=E._("div","form");this.xy.M.appendChild(S);
this.ll=new Ys(E.mu("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.ll.n("click",this.fzg,this);
S.appendChild(this.ll.M);this.vV=new CY([12,86],null,9);this.vV.n("input",this.ms,this);S.appendChild(this.vV.M);
var G=this.fAJ=new Ys([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);G.n("click",this.fpt,this);
G.M.style.marginLeft="1.5em";S.appendChild(G.M);this._O=E._("span","fitem imageset scrollable marged");
this._O.style.height="30em";this.xy.M.appendChild(this._O);this.yX=E._("button","fitem");this.yX.setAttribute("style","width:7em;");
this.yX.textContent="SubFamily Name \u25BC";this.M.appendChild(this.yX);E.qG(this.yX,this.fse.bind(this));
this.Wx=new YS;this.Wx.parent=this;this.Wx.M=E._("div","floatcont");this.DQ=E._("span","fitem imageset scrollable marged");
this.Wx.M.appendChild(this.DQ)}Sf.prototype=new YS;Sf.prototype.fpG=function(S){var G=0;if(w.GD(S.code,w.Hl))G=-1;
if(w.GD(S.code,w.Hy))G=1;if(G!=0){var j=this.DY,z=j.length,O=this.JB.Xe()[this.mN];if(O==null&&z==0)return;
var i=j.indexOf(O[0]);if(i==-1)return;i=(i+G+z)%z;this.mZ(j[i],null)}};Sf.prototype.fpt=function(){var S=new L(E.E.e,!0);
S.data={r:E.a.HZ,fAl:".otf,.ttf,.ttc"};this.D(S)};Sf.prototype.$=function(){this.Dg.$();this.fAJ.$();
this.ll.B$(E.mu("tools/cshape",null,"autoscale"))};Sf.prototype.fzg=function(S){this.ll.P(!this.ll.Ev());
this.Tp()};Sf.prototype.ms=function(S){this.lc=this.vV.j().toLowerCase();this.Tp()};Sf.prototype.fse=function(S){S.preventDefault();
S.stopPropagation();var G=S.currentTarget,j=G.getBoundingClientRect(),z=G==this.bp,O=z?this.xy:this.Wx;
if(E.Qb(O.M)){this.fzV(O);return}if(!z&&this.JB.Xe()[this.mN]==null)return;var i=new L(E.E.e,!0);i.data={r:E.a.Jt,pZ:O,x:j.left,y:j.top+j.height};
this.D(i);if(z){this.Tp();this.vV.MN()}};Sf.prototype.fzC=function(S){var G=S.currentTarget.firstChild.nextSibling.textContent;
if(S.target.tagName.toLowerCase()=="button"){var j=this.Df.slice(0),z=j.indexOf(G);if(z==-1){j=j.slice(Math.max(0,j.length-9));
j.push(G)}else j.splice(z,1);var O=new L(E.E.e,!0);O.data={r:E.a.zv,zC:o$.rq,Ha:j};this.D(O);this.DP=!0;
this.Tp()}else{this.mZ(G,null);this.vV.MN()}};Sf.prototype.fzs=function(S){this.mZ(null,S.currentTarget.firstChild.textContent)};
Sf.prototype.mZ=function(S,G){var j=S==null?this.Wx:this.xy,z=this.JB;if(S==null)S=z.Xe()[this.mN][0];
else{var O=z.xS(S),i=z.Xe()[this.mN];G=YH.xC(O,i?i[1]:"regular")}var C=z.fj(S,G)[2];this.P(C,z);this.D(new L(E.E.F,!1));
this.Tp()};Sf.prototype.fzV=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.Xj,pZ:S};this.D(G)};Sf.prototype.j=function(){return this.mN};
Sf.prototype.P=function(S,G,j){var z=this.JB;if(S!=null)this.mN=S;else S=this.mN;this.JB=G;this.Df=j;
if(S!=null){var O=G.Xe()[S],i,C;if(O==null){i="- "+S;C="-------"}else{i=O[0];C=O[1];var M=G.xS(i);M.sort(YH.fQz);
var D=M.indexOf(C),X=this.fzs.bind(this);this.DQ.textContent="";for(var l=0;l<M.length;l++){var O=G.fj(i,M[l]);
if(!this.Dg.md(O))continue;var f=this.fYB(O,O[1],X,!1);this.DQ.appendChild(f)}}this.bp.textContent=i.substring(0,15)+" \u25BC";
this.bp.setAttribute("title",i);this.yX.textContent=C.substring(0,10)+" \u25BC";this.yX.setAttribute("title",C)}};
Sf.prototype.Tp=function(){var S=this.JB.Xe()[this.mN],G=this.Df,j=null,z=this.JB.fTy(),O=this.fzC.bind(this);
this.DY=[];for(var i in z){var C=YH.xC(z[i],"regular"),M=this.JB.fj(i,C),D=G.indexOf(i)!=-1,X=!0;if(this.lc.length>0&&M[0].toLowerCase().indexOf(this.lc)==-1)X=!1;
else if(!this.Dg.md(M))X=!1;else if(this.ll.Ev()&&!D)X=!1;var l=this.EP[i];if(l==null){var l=this.fYB(M,i,O,!0);
this.EP[i]=l;this._O.appendChild(l)}if(X)this.DY.push(i);var f=X?"":"display:none; ",F="opacity: "+(D?"1":"0.2");
if(S&&S[0]==i){f+="background-color:rgba(0,0,0,0.13);";j=l}if(this.fyS[i]!=f+F){l.setAttribute("style",f);
l.firstChild.setAttribute("style",F);this.fyS[i]=f+F}}if(j&&!this.DP)this._O.scrollTop=j.offsetTop-210;
this.DP=!1};Sf.prototype.fYB=function(S,G,j,z){var O=E._("div","fontitem"),D="";O.addEventListener("click",j,!1);
if(z)O.appendChild(E._("button","star"));var i=E._("span","label");i.setAttribute("title",G);i.textContent=G;
O.appendChild(i);var C=E.V(),M=1/C,X=YH.fD*M,l=YH.iF*M;if(1<C&&C<1.5)D="width:"+X+"px; height:"+l+"px;";
var f=E._("span","thumb gsicon");if(S.fWr){D+="background: url("+S.fWr+");";if(1<C&&C<1.5)D+="background-size: "+X+"px "+l+"px;"}else{var F=Math.ceil(FNTS.list.length/YH.cols),$=Math.floor(S.Qf/F),_=S.Qf%F,P=$*YH.fD,k=_*YH.iF;
if(1<C&&C<1.5){D+="background-size: "+YH.cols*X+"px "+F*l+"px;";P*=M;k*=M}D+="background-position:-"+P+"px -"+k+"px;"}f.setAttribute("style",D);
O.appendChild(f);return O};function oA(S){YS.call(this);this.M=E._("button","fitem bbtn");this.M.addEventListener("click",this.fzb.bind(this),!1);
this.hp=new YS;this.hp.M=E._("div","floatcont");this.hp.parent=this;this.DZ=E._("div","flexrow");this.hp.M.appendChild(this.DZ);
this.WN=[];this.bZ=[];var G=this.DZ,j=E._("div",""),z=E._("div","");G.appendChild(j);G.appendChild(z);
this.yM=[];for(var O=0;O<FNTS.cats.length;O++)this.yM.push({name:FNTS.cats[O],index:O,Cq:0});this.DD=new YI([7,0]);
this.DD.n(E.E.F,this.fKg,this);j.appendChild(this.DD.M);this.Dx=E._("div","vlist marged scrollable");
this.Dx.setAttribute("style","width:10.85em; height:"+S+"em; ");j.appendChild(this.Dx);this.DN=[];for(var O=0;
O<this.yM.length;O++){var i=this.yM[O],C=new YI(i.name);this.DN.push(C);C.n(E.E.F,this.fKY,this);C.P(!0);
this.Dx.appendChild(C.M);this.WN.push(1)}this.fyz=new YI([7,0]);this.fyz.n(E.E.F,this.fKo,this);this.jY=E._("div","vlist marged scrollable");
this.jY.setAttribute("style","width:8.6em; height:"+(S+1.5)+"em; ");z.appendChild(this.jY);this._e=[];
for(var O=0;O<FNTS.subsetNames.length;O++){var C=new YI(FNTS.subsetNames[O]);this._e.push(C);C.n(E.E.F,this.fKC,this);
C.P(!1);this.jY.appendChild(C.M);this.bZ.push(0)}}oA.prototype=new YS;oA.prototype.fzB=function(S){var G=this._e;
for(var j=0;j<G.length;j++){var z=(S>>>j&1)==1;this.bZ[j]=z;G[j].P(z)}};oA.prototype.fzh=function(){return this.DZ};
oA.prototype.$=function(){this.M.textContent=YP.get([25,1,0])+" \u25BC";this.DD.$();this.fyz.$()};oA.prototype.fzb=function(S){var G=this.M.getBoundingClientRect(),j=new L(E.E.e,!0);
j.data={r:E.a.Jt,pZ:this.hp,x:G.left,y:G.top+G.height,fav:!1};this.D(j)};oA.prototype.md=function(S){if(this.WN[S[4]]==0)return!1;
else for(var G=0;G<this.bZ.length;G++)if(this.bZ[G]==1&&(S[3]>>>G&1)==0)return!1;return!0};oA.prototype.fKg=function(S){var G=S.target.j(),j=this.DN,z=this.WN;
for(var O=0;O<j.length;O++){j[O].P(G);z[O]=G?1:0}this.D(new L(E.E.F,!1))};oA.prototype.fKo=function(S){var G=S.target.j(),j=this._e,z=this.bZ;
for(var O=0;O<j.length;O++){j[O].P(G);z[O]=G?1:0}this.D(new L(E.E.F,!1))};oA.prototype.fKY=function(S){var G=this.DN.indexOf(S.target),j=this.yM[G].index;
this.WN[j]=1-this.WN[j];this.D(new L(E.E.F,!1))};oA.prototype.fKC=function(S){var G=this._e.indexOf(S.target);
this.bZ[G]=1-this.bZ[G];this.D(new L(E.E.F,!1))};function PQ(S,G,j){Cz.call(this,G,!0,"gradientbutton",18,10,o$.vT);
this.Cj=-1;this.iw=-1;this.ffY=null;this.fAI=S;this.lB=j}PQ.prototype=new Cz;PQ.prototype.HW=function(S){var G=this.hY;
this.P(G[this.Ph.j()]);this.D(new L(E.E.F))};PQ.prototype.sL=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.YO,pv:"gradienteditor",T:this.mD,xK:this.fKS.bind(this),iu:this.lB};
this.D(G)};PQ.prototype.fKS=function(S){this.P(S);this.D(new L(E.E.F))};PQ.prototype.VA=function(){if(!this.Hi)return;
var S=Math.floor(36*E.V()),G=Math.floor(36*E.V()),j=[],z=[],O=this.hY;for(var i=0;i<O.length;i++){var C=O[i];
z.push(C.Nm?C.Nm.v.split("=").pop():"");var M=t.cE.QE(C,S,G,Math.PI/4,this.Cj,this.iw);j.push(M)}this.Ph.uq(j,z,S,G);
this.Hi=!1};PQ.prototype.mn=function(S,G){this.fPh(this.mD,S,G)};PQ.prototype.P=function(S){this.fPh(S,this.Cj,this.iw)};
PQ.prototype.fPh=function(S,G,j){this.Cj=G;this.iw=j;if(S==null)return;var z=JSON.stringify(S),O=z+G+","+j;
if(O==this.ffY)return;this.ffY=O;this.mD=JSON.parse(z);var i=Math.floor(80*E.V()),C=Math.floor(16*E.V()),M=t.cE.QE(this.mD,i,C,0,this.Cj,this.iw);
this.kD.setAttribute("src",M);E.bV(this.kD,i,C)};PQ.prototype.j=function(){var S;if(this.fAI)S=t.cE.fsB(this.mD,this.Cj,this.iw);
else S=JSON.parse(JSON.stringify(this.mD));return S};function oc(S){Cz.call(this,S,!1,"swatchbutton",16,8.75,o$.vx)}oc.prototype=new Cz;
oc.prototype.HW=function(S){this.P(this.hY[S.target.j()]);this.D(new L(E.E.F))};oc.prototype.VA=function(){if(!this.Hi)return;
var S=Date.now(),G=Math.floor(10*E.V()),j=Math.floor(10*E.V()),z=[],O=[],i=this.hY;for(var C=0;C<i.length;
C++){O.push(i[C].iS?i[C].iS.split("=").pop():"");z.push(oc.QE(i[C],G,j))}this.Ph.uq(z,O,G,j);this.Hi=!1};
oc.prototype.P=function(S){this.mD=JSON.parse(JSON.stringify(S));this._g()};oc.prototype._g=function(){var S=Math.floor(24*E.V()),G=Math.floor(20*E.V()),j=oc.QE(this.mD,S,G);
this.kD.setAttribute("src",j);E.bV(this.kD,S,G)};oc.prototype.j=function(){return JSON.parse(JSON.stringify(this.mD))};
oc.mJ={};oc.QE=function(S,G,j){var z=oc.um,O=oc.mJ,i=x.zt(S.H<<16|S.X<<8|S.C);if(O[i])return O[i];if(z==null){var C=E._("canvas");
z=oc.um=C.getContext("2d")}var C=z.canvas;C.width=G;C.height=j;z.fillStyle="#"+i;z.fillRect(0,0,G,j);
var M=O[i]=C.toDataURL();return M};function YI(S,G,j){YS.call(this);this.M=E._("span","fitem cbox");
if(G==null)G=!0;if(j==null)j="flabel";var z="cb"+E.Xz();this.bC=E._("input","");this.bC.setAttribute("type","checkbox");
this.bC.setAttribute("id",z);this.M.appendChild(this.bC);this.SI=S;this.hb=E._("label",j);if(G)this.hb.setAttribute("for",z);
this.M.appendChild(this.hb);this.$();this.bC.addEventListener("change",this.IE.bind(this),!1)}YI.prototype=new YS;
YI.prototype.fvX=function(){return this.SI};YI.prototype.B$=function(S){this.hb.textContent=S};YI.prototype.$=function(){this.hb.textContent=YP.get(this.SI)};
YI.prototype.hU=function(){this.bC.checked=!0};YI.prototype.dp=function(){this.bC.checked=!1};YI.prototype.Ev=function(){return this.bC.checked};
YI.prototype.P=function(S){this.bC.checked=S};YI.prototype.j=YI.prototype.Ev;YI.prototype.IE=function(S){this.D(new L(E.E.F,!1))};
function Sd(S,G,j,z){YS.call(this);this.M=E._("span","fitem mbox");this.fAk=j;if(S){this.SI=S;this.hb=E._("label","flabel");
this.M.appendChild(this.hb)}this.QO=G;this.KX=[];for(var O=0;O<G.length;O++){var i=j?new Ys(G[O],!1,z?z[O]:null):new YI(G[O]);
i.n(j?"click":E.E.F,this.IE,this);this.KX.push(i);this.M.appendChild(i.M)}this.$()}Sd.prototype=new YS;
Sd.prototype.P=function(S){for(var G=0;G<this.QO.length;G++)this.KX[G].P(S[G])};Sd.prototype.j=function(){var S=[];
for(var G=0;G<this.QO.length;G++)S[G]=this.KX[G].j();return S};Sd.prototype.$=function(){if(this.SI)this.hb.innerHTML=YP.get(this.SI)+":";
for(var S=0;S<this.KX.length;S++)this.KX[S].$()};Sd.prototype.IE=function(S){var G=this.KX.indexOf(S.currentTarget);
if(this.fAk)this.KX[G].P(!this.KX[G].j());this.D(new L(E.E.F,!1))};function ol(S,G,j,z,O,i){Cd.call(this,S,G,j,z,O,!1,i);
this.M.appendChild(this.hb);var C=E._("span","rangecont");this.M.appendChild(C);C.appendChild(this.Ee);
this.M.appendChild(this.bC);this.bC.setAttribute("style","width:3.3em");if(this.eb)this.M.appendChild(this.sj)}ol.prototype=new Cd;
function oD(S,G,j,z){if(S==null)S=!1;if(G==null)G=!1;if(j==null)j=!1;YS.call(this);this.vO=new A;this.hX=new A;
this.fAj=72;this.Wr=72;this.M=E._("span","");this.Q$=new YN([12,41],0,0,null,0,!1,!0);this.M.appendChild(this.Q$.M);
this.Q$.n(E.E.F,this.SE,this);var O=["px","%"];if(S)O=O.concat(["mm","in"]);this.ys=new Yh(null,O);this.M.appendChild(this.ys.M);
E.yn(this.M);this.ys.n(E.E.F,this.SE,this);this.bF=new YN([12,42],0,0,null,0,!1,!0);this.M.appendChild(this.bF.M);
this.bF.n(E.E.F,this.SE,this);var i=new Ys("\u21F5",!1,null,!0);i.n("click",this.fKW,this);this.bx=new Ys("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.bx.n("click",this.SE,this);this.ffJ=new C$("");if(G){this.M.appendChild(this.bx.M);this.M.appendChild(this.ffJ.M);
this.bx.hU()}else this.M.appendChild(i.M);this.yI=new YN("DPI",0,0,null,0,!1,!0);if(S&&z==null){E.yn(this.M);
this.M.appendChild(this.yI.M)}this.yI.n(E.E.F,this.SE,this);this.yO=new YI([12,23,1]);this.yO.n(E.E.F,this.SE,this);
if(j){E.yn(this.M);this.M.appendChild(this.yO.M)}E.yn(this.M)}oD.prototype=new YS;oD.prototype.fKK=function(S){this.bx.P(S)};
oD.prototype.$=function(){this.Q$.$();this.bF.$();this.yI.$();this.bx.$();this.yO.$()};oD.prototype.fKW=function(S){var G=this.hX.x;
this.hX.x=this.hX.y;this.hX.y=G;this.My();this.D(new L(E.E.F,!1))};oD.prototype.SE=function(S){if(S.target==this.ys||S.target==this.yO){this.My();
return}if(S.target==this.bx)S.target.P(!S.target.j());var G=this.vO,j=this.Wr,z=parseFloat(this.Q$.j());
if(isNaN(z))z=1;var O=parseFloat(this.bF.j());if(isNaN(O))O=1;var i=this.ys.j();if(i==1){z=this.vO.x*(z/100);
O=this.vO.y*(O/100)}var C=[1,1,25.4/j,1/j][i];z/=C;O/=C;if(this.yO.j()){z+=this.vO.x;O+=this.vO.y}if(S.target==this.yI){var M=this.yI.j();
if(i>1){var D=M/j;z*=D;O*=D}j=M}if(this.bx.j()){if(S&&S.target==this.Q$)O=z*(G.y/G.x);else z=O*(G.x/G.y)}z=Math.max(Math.abs(z),1);
O=Math.max(Math.abs(O),1);this.hX=new A(Math.round(z),Math.round(O));this.Wr=j;this.My();this.D(new L(E.E.F,!1))};
oD.prototype.fKV=function(S){this.ys.P(S);this.My()};oD.prototype.P=function(S,G){this.vO=S.clone();
this.hX=S.clone();if(G!=null){this.fAj=G;this.Wr=G}this.My()};oD.prototype.My=function(){var S=this.hX.x,G=this.hX.y,j=this.Wr,z=(S/G).toFixed(3);
while(z.charAt(z.length-1)=="0")z=z.substring(0,z.length-1);if(z.charAt(z.length-1)==".")z=z.substring(0,z.length-1);
var O="  "+z+" : 1",i=function(l,f){while(f!=0){var F=f;f=l%f;l=F}return l},C=i(S,G);if(Math.min(S,G)/C<10)O="  "+Math.round(S/C)+" : "+Math.round(G/C);
this.ffJ.P(O);if(this.yO.j()){S-=this.vO.x;G-=this.vO.y}var M=this.ys.j();if(M==1){S=100*S/this.vO.x;
G=100*G/this.vO.y}S=Math.round(S);G=Math.round(G);var D=[1,1,25.4/j,1/j][M];S*=D;G*=D;var X=M>2?2:0;
this.Q$.fPG(X);this.bF.fPG(X);this.Q$.P(S);this.bF.P(G);this.yI.P(j)};oD.prototype.j=function(){return this.hX.clone()};
oD.prototype.fXg=function(){return this.Wr};function Ss(){YS.call(this);this.ja=0;this.ez=[0,0,1,1,100,100];
this.M=E._("span","fitem");this.UC=new Yh(null,[[12,89,0],[12,89,1],[12,89,2]]);this.M.appendChild(this.UC.M);
this.UC.n(E.E.F,this.SE,this);this.Q$=new CY("W",null,3);this.Q$.P(0);this.M.appendChild(this.Q$.M);
this.Q$.n(E.E.F,this.SE,this);this.bF=new CY("H",null,3);this.bF.P(0);this.M.appendChild(this.bF.M);
this.bF.n(E.E.F,this.SE,this);this.P({CM:0,x:0,y:0})}Ss.prototype=new YS;Ss.prototype.$=function(){E.Dy(this.Q$,this.bF);
this.UC.$()};Ss.prototype.SE=function(S){if(S.target==this.UC){var G=this.j(),j=this.ez;j[this.ja*2]=G.x;
j[this.ja*2+1]=G.y;this.ja=G.CM;this.P({CM:G.CM,x:j[G.CM*2],y:j[G.CM*2+1]})}this.D(new L(E.E.F,!1))};
Ss.prototype.P=function(S){this.UC.P(S.CM);this.Q$.P(S.x);this.bF.P(S.y);if(S.CM==0){this.Q$._S();this.bF._S()}else{this.Q$.UE();
this.bF.UE()}};Ss.prototype.j=function(){return{CM:this.UC.j(),x:parseInt(this.Q$.j()),y:parseInt(this.bF.j())}};
function C$(S,G){YS.call(this);this.SI=S;this.M=E._("span","labelitem fitem"+(G?" spread":""));this.$()}C$.prototype=new YS;
C$.prototype.P=function(S){this.M.textContent=S};C$.prototype.j=function(){return this.M.textContent};
C$.prototype.UE=function(){this.M.removeAttribute("disabled")};C$.prototype._S=function(){this.M.setAttribute("disabled","")};
C$.prototype.B$=function(S){this.M.textContent=S};C$.prototype.$=function(){this.M.textContent=YP.get(this.SI)};
C$.prototype.fvX=function(){return this.SI};function SX(S){YS.call(this);this.M=E._("span","");this.ffl=S;
this.hA=new ol("Off X",-100,100,S?"%":"px",0,!1);this.en=new ol("Off Y",-100,100,S?"%":"px",0,!1);this.hA.n(E.E.F,this.SE,this);
this.en.n(E.E.F,this.SE,this);this.M.appendChild(this.hA.M);this.M.appendChild(this.en.M)}SX.prototype=new YS;
SX.prototype.$=function(){this.hA.$();this.en.$()};SX.prototype.SE=function(S){this.D(new L(E.E.F,!1))};
SX.prototype.fKl=function(S){this.hA.P(S.x);this.en.P(S.y)};SX.prototype.fld=function(){return new A(this.hA.j(),this.en.j())};
SX.prototype.P=function(S){var G=S.Hrzn.v,z=S.Vrtc.v;if(this.ffl){G=G.val;z=z.val}this.hA.P(G);this.en.P(z)};
SX.prototype.j=function(){var S=this.hA.j(),G=this.en.j();if(this.ffl)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:S}},Vrtc:{t:"UntF",v:{type:"#Prc",val:G}}};
else return{classID:"Pnt",Hrzn:{v:S,t:"doub"},Vrtc:{v:G,t:"doub"}}};function YN(S,G,j,z,O,i,C,M,D){Cd.call(this,S,G,j,z,O,!0,i,D);
E.Zb(this.M,"rangedropinput");this.M.appendChild(this.hb);this.bC.setAttribute("style","width:"+(M?M:3.3)+"em");
this.M.appendChild(this.bC);this.ffy=E._("span","rangecont");this.ffy.appendChild(this.Ee);this.jz=E._("button");
this.jz.innerHTML="\u25BC";E.qG(this.jz,this.fWu.bind(this));if(C!=!0)this.M.appendChild(this.jz);this.St=new YS;
this.St.M=this.ffy}YN.prototype=new Cd;YN.prototype.fWu=function(S){if(E.Qb(this.St.M))return;S.stopPropagation();
var G=this.M.getBoundingClientRect();this.Ee.setAttribute("style","width:"+G.width+"px;");var j=new L(E.E.e,!0);
j.data={r:E.a.Jt,pZ:this.St,x:G.left,y:G.top+G.height};this.D(j)};function Sk(){YS.call(this);this.M=E._("span","fitem strokebutton");
this.jW=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.BG=JSON.parse(JSON.stringify(n.GN.default));
this.WL=E._("button");this.M.appendChild(this.WL);this.WL.addEventListener("click",this.yC.bind(this),!1);
var S=E._("canvas","gsicon");this.Vj=S.getContext("2d");this.WL.appendChild(S);var G=E._("span");G.textContent=" \u25BC";
this.WL.appendChild(G);this.hp=new YS;this.hp.parent=this;this.hp.M=E._("div","floatcont form");var j=this.hp.M;
j.setAttribute("style","width: 14em;");this.EP=[new Yh([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new Xv([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new Xv([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new CY([19,9,2])];
for(var z=0;z<this.EP.length;z++){var O=this.EP[z];j.appendChild(O.M);var i=z<4?E.E.F:"click";O.n(i,this.SE,this)}E.yn(j);
this.XW=[];var C=this.fWk.bind(this);for(var z=0;z<this.jW.length;z++){var M=E._("button","fitem");this.XW.push(M);
j.appendChild(M);M.addEventListener("click",C,!1);var S=E._("canvas","gsicon"),D=S.getContext("2d");
M.appendChild(S);this.fYy(D,40,20,this.jW[z])}}Sk.prototype=new YS;Sk.prototype.yC=function(S){var G=this.WL.getBoundingClientRect(),j=new L(E.E.e,!0);
j.data={r:E.a.Jt,pZ:this.hp,x:G.left,y:G.top+G.height+4};this.D(j)};Sk.prototype.SE=function(S){var Cf=this.EP,G=Cf.indexOf(S.target),j=[];
for(var z=0;z<4;z++)j.push(Cf[z].j());this.BG=this.fou(j);this.D(new L(E.E.F,!1))};Sk.prototype.fWk=function(S){var G=this.XW.indexOf(S.currentTarget);
this.P(this.fou(this.jW[G]));this.D(new L(E.E.F,!1))};Sk.prototype.fou=function(S){var G=JSON.parse(JSON.stringify(this.BG)),j=S[0],z=S[1],O=S[2],i=S[3];
if(j!=null)G.strokeStyleLineAlignment.v.strokeStyleLineAlignment=n.GN.Uw[j];if(z!=null)G.strokeStyleLineCapType.v.strokeStyleLineCapType=n.GN.Ej[z];
if(O!=null)G.strokeStyleLineJoinType.v.strokeStyleLineJoinType=n.GN.join[O];var C=G.strokeStyleLineDashSet.v=[];
i=i.split(" ");while((i.length&1)!=0)i.pop();for(var M=0;M<i.length;M++)C.push({t:"UntF",v:{type:"#Nne",val:parseInt(i[M])}});
return G};Sk.prototype.$=function(){for(var S=0;S<this.EP.length;S++)this.EP[S].$()};Sk.prototype.P=function(S){this.BG=JSON.parse(JSON.stringify(S));
var G=n.GN.Uw.indexOf(S.strokeStyleLineAlignment.v.strokeStyleLineAlignment),j=n.GN.Ej.indexOf(S.strokeStyleLineCapType.v.strokeStyleLineCapType),z=n.GN.join.indexOf(S.strokeStyleLineJoinType.v.strokeStyleLineJoinType),O=[],i=S.strokeStyleLineDashSet.v;
for(var C=0;C<i.length;C++)O.push(i[C].v.val);var Cf=this.EP;Cf[0].P(G);Cf[1].P(j);Cf[2].P(z);Cf[3].P(O.join(" "));
var M=[];for(var D=0;D<4;D++)M.push(Cf[D].j());this.fYy(this.Vj,40,16,M)};Sk.prototype.j=function(){return JSON.parse(JSON.stringify(this.BG))};
Sk.prototype.fYy=function(S,G,j,z){var O=z[0],i=z[1],C=z[2],M=z[3].split(" ").map(parseFloat);E.cl(S.canvas,G,j);
var D=Math.min(5,this.BG.strokeStyleLineWidth.v.val);for(var X=0;X<M.length;X++)M[X]*=D;S.clearRect(0,0,G,j);
S.setLineDash(M);S.lineCap=["butt","round","square"][i];S.lineJoin=["miter","round","bevel"][C];S.lineWidth=D;
S.beginPath();S.moveTo(0,j/2);S.lineTo(G*2,j/2);S.stroke()};function CV(S){Cz.call(this,S,!1,"contourbutton",34,16,o$.lv);
this.vV=new CY([12,86],null,16);this.vV.n("input",this.ms,this);this.hp.M.appendChild(this.vV.M);this.jm=null;
this.lc="";this.QU=null;this.P(CO.Cr())}CV.prototype=new Cz;CV.prototype.$=function(){Cz.prototype.$.call(this);
this.vV.$()};CV.prototype.HW=function(S){this.P(this.jm[S.target.j()]);this.D(new L(E.E.F))};CV.prototype.ms=function(S){this.lc=this.vV.j().toLowerCase();
this.fS_()};CV.Md=!1;CV.prototype.VA=function(){if(!this.Hi)return;var S=this.hY;if(S==null||!CV.Md){var G=new L(E.E.e,!0);
G.data={r:E.a.mH,zC:{url:"rsrc/basic/fa_basic.csh"}};this.D(G);CV.Md=!0}else{var j=Math.floor(38*E.V()),z=Math.floor(38*E.V());
this.QU=[];for(var O=0;O<S.length;O++)this.QU.push(CV.fPa(S[O],j,z));this.fS_();this.Hi=!1}};CV.prototype.fS_=function(){var S=Math.floor(38*E.V()),G=Math.floor(38*E.V());
this.jm=[];var j=[],z=[],O=this.hY;for(var i=0;i<O.length;i++){if(O[i].Xx.toLowerCase().indexOf(this.lc)==-1)continue;
this.jm.push(O[i]);j.push(this.QU[i]);z.push(O[i].Xx)}this.Ph.uq(j,z,S,G)};CV.prototype.P=function(S){this.mD=CV.clone(S);
this._g()};CV.prototype._g=function(){var S=Math.floor(23*E.V()),G=Math.floor(23*E.V()),j=CV.fPa(this.mD,S,G);
this.kD.setAttribute("src",j);E.bV(this.kD,S,G)};CV.prototype.j=function(){return CV.clone(this.mD)};
CV.clone=function(S){return{Xx:S.Xx,kT:S.kT,z:g.XT.yS(S.z),HQ:S.HQ.clone()}};CV.Io=null;CV.mA=null;CV.fPa=function(S,G,j){var z=g.XT.yS(S.z),O=S.HQ,i=Math.min(G/O.o,j/O.i)*.9,C=new Ym;
C.translate(-.5,-.5);C.scale(.95,.95);C.translate(.5,.5);C.scale(i*O.o,i*O.i);x.p.hu(z,C);var M=new g.XT;
M.z=z;var D=M.Ew();D.rect.x=Math.floor((G-D.rect.o)/2);D.rect.y=Math.floor((j-D.rect.i)/2);var X=x.S(D.rect.h()*4);
x.GC(X,4278190080);x.uT(D.channel);x.Cy(D.channel,X,0);x.Cy(D.channel,X,1);x.Cy(D.channel,X,2);var l=CV;
if(l.Io==null)l.Io=E._("canvas");var f=l.Io,F=f.getContext("2d");if(f.width!=G||f.height!=j||l.mA==null){f.width=G;
f.height=j;l.mA=F.createImageData(G,j)}var $=l.mA;x.GC($.data,4294967295);x.yF(X,D.rect,$.data,new Q(0,0,G,j));
F.putImageData($,0,0);return f.toDataURL()};function Mf(S){Cz.call(this,S,!1,"ICCButton",16,12,o$.lW,!0);
this.Ph.Qz(1)}Mf.prototype=new Cz;Mf.prototype.sr=function(){var S="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var G=0;G<S.length;G++)S[G]="luts/"+S[G]+".CUBE";return S};Mf.prototype.HW=function(S){this.P(this.hY[S.target.j()]);
this.D(new L(E.E.F))};Mf.prototype.VA=function(){if(!this.Hi)return;var S=Math.floor(1*E.V()),G=Math.floor(1*E.V()),j=[],z=[],O=this.hY;
for(var i=0;i<O.length;i++){var C=O[i].Nm.v.split("\\").pop().split("/").pop();z.push(C);j.push(Mf.QE(O[i],S,G))}this.Ph.uq(j,z,S,G);
this.Hi=!1};Mf.prototype.P=function(S){this.mD=JSON.parse(JSON.stringify(S));this._g()};Mf.QE=function(S,G,j){var z=E._("canvas"),C="ICC / 3DL / look / cube";
z.width=G;z.height=j;var O=z.getContext("2d"),i=Math.floor(14*E.V());O.font=i+"px sans-serif";if(S.Nm)C=S.Nm.v.split("\\").pop().split("/").pop();
O.fillText(C,10,i);return z.toDataURL()};Mf.prototype._g=function(){var S=Math.floor(120*E.V()),G=Math.floor(20*E.V());
this.kD.setAttribute("src",Mf.QE(this.mD,S,G));E.bV(this.kD,S,G)};Mf.prototype.j=function(){return JSON.parse(JSON.stringify(this.mD))};
function SN(){YS.call(this);this.De=null;this.M=E._("span","fitem");this._L=new XI([14,9]);this.jQ=new YN(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.EK=new Sk;this._t=[this._L,this.jQ,this.EK];for(var S=0;S<this._t.length;S++){var G=this._t[S];
this.M.appendChild(G.M);G.parent=this;G.n(E.E.F,this.SE,this)}}SN.prototype=new YS;SN.prototype.$=function(){for(var S=0;
S<this._t.length;S++)this._t[S].$()};SN.prototype.uQ=function(S,G){this._L.uQ(S,G)};SN.prototype.SE=function(S){var G=this.De,j=this._L.j(),z=j.Gu;
G.strokeEnabled.v=z!=0;if(z!=0){G.strokeStyleContent.v=j.tZ;j.tZ.classID=n.GN.iX[z-1]}G.strokeStyleLineWidth.v.val=this.jQ.j();
if(S.target==this.EK)G=this.EK.j();this.De=G;this.D(new L(E.E.F,!1))};SN.prototype.P=function(S,G,j){this.De=JSON.parse(JSON.stringify(G));
var z=G.strokeEnabled.v,O=G.strokeStyleContent.v,i=z?{Gu:1+n.GN.iX.indexOf(O.classID),tZ:O}:{Gu:0};this._L.P(S,i,j);
this.jQ.P(G.strokeStyleLineWidth.v.val);this.EK.P(G)};SN.prototype.j=function(){return JSON.parse(JSON.stringify(this.De))};
function Pg(S,G){YS.call(this);this.M=E._("span","fitem");this.so=["front","union","difference","intersection"];
var j=[[18,0],[18,1],[18,2],[18,3]];this.Ks=[];this.jA=0;for(var z=0;z<this.so.length;z++){var O=new Ys("<img src=\""+PIMG["set/"+this.so[z]]+"\" class=\"autoscale gsicon\" />",!1,j[z]);
O.n("click",this.fWe,this);this.M.appendChild(O.M);this.Ks.push(O)}this.Ks[0].hU()}Pg.prototype=new YS;
Pg.prototype.j=function(){return this.so[this.jA]};Pg.prototype.P=function(S){this.jA=this.so.indexOf(S);
for(var G=0;G<this.Ks.length;G++)this.Ks[G].dp();this.Ks[this.jA].hU()};Pg.prototype.fWe=function(S){this.P(this.so[this.Ks.indexOf(S.currentTarget)]);
this.D(new L(E.E.F,!1))};Pg.prototype.$=function(){for(var S=0;S<this.Ks.length;S++)this.Ks[S].$()};
function CY(S,G,j){YS.call(this);var z=E.Xz();this.M=E._("span","fitem tinput");if(S){this.SI=S;this.hb=E._("label","flabel");
this.M.appendChild(this.hb);this.hb.setAttribute("for",z);this.$()}this.bC=E._("input","");this.bC.setAttribute("type","text");
this.bC.setAttribute("id",z);if(j)this.bC.setAttribute("style","width:"+j+"em");this.M.appendChild(this.bC);
if(G){this.sj=E._("span","");this.sj.textContent=G;this.M.appendChild(this.sj)}this.bC.addEventListener("change",this.IE.bind(this),!1);
this.bC.addEventListener("input",this.fsa.bind(this),!1)}CY.prototype=new YS;CY.prototype.$=function(){if(this.SI)this.hb.textContent=YP.get(this.SI)+":"};
CY.prototype.B$=function(S){this.hb.textContent=S};CY.prototype.P=function(S){this.bC.value=S==null?"":S};
CY.prototype.j=function(){return this.bC.value};CY.prototype.MN=function(){this.bC.select();this.bC.focus()};
CY.prototype.IE=function(S){this.D(new L(E.E.F,!1))};CY.prototype.fsa=function(S){this.D(new L("input",!1))};
function fM(S,G,j,z,O,i){Cd.call(this,S,G,j,z,O,!0,i);E.Zb(this.M,"trangeinput");this.M.appendChild(this.hb);
this.M.appendChild(this.bC);var C=E._("span","rangecont");this.M.appendChild(C);C.appendChild(this.Ee);
this.Ee.setAttribute("style","width:97%;")}fM.prototype=new Cd;function PM(){YS.call(this);this.us=[10,!0,!0];
this.M=E._("span","");this.EJ=[new YN([12,24],0,255),new YI("Anti-alias"),new YI([12,25])];for(var S=0;
S<3;S++){var G=this.EJ[S];G.parent=this;G.P(this.us[S]);this.M.appendChild(G.M);G.n(E.E.F,this.SE,this)}}PM.prototype=new YS;
PM.prototype.SE=function(){for(var S=0;S<3;S++)this.us[S]=this.EJ[S].j();this.D(new L(E.E.F,!1))};PM.prototype.P=function(S){this.us=S.slice(0);
for(var G=0;G<3;G++)this.EJ[G].P(S[G])};PM.prototype.j=function(){return this.us.slice(0)};PM.prototype.$=function(){for(var S=0;
S<3;S++)this.EJ[S].$()};function PX(S,G){YS.call(this);if(G==null)G=!1;this.QU=[];this.fMz=0;this.fY_=0;
this.sC=0;this.Ua=[];this.Cm=[];for(var j in x.yw.type){if(j=="warpCustom"&&!G)continue;this.Ua.push(j);
this.Cm.push(x.yw.type[j])}this.M=E._("span","fitem warpbutton");this.hp=new YS;this.hp.M=E._("div","floatcont");
if(S){this.Nf=S;this.hb=E._("label","flabel");this.M.appendChild(this.hb)}this.r=E._("button");this.M.appendChild(this.r);
this.r.addEventListener("click",this.yC.bind(this),!1);this.Np=new PT(!0);this.hp.M.appendChild(this.Np.M);
this.Np.n(E.E.F,this.fsz,this);this.$()}PX.prototype=new YS;PX.prototype.B$=function(S){this.hb.textContent=S};
PX.prototype.$=function(){if(this.Nf)this.hb.innerHTML=YP.get(this.Nf)+":";this.QU=[];var S=E._("canvas",""),G=S.getContext("2d"),j=0;
G.font=Math.floor(13*E.V())+"px sans-serif";for(var z=0;z<this.Ua.length;z++){j=Math.max(j,G.measureText(YP.get(x.yw.type[this.Ua[z]])).width)}var O=this.fMz=Math.floor(50*E.V()+j),i=this.fY_=Math.floor(23*E.V());
S.width=O;S.height=i;this.hp.M.setAttribute("style","width:"+Math.floor(8+O/E.V())+"px;");G.font=Math.floor(13*E.V())+"px sans-serif";
G.lineWidth=1;G.strokeStyle="#000000";var C=Math.floor(16*E.V()),M=new Q(0,0,C,C);for(var z=0;z<this.Ua.length;
z++){var D=this.Ua[z];G.clearRect(0,0,S.width,S.height);var X=x.yw.yw(M,D,!0,.3,0,0),l=x.Y.pu(M);l.w.push("M","L","M","L");
l.v.push(0,C/2,C,C/2);l.v.push(C/2,0,C/2,C);l=x.Y.qo(l);l=x.Y.qw(l,C/5);x.GW.apply(X,l.v,M);x.Y.GY(l.v,new Ym(1,0,0,1,Math.floor(8*E.V())+.5,Math.floor(3*E.V())+.5),l.v);
G.beginPath();Typr.U.pathToContext({cmds:l.w,crds:l.v},G);G.stroke();G.fillText(YP.get(x.yw.type[D]),Math.floor(40*E.V()),Math.floor(16*E.V()));
this.QU.push(S.toDataURL())}this.Np.uq(this.QU,null,O,i);this._g()};PX.prototype.yC=function(S){var G=this.r.getBoundingClientRect(),j=new L(E.E.e,!0);
j.data={r:E.a.Jt,pZ:this.hp,x:G.left,y:G.top+G.height+4};this.D(j)};PX.prototype.fsz=function(S){var G=new L(E.E.e,!0);
G.data={r:E.a.Xj,pZ:this.hp};this.D(G);this.sC=S.target.j();this._g();this.D(new L(E.E.F))};PX.prototype._g=function(){this.Np.Ba(this.sC);
this.r.innerHTML="<img src=\""+this.QU[this.sC]+"\" class=\"gsicon\" />";var S=this.fMz,G=this.fY_;E.bV(this.r.firstChild,S,G)};
PX.prototype.j=function(){return this.Ua[this.sC]};PX.prototype.P=function(S){this.sC=this.Ua.indexOf(S);
this._g()};function Pw(S,G,j){YS.call(this);if(S==null)S=!1;if(G==null)G=!1;if(j==null)j=!1;this.fAO=G;
this.yw=null;this.Qr=new PX([12,22],j);this.Qr.parent=this;this.Qr.n(E.E.F,this.s$,this);this.eF=new Yh([22,0],[[22,4,0],[22,4,1]]);
this.eF.n(E.E.F,this.s$,this);var z=S?YN:fM;this.QG=new z([22,1],-100,100,"%");this.ZD=new z("Horizontal Distortion:",-100,100,"%");
this.Zq=new z("Vertical Distortion:",-100,100,"%");this.QG.parent=this.ZD.parent=this.Zq.parent=this;
this.QG.n(E.E.F,this.s$,this);this.ZD.n(E.E.F,this.s$,this);this.Zq.n(E.E.F,this.s$,this)}Pw.prototype=new YS;
Pw.prototype.$=function(){this.Qr.$();this.eF.$();this.QG.$();var S=this.fAO?1:100;this.ZD.B$(YP.get([22,2]).substring(0,S)+":");
this.Zq.B$(YP.get([22,3]).substring(0,S)+":")};Pw.prototype.s$=function(){var S=this.yw,G=this.Qr.j(),j=S.warpStyle.v.warpStyle;
if(G=="warpCustom")x.yw._a(x.yw.Ys(S),S);else delete S.customEnvelopeWarp;S.warpStyle.v.warpStyle=this.Qr.j();
S.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.eF.j()];S.warpValue.v=this.QG.j();S.warpPerspective.v=this.ZD.j();
S.warpPerspectiveOther.v=this.Zq.j();if(G=="warpNone"||G=="warpCustom"){S.warpValue.v=0;S.warpPerspective.v=0;
S.warpPerspectiveOther.v=0}else if(j=="warpNone"||j=="warpCustom")S.warpValue.v=50;this.D(new L(E.E.F,!1));
this.P(S)};Pw.prototype.j=function(S){return JSON.parse(JSON.stringify(this.yw))};Pw.prototype.P=function(S){this.yw=JSON.parse(JSON.stringify(S));
this.Qr.P(S.warpStyle.v.warpStyle);this.eF.P(S.warpRotate.v.Ornt=="Hrzn"?0:1);this.QG.P(S.warpValue.v);
this.ZD.P(S.warpPerspective.v);this.Zq.P(S.warpPerspectiveOther.v);var G=S.warpStyle.v.warpStyle,j=G=="warpNone"||G=="warpCustom",z=[this.eF,this.QG,this.ZD,this.Zq];
for(var O=0;O<z.length;O++)if(j)z[O]._S();else z[O].UE()};function CW(S){YS.call(this);this.M=E._("div");
this.jy=S;this.sS=!1;this.JV=new A(0,0);this.qA="position:relative;overflow:hidden;";this.DB=null;this.NT=new E.DV(this.M);
this.om("grab");this.GH=E._("canvas","canv");this.M.appendChild(this.GH);this.Vj=this.GH.getContext("2d");
this.fYt=null;this.aS=null;this.jI=null;this.y$=0;this.jk=0;this.jH=0;this.fA$=this.fsb.bind(this);this.fCA=null;
this.Q=new Sq({o:1,i:1});this.If=null;this.RL=null;this.fA_=this.pc.bind(this);this.fCF=this.Km.bind(this);
this.fSs=this.iP.bind(this);this.fAL=this.Mw.bind(this);this.sm=0;this.Nw=null;this.fgh(this.GH);this.ml(this)}CW.prototype=new YS;
CW.prototype.HE=function(S){var G=this.DB;this.sS=S.U(w.aO);if(this.sS)G="grab";this.NT.SL(G,this.qA);
if(S.U(w.kw)){var j=0;if(S.U(w.HI))j=1;if(S.U(w.zg))j=-1;if(j!=0){this.faH(new A(this.GH.width/2,this.GH.height/2),j==1)}}};
CW.prototype.om=function(S){this.DB=S;this.NT.SL(S,this.qA)};CW.prototype.fgh=function(S){E.qG(S,this.fA_);
E.lN(S);S.addEventListener("wheel",this.fAL,!1)};CW.prototype.ml=function(S){S.n("viewchange",this.fss,this)};
CW.prototype.fss=function(S){var G=this.Q.u,j=S.currentTarget.DF();this.Q.u=j.u;this.Q.c=j.c.clone();
if(G!=j.u)this.mR();this.Ms()};CW.prototype.DF=function(){return{u:this.Q.u,c:this.Q.c}};CW.prototype.P=function(S,G){var j=S[0].tv;
if(this.aS!=null&&this.aS[0].tv.Xs(j)){}else{this.Q.lq={o:j.o,i:j.i};this.Q.c=new A(0,0);this.Q.u=1}this.aS=S;
this.mR();this.DG();this.y$=0;this.jk=0;this.jH=G==null?0:G;this.fsb()};CW.prototype.Mw=function(S){S.preventDefault();
if(S.deltaY==0||Date.now()-this.sm<100)return;var G=E.cV(S);G.x=E.V()*G.x;G.y=E.V()*G.y;this.sm=Date.now();
this.faH(G,S.deltaY<0)};CW.prototype.faH=function(S,G){t.fr.vn(this.Q,S,G);this.mR();this.D(new L("viewchange"));
this.D(new L("zoom"))};CW.prototype.mR=function(){this.jI=[];var S=this.Q.u;for(var G=0;G<this.aS.length;
G++){var j=this.aS[G],z=new Uint8Array(j.data),O;if(S>=1)O={hC:z,rect:j.tv};else O=x.jT(z,j.tv,S);this.jI.push(O)}};
CW.prototype.DG=function(){clearTimeout(this.fCA)};CW.prototype.Ms=function(){if(this.aS==null||!E.Qb(this.GH))return;
var S=this.fYt,G=this.GH.width,j=this.GH.height,C,M;if(S==null||S.width!=G||S.height!=j){S=this.fYt=this.Vj.createImageData(G,j);
console.log("creating image data")}var z=this.aS[this.y$],O=this.jI[this.y$],i=this.Q;if(i.u<=1){var D=O.rect.clone();
D.x=i.c.x+Math.floor((i.G.o-O.rect.o)/2);D.y=i.c.y+Math.floor((i.G.i-O.rect.i)/2);C=O.hC;M=D}else{var X=i.iR(),l=i.Ww(),f=new Q(0,0,X.o*i.u,X.i*i.u);
f.x=X.x*i.u+l.x;f.y=X.y*i.u+l.y;if(i.SB==null||i.SB.length!=X.h()*4){i.SB=x.S(X.h()*4)}if(i.XR==null||i.XR.length!=f.h()*4){i.XR=x.S(f.h()*4)}x.GC(i.SB,0);
x.yF(O.hC,O.rect,i.SB,X);x.scale.oG(i.SB,X.o,X.i,i.XR,f.o,f.i,i.u);C=i.XR;M=f}var l=i.Ww();x.jg(S.data,i.G.o,i.G.i,8,-l.x,-l.y);
x.k.me("norm",C,M,S.data,i.G,i.G,1);this.Vj.setTransform(1,0,0,1,0,0);this.Vj.putImageData(S,0,0);if(i.u<1)l=M;
var F=l.x,$=l.y,_=l.o,P=l.i;this.Vj.clearRect(F,$,-1e3,P);this.Vj.clearRect(F+_,$,1e3,P);this.Vj.clearRect(F-1e3,$,_+2e3,-1e3);
this.Vj.clearRect(F-1e3,$+P,_+2e3,1e3);var k=CW.fWt(i.u,!1);this.Vj.putImageData(k,0,i.G.i-k.height)};
CW.fzU={};CW.fWt=function(S,G){var j="z"+S+","+G,z=CW.fzU[j];if(z)return z;var O=Math.round(50*E.V()),i=Math.round(18*E.V()),C=E._("canvas"),M=C.getContext("2d");
C.width=O;C.height=i;M.fillStyle="rgba(0,0,0,1)";M.fillRect(0,0,O,i);M.font=Math.round(11*E.V())+"px monospace";
M.fillStyle="rgba(255,255,"+(G?0:255)+",1)";var D=S*100;if(D<100)D=D.toFixed(2);D=D+"%";var X=M.measureText(D).width;
M.fillText(D,(O-X)/2,Math.round(i*.7));z=CW.fzU[j]=M.getImageData(0,0,O,i);return z};CW.prototype.fsb=function(){var S=this.aS,G=S.length,j=this.y$,z=this.aS[j],O=(j+1)%G;
this.Ms();if(G!=1&&S[O].tv.Xs(z.tv)){var i=z.QH?parseInt(z.QH.split(",").pop()):30;if(i==0)i=16;if(O==0)this.jk++;
if(this.jH==0||this.jk<this.jH)this.fCA=setTimeout(this.fA$,i)}this.y$=O};CW.prototype.yd=function(S,G){if(S<=0||G<=0)return;
var j=Math.floor(S*E.V()),z=Math.floor(G*E.V());this.Q.G=new Q(0,0,j,z);this.GH.width=j;this.GH.height=z;
this.GH.setAttribute("style","width:"+j/E.V()+"px; height:"+z/E.V()+"px; display:block;");this.Ms()};
CW.prototype.pc=function(S){this.Nw=S.target;E.hM(window,this.fCF);E.hh(window,this.fSs);this.If=E.cV(S,this.GH);
this.If.x*=E.V();this.If.y*=E.V();this.JV=this.If;this.RL=this.Q.c.clone();if(this.jy&&this.Nw==this.GH&&!this.sS)this.D(new L("mousedown"))};
CW.prototype.Km=function(S){var G=this.Q,j=this.aS[this.y$].tv.clone();j.o*=G.u;j.i*=G.u;var z=E.cV(S,this.GH);
z.x*=E.V();z.y*=E.V();this.JV=z;if(this.jy&&this.Nw==this.GH&&!this.sS)this.D(new L("mousemove"));else if(!G.G.Ym(j)){var O=z.x-this.If.x,i=z.y-this.If.y;
G.c.x=this.RL.x+Math.round(O);G.c.y=this.RL.y+Math.round(i);this.D(new L("viewchange"))}};CW.prototype.iP=function(S){E.JR(window,this.fCF);
E.li(window,this.fSs);if(S.detail>1){this.Q.u=1;this.Q.c.cK(0,0);this.Ms()}if(this.jy&&this.Nw==this.GH&&!this.sS)this.D(new L("mouseup"))};
CW.prototype.oV=function(){return this.Q.ie(this.JV.x,this.JV.y)};function PW(){YS.call(this);this.Nl=null;
this.ZE=null;this.$u=null;this.NH=null;this.fSJ="";this.NB=[];this.NO=0;this.sQ=[];this.ar=0;this.G$=null;
var S=this.M=E._("div",""),G=this.fAG=E._("div","form");G.setAttribute("style","line-height:0; margin-bottom:0.5em;");
S.appendChild(G);var j=this.Nf=E._("span");G.appendChild(j);j.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var z=this.fSD=new YI([25,2,0]);z.P(!0);G.appendChild(z.M);z.n(E.E.F,this.iM,this);var O=this.jB=new YI([25,2,1]);
O.P(!1);G.appendChild(O.M);O.n(E.E.F,this.iM,this);var i=new C$(" ");G.appendChild(i.M);var C=this.jR=new CY([25,1,1]);
G.appendChild(C.M);C.n(E.E.F,this.iM,this);this.Dg=new oA(14);this.Dg.fzB(3);G.appendChild(this.Dg.M);
this.Dg.parent=this;this.Dg.n(E.E.F,this.fsi,this);var M=this.fJf=new Ys([25,1,2],null,null,!0);G.appendChild(M.M);
M.n("click",this.oH,this);this.fJX=this.fsO.bind(this);this.$B=E._("div","svggallery scrollable");S.appendChild(this.$B);
this.$B.addEventListener("scroll",this.fsw.bind(this))}PW.prototype=new YS;PW.prototype.uQ=function(S){this.fSj=S};
PW.prototype.$=function(){this.Nf.textContent=YP.get([25,0]);this.Dg.$();this.fSD.$();this.jB.$();this.jR.$();
this.fJf.$()};PW.prototype.yd=function(S,G){G-=26;this.Nl=new A(S,G);this.fAG.setAttribute("style","width:"+S+"px");
this.$B.setAttribute("style","width:"+S+"px; height:"+G+"px");if(E.Qb(this.M))this.iM()};PW.prototype.P=function(S){this.ZE=S;
this.iM()};PW.prototype.fsw=function(S){var G=this.$B;if(G.scrollTop+G.clientHeight+10>=G.scrollHeight){this.iM(!0)}};
PW.prototype.fsi=function(S){this.$u=null;this.iM()};PW.prototype.fsO=function(S){if(Date.now()-this.ar<2e3)return;
this.ar=Date.now();this.NO=this.sQ.indexOf(S.currentTarget);var G=this.mt(this.ZE.x,this.ZE.y);if(G[1]){var j=G[1].largeImageURL,z=new XMLHttpRequest;
z.responseType="arraybuffer";z.open("GET",j,!0);z.onload=this.fsU.bind(this);z.send();return}this.fZj(G)};
PW.prototype.fsU=function(S){var G=S.target.response,j=ot.AM(G),z=ot.Lc(j),O=z.Uf(G),i=this.mt(this.ZE.x,this.ZE.y,[G,O[0].tv.o,O[0].tv.i]);
this.fZj(i)};PW.prototype.fZj=function(S){var G=S[0],j=ot.AM(G),z=ot.Lc(j),O=new Yi("template.psd");
z.Uf(G,O);var i=new L(E.E.e,!0);i.data={r:E.a.lt,lq:O};this.D(i);this.parent.close()};PW.prototype.oH=function(S){var G=S.target;
this.NB=[];this.iM()};PW.prototype.fmo=function(S){console.log(S.target.response);var G=JSON.parse(S.target.response);
this.NH=G.hits;this.iM()};PW.prototype.iM=function(S){if(this.ZE==null||this.Nl==null||this.fSj==null)return;
if(this.Nl.x<=0)return;var G=this.ZE.x,j=this.ZE.y;if(Math.min(G,j)<50)return;if(S!=!0){this.sQ=[];E.Vk(this.$B);
this.$B.scrollTop=0}if(this.sQ.length>300)return;var z=Math.min(1,300/Math.max(G,j)),O=this.Nl.clone();
O.x-=20;var i=Math.max(1,Math.floor(O.x/(G*z))),C=Math.max(1,Math.ceil(O.y/(j*z)));z=O.x/ i/G;var M=i*C;
if(this.$u==null){var D=this.fSj.UW.Xe();this.$u=[];for(var X in D){var l=D[X],f=l[3];if(!this.Dg.md(l))continue;
if(l[5]==null||l[5].slice(0,2)=="gf")continue;this.$u.push(l)}if(this.$u.length==0)this.$u.push(D.DejaVuSans)}var F=this.jB.j(),$=this.jR.j().trim();
this.jR.eV(F);if(F&&(this.NH==null||$!=this.fSJ)){var _=new XMLHttpRequest,P="https://pixabay.com/api/?image_type=photo"+($==""?"":"&q="+encodeURIComponent($))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
_.open("GET",P,!0);_.onload=this.fmo.bind(this);_.onerror=function(Y){console.log(Y.target.response)};
_.send();this.fSJ=$;return}z*=(G*z-5)/(G*z);var k=this.sQ.length;for(var H=0;H<M;H++){var q=this.NO=k+H;
if(this.NB[q]==null)this.NB[q]=Math.floor(Math.random()*4294967295);var R=this.mt(Math.round(G*z),Math.round(j*z)),I=R[0];
I=W.X_(new Uint8Array(I));var b=E._("span");b.innerHTML=I;this.sQ.push(b);this.$B.appendChild(b);b.addEventListener("click",this.fJX,!1)}};
PW.prototype.mt=function(S,G,j){var z=this.jB.j(),O=this.fSD.j(),i=z&&this.NH.length!=0?this.NH:null;
if(O&&!z)i=null;if(O&&z&&(this.NO&1)==0)i=null;return YA.Go(S,G,this.NB[this.NO],this.$u,j?j:i)};function Pz(){YS.call(this);
this.M=E._("div");this.FO=null;this.fPv=null;this.jO=-1;this.Zr={JPG:[{kq:new fM([12,52,0],0,100,"%"),hf:70}],WEBP:[{kq:new fM([12,52,0],0,100,"%"),hf:70}],GIF:[{kq:new fM([12,52,0],0,100,"%"),hf:100}],PNG:[{kq:new fM([12,52,0],0,100,"%"),hf:100},{kq:new YI("don't use palettes"),hf:!1}],PDF:[{kq:new CY([12,52,1]),hf:""},{kq:new YI("rasterize all"),hf:!1},{kq:new YI("rasterize text"),hf:!1},{kq:new YI("vectorize text"),hf:!1}],EMF:[{kq:new CY([12,52,1]),hf:""},{kq:new YI("rasterize all"),hf:!1},{kq:new YI("rasterize text"),hf:!1},{kq:new YI("vectorize text"),hf:!1}],SVG:[{kq:new YI("add raster graphics"),hf:!0},{kq:new YI("add hidden layers"),hf:!1},{kq:new YI("vectorize text"),hf:!1},{kq:new YI("rasterize text"),hf:!1},{kq:new YI("add layer names"),hf:!0},{kq:new YI("pretty-print"),hf:!0}],anim:[{kq:new YN("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),hf:0},{kq:new YI("reverse frames"),hf:!1}],slcs:[{kq:new YI("As Slices"),hf:!0}]};
for(var S in this.Zr){var G=this.Zr[S];for(var j=0;j<G.length;j++){G[j].kq.P(G[j].hf);G[j].kq.n(E.E.F,this.QY,this)}}}Pz.prototype=new YS;
Pz.prototype.fmK=function(){this.jO=-1};Pz.prototype.$=function(){for(var S in this.Zr)for(var G=0;G<this.Zr[S].length;
G++)this.Zr[S][G].kq.$()};Pz.prototype.QY=function(){this.iM();this.D(new L(E.E.F,!1))};Pz.prototype.iM=function(){var S=this.FO,G=S[0],j=S[1],z=S[2],O=this.Zr[G];
if(O==null)O=[];else O=O.slice(0);if(j)O=O.concat(this.Zr.anim);if(["GIF","PNG","JPG"].indexOf(G)!=-1&&z)O=O.concat(this.Zr.slcs);
if(G+" "+j!=this.jO){this.jO=G+" "+j;E.Vk(this.M);for(var i=0;i<O.length;i++){this.M.appendChild(O[i].kq.M);
E.yn(this.M)}}var C=this.fPv=[];for(var i=0;i<O.length;i++)C.push(O[i].kq.j())};Pz.prototype.fgK=function(S,G,j){this.FO=[S,G,j];
this.iM()};Pz.prototype.j=function(){return this.fPv.slice(0)};function fF(){YS.call(this);this.M=E._("span","fitem");
this.IC=!1;this.jq=new Ys("No",!1,"Cancel");this.mf=new Ys("Yes",!1,"Confirm");this.M.appendChild(this.jq.M);
this.M.appendChild(this.mf.M);this.jq.n("click",this.SF,this);this.mf.n("click",this.SF,this);this.$()}fF.prototype=new YS;
fF.prototype.$=function(){this.jq.B$(E.mu("cross",null,"autoscale"));this.mf.B$(E.mu("checkmark",null,"autoscale"))};
fF.prototype.SF=function(S){this.IC=S.target==this.mf;this.D(new UIEvent("click"))};fF.prototype.j=function(){return this.IC};
function U(S){YS.call(this);this.fJY=S;this.M=E._("div","");this.Gq=[];this.fPu=[]}U.prototype=new YS;
U.prototype.QP=function(S){};U.prototype.lg=function(){return!1};U.prototype.yd=function(S,G){};U.prototype.uQ=function(S,G){};
U.prototype.Qj=function(S){};U.prototype.P=function(S,G,j,z,O,i){var C=[];this.$M(S,C,i);for(var M=0;
M<this.Gq.length;M++)this.Gq[M].P(C[M])};U.prototype.j=function(){var S=Yy.Cr(this.fJY),G=[];for(var j=0;
j<this.Gq.length;j++)G.push(this.Gq[j].j());this.kZ(S,G);return S};U.prototype.HE=function(S){};U.prototype.s$=function(S){var G=this.fPu;
for(var j=0;j<G.length;j+=2){var z=this.Gq[G[j]],O=this.Gq[G[j+1]],i=z.j(),C=O.j();if(S.target==z)O.P(Math.max(i,C));
else z.P(Math.min(i,C))}this.D(new L(E.E.F))};U.prototype.$=function(){for(var S=0;S<this.Gq.length;
S++)this.Gq[S].$()};U.prototype.Yk=function(){E.Zb(this.M,"form");var S=this.Gq;for(var G=0;G<S.length;
G++){var j=S[G];j.parent=this;j.n(E.E.F,this.s$,this);this.M.appendChild(j.M);if(j instanceof YI&&S[G+1]instanceof fQ)continue;
E.yn(this.M)}};U.prototype.He=function(){return!1};U.prototype.ti=function(S,G,j,z,O){};U.prototype.Xt=function(S,G,j,z,O){};
U.prototype.Va=function(S,G,j,z,O){};U.LnsF=function(){U.call(this,"LnsF");this.Gq.push(new fM([12,2],10,300,"%"));
this.Gq.push(new Xv([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]));this.Gq.push(new fM("Position X",0,100,"%"));
this.Gq.push(new fM("Position Y",0,100,"%"));this.Yk()};U.LnsF.prototype=new U;U.LnsF.prototype.$M=function(S,G){G[0]=S.Brgh.v;
G[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(S.Lns.v.Lns);var j=S.FlrC.v;G[2]=Math.round(j.Hrzn.v*100);G[3]=Math.round(j.Vrtc.v*100)};
U.LnsF.prototype.kZ=function(S,G){S.Brgh.v=G[0];S.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][G[1]];var j=S.FlrC.v;
j.Hrzn.v=G[2]/100;j.Vrtc.v=G[3]/100};U.LnCr=function(){U.call(this,"LnCr");this.Gq.push(new fM([12,57],-100,100));
this.Gq.push(new fM([12,38],10,150,"%"));this.Yk()};U.LnCr.prototype=new U;U.LnCr.prototype.$M=function(S,G){G[0]=S.LnIa.v;
G[1]=S.LnSi.v};U.LnCr.prototype.kZ=function(S,G){S.LnIa.v=G[0];S.LnSi.v=G[1]};U["\0\0\x02\xB1"]=function(){U.call(this,"\0\0\x02\xB1");
this.Gq.push(new fM([12,56],1,200," px"));this.Yk()};U["\0\0\x02\xB1"].prototype=new U;U["\0\0\x02\xB1"].prototype.$M=function(S,G){G[0]=S.Rds.v.val};
U["\0\0\x02\xB1"].prototype.kZ=function(S,G){S.Rds.v.val=G[0]};U.GsnB=function(){U.call(this,"GsnB");
this.Gq.push(new fM([12,56],.1,400,"px",1,!0));this.Yk()};U.GsnB.prototype=new U;U.GsnB.prototype.$M=function(S,G){G[0]=S.Rds.v.val};
U.GsnB.prototype.kZ=function(S,G){console.log(S);S.Rds.v.val=G[0]};U.MtnB=function(){U.call(this,"MtnB");
this.Gq.push(new Xk([12,15]));this.Gq.push(new fM([12,28],1,100," px"));this.Yk()};U.MtnB.prototype=new U;
U.MtnB.prototype.$M=function(S,G){G[0]=S.Angl.v;G[1]=S.Dstn.v.val};U.MtnB.prototype.kZ=function(S,G){S.Angl.v=G[0].UT;
S.Dstn.v.val=G[1]};U.RdlB=function(){U.call(this,"RdlB");this.Gq.push(new fM([12,57],1,100));this.Gq.push(new Xv([12,36],["Spin","Zoom"]));
this.Gq.push(new ol("Off X",0,1,null,2));this.Gq.push(new ol("Off Y",0,1,null,2));this.Yk()};U.RdlB.prototype=new U;
U.RdlB.prototype.$M=function(S,G){G[0]=S.Amnt.v;G[1]=["Spn","Zm"].indexOf(S.BlrM.v.BlrM);G[2]=S.Cntr.v.Hrzn.v;
G[3]=S.Cntr.v.Vrtc.v};U.RdlB.prototype.kZ=function(S,G){S.Amnt.v=G[0];S.BlrM.v.BlrM=["Spn","Zm"][G[1]];
S.Cntr.v.Hrzn.v=G[2];S.Cntr.v.Vrtc.v=G[3]};U.Dspl=function(){U.call(this,"Dspl");this.Gq.push(new Yh([6,36,3],["a","b"]));
this.Gq.push(new fM([22,4,0],-100,100,"px"));this.Gq.push(new fM([22,4,1],-100,100,"px"));this.Gq.push(new Yh([24,18,0],[[24,18,3],[24,18,2]]));
this.Yk()};U.Dspl.prototype=new U;U.Dspl.prototype.$M=function(S,G,j){this.fPx=[];this.Il=[];var z=-1;
if(j==null)j=this.fJC;else this.fJC=j;if(j)for(var O=0;O<j.length;O++){var i=j[O];this.fPx.push(i.HU.trim());
this.Il.push(i.Pq);if(i.Pq==S.DspF.v.pth)z=O}this.Gq[0].el(this.fPx);G[0]=z==-1?0:z;G[1]=S.HrzS.v;G[2]=S.VrtS.v;
G[3]=["WrpA","RptE"].indexOf(S.UndA.v.UndA)};U.Dspl.prototype.kZ=function(S,G){if(this.Il.length==0)return;
S.DspF.v.pth=this.Il[G[0]];S.HrzS.v=G[1];S.VrtS.v=G[2];S.UndA.v.UndA=["WrpA","RptE"][G[3]]};U.Pnch=function(){U.call(this,"Pnch");
this.Gq.push(new fM([12,57],-100,100,"%"));this.Yk()};U.Pnch.prototype=new U;U.Pnch.prototype.$M=function(S,G){G[0]=S.Amnt.v};
U.Pnch.prototype.kZ=function(S,G){S.Amnt.v=G[0]};U["Plr "]=function(){U.call(this,"Plr ");this.Gq.push(new Xv(null,["Rect to Polar","Polar to Rect"]));
this.Yk()};U["Plr "].prototype=new U;U["Plr "].prototype.$M=function(S,G){G[0]=["RctP","PlrR"].indexOf(S.Cnvr.v.Cnvr)};
U["Plr "].prototype.kZ=function(S,G){S.Cnvr.v.Cnvr=["RctP","PlrR"][G[0]]};U.Rple=function(){U.call(this,"Rple");
this.Gq.push(new fM([12,57],-999,999));this.Gq.push(new Yh([12,14,0],[[19,8,0],[19,8,1],[19,8,2]]));
this.Yk()};U.Rple.prototype=new U;U.Rple.prototype.$M=function(S,G){G[0]=S.Amnt.v;G[1]=["Sml","Mdm","Lrg"].indexOf(S.RplS.v.RplS)};
U.Rple.prototype.kZ=function(S,G){S.Amnt.v=G[0];S.RplS.v.RplS=["Sml","Mdm","Lrg"][G[1]]};U["Shr "]=function(){U.call(this,"Shr ");
this.Gq.push(new Mg(!0,!0));this.Gq.push(new Yh([24,18,0],[[24,18,3],[24,18,2]]));this.Yk()};U["Shr "].prototype=new U;
U["Shr "].prototype.$M=function(S,G){var j=new Ym(0,255/127,255/127,0,-2,128),z=JSON.parse(JSON.stringify(S.ShrP.v));
x.aY.GY(z,j);G[0]=z;G[1]=["WrpA","RptE"].indexOf(S.UndA.v.UndA)};U["Shr "].prototype.kZ=function(S,G){var j=new Ym(0,255/127,255/127,0,-2,128);
j.uT();x.aY.GY(G[0],j);S.ShrP.v=G[0];S.ShrE.v=G[0].length-1;S.UndA.v.UndA=["WrpA","RptE"][G[1]]};U.Sphr=function(){U.call(this,"Sphr");
this.Gq.push(new fM([12,57],-100,100));this.Gq.push(new Yh([12,36],["Normal",[22,4,0],[22,4,1]]));this.Yk()};
U.Sphr.prototype=new U;U.Sphr.prototype.$M=function(S,G){G[0]=S.Amnt.v;G[1]=["Nrml","HrzO","VrtO"].indexOf(S.SphM.v.SphM)};
U.Sphr.prototype.kZ=function(S,G){S.Amnt.v=G[0];S.SphM.v.SphM=["Nrml","HrzO","VrtO"][G[1]]};U.Twrl=function(){U.call(this,"Twrl");
this.Gq.push(new fM([12,15],-999,999));this.Yk()};U.Twrl.prototype=new U;U.Twrl.prototype.$M=function(S,G){G[0]=S.Angl.v};
U.Twrl.prototype.kZ=function(S,G){S.Angl.v=G[0]};U.Wave=function(){U.call(this,"Wave");this.Gq.push(new fM("Number of Generators",1,100));
this.Gq.push(new ol("Min Length",1,999));this.Gq.push(new ol("Max Length",1,999));this.Gq.push(new ol("Min Ampl.",1,999));
this.Gq.push(new ol("Max Ampl.",1,999));this.Gq.push(new ol("Scale X",1,100,"%"));this.Gq.push(new ol("Scale Y",1,100,"%"));
this.fPu=[1,2,3,4];this.Gq.push(new Xv([12,44],["Sine","Triangle",[12,93,3]]));this.Gq.push(new Yh([24,18,0],[[24,18,3],[24,18,2]]));
this.Gq.push(new CY("Randomizer Seed"));this.Yk()};U.Wave.prototype=new U;U.Wave.prototype.$M=function(S,G){G[0]=S.NmbG.v;
G[1]=S.WLMn.v;G[2]=S.WLMx.v;G[3]=S.AmMn.v;G[4]=S.AmMx.v;G[5]=S.SclH.v;G[6]=S.SclV.v;G[7]=["WvSn","WvTr","WvSq"].indexOf(S.Wvtp.v.Wvtp);
G[8]=["WrpA","RptE"].indexOf(S.UndA.v.UndA);G[9]=S.RndS.v};U.Wave.prototype.kZ=function(S,G){S.NmbG.v=G[0];
S.WLMn.v=G[1];S.WLMx.v=G[2];S.AmMn.v=G[3];S.AmMx.v=G[4];S.SclH.v=G[5];S.SclV.v=G[6];S.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][G[7]];
S.UndA.v.UndA=["WrpA","RptE"][G[8]];var j=parseInt(G[9]);if(isNaN(j))j=248325464;j=Math.max(0,Math.min(268435455,j));
S.RndS.v=j;this.Gq[9].P(j)};U["\0\0\x02\xB5"]=function(){U.call(this,"\0\0\x02\xB5");this.Gq.push(new fM([12,56],1,200," px"));
this.Gq.push(new fM([4,13],1,255," px"));this.Yk()};U["\0\0\x02\xB5"].prototype=new U;U["\0\0\x02\xB5"].prototype.$M=function(S,G){G[0]=S.Rds.v.val;
G[1]=S.Thsh.v};U["\0\0\x02\xB5"].prototype.kZ=function(S,G){S.Rds.v.val=G[0];S.Thsh.v=G[1]};U.AdNs=function(){U.call(this,"AdNs");
this.Gq.push(new fM([12,57],0,200," %"));this.Gq.push(new Yh([12,58],[[12,59,0],[12,59,1]]));this.Gq.push(new YI([12,60]));
this.Yk()};U.AdNs.prototype=new U;U.AdNs.prototype.$M=function(S,G){G[0]=S.Nose.v.val;G[1]=["Unfr","Gsn"].indexOf(S.Dstr.v.Dstr);
G[2]=S.Mnch.v};U.AdNs.prototype.kZ=function(S,G){S.Nose.v.val=G[0];S.Dstr.v.Dstr=["Unfr","Gsn"][G[1]];
S.Mnch.v=G[2]};U.DstS=function(){U.call(this,"DstS");this.Gq.push(new fM([12,56],1,200," px"));this.Gq.push(new fM([4,13],1,255," px"));
this.Yk()};U.DstS.prototype=new U;U.DstS.prototype.$M=function(S,G){G[0]=S.Rds.v;G[1]=S.Thsh.v};U.DstS.prototype.kZ=function(S,G){S.Rds.v=G[0];
S.Thsh.v=G[1]};U["Mdn "]=function(){U.call(this,"Mdn ");this.Gq.push(new fM([12,56],1,200," px"));this.Yk()};
U["Mdn "].prototype=new U;U["Mdn "].prototype.$M=function(S,G){G[0]=S.Rds.v.val};U["Mdn "].prototype.kZ=function(S,G){S.Rds.v.val=G[0]};
U.ClrH=function(){U.call(this,"ClrH");this.Gq.push(new fM([12,56],4,100," px"));for(var S=1;S<4;S++)this.Gq.push(new fM("Angle "+S,0,90," \xB0"));
this.Yk()};U.ClrH.prototype=new U;U.ClrH.prototype.$M=function(S,G){G[0]=S.Rds.v;for(var j=1;j<4;j++)G[j]=S["Ang"+j].v};
U.ClrH.prototype.kZ=function(S,G){S.Rds.v=G[0];for(var j=1;j<4;j++)S["Ang"+j].v=G[j]};U.ClrH.prototype.$=function(){var S=this.Gq;
S[0].$();for(var G=1;G<4;G++)S[G].B$(YP.get([12,15])+" "+G)};U.Crst=function(){U.call(this,"Crst");this.Gq.push(new fM([12,61],3,100," px"));
this.Yk()};U.Crst.prototype=new U;U.Crst.prototype.$M=function(S,G){G[0]=S.ClSz.v};U.Crst.prototype.kZ=function(S,G){S.ClSz.v=G[0]};
U.Mztn=function(){U.call(this,"Mztn");this.Gq.push(new Yh([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.Il="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Yk()};U.Mztn.prototype=new U;
U.Mztn.prototype.$M=function(S,G){G[0]=this.Il.indexOf(S.MztT.v.MztT)};U.Mztn.prototype.kZ=function(S,G){S.MztT.v.MztT=this.Il[G[0]]};
U["Msc "]=function(){U.call(this,"Msc ");this.Gq.push(new fM([12,61],2,200," px"));this.Yk()};U["Msc "].prototype=new U;
U["Msc "].prototype.$M=function(S,G){G[0]=S.ClSz.v.val};U["Msc "].prototype.kZ=function(S,G){S.ClSz.v.val=G[0]};
U.Pntl=function(){U.call(this,"Pntl");this.Gq.push(new fM([12,61],3,100," px"));this.Yk()};U.Pntl.prototype=new U;
U.Pntl.prototype.$M=function(S,G){G[0]=S.ClSz.v};U.Pntl.prototype.kZ=function(S,G){S.ClSz.v=G[0]};U["\0\0\x03\xE8"]=function(){U.call(this,"\0\0\x03\xE8");
this.Gq.push(new fM([12,57],1,200,"%"));this.Gq.push(new fM([12,56],0,200,"px",1,!0));this.Yk()};U["\0\0\x03\xE8"].prototype=new U;
U["\0\0\x03\xE8"].prototype.$M=function(S,G){G[0]=S.Amnt.v.val;G[1]=S.Rds.v.val};U["\0\0\x03\xE8"].prototype.kZ=function(S,G){S.Amnt.v.val=G[0];
S.Rds.v.val=G[1]};U.UnsM=function(){U.call(this,"UnsM");this.Gq.push(new fM([12,57],1,200," %"));this.Gq.push(new fM([12,56],0,200," px"));
this.Gq.push(new fM([4,13],0,255," "));this.Yk()};U.UnsM.prototype=new U;U.UnsM.prototype.$M=function(S,G){G[0]=S.Amnt.v.val;
G[1]=S.Rds.v.val;G[2]=S.Thsh.v};U.UnsM.prototype.kZ=function(S,G){S.Amnt.v.val=G[0];S.Rds.v.val=G[1];
S.Thsh.v=G[2]};U.HghP=function(){U.call(this,"HghP");this.Gq.push(new fM([12,56],1,200," px"));this.Yk()};
U.HghP.prototype=new U;U.HghP.prototype.$M=function(S,G){G[0]=S.Rds.v.val};U.HghP.prototype.kZ=function(S,G){S.Rds.v.val=G[0]};
U["Mxm "]=function(){U.call(this,"Mxm ");this.Gq.push(new fM([12,56],1,200," px"));this.Yk()};U["Mxm "].prototype=new U;
U["Mxm "].prototype.$M=function(S,G){G[0]=S.Rds.v.val};U["Mxm "].prototype.kZ=function(S,G){S.Rds.v.val=G[0]};
U["Mnm "]=function(){U.call(this,"Mnm ");this.Gq.push(new fM([12,56],1,200," px"));this.Yk()};U["Mnm "].prototype=new U;
U["Mnm "].prototype.$M=function(S,G){G[0]=S.Rds.v.val};U["Mnm "].prototype.kZ=function(S,G){S.Rds.v.val=G[0]};
U.Ofst=function(){U.call(this,"Ofst");this.Gq.push(new fM([22,4,0],-1024,1024," px"));this.Gq.push(new fM([22,4,1],-1024,1024," px"));
this.Gq.push(new Yh([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));this.Yk()};U.Ofst.prototype=new U;U.Ofst.prototype.$M=function(S,G){G[0]=S.Hrzn.v;
G[1]=S.Vrtc.v;G[2]=["Bckg","Rpt","Wrp"].indexOf(S.Fl.v.FlMd)};U.Ofst.prototype.kZ=function(S,G){S.Hrzn.v=G[0];
S.Vrtc.v=G[1];S.Fl.v.FlMd=["Bckg","Rpt","Wrp"][G[2]]};U.Rept=function(){U.call(this,"Rept");this.Gq.push(new ol([12,38],1,300," %"));
this.Gq.push(new ol("Row Shift",-50,50," %"));this.Gq.push(new ol("Space X",-99,200," %"));this.Gq.push(new ol("Space Y",-99,200," %"));
this.Gq.push(new YI([4,16,2]));this.Gq.push(new Xk([12,15]));this.Yk()};U.Rept.prototype=new U;U.Rept.prototype.$M=function(S,G){G[0]=S.Scl.v.val;
G[1]=S.Rsft.v.val;G[2]=S.SpcX.v.val;G[3]=S.SpcY.v.val;G[4]=S.SpcC.v;G[5]=S.Angl.v};U.Rept.prototype.kZ=function(S,G){S.Scl.v.val=G[0];
S.Rsft.v.val=G[1];S.SpcX.v.val=G[2];S.SpcY.v.val=G[3];S.SpcC.v=G[4];S.Angl.v=G[5].UT;return S};U.LqFy=function(){U.call(this,"LqFy");
this.dO=!1;this.nN=null;this.fJv=null;this.s=0;this.cC={IU:[[{s:{id:0,name:[24,1,0,1,0],P$:"liq/smudge"}}],[{s:{id:1,name:[24,1,0,1,1],P$:"liq/reconstruct"}}],[{s:{id:2,name:[24,1,0,1,2],P$:"liq/smooth"}}],[{s:{id:3,name:[24,1,0,1,3],P$:"liq/twirl"}}],[{s:{id:4,name:[24,1,0,1,4],P$:"liq/shrink"}}],[{s:{id:5,name:[24,1,0,1,5],P$:"liq/blow"}}],[{s:{id:6,name:[24,1,0,1,6],P$:"liq/pleft"}}]],keys:[]};
this.Mk=new Xq(this.cC,!1);this.Mk.Gc(0);this.Mk.n(E.E.e,this.fmR,this);this.Ir=oH.fR();this.mJ=null;
this.$G=[];this.Uv=-1;this.Nd=null;this.fPF=null;this.IF=null;this.Nh=null;this.IG=null;var S=E._("div","flexrow");
this.ED=S;this.M.appendChild(S);S.appendChild(this.Mk.M);this.view=new CW(!0);this.view.yd(100,100);
this.view.n("mousedown",this.pc,this);this.view.n("mousemove",this.Km,this);this.view.n("mouseup",this.iP,this);
this.view.n("zoom",this.HT,this);S.appendChild(this.view.M);var G=E._("div","form");S.appendChild(G);
this.sU=G;G.style.width="230px";this.KX=[new fM([12,14,0],0,1e3,null,!1,!0),new fM([12,74],0,100,null,!1,!1),new fM([12,84],0,100,null,!1,!1),new YI([12,46]),new fM([12,0],0,100,null,!1,!1)];
var j=this.Ir.Brsh.v;j.Dmtr.v.val=100;var z=[100,50,100,!1,100];for(var O=0;O<this.KX.length;O++){var i=this.KX[O];
i.P(z[O]);i.n(E.E.F,this.fQw,this);G.appendChild(i.M)}var C=new Ys("Reset",!0,null,!0);C.n("click",this.oH,this);
G.appendChild(C.M);this.YV=new YS;this.YV.M=E._("div","floatcont");this.NE=new Ys("Menu",!1,null,!0);
this.NE.n("click",this.fms,this);var M=this.NE.M;M.setAttribute("style","position:absolute; right:13px; top:47px")};
U.LqFy.prototype=new U;U.LqFy.prototype.lg=function(){return!0};U.LqFy.prototype.QP=function(S){this.sU.appendChild(S)};
U.LqFy.prototype.fms=function(S){var G=this.NE.M.getBoundingClientRect();this.YV.M.appendChild(this.sU);
var j=new L(E.E.e,!0);j.data={r:E.a.Jt,pZ:this.YV,x:G.right+G.width-290,y:G.top+G.height};this.D(j)};
U.LqFy.prototype.HE=function(S){this.dO=S.U(w.Ki);var G=t.ha.aP(this.Ir,S);if(G!=null){this.Ir=G;this.HT();
this.KX[0].P(G.Brsh.v.Dmtr.v.val)}else if(S.U(w.kw)&&S.U(w.HL)){var j=this.$G;if(S.U(w.H$)){if(this.Uv+1<j.length)this.Uv++}else if(this.Uv>0)this.Uv--;
this.mJ.map=j[this.Uv].slice(0);this.iC(null)}else this.view.HE(S)};U.LqFy.prototype.fmR=function(S){if(S.data.r==E.a.AH){this.s=S.data.s;
this.Mk.Gc(this.s)}};U.LqFy.prototype.fQw=function(S){var G=S.currentTarget,j=this.KX.indexOf(G),z=this.Ir.Brsh.v;
if(j==0){z.Dmtr.v.val=G.j();this.HT()}if(j>2)this.iC(null)};U.LqFy.prototype.oB=function(){var S=this.$G;
this.Uv++;S[this.Uv]=this.mJ.map.slice(0);while(S.length>this.Uv+1)S.pop();while(S.length>50){S=S.slice(1);
this.Uv--}};U.LqFy.prototype.pc=function(S){this.Dt();this.nN=this.view.oV();this.fJv=new A(0,0);this.n(E.E.sF,this.oD,this)};
U.LqFy.prototype.Km=function(S){var G=this.view.oV(),j=new A(G.x-this.nN.x,G.y-this.nN.y);if(this.s==0||this.s==6)this.ffe(j);
this.nN=G};U.LqFy.prototype.iP=function(S){this.oB();this.Dt()};U.LqFy.prototype.Dt=function(){if(this.UF(E.E.sF,this.oD))this.removeEventListener(E.E.sF,this.oD,this)};
U.LqFy.prototype.oD=function(S){if(this.s!=0&&this.s!=6)this.ffe(new A(0,0))};U.LqFy.prototype.ffe=function(S){var G=this.mJ,j=G.YC/this.Nd.o,z=this.nN,O=this.Ir.Brsh.v,i=O.Dmtr.v.val,C=Date.now(),M=G.YC,D=G.QM,X=Math.sqrt(S.x*S.x+S.y*S.y),l=Math.max(1,Math.ceil(X/2)),f=S.x/l,F=S.y/l,$=z.clone(),_=this.s,P=this.KX[1].j()/100,k=this.KX[2].j()/100,H=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],q=H[_*2],R=H[_*2+1],I=(1-P)*q+P*R,b=i*j/2;
for(var Y=0;Y<l;Y++){var m=[];$.x+=f;$.y+=F;x.hQ.fwT(G.map,M,D,_,$.x*j,$.y*j,b,1,P,k,new A(f*j,F*j),m,this.dO);
x.hQ.fwo(M,D,G.map,m,I*k)}var h=new Q(0,0,M,D),e=new Q(z.x*j,z.y*j,0,0);e.En(i*j*.5,i*j*.5);var s=e.clone();
s.offset(S.x*j,S.y*j);e=e.wB(s);var y=new Q(e.x/j,e.y/j,e.o/j,e.i/j);y=x.Y.tE(y).tY(this.Nd);this.iC(y)};
U.LqFy.prototype.HT=function(){var S=fs.sY(this.Ir,null,this.view.DF().u);this.view.om(S)};U.LqFy.prototype.P=function(S,G,j,z,O){j=j.clone();
if(G==null)return;if(!z.Xs(j)){var i=j.wB(z),C=x.S(i.h()*4);x.yF(G,j,C,i);G=C;j=i}j.x=j.y=0;this.IF=G;
this.fPF=O;this.IG=G.slice(0);this.Nh=G.slice(0);this.Nd=j;this.mJ=Sc.wD(new Uint8Array(S.LqMe.v).buffer);
var M=j.o,D=j.i;if(this.mJ.YC/M<.22){this.mJ={YC:Math.floor(M/4),QM:Math.floor(D/4)};this.mJ.map=new Float32Array(this.mJ.YC*this.mJ.QM*2)}this.$G=[];
this.Uv=-1;this.oB();this.iC(null);this.HT()};U.LqFy.prototype.j=function(){this.Dt();var S=Yy.Cr("LqFy"),G=new Uint8Array(Sc.Rk(this.mJ)),j=[];
for(var z=0;z<G.length;z++)j.push(G[z]);S.LqMe.v=j;return S};U.LqFy.prototype.yd=function(S,G){this.Mk.yd(S,G);
var j=this.NE.M,z=this.sU;this.ED.appendChild(z);this.ED.appendChild(j);if(S>450){z.style.marginLeft="1em";
this.ED.removeChild(j);this.view.yd(S-238-45,G)}else{z.style.marginLeft="";this.ED.removeChild(z);this.view.yd(S-40,G)}};
U.LqFy.prototype.$=function(){this.Mk.$();for(var S=0;S<this.KX.length;S++)this.KX[S].$()};U.LqFy.prototype.oH=function(){this.Dt();
this.mJ.map.fill(0);this.oB();this.iC(null)};U.LqFy.prototype.iC=function(S){var G=this.Nd,j=this.IF,z=this.IG,O=this.mJ;
x.hQ.ej(j,this.Nh,G.o,G.i,S,O.map,O.YC,O.QM,0);if(this.KX[3].Ev()){x.yF(this.fPF,G,z,G,S?S:G);x.k.me("norm",this.Nh,G,z,G,S?S:G,this.KX[4].j()/100)}else x.Fj(this.Nh,z);
this.view.P([{tv:G,data:z.buffer}])};U.GEfc=function(){U.call(this,"GEfc");this.IF=null;this.IG=null;
this.Nd=null;this.G$=null;var S=E._("div","flexrow");this.ED=S;this.M.appendChild(S);this.view=new CW;
this.view.yd(100,100);S.appendChild(this.view.M);var G=E._("div","form");S.appendChild(G);this.sU=G;
G.style.width="230px";G.style.marginLeft="1em";this.sx=[];var j=[];this.Ns={};for(var z in XC.names){this.sx.push(z);
j.push(XC.names[z]);var O=new U.GEfc.Tl(z);this.Ns[z]=O;O.n(E.E.F,this.iC,this)}this.Cm=new Yh(null,j);
G.appendChild(this.Cm.M);this.Cm.n(E.E.F,this.fQd,this);this.mX=E._("div");G.appendChild(this.mX)};U.GEfc.prototype=new U;
U.GEfc.prototype.lg=function(){return!0};U.GEfc.prototype.QP=function(S){this.sU.appendChild(S)};U.GEfc.prototype.uQ=function(S,G){this.G$=S};
U.GEfc.prototype.yd=function(S,G){this.view.yd(S-240,G)};U.GEfc.prototype.fQd=function(S){var G=this.sx[this.Cm.j()],j=XC.Cr(G),z=this.Ns[G];
z.P(j);E.Vk(this.mX);this.mX.appendChild(z.M);this.iC()};U.GEfc.prototype.P=function(S,G,j,z,O){var i=S.GEfk.v.GEft,C=this.sx.indexOf(i);
if(C==-1){alert("Unsupported gallery filter");this.close();return}this.Cm.P(C);var M=this.Ns[i];M.P(S);
E.Vk(this.mX);this.mX.appendChild(M.M);j=j.clone();if(G==null)return;if(!z.Xs(j)){var D=j.wB(z),X=x.S(D.h()*4);
x.yF(G,j,X,D);G=X;j=D}j.x=j.y=0;this.IF=G;this.IG=G.slice(0);this.Nd=j;this.iC()};U.GEfc.prototype.j=function(){var S=this.sx[this.Cm.j()];
return this.Ns[S].j()};U.GEfc.prototype.iC=function(S){var G=this.Nd,j=this.IF,z=this.IG,O=this.sx[this.Cm.j()],i=this.Ns[O].j(),C=this.G$;
function M(D){return{H:D>>>16,X:D>>>8&255,C:D&255}}Yy.KH("GEfc",{rect:this.Nd,buffer:this.IF},i,M(C.Cj),M(C.iw),{rect:this.Nd,buffer:this.IG},null);
this.view.P([{tv:G,data:z.buffer}])};U.GEfc.prototype.$=function(){for(var S in this.Ns)this.Ns[S].$()};
U.GEfc.Tl=function(S){YS.call(this);this.iX=S;this.M=E._("div");this.ci={};var G=XC.Cr(S);for(var j in G){var z;
if(j=="__name"||j=="classID"||j=="GEfk"||["LghI","FlRs"].indexOf(j)!=-1)continue;else if(j=="Sz")z=new fM([12,14,0],1,50);
else if(j=="Dtl")z=new fM("Detail",1,15);else if(j=="Shrp")z=new fM("Sharpness",0,40);else if(j=="BrsT")z=new Yh("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(j=="LghD")z=new Yh("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(j=="EdgW")z=new fM("Edge Width",1,14);else if(j=="EdgB")z=new fM("Edge Brightness",0,20);else if(j=="Smth")z=new fM([19,3,3],1,15);
else if(j=="ClSz")z=new fM([12,61],3,100);else if(j=="BrdT")z=new fM([7,9],1,20);else if(j=="HghS")z=new fM([12,64],0,20);
else if(j=="HlSz")z=new fM([12,14,0],1,15);else if(j=="Cntr")z=new fM([12,3,0],0,50);else if(j=="ScrT")z=new Yh([12,62],["Circle","Dot",[10,35]]);
else console.log(j);z.n(E.E.F,this.cr,this);this.ci[j]=z;this.M.appendChild(z.M)}};U.GEfc.Tl.prototype=new YS;
U.GEfc.Tl.prototype.cr=function(S){this.D(new L(E.E.F,!1))};U.GEfc.Tl.prototype.P=function(S){for(var G in this.ci){var j;
if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr".split(" ").indexOf(G)!=-1)j=S[G].v;else if(G=="BrsT")j=XC.Zg.indexOf(S[G].v[G]);
else if(G=="LghD")j=XC.zj.indexOf(S[G].v[G]);else if(G=="ScrT")j=XC.zO.indexOf(S[G].v[G]);this.ci[G].P(j)}};
U.GEfc.Tl.prototype.j=function(){var S=XC.Cr(this.iX);for(var G in this.ci){var j=this.ci[G].j();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr".split(" ").indexOf(G)!=-1)S[G].v=j;
else if(G=="BrsT")S[G].v[G]=XC.Zg[j];else if(G=="LghD")S[G].v[G]=XC.zj[j];else if(G=="ScrT")S[G].v[G]=XC.zO[j]}return S};
U.GEfc.Tl.prototype.$=function(){for(var S in this.ci)this.ci[S].$()};U.blnc=function(){U.call(this);
var S=this.M;this.IC=null;this.Iz=new Yh([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.Iz.n(E.E.F,this.iC,this);
S.appendChild(this.Iz.M);this.nB=[];for(var G=0;G<3;G++){var j=new fM(Yd.zi[G],-100,100);j.n(E.E.F,this.s$,this);
this.nB.push(j);S.appendChild(j.M)}this.mC=new YI([13,4]);this.mC.n(E.E.F,this.s$,this);S.appendChild(this.mC.M)};
U.blnc.prototype=new U;U.blnc.prototype.$=function(){this.Iz.$();for(var S=0;S<3;S++)this.nB[S].$();
this.mC.$()};U.blnc.prototype.P=function(S){this.IC=JSON.parse(JSON.stringify(S));this.iC()};U.blnc.prototype.j=function(S){var G=["ShdL","MdtL","HghL"],j=this.IC[G[this.Iz.j()]].v;
for(var z=0;z<3;z++)j[z].v=this.nB[z].j();this.IC.PrsL.v=this.mC.j();return JSON.parse(JSON.stringify(this.IC))};
U.blnc.prototype.iC=function(S){var G=["ShdL","MdtL","HghL"],j=this.IC[G[this.Iz.j()]].v;for(var z=0;
z<3;z++)this.nB[z].P(j[z].v);this.mC.P(this.IC.PrsL.v)};U.brit=function(){U.call(this,"brit");this.Gq.push(new fM([12,2],-150,150,""));
this.Gq.push(new fM([12,3,0],-100,100,""));this.Gq.push(new YI([12,3,1]));this.Yk()};U.brit.prototype=new U;
U.brit.prototype.$M=function(S,G){G[0]=S.Brgh?S.Brgh.v:0;G[1]=S.Cntr?S.Cntr.v:0;G[2]=S.useLegacy?S.useLegacy.v:!1};
U.brit.prototype.kZ=function(S,G){S.Brgh.v=G[0];S.Cntr.v=G[1];S.useLegacy.v=G[2]};U.curv=function(){U.call(this);
this.value=null;this.hi=null;var S=this.M;this.hS=new Yh([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.hS.n(E.E.F,this.Ms,this);S.appendChild(this.hS.M);this.UC=new Yh(null,["Spline","Sketch"]);this.UC.n(E.E.F,this.fQc,this);
S.appendChild(this.UC.M);this.wq=new Mg;this.wq.n(E.E.F,this.QQ,this);S.appendChild(this.wq.M);this.mS=new Sb("Sample from image",[0,1,2]);
S.appendChild(this.mS.M)};U.curv.prototype=new U;U.curv.prototype.$=function(){this.hS.$()};U.curv.prototype.fQc=function(S){var G=fp.rf(this.value,0),j=G.length==256?1:0,z=this.UC.j();
if(j==z)return;var O=Yy.Cr("curv");if(z==1){var i=[];for(var C=0;C<256;C++)i.push(C);fp.mL(O,0,i)}this.P(O);
this.s$()};U.curv.prototype.QQ=function(){fp.mL(this.value,this.hS.j(),this.wq.j());this.s$()};U.curv.prototype.Ms=function(){var S=this.hS.j(),G=fp.rf(this.value,S),j=G.length==256?1:0;
this.UC.P(j);if(this.hi)this.wq.Qj(this.hi[S],this.hi[4]*[1,.33,.33,.33][S],["#ccc","#fcc","#cfc","#ccf"][S]);
this.wq.P(G)};U.curv.prototype.He=function(){return!0};U.curv.prototype.Va=function(S,G,j,z,O){var i=this.value,C=this.mS.j();
this.value=Yy.Cr("curv");this.s$();var M=t.ty.eL(S,O,1),D=[M>>>16&255,M>>>8&255,M&255];for(var X=0;X<3;
X++){var l=fp.rf(i,1+X);if(C==0)l[0].v.Hrzn.v=D[X];if(C==1){var f=(D[0]+D[1]+D[2])*.333,F=Math.log(D[X]/255)/Math.log(f/255),$=Math.min(999,Math.max(10,Math.round(100*F)));
if(l.length==2)l.splice(1,0,JSON.parse(JSON.stringify(l[0])));l[1].v.Hrzn.v=127-Math.log($/100)*127;
l[1].v.Vrtc.v=127}if(C==2)l[l.length-1].v.Hrzn.v=D[X];fp.mL(i,1+X,l)}this.P(i);this.s$()};U.curv.prototype.P=function(S){this.value=S;
this.Ms()};U.curv.prototype.Qj=function(S){this.hi=S;this.Ms()};U.curv.prototype.j=function(S){return JSON.parse(JSON.stringify(this.value))};
U.expA=function(){U.call(this,"expA");this.Gq.push(new fM([12,5],-20,20,null,3));this.Gq.push(new fM([12,6],-.5,.5,null,3));
this.Gq.push(new fM([12,7],.01,6.99,null,3));this.Yk()};U.expA.prototype=new U;U.expA.prototype.$M=function(S,G){G[0]=S.Exps.v;
G[1]=S.Ofst.v;G[2]=S.gammaCorrection.v};U.expA.prototype.kZ=function(S,G){S.Exps.v=G[0];S.Ofst.v=G[1];
S.gammaCorrection.v=G[2]};U.grdm=function(){U.call(this,"grdm");this.Gq.push(new PQ(!0,null,!0));this.Gq.push(new YI([12,23,0]));
this.Yk()};U.grdm.prototype=new U;U.grdm.prototype.$M=function(S,G){G[0]=S.Grad.v;G[1]=S.Rvrs.v};U.grdm.prototype.kZ=function(S,G){S.Grad.v=G[0];
S.Rvrs.v=G[1]};U.grdm.prototype.uQ=function(S,G){this.Gq[0].mn(S.Cj,S.iw);if(G==o$.$o||G==o$.n$||G==o$.vT)this.Gq[0].dC(S.Nx)};
U.selc=function(){U.call(this);var S=this.M;this.xH=[];this.aK=null;this.Iz=new Yh([12,82],Yd.zn.concat([[13,1,8],[13,1,13],[13,1,10]]));
this.Iz.n(E.E.F,this.cr,this);S.appendChild(this.Iz.M);for(var G=0;G<4;G++){var j=new fM(Yd.fVY[G],-100,100,"%");
j.n(E.E.F,this.cr,this);this.xH.push(j);S.appendChild(j.M)}this.mv=new YI([13,3]);S.appendChild(this.mv.M);
this.mv.n(E.E.F,this.cr,this)};U.selc.prototype=new U;U.selc.prototype.$=function(){this.Iz.$();this.mv.$();
for(var S=0;S<4;S++)this.xH[S].$()};U.selc.prototype.P=function(S){this.aK=JSON.parse(JSON.stringify(S));
this.iC()};U.selc.prototype.j=function(S){return JSON.parse(JSON.stringify(this.aK))};U.selc.prototype.cr=function(S){if(S.target!=this.Iz){var G=this.aK,j=[];
for(var z=0;z<4;z++)j[z]=this.xH[z].j();Cx.mL(G,this.Iz.j(),j);G.Mthd.v.CrcM=this.mv.j()?"Absl":"Rltv"}this.iC();
this.s$()};U.selc.prototype.iC=function(){var S=this.aK,G=Cx.rf(S,this.Iz.j());for(var j=0;j<4;j++)this.xH[j].P(G[j]);
this.mv.P(S.Mthd.v.CrcM=="Absl")};U.blwh=function(){U.call(this,"blwh");this.Gq.push(new YI([12,11]));
this.Gq.push(new fQ(!0));for(var S=0;S<6;S++)this.Gq.push(new fM(Yd.zn[S],-200,300));this.Yk()};U.blwh.prototype=new U;
U.blwh.prototype.$M=function(S,G){G[0]=S.useTint.v;G[1]=S.tintColor.v;var j="Rd Yllw Grn Cyn Bl Mgnt".split(" ");
for(var z=0;z<6;z++)G[2+z]=S[j[z]].v};U.blwh.prototype.kZ=function(S,G){S.useTint.v=G[0];S.tintColor.v=G[1];
var j="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var z=0;z<6;z++)S[j[z]].v=G[2+z]};U.hue2=function(){U.call(this);
this.value=null;this.hA=null;this.fvt=null;var S=this.M;this.Iz=new Yh([12,12],["Master"].concat(Yd.zn));
this.Iz.n(E.E.F,this.Ms,this);S.appendChild(this.Iz.M);this.aq=new fM([12,8],-180,180);this.aq.n(E.E.F,this.jf,this);
S.appendChild(this.aq.M);this.Nu=new fM([12,9],-100,100);this.Nu.n(E.E.F,this.jf,this);S.appendChild(this.Nu.M);
this.ma=new fM([12,10],-100,100);this.ma.n(E.E.F,this.jf,this);S.appendChild(this.ma.M);this.mK=new YI([12,11]);
this.mK.n(E.E.F,this.fQj,this);S.appendChild(this.mK.M);this.fag=new C$("...",!0);S.appendChild(this.fag.M)};
U.hue2.prototype=new U;U.hue2.prototype.$=function(){this.aq.$();this.Nu.$();this.ma.$();this.mK.$();
this.Iz.$()};U.hue2.prototype.fQj=function(S){var G=this.mK.j();this.value.Clrz.v=G;if(G)this.Iz.P(0);
this.Ms();this.s$()};U.hue2.prototype.jf=function(S){var G=this.value.Clrz.v,j=this.Iz.j(),z=fu.rf(this.value,j),O=j==0?z:z.nB;
O[0]=this.aq.j();var i=this.Nu.j();O[1]=G?Math.max(0,i):i;O[2]=this.ma.j();fu.mL(this.value,j,z);this.Ms();
this.s$()};U.hue2.prototype.Ms=function(){var S=this.value.Clrz?this.value.Clrz.v:!1,O="";this.mK.P(S);
if(S)this.Iz._S();else this.Iz.UE();var G=this.Iz.j(),j=fu.rf(this.value,G),z=G==0?j:j.nB;this.aq.P(z[0]);
this.Nu.P(z[1]);this.ma.P(z[2]);if(!S){O+=YP.get([5,8])+": ";var G=this.Iz.j();if(G==0)O+=YP.get([13,2]);
else O+=j.I_}this.fag.P(O)};U.hue2.prototype.He=function(){return!0};U.hue2.prototype.ti=function(S,G,j,z,O){var i=this.value;
this.value=Yy.Cr("hue2");this.s$();var C=t.ty.eL(S,O,1),M=[C>>>16&255,C>>>8&255,C&255],D=x.Lm(M[0]/255,M[1]/255,M[2]/255);
this.Iz.P(1+Math.round(D.QM*6)%6);this.P(i);this.s$();this.hA=O.x;this.fvt=this.Nu.j()};U.hue2.prototype.Xt=function(S,G,j,z,O){if(this.hA!=null){var i=O.x-this.hA;
i=Math.max(-100,Math.min(100,this.fvt+.5*i));this.Nu.P(i);this.jf()}};U.hue2.prototype.Va=function(S,G,j,z,O){this.hA=null};
U.hue2.prototype.P=function(S){this.value=JSON.parse(JSON.stringify(S));this.Ms()};U.hue2.prototype.j=function(S){return JSON.parse(JSON.stringify(this.value))};
U.levl=function(){U.call(this);this.value=null;this.hi=null;this.GX=[new A(0,0),new A(0,0),new A(0,0),new A(0,0),new A(0,0)];
this.lb=-1;this.mU=this.AF.bind(this);this.mb=this.kh.bind(this);var S=this.M;this.hS=new Yh([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.hS.n(E.E.F,this.Ms,this);S.appendChild(this.hS.M);var G=E._("div","");S.appendChild(G);var j=E._("div","");
S.appendChild(j);this.vd=E._("canvas");G.appendChild(this.vd);this.Vj=this.vd.getContext("2d");this.It=new A(256,120);
this.vd.setAttribute("style","display:block");E.cl(this.vd,this.It.x,this.It.y,this.Vj);E.lN(this.vd);
E.qG(this.vd,this.yP.bind(this));this.dt=E._("canvas","");j.appendChild(this.dt);this.lU=this.dt.getContext("2d");
this.NG=new A(this.It.x,40);this.dt.setAttribute("style","display:block");E.cl(this.dt,this.NG.x,this.NG.y,this.lU);
E.lN(this.dt);E.qG(this.dt,this.fQU.bind(this));var z=this.fpm=[];for(var O=0;O<5;O++){var i=new CY(null,null,3);
z.push(i);i.n(E.E.F,this.fQh,this);(O<2||O==4?G:j).appendChild(i.M)}G.appendChild(z[1].M);z[4].M.setAttribute("style","margin: 0 4.7em");
z[3].M.setAttribute("style","margin:0 0 0 13em");this.mS=new Sb("Sample from image",[0,1,2]);S.appendChild(this.mS.M)};
U.levl.prototype=new U;U.levl.prototype.$=function(){this.hS.$()};U.levl.prototype.fQh=function(S){var G=[];
for(var j=0;j<5;j++){var z=255,O=1;if(j==4){z=999;O=100}var i=parseFloat(this.fpm[j].j());G[j]=Math.max(0,Math.min(z,i*O))}Cr.mL(this.value,this.hS.j(),G);
this.Ms();this.s$()};U.levl.prototype.Ms=function(S){var G=this.It.x,j=this.It.y,z=this.hS.j(),O=this.Vj;
O.clearRect(0,0,G,j);O.fillStyle="#cccccc";O.fillRect(8,8,G-16,j-16-8);if(this.hi){if(z==0){x.set(this.hi[0],0);
var i=JSON.parse(JSON.stringify(this.value));Cr.mL(i,0,[0,255,0,255,100]);var C=Yd.oF("levl",i),M=[C.HN,C.BA,C.mM];
for(var D=0;D<3;D++){var X=this.hi[1+D],l=M[D];for(var f=0;f<256;f++)this.hi[0][l[f]]+=X[f]}}var F=this.hi[z],$=0;
for(var f=0;f<F.length;f++)$+=F[f];O.fillStyle="#333333";O.beginPath();O.moveTo(8,j-16);for(var f=0;
f<256;f++){var _=55*F[f]/$;O.lineTo(8+f/256*(G-16),Math.max(8,j-16-j*_))}O.lineTo(G-8,j-16);O.closePath();
O.fill()}var P=Cr.rf(this.value,z);for(var f=0;f<5;f++)this.fpm[f].P(P[f]/(f==4?100:1));this.GX[0].cK(8+P[0]/255*(G-16),j-14);
this.GX[1].cK(8+P[1]/255*(G-16),j-14);var k=Math.log(P[4]/100)/Math.log(9.99);k=.5-k/2;this.GX[4].cK(this.GX[0].x+k*(this.GX[1].x-this.GX[0].x),j-14);
this.oE(O,this.GX[0],"#000000");this.oE(O,this.GX[4],"#777777");this.oE(O,this.GX[1],"#ffffff");var G=this.NG.x,j=this.NG.y;
O=this.lU;O.clearRect(0,0,G,j);var H=O.createLinearGradient(0,0,G-16,0);H.addColorStop(0,"black");H.addColorStop(1,"white");
O.fillStyle=H;O.fillRect(8,8,G-16,16);this.GX[2].cK(8+P[2]/255*(G-16),j-14);this.GX[3].cK(8+P[3]/255*(G-16),j-14);
this.oE(O,this.GX[2],"#000000");this.oE(O,this.GX[3],"#ffffff")};U.levl.prototype.oE=function(S,G,j){S.fillStyle=j;
S.fillRect(G.x-5,G.y,10,10)};U.levl.prototype.yP=function(S){var G=E.cV(S,this.vd);if(A.nM(this.GX[4],G)<10)this.lb=4;
for(var j=0;j<3;j++)if(A.nM(this.GX[j],G)<10)this.lb=j;this.fXv()};U.levl.prototype.fQU=function(S){var G=E.cV(S,this.dt);
for(var j=2;j<4;j++)if(A.nM(this.GX[j],G)<10)this.lb=j;this.fXv()};U.levl.prototype.fXv=function(S){if(this.lb==-1)return;
E.hM(document.body,this.mU);E.hh(document.body,this.mb)};U.levl.prototype.AF=function(S){var G=Cr.rf(this.value,this.hS.j()),j=E.cV(S,this.lb==2&&this.lb==3?this.dt:this.vd),z=255*(j.x-8)/(this.It.x-16);
z=Math.max(0,Math.min(255,z));if(this.lb==0)z=Math.min(z,G[1]-2);if(this.lb==1)z=Math.max(z,G[0]+2);
if(this.lb!=4)G[this.lb]=Math.round(z);else{var O=(z-G[0])/(G[1]-G[0]);O=1-2*O;O=Math.pow(9.99,O);G[4]=Math.min(999,Math.max(10,Math.round(O*100)))}Cr.mL(this.value,this.hS.j(),G);
this.Ms();this.s$()};U.levl.prototype.kh=function(S){E.JR(document.body,this.mU);E.li(document.body,this.mb);
this.lb=-1};U.levl.prototype.He=function(){return!0};U.levl.prototype.Va=function(S,G,j,z,O){var i=this.value,C=this.mS.j();
this.value=Yy.Cr("levl");this.s$();var M=t.ty.eL(S,O,1),D=[M>>>16&255,M>>>8&255,M&255];for(var X=0;X<3;
X++){var l=Cr.rf(i,1+X);if(C==0)l[0]=D[X];if(C==1){var f=Math.log(D[X]/255)/Math.log((D[0]+D[1]+D[2])*.333/255);
l[4]=Math.min(999,Math.max(10,Math.round(100*f)))}if(C==2)l[1]=D[X];Cr.mL(i,1+X,l)}this.P(i);this.s$()};
U.levl.prototype.P=function(S){this.value=S;this.Ms()};U.levl.prototype.Qj=function(S){this.hi=S;this.Ms()};
U.levl.prototype.j=function(S){return JSON.parse(JSON.stringify(this.value))};U.phfl=function(){U.call(this,"phfl");
this.Gq.push(new fQ);this.Gq.push(new fM([12,74],0,100,"%"));this.Gq.push(new YI([13,4]));this.Yk()};
U.phfl.prototype=new U;U.phfl.prototype.$M=function(S,G){G[0]=S.Clr.v;G[1]=S.Dnst.v;G[2]=S.PrsL.v};U.phfl.prototype.kZ=function(S,G){var j=x.T.cx(G[0]),z=S.Clr.v,O=x.cy(j.H,j.X,j.C);
z.Lmnc.v=O.Fa;z.A.v=O.A;z.B.v=O.C;S.Dnst.v=G[1];S.PrsL.v=G[2]};U.vibA=function(){U.call(this,"vibA");
this.Gq.push(new fM([12,13],-100,100,null));this.Gq.push(new fM([12,9],-100,100,null));this.Yk()};U.vibA.prototype=new U;
U.vibA.prototype.$M=function(S,G){G[0]=S.vibrance?S.vibrance.v:0;G[1]=S.Strt?S.Strt.v:0};U.vibA.prototype.kZ=function(S,G){S.vibrance.v=G[0];
S.Strt.v=G[1]};U.thrs=function(){U.call(this,"thrs");this.Gq.push(new fM([4,13],1,255,null));this.Yk()};
U.thrs.prototype=new U;U.thrs.prototype.$M=function(S,G){G[0]=S.Lvl.v};U.thrs.prototype.kZ=function(S,G){S.Lvl.v=G[0]};
U.mixr=function(){U.call(this);var S=this.M;this.xH=[];this.aK=null;this.Iz=new Yh([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.Iz.n(E.E.F,this.cr,this);S.appendChild(this.Iz.M);E.yn(S);this.dF=new YI([12,60]);S.appendChild(this.dF.M);
this.dF.n(E.E.F,this.cr,this);for(var G=0;G<4;G++){var j=new fM([[13,1,1],[13,1,4],[13,1,5],[13,2]][G],-200,200,"%");
j.n(E.E.F,this.cr,this);this.xH.push(j);S.appendChild(j.M)}};U.mixr.prototype=new U;U.mixr.prototype.$=function(){this.Iz.$();
this.dF.$();for(var S=0;S<4;S++)this.xH[S].$()};U.mixr.prototype.P=function(S){this.aK=JSON.parse(JSON.stringify(S));
this.iC()};U.mixr.prototype.j=function(S){return JSON.parse(JSON.stringify(this.aK))};U.mixr.prototype.cr=function(S){if(S.target!=this.Iz){var G=Yd.BY(this.aK);
if(S.target==this.dF){G.dF=this.dF.j();if(G.dF)G.g=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else G.g=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var j=(G.dF?0:this.Iz.j())*5,z=this.xH.indexOf(S.target);
G.g[j+(z<3?z:4)]=S.target.j()}this.aK=Yd.TG(G)}this.iC();this.s$()};U.mixr.prototype.iC=function(){var S=Yd.BY(this.aK);
this.dF.P(S.dF);var G=(S.dF?0:this.Iz.j())*5;for(var j=0;j<4;j++)this.xH[j].P(S.g[G+(j<3?j:4)])};U.post=function(){U.call(this,"post");
this.Gq.push(new fM([4,1],2,255,null));this.Yk()};U.post.prototype=new U;U.post.prototype.$M=function(S,G){G[0]=S.Lvls.v};
U.post.prototype.kZ=function(S,G){S.Lvls.v=G[0]};U.clrL=function(){U.call(this,"clrL");this.Gq.push(new Mf("LUTs"));
this.Yk()};U.clrL.prototype=new U;U.clrL.prototype.$M=function(S,G){G[0]=S};U.clrL.prototype.kZ=function(S,G){var j=G[0];
for(var z in j)S[z]=j[z]};U.clrL.prototype.uQ=function(S,G){if(G==o$.$o||G==o$.lW)this.Gq[0].dC(S.fpc)};
U.rplc=function(){U.call(this,"rplc");this.Gq.push(new fM([12,92],0,200));this.Gq.push(new fQ);this.Gq.push(new fM([12,8],-180,180));
this.Gq.push(new fM([12,9],-100,100));this.Gq.push(new fM([12,10],-100,100));this.Yk()};U.rplc.prototype=new U;
U.rplc.prototype.$M=function(S,G){G[0]=S.Fzns.v;G[1]=S.Mxm.v;G[2]=S.H.v;G[3]=S.Strt.v;G[4]=S.Lght.v};
U.rplc.prototype.kZ=function(S,G){function j(O,i){i.Lmnc.v=O.Fa;i.A.v=O.A;i.B.v=O.C}S.Fzns.v=G[0];S.H.v=G[2];
S.Strt.v=G[3];S.Lght.v=G[4];var z=x.T.cx(G[1]),O=x.cy(z.H,z.X,z.C);j(O,S.Mnm.v);j(O,S.Mxm.v)};U.fade=function(){U.call(this,"fade");
this.Gq.push(new fM([12,0],0,100,"%"));this.Gq.push(new Yh([12,19,0],YR.Cm,!1,YR.hI));this.Yk()};U.fade.prototype=new U;
U.fade.prototype.$M=function(S,G){G[0]=S.Opct.v.val;G[1]=YR.kC.indexOf(S.Md.v.BlnM)};U.fade.prototype.kZ=function(S,G){S.Opct.v.val=G[0];
S.Md.v.BlnM=YR.kC[G[1]]};function XA(S,G){YS.call(this);if(S==null)return;this.id=G;this.Nt=S;this.jh=null;
this.M=E._("div","window "+G);this.wO=E._("div","head");this.fpO=E._("span","wname");this.wO.appendChild(this.fpO);
this.M.appendChild(this.wO);this.YT=this.fQG.bind(this);this.Bn=this.fTg.bind(this);this.BD=this.fTM.bind(this);
E.lN(this.wO);E.qG(this.wO,this.YT);this.jU=E._("span","cross");this.wO.appendChild(this.jU);XA.prototype.$.call(this);
E.hh(this.jU,this.fXt.bind(this));this.body=E._("div","body");this.M.appendChild(this.body)}XA.prototype=new YS;
XA.prototype.Zx=function(){return!1};XA.prototype.He=function(){return!1};XA.prototype.$=function(){if(this.Nt==null)return;
this.fpO.textContent=YP.get(this.Nt);var S=PIMG.__cross==null?"filter:invert(1);":"";this.jU.setAttribute("style","background-image:url("+PIMG.cross+");"+S)};
XA.prototype.ti=function(S,G,j,z,O){};XA.prototype.JK=function(S,G,j,z,O){};XA.prototype.Xt=function(S,G,j,z,O){};
XA.prototype.Va=function(S,G,j,z,O){};XA.prototype.nr=function(S,G,j,z,O){};XA.prototype.HE=function(S,G,j,z){if(z.U(w.A$)&&this.Jo)this.Jo()};
XA.prototype.DW=function(S){return!1};XA.prototype.mh=function(S,G){return!0};XA.prototype.SL=function(S,G,j,z){};
XA.prototype.uQ=function(S,G){};XA.prototype.lg=function(){return!1};XA.prototype.$x=function(S,G){return S<450||G<450?new A(0,0):new A(150,150)};
XA.prototype.yd=function(){};XA.prototype.close=function(){this.D(new L(E.E.lG))};XA.prototype.fQG=function(S){this.jh=E.cV(S,this.M);
E.hM(window,this.Bn);E.hh(window,this.BD)};XA.prototype.fTg=function(S){var G=this.M.parentNode,j=E.cV(S,G);
this.M.style.left=Math.round(j.x-this.jh.x)+"px";this.M.style.top=G.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(j.y-this.jh.y)))+"px"};
XA.prototype.fTM=function(S){E.JR(window,this.Bn);E.li(window,this.BD)};XA.prototype.fXt=function(S){this.D(new L("closebtn"));
this.close()};function fc(){XA.call(this,[0,13,0],"account");this.mi=E._("div","form padded scrollable");
this.mi.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.mi);this.kg=[new fc.kR,new fc.jX(fc.fTj)];
for(var S=0;S<this.kg.length;S++)this.kg[S].parent=this;this.n("showpage",this.fTo,this)}fc.prototype=new XA;
fc.prototype.fTo=function(S){E.Vk(this.mi);this.mi.scrollTop=0;this.mi.appendChild(this.kg[S.data.Qf].M)};
fc.prototype.$=function(){XA.prototype.$.call(this);for(var S=0;S<this.kg.length;S++)this.kg[S].$()};
fc.prototype.SL=function(S,G,j){E.Vk(this.mi);var z=this.kg[0];this.mi.appendChild(z.M);z.SL();this.$()};
fc.prototype.uQ=function(S,G){this.SL(null,null,null)};fc.kR=function(){YS.call(this);this.M=E._("div");
var S=this.M,G,j,z="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.kf=E._("div");S.appendChild(this.kf);this.rM=new Ys([0,11],!1,null,!0);this.rM.M.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.rM.n("click",this.fL,this);S.appendChild(this.rM.M);this.jx=new Ys([0,13,1],!1,null,!0);this.jx.n("click",this.fCw,this);
S.appendChild(this.jx.M);G=E._("h2","");G.innerHTML="Account types";S.appendChild(G);j=E._("table","");
j.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
S.appendChild(j);var O=this.fJz=[[5,30,1],[10,90,1],[15,30,5],[30,90,5],[50,30,20],[100,90,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.Nz=[];for(var i=0;i<O.length;i++)this.Nz.push(new Ys("Buy: $"+O[i][0],!1,null,!0));for(var i=0;
i<this.Nz.length;i++){this.Nz[i].M.setAttribute("style",z);this.Nz[i].n("click",this.fTk,this)}G=E._("h2","");
G.innerHTML="Go Premium";S.appendChild(G);this.rK=new Ys("...",!0);this.rK.M.setAttribute("style",z);
S.appendChild(this.rK.M);j=this.flu(2,["Single user",this.Nz[0],this.Nz[1],"Team of 5",this.Nz[2],this.Nz[3],"Team of 20",this.Nz[4],this.Nz[5]]);
S.appendChild(j);this.fp$=new YI("I accept",!0,"");S.appendChild(this.fp$.M);this.jb=new Ys([0,13,1],!1,null,!0);
this.jb.n("click",this.fCw,this);S.appendChild(this.jb.M);this.fzS=new Ys("Info for Buyers",!1,null,!0);
this.fzS.n("click",this.fTY,this);G=E._("h2","");G.textContent="Team Settings";S.appendChild(G);this.ND=new YI("Join a team");
S.appendChild(this.ND.M);this.ND.n(E.E.F,this.fwe,this);this.rW=new CY("Email of a leader",null,14);
S.appendChild(this.rW.M);E.yn(S);this.mm=new YI("Start a team");S.appendChild(this.mm.M);this.mm.n(E.E.F,this.fwe,this);
var C=new C$("Emails of other members:");S.appendChild(C.M);E.yn(S);this.bM=E._("textarea");this.bM.setAttribute("rows",3);
this.bM.setAttribute("cols",70);this.bM.setAttribute("style","display:block;tab-size:4;");S.appendChild(this.bM);
var M=new Ys("Save Team Settings",!1,null,!0);S.appendChild(M.M);M.n("click",this.fTS,this);var D=this.fJs=new Ys("More about Teams",!1,null,!0);
S.appendChild(D.M);D.n("click",this.fPM,this);G=E._("h2","");G.innerHTML="Distributor Account";S.appendChild(G);
this.rs=new Ys("...",!0);this.rs.M.setAttribute("style",z);S.appendChild(this.rs.M);j=this.flu(3,["1000 views/month",this.Nz[6],this.Nz[7],this.Nz[8],"5000 views/month",this.Nz[9],this.Nz[10],this.Nz[11],"20000 views/month",this.Nz[12],this.Nz[13],this.Nz[14]]);
S.appendChild(j);this.rm=new CY("Domain name (e.g. domain.com)",null,14);S.appendChild(this.rm.M);E.yn(S);
var M=new Ys("Save Domain Settings",!1,null,!0);M.hU();S.appendChild(M.M);M.n("click",this.fTV,this);
var D=new Ys("More about Distributors",!1,null,!0);S.appendChild(D.M);D.n("click",this.fPM,this)};fc.kR.prototype=new YS;
fc.kR.prototype.fCw=function(S){var G=new L("showpage",!0);G.data={Qf:1};this.D(G)};fc.kR.prototype.fTY=function(S){var G=new L("showpage",!0);
G.data={Qf:2};this.D(G)};fc.kR.prototype.$=function(){this.rM.B$(YW.rt()?YP.get([0,11]):YP.get([0,10]));
this.jb.$();this.jx.$();this.fzS.$()};fc.kR.prototype.fPM=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.mw,link:"https://www.photopea.com/api/accounts#"+(S.target==this.fJs?"teams":"distributors")};
this.D(G)};fc.kR.prototype.fwe=function(S){var G=S.currentTarget==this.ND;this.ND.P(G);this.mm.P(!G)};
fc.kR.prototype.fTS=function(S){var G=this.ND.j(),j=this.rW.j().trim(),z=this.bM.value.trim();if(j.length>60){alert("Too long email address");
return}if(z.length>600){alert("Too many team members");return}z=z.split(",").join(" ").trim();z=z.replace(/\s+/g," ");
if(z=="")z=[];else z=z.split(" ");var O=YW.X$();if(O==null)O={};if(O.acc==null)O.acc={};O.acc.team={jin:G,ldr:j,mmb:z};
YW.XX(O,this.Qw.bind(this));alert("Saved!");this.SL()};fc.kR.prototype.fTV=function(S){var G=this.rm.j().trim();
if(G.length==0){alert("Domain is empty.");return}if(!YW.rt()){alert("You have to log in first.");return}if(YW.dL().distrib=="0"){alert("Order a distributor account first.");
return}var j=YW.X$();if(j==null)j={};if(j.acc==null)j.acc={};j.acc.dname=G;YW.XX(j,this.Qw.bind(this));
alert("Saved!");this.SL()};fc.kR.prototype.SL=function(){if(YW.rt()){var S=YW.dL();if(S==null)return;
this.kf.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+S.name+"</span> "+S.email+" <br/>"}else this.kf.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var G=YW.rt()&&YW.de();this.rK.M.style.display=G?"block":"none";if(G){var j=parseInt(S[E.l$("!&|'&50")])-Date.now()*(1/1e3),z=parseInt(S.ptype),O;
if(z==-1)O="member of a team";else if(z==1)O="Single user";else O="Team of "+z;this.rK.B$("Premium active for "+Math.round(j/(60*60*24))+" more days! ("+O+")")}var i=YW.rt()&&S.distrib*1e3>Date.now();
this.rs.M.style.display=i?"block":"none";if(i){var j=parseInt(S.distrib)-Date.now()/1e3,z=parseInt(S.ptype);
this.rs.B$("Distributor active for "+Math.round(j/(60*60*24))+" more days! ("+z+" visitos)")}var C=YW.X$();
if(C&&C.acc&&C.acc.team){var M=C.acc.team;this.ND.P(M.jin);this.mm.P(!M.jin);this.rW.P(M.ldr);this.bM.value=M.mmb.join(", ")}else{this.ND.P(!0);
this.mm.P(!1);this.rW.P("");this.bM.value=""}if(C&&C.acc&&C.acc.dname)this.rm.P(C.acc.dname);else this.rm.P("")};
fc.kR.prototype.flu=function(S,G){var j=E._("table");j.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(S==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var z=0;z<G.length;z+=S+1){var O=E._("tr"),i;j.appendChild(O);i=E._("td","left");O.appendChild(i);
i.innerHTML="<b>"+G[z]+"</b>";for(var C=0;C<S;C++){i=E._("td");O.appendChild(i);i.appendChild(G[z+1+C].M)}}return j};
fc.kR.prototype.fTk=function(S){var G=this.Nz.indexOf(S.currentTarget);if(!YW.rt()){alert("You must log in before buying Premium");
return}if(this.fp$.j()==!1&&G<6){alert("You must accept Terms of Service");return}var j=this.fJz[G],z=j[1],O=j[2],i=YW.rt()&&YW.de();
if(i&&O<1e3){alert("You already have premium.");return}YW.order(z,O,this.Qw.bind(this));this.Qn()};fc.kR.prototype.Qw=function(S){if(YW.rt()&&YW.dL().msg)alert(YW.dL().msg);
this.SL();this.Qn()};fc.kR.prototype.fL=function(S){if(YW.rt()){YW.fTL();this.Qn();this.SL(null,null,null)}else YW.fL(this.fTH.bind(this))};
fc.kR.prototype.fTH=function(){var S=new L(E.E.e,!0);S.data={r:E.a.fJJ};this.D(S)};fc.kR.prototype.Qn=function(){var S=new L(E.E.e,!0);
S.data={r:E.a.fwf};this.D(S)};fc.jX=function(S){YS.call(this);this.M=E._("div");var G=this.M,j=this.fJk=new Ys([0,13,2],!1,null,!0);
j.n("click",this.fTR,this);G.appendChild(j.M);var z=E._("div","");z.innerHTML=S;G.appendChild(z)};fc.jX.prototype=new YS;
fc.jX.prototype.fTR=function(S){var G=new L("showpage",!0);G.data={Qf:0};this.D(G)};fc.jX.prototype.$=function(){this.fJk.$()};
fc.fTj="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function Pu(){XA.call(this,[11,14],"addguides");this.KB;this.G$={E$:{PZ:0}};this.jr=null;var S=E._("div","form");
this.body.appendChild(S);this.bF=new CY([22,4,0],null,16);this.bF.n(E.E.F,this.TR,this);this.mT=new CY([22,4,1],null,16);
this.mT.n(E.E.F,this.TR,this);this.kX=new Yh(null,x.Sx.q$);this.kX.n(E.E.F,this.TR,this);S.appendChild(this.bF.M);
S.appendChild(this.kX.M);E.yn(S);S.appendChild(this.mT.M);this.mf=new Ys("OK",!0,null,!0);this.mf.n("click",this.Jo,this);
S.appendChild(this.mf.M);this.n("closebtn",this.fTE,this)}Pu.prototype=new XA;Pu.prototype.mh=function(S,G){return S!=null};
Pu.prototype.Zx=function(){return!0};Pu.prototype.$=function(){XA.prototype.$.call(this);this.bF.$();
this.mT.$();this.kX.$()};Pu.prototype.uQ=function(S,G){var j=S.E$.PZ;this.G$.E$.PZ=j;this.kX.P(j)};Pu.prototype.SL=function(S,G){this.KB=S;
this.jr=JSON.stringify(S.WX);this.iM()};Pu.prototype.iM=function(){var S=this.KB,G=S.WX,j=function(z,S,O,i){var C=[];
for(var M=0;M<z.length;M++)C.push(x.Sx.sq(z[M],S.bY,O,i));return C.join(", ")};this.bF.P(j(G[1],S,this.G$,S.i));
this.mT.P(j(G[0],S,this.G$,S.o))};Pu.prototype.TR=function(S){if(S&&S.currentTarget==this.kX)this.G$.E$.PZ=this.kX.j();
else{var G=this.fgp(this.bF),j=this.fgp(this.mT),z=this.KB;z.WX=[j,G];z.yK=!0}this.iM()};Pu.prototype.fgp=function(S){var G=S==this.bF?this.KB.i:this.KB.o,j=S.j().replace(/,/g," ").replace(/  +/g," ").trim(),z=j==""?[]:j.split(" ");
for(var O=0;O<z.length;O++)z[O]=x.Sx.flf(z[O],this.KB.bY,this.G$,G);return z};Pu.prototype.fTE=function(S){var G=this.KB;
G.WX=JSON.parse(this.jr);G.yK=!0;this.KB=null};Pu.prototype.Jo=function(S){this.TR(S);var G=new L(E.E.R,!0);
G.s=t.PK;G.data={r:"gids",DJ:JSON.parse(this.jr),uo:JSON.parse(JSON.stringify(this.KB.WX))};this.KB=null;
this.close();this.D(G)};function CQ(S){var G=Yy.names[S];if(G==null)G=Yd.names[S];if(S=="fade")G=[2,11];
XA.call(this,G,"afw_"+S);this.vu=S;this.vQ=null;this.jL=null;this.wq=new U[S];this.wq.n(E.E.F,this.s$,this);
this.wq.parent=this;this.body.appendChild(this.wq.M);this.tB=new YI([24,18,5]);this.tB.P(!0);this.tB.n(E.E.F,this.s$,this);
this.fz_=new Ys("Reset",!0,null,!0);this.fz_.n("click",this.oH,this);this.mf=new Ys("OK",!0,null,!0);
this.mf.n("click",this.Jo,this);if(this.wq.lg())this.wq.QP(this.mf.M);else{E.Zb(this.wq.M,"form");E.Zb(this.body,"flexrow");
this.wq.M.setAttribute("style","width:24em");var j=E._("div");this.body.appendChild(j);j.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
j.appendChild(this.mf.M);j.appendChild(this.fz_.M);j.appendChild(this.tB.M)}this.n("closebtn",this.HF,this)}CQ.prototype=new XA;
CQ.prototype.Zx=function(){return!0};CQ.prototype.lg=function(){return this.wq!=null&&this.wq.lg()};
CQ.prototype.$x=function(){return this.wq.lg()?new A(0,0):XA.prototype.$x()};CQ.prototype.He=function(){return this.wq.He()};
CQ.prototype.ti=function(S,G,j,z,O){this.wq.ti(S,G,j,z,O)};CQ.prototype.Xt=function(S,G,j,z,O){this.wq.Xt(S,G,j,z,O)};
CQ.prototype.Va=function(S,G,j,z,O){this.wq.Va(S,G,j,z,O)};CQ.prototype.mh=function(S,G){if(this.vu=="fade")return CQ.fMC(S);
return!0};CQ.prototype.oH=function(S){this.wq.P(Yy.Cr(this.vu));this.s$()};CQ.prototype.s$=function(S){this.pl({r:"edit",Gf:this.wq.j(),cw:!this.tB.j()})};
CQ.prototype.HF=function(S){this.pl({r:"cancel"})};CQ.prototype.Jo=function(S){if(!this.tB.j()){this.tB.P(!0);
this.s$()}this.jL=this.wq.j();if(this.lg())this.s$();this.pl({r:"confirm"});this.close()};CQ.prototype.$=function(){XA.prototype.$.call(this);
this.tB.$();if(this.wq)this.wq.$()};CQ.prototype.uQ=function(S,G){if(this.wq)this.wq.uQ(S,G)};CQ.prototype.HE=function(S,G,j,z){if(this.wq&&this.wq.lg())this.wq.HE(z);
else XA.prototype.HE.call(this,S,G,j,z)};CQ.prototype.SL=function(S,G,j,z){this.vQ=G.vQ;var O=S.add.lnk2?S.add.lnk2:[],i,C,M=new Q(0,0,S.o,S.i),D=S.d[S.N[0]],X=null;
i=D.buffer;C=D.rect;if(this.lg())X=S.yA(S.N[0]-1);var l=Yy.Cr(this.vu);if(G.vQ==null){this.wq.P(l,i,C,M,X,O);
if(Yd.names[this.vu]){if(z.U(w.Ki)&&this.jL)this.wq.P(this.jL);var f=fA.MG.getData(S),F=x.Mu(f[0].Pt);
this.wq.Qj(F)}}else{var $=!1,D=S.d[this.vQ.B];if(D.AG()){var _=D.td(S);i=_.buffer;C=_.rect;var P=D.add.SoLd.filterFX.v.filterFXList.v;
if(P[this.vQ.index]){var k=P[this.vQ.index].v.Fltr.v;this.wq.P(k,i,C,M,X,O);$=!0}}if(!$)this.wq.P(l,i,C,M,X,O)}if(!this.lg())this.s$()};
CQ.prototype.pl=function(S){var G=new L(E.E.R,!0);S.vu=this.vu;S.vQ=this.vQ;G.data=S;G.s=Yy.names[this.vu]||this.vQ?t.DT:t.PU;
G.Kx=!0;this.D(G)};CQ.prototype.yd=function(S,G){G=G-26;S=S-26;this.wq.yd(S,G)};CQ.fMC=function(S){if(S==null)return!1;
var G=S.KZ();if(G==null||!(G.data instanceof Array)||G.data.length!=S.N.length)return!1;for(var j=0;
j<G.data.length;j++){var z=G.data[j];if(z.B<0&&S.Ft[-1-z.B])return!0;if(z.B==null||S.d[z.B]==null||S.d[z.B].hz!=z.oW)return!1;
if(S.N.indexOf(z.B)==-1)return!1}return!0};function Pl(){XA.call(this,[11,0],"camera");this.data=null;
this.Oo=new A(1,1);this.mi=E._("div","form hbar");this.body.appendChild(this.mi);this.fwP=new Yh(null,[]);
this.ry=new Xv([21,0],[[21,2],[21,1]]);this.mi.appendChild(this.ry.M);this.OC=new Ys([11,0],!1,null,!0);
this.OC.n("click",this.fZg,this);this.mi.appendChild(this.OC.M);this.fKf=new C$("");this.mi.appendChild(this.fKf.M);
this.stream=null;this.le=E._("video","");this.le.setAttribute("autoplay","true");this.body.appendChild(this.le);
this.fWK=this.fZP.bind(this);this.fWQ=this.fZl.bind(this);this.fJD=this.fYq.bind(this);this.n("closebtn",this.fZy,this)}Pl.prototype=new XA;
Pl.prototype.$=function(){XA.prototype.$.call(this);this.ry.$();this.OC.$();this.fYq()};Pl.prototype.yA=function(){var S=this.le.videoWidth,G=this.le.videoHeight,j=E._("canvas","");
j.width=S;j.height=G;var z=j.getContext("2d");z.drawImage(this.le,0,0,S,G);var O=z.getImageData(0,0,S,G);
return{tv:new Q(0,0,S,G),data:O.data.buffer}};Pl.prototype.fZg=function(S){if(this.ry.j()==0)this.fZS();
else this.fZY()};Pl.prototype.fZY=function(){var S=this.yA(),G={buffer:new Uint8Array(S.data),rect:S.tv},j=new L(E.E.R,!0);
j.Kx=!0;j.s=t.HA;j.data={r:g.RA,d_:G};this.D(j);alert(YP.get([21,4]))};Pl.prototype.fZS=function(){var S=this.yA(),G=fm.Op("camera",[S]),j=new L(E.E.e,!0);
j.data={r:E.a.lt,lq:G};this.D(j);alert(YP.get([21,5]))};Pl.prototype.SL=function(S,G,j){var z={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(z).then(this.fWK).catch(this.fWQ);
else navigator.webkitGetUserMedia(z,this.fWK,this.fWQ)};Pl.prototype.fZP=function(S){this.stream=S;this.le.srcObject=S;
this.le.addEventListener("loadedmetadata",this.fJD,!1)};Pl.prototype.fYq=function(S){var G=this.le.videoWidth,j=this.le.videoHeight;
this.fKf.P(YP.get([21,3])+": "+G+" x "+j+" px");this.Oo.cK(G,j);this.yd(this.YC,this.QM)};Pl.prototype.$x=function(S,G){return Math.min(S,G)<500?new A(0,0):new A(100,100)};
Pl.prototype.yd=function(S,G){this.YC=S;this.QM=G;var j=S-28,z=G-28-38,O=this.Oo.x/this.Oo.y;if(j/z>O)j=z*O;
else z=j/O;this.le.setAttribute("style","display: block; width: "+Math.round(j)+"px; height:"+Math.round(z)+"px;")};
Pl.prototype.fZl=function(S){console.log("error",S);alert(YP.get([21,6]));this.close()};Pl.prototype.fZy=function(S){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.le.src="";this.stream=null}};function MW(){XA.call(this,[7,8],"crange");this.KB=null;this.rQ={Fa:73,A:4.45,C:4};
this.rT={Fa:73,A:4.45,C:4};var S=E._("div","form");S.setAttribute("style","width:18em");this.body.appendChild(S);
this.ko=new fM([12,92],0,200);this.ko.P(40);this.ko.n(E.E.F,this.iC,this);S.appendChild(this.ko.M);this.Io=E._("canvas");
S.appendChild(this.Io);this.OS=new Xv([12,36],[[18,0],"\uFF0B","\u2014"]);S.appendChild(this.OS.M);this.br=new Ys("OK",!0,null,!0);
this.br.n("click",this.Jo,this);this.body.appendChild(this.br.M)}MW.prototype=new XA;MW.prototype.mh=function(S,G){return S!=null};
MW.prototype.He=function(){return!0};MW.prototype.Zx=function(){return!0};MW.prototype.$=function(){XA.prototype.$.call(this);
this.ko.$();this.OS.$()};MW.prototype.ti=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y);this.fCe(i.x,i.y)};
MW.prototype.fCe=function(S,G){var j=Math.min,z=Math.max,O=this.KB,i=z(0,j(O.o-1,Math.floor(S))),C=z(0,j(O.i-1,Math.floor(G))),M=O.yA(),D=(C*O.o+i)*4,X=M[D],l=M[D+1],f=M[D+2],F=x.cy(X,l,f),$=this.OS.j(),_=this.rQ,P=this.rT;
if($==0){this.rQ=JSON.parse(JSON.stringify(F));this.rT=F}else if($==1){_.Fa=j(_.Fa,F.Fa);_.A=j(_.A,F.A);
_.C=j(_.C,F.C);P.Fa=z(P.Fa,F.Fa);P.A=z(P.A,F.A);P.C=z(P.C,F.C)}else if($==2){var k=(_.Fa+P.Fa)/2,H=(_.A+P.A)/2,q=(_.C+P.C)/2;
if(F.Fa<k)_.Fa=z(_.Fa,F.Fa+10);else P.Fa=j(P.Fa,F.Fa-10);if(F.A<H)_.A=z(_.A,F.A+1);else P.A=j(P.A,F.A-1);
if(F.C<q)_.C=z(_.C,F.C+1);else P.C=j(P.C,F.C-1)}this.iC()};MW.prototype.Jo=function(S){var G=new L(E.E.R,!0);
G.s=t.SN;G.data={r:"crange",iY:this.rQ,iW:this.rT,Vy:this.ko.j()/200};G.Kx=!0;this.D(G);this.close()};
MW.prototype.SL=function(S,G){this.KB=S;this.fCe(0,0)};MW.prototype.iC=function(){var S=this.KB,G=t.tC.tW(S,this.rQ,this.rT,this.ko.j()/200),j=G.rect,z=G.channel,O=this.Io,i=O.getContext("2d"),C=Math.floor(230*E.V()),M=Math.floor(C*(j.i/j.o));
O.width=C;O.height=M;E.bV(O,C,M);var D=x.S(z.length*4);x.GC(D,4294967295);for(var X=0;X<3;X++)x.Cy(z,D,X);
var l=t.Gh.vh([D,j],new Ym(C/j.o,0,0,M/j.i,0,0)),f=l.rect,F=new ImageData(new Uint8ClampedArray(l.buffer.buffer),f.o,f.i);
i.putImageData(F,0,0)};function PR(){XA.call(this,[12,76,1],"createshape");this.us=null;var S=E._("div","form");
S.setAttribute("style","width:20em");this.body.appendChild(S);this.Q$=new YN([12,41],0,0,null,0,!1,!0);
S.appendChild(this.Q$.M);E.yn(S);this.bF=new YN([12,42],0,0,null,0,!1,!0);S.appendChild(this.bF.M);E.yn(S);
this.OW=new YI([19,5,3]);S.appendChild(this.OW.M);this.Q$.P(100);this.bF.P(100);this.mf=new Ys("OK",!0,null,!0);
this.mf.n("click",this.Jo,this);S.appendChild(this.mf.M)}PR.prototype=new XA;PR.prototype.Jo=function(S){this.us.ful(this.us.fuB,this.Q$.j(),this.bF.j(),this.OW.j());
this.close()};PR.prototype.$=function(){if(this.us)this.Nt=YP.get([5,3])+": "+YP.get(this.us.fuy);XA.prototype.$.call(this);
this.Q$.$();this.bF.$();this.OW.$()};PR.prototype.SL=function(S,G){this.us=G;this.$()};function CF(){XA.call(this,[11,1],"colorpicker");
this.mG=null;this.De=null;this.xx=null;this.r_=!1;this.lB=!1;var S=E._("div","flexrow"),i,C;this.body.appendChild(S);
this.lF=new CH(256);this.lF.n(E.E.F,this.QA,this);S.appendChild(this.lF.M);var G=E._("div","form");G.setAttribute("style","width:14.5em; margin-left:1em;");
S.appendChild(G);this.fst=E._("div","full");G.appendChild(this.fst);this.fmY=E._("div","full");G.appendChild(this.fmY);
var j=E._("div","flexrow");G.appendChild(j);var z=E._("div"),O=E._("div");j.appendChild(z);j.appendChild(O);
i=["R","G","B"];C=z;this.Os=[];for(var M=0;M<3;M++){var D=new YN(i[M]+":",0,255,null,0,!1,!0);this.Os.push(D);
D.n(E.E.F,this.fZi,this);C.appendChild(D.M)}i=["H","S","B"];C=O;this.OT=[];for(var M=0;M<3;M++){var X=0,l=360,f="\xB0";
if(M!=0){l=100;f="%"}var D=new YN(i[M]+":",X,l,f,0,!1,!0);this.OT.push(D);D.n(E.E.F,this.fZq,this);C.appendChild(D.M)}this.bF=new CY("Hex",null,6);
this.bF.n(E.E.F,this.QJ,this);G.appendChild(this.bF.M);this.kS=E._("input","fitem");this.kS.setAttribute("type","color");
this.kS.setAttribute("style","width:50px");this.kS.addEventListener("change",this.QJ.bind(this),!1);
G.appendChild(this.kS);this.QT=new Sw(9);this.QT.n(E.E.F,this.QJ,this);G.appendChild(this.QT.M);this.mf=new Ys("OK",!0,null,!0);
this.mf.n("click",this.Jo,this);G.appendChild(this.mf.M);this.n("closebtn",this.HF,this);this.rd=!1}CF.prototype=new XA;
CF.prototype.He=function(){return!0};CF.prototype.yd=function(S,G){this.lF.yd(Math.min(256,S-250),G)};
CF.prototype.QA=function(S){this.De=this.lF.j();this.update()};CF.prototype.ti=function(S,G,j,z,O){this.rd=!0;
this.fSd(S,O)};CF.prototype.Xt=function(S,G,j,z,O){if(!this.rd)return;this.fSd(S,O)};CF.prototype.Va=function(S,G,j,z,O){this.rd=!1};
CF.prototype.fSd=function(S,G){var j=t.ty.eL(S,G,1),z=j&255,O=j>>8&255,i=j>>16&255;this.De={H:i/255,X:O/255,C:z/255};
this.update()};CF.prototype.fZi=function(S){var G=this.Os,j=this.wr(parseInt(G[0].j())),z=this.wr(parseInt(G[1].j())),O=this.wr(parseInt(G[2].j()));
this.De={H:j/255,X:z/255,C:O/255};this.update()};CF.prototype.fZq=function(S){var G=this.OT,j=this.Ta(parseInt(G[0].j())/360),z=this.Ta(parseInt(G[1].j())/100),O=this.Ta(parseInt(G[2].j())/100);
this.De=x.HV(j,z,O);this.update()};CF.prototype.QJ=function(S){var G;if(S.currentTarget==this.QT)G=this.QT.j();
else{G=S.currentTarget==this.bF?this.bF.j():this.kS.value;if(G.charAt(0)=="#")G=G.slice(1);if(G.length==3)G=G[0]+G[0]+G[1]+G[1]+G[2]+G[2];
G=x.flF(G)}this.De={H:(G>>16&255)/255,X:(G>>8&255)/255,C:(G&255)/255};this.update()};CF.prototype.jM=function(S){var G=S.H,j=S.X,z=S.C;
return Math.round(G*255)<<16|Math.round(j*255)<<8|Math.round(z*255)};CF.prototype.Jo=function(S){this.fPO();
var G=this.jM(this.De);this.xx(G);this.close();this.lB=!1;this.De=null};CF.prototype.HF=function(S){this.fPO();
if(this.r_)this.xx(this.jM(this.mG));this.lB=!1;this.De=null};CF.prototype.fPO=function(S){var G=new L(E.E.e,!0);
G.data={r:E.a.fMS};this.D(G)};CF.prototype.uQ=function(S,G){if(G!=o$.n$)return;var j=S.Cj;this.QT.P(j);
if(this.De!=null){this.De={H:(j>>16&255)/255,X:(j>>8&255)/255,C:(j>>0&255)/255};this.update()}};CF.prototype.SL=function(S,G){var j=G.AE,z={H:(j>>16&255)/255,X:(j>>8&255)/255,C:(j>>0&255)/255};
if(this.De==null){var O=new L(E.E.e,!0);O.data={r:E.a.IY,vM:"crosshair",push:!0};this.D(O);this.rd=!1;
this.xx=G.xK;this.r_=!1;this.lB=G.iu;this.mG=JSON.parse(JSON.stringify(z));this.fmY.setAttribute("style","height:3em;background-color:#"+x.zt(j)+";")}this.De=z;
this.update()};CF.prototype.update=function(){var S=this.De,G=this.jM(S),j=this.Os;j[0].P(Math.round(S.H*255));
j[1].P(Math.round(S.X*255));j[2].P(Math.round(S.C*255));this.bF.P(x.zt(G));this.kS.value="#"+x.zt(G);
this.fst.setAttribute("style","height:3em;background-color:#"+x.zt(G)+";");var z=x.Lm(S.H,S.X,S.C);j=this.OT;
j[0].P(Math.round(z.QM*360));j[1].P(Math.round(z.sN*100));j[2].P(Math.round(z.Gf*100));this.lF.P(S);
if(this.lB){this.xx(this.jM(this.De));this.r_=!0}};CF.prototype.wr=function(S){return Math.max(0,Math.min(255,S))};
CF.prototype.Ta=function(S){return Math.max(0,Math.min(1,S))};function Sy(){XA.call(this,[11,2],"contoureditor");
this.fQo=null;this.cF=null;this.response=null;this.Qo=E._("div","cell");this.body.appendChild(this.Qo);
this.DE=E._("div","cell padded");this.body.appendChild(this.DE);var S=E._("div","bordered padded vmargin");
this.Qo.appendChild(S);this.wq=new Mg;this.wq.n(E.E.F,this.QQ,this);S.appendChild(this.wq.M);this.mf=new Ys("OK",!0,null,!0);
this.mf.n("click",this.close,this);this.DE.appendChild(this.mf.M);this.coords=E._("div","");this.coords.setAttribute("style","width:250px");
this.Qo.appendChild(this.coords);this.yy=new CY("X (in)","%",4);this.IP=new CY("Y (out)","%",4);this.QI=new YI([19,3,0]);
this.yy.n(E.E.F,this.Qi,this);this.IP.n(E.E.F,this.Qi,this);this.QI.n(E.E.F,this.Qi,this);this.coords.appendChild(this.yy.M);
this.coords.appendChild(this.QI.M);this.coords.appendChild(this.IP.M);this.n("closebtn",this.jv,this)}Sy.prototype=new XA;
Sy.prototype.$=function(){XA.prototype.$.call(this);this.QI.$()};Sy.prototype.QQ=function(S){this.cF.Crv.v=this.wq.j();
this.response(this.cF);this.Ql()};Sy.prototype.jv=function(S){this.response(this.fQo)};Sy.prototype.SL=function(S,G){this.fQo=JSON.parse(JSON.stringify(G.G));
this.cF=G.G;this.response=G.response;this.wq.P(this.cF.Crv.v);this.Ql()};Sy.prototype.Ql=function(){var S=this.wq.fwq();
this.coords.setAttribute("class",S==-1?"disabled":"");if(S==-1)return;var G=this.cF.Crv.v[S].v;this.yy.P(Math.round(G.Hrzn.v*(100/255)));
this.IP.P(Math.round(G.Vrtc.v*(100/255)));this.QI.P(G.Cnty.v)};Sy.prototype.Qi=function(S){var G=this.wq.fwq(),j=this.cF.Crv.v[G];
j.v.Hrzn.v=parseFloat(this.yy.j())*(255/100);j.v.Vrtc.v=parseFloat(this.IP.j())*(255/100);j.v.Cnty.v=this.QI.j();
this.cF.Crv.v.sort(function(z,O){return z.v.Hrzn.v-O.v.Hrzn.v});this.wq.P(this.cF.Crv.v,this.cF.Crv.v.indexOf(j));
this.Ql();this.response(this.cF)};function SI(){XA.call(this,[11,3],"csize");this.Ow=0;this.mi=E._("div","form");
this.mi.setAttribute("style","width:22em");this.body.appendChild(this.mi);this.Hj=new oD(!0,!0,!0,!0);
this.Hj.fKK(!1);this.mi.appendChild(this.Hj.M);this.Oc=new Xv("Align with",[[8,7],[12,6]]);this.Oc.n(E.E.F,this.fuk,this);
this.QB=new MA([12,23,2],41);this.mi.appendChild(this.QB.M);this.QB.P(4);this.On=new SX(!1);this.On.fKl(new A(0,0));
this.br=new Ys("OK",!0,null,!0);this.br.n("click",this.Jo,this);this.body.appendChild(this.br.M)}SI.prototype=new XA;
SI.prototype.mh=function(S,G){return S!=null};SI.prototype.Zx=function(){return!0};SI.prototype.fuk=function(){var S=[this.QB.M,this.On.M];
this.mi.removeChild(S[this.Ow]);this.Ow=this.Oc.j();this.mi.appendChild(S[this.Ow])};SI.prototype.$=function(){XA.prototype.$.call(this);
this.Hj.$();this.Oc.$();this.QB.$();this.On.$()};SI.prototype.Jo=function(S){var G=this.Hj.j(),j=G.x,z=G.y,O=new L(E.E.Hz,!0);
O.data=t.yc.Xc(j,z,this.QB.j());this.close();this.D(O)};SI.prototype.SL=function(S,G){this.Hj.P(new A(S.o,S.i),S.bY)};
function Xs(){XA.call(this,[11,4],"duplinto");this.Bj=null;this.uj=null;var S=E._("div","form");S.setAttribute("style","max-width:26em");
this.body.appendChild(S);this.LX=new Yh([12,43],["abc","def"]);this.LX.n(E.E.F,this.fza,this);S.appendChild(this.LX.M);
E.yn(S);this.WJ=new CY([12,48],null,14);S.appendChild(this.WJ.M);this.mf=new Ys("OK",!0,null,!0);this.mf.n("click",this.Jo,this);
S.appendChild(this.mf.M)}Xs.prototype=new XA;Xs.prototype.Zx=function(){return!0};Xs.prototype.$=function(){XA.prototype.$.call(this);
this.LX.$();this.WJ.$()};Xs.prototype.fza=function(S){var G=this.LX.j();if(G==this.uj.length)this.WJ.UE();
else this.WJ._S()};Xs.prototype.SL=function(S,G,j){this.Bj=S;this.uj=j;this.WJ.P(S.N.length==0?"Layer":S.d[S.N[0]].getName());
var z=[];for(var O=0;O<j.length;O++)z.push(j[O].name);z.push([11,7]);this.LX.el(z);this.LX.P(j.indexOf(S));
this.fza(null)};Xs.prototype.Jo=function(S){var G=this.LX.j();if(G==this.uj.length){var j=new Yi(this.WJ.j()+".psd");
j.o=this.Bj.o;j.i=this.Bj.i;j.buffer=x.S(j.o*j.i*4);var z=j.YJ();z.lX("Background");j.Wb([z]);var O=new L(E.E.e,!0);
O.Kx=!0;O.data={r:E.a.lt,lq:j};this.D(O)}var i=this.Bj.fQ(null,this.Bj!=this.uj[G]),O=new L(E.E.R,!0);
O.data={r:g.GA,d:i,qY:this.Bj,xU:this.uj[G]};O.s=t.HA;O.Kx=!0;this.D(O);this.close()};function Sx(){XA.call(this,[1,9],"eassets");
this.G$=null;this.CI=null;var S=E._("div","form");S.setAttribute("style","width:32em");this.body.appendChild(S);
this.ka=E._("span");S.appendChild(this.ka);E.yn(S);this.rc=[new YI("Only layers / folders, whose name starts with \"-e-\""),new YI("Remove parts outside the canvas"),new YI("Trim transparent parts")];
for(var G=0;G<3;G++){var j=this.rc[G];j.P(!0);j.n(E.E.F,this.iM,this);S.appendChild(j.M);E.yn(S)}this.rk=new Sd([12,14,0],["1x","2x","3x","4x"]);
this.rk.P([!0,!1,!1,!1]);S.appendChild(this.rk.M);E.fPt(S);this.OA=["PNG","JPG","SVG"];this.Qh=new Yh([12,50],this.OA);
this.Qh.n(E.E.F,this.fsp,this);S.appendChild(this.Qh.M);this.EM=new Pz;S.appendChild(this.EM.M);this.br=new Ys([1,9],!0,null,!0);
this.br.n("click",this.Jo,this);S.appendChild(this.br.M);this.n("closebtn",this.oU,this)}Sx.prototype=new XA;
Sx.prototype.fsp=function(S){this.EM.fgK(this.OA[this.Qh.j()])};Sx.prototype.oU=function(S){this.CI=null};
Sx.prototype.$=function(){XA.prototype.$.call(this);this.Qh.$();this.rk.$();this.br.$();this.EM.$()};
Sx.prototype.SL=function(S,G,j){this.CI=S;this.iM()};Sx.prototype.iM=function(S){var G=this.fgP(),j="- - - "+G.length+" exportable layers";
this.ka.textContent=j;this.fsp(null)};Sx.prototype.fgP=function(){var S=this.rc[0].j(),G=[],j=this.CI;
for(var z=0;z<j.d.length;z++){var O=j.d[z],i=O.getName();if(!S&&!O.$P()&&!O.rect.tR()||i.startsWith("-e"))G.push(z)}return G};
Sx.prototype.uQ=function(S,G){this.G$=S};Sx.prototype.Jo=function(S){var G=this.CI,j=[this.OA[this.Qh.j()]],z=[this.EM.j()],O=this.rk.j(),i={},C={},M=this.fgP(),D=[this.rc[1].j(),this.rc[2].j()];
for(var X=0;X<M.length;X++){var l=M[X],f=G.d[l],F=f.getName();if(C[F]!=null){C[F]++;F+=" "+C[F]}else C[F]=1;
var $=f.Gg();f.aA(!0);for(var _=0;_<O.length;_++){if(!O[_])continue;var P=_+1,k=t.GE.oT(G,j,P,this.G$,l,z,D);
for(var H=0;H<j.length;H++){var q=j[H],R=F.slice(F.startsWith("-e-")?3:0)+(P==1?"":"-"+P+"x")+"."+q.toLowerCase();
i[R]=new Uint8Array(k[H])}}f.aA($)}var I=UZIP.encode(i),b=new L(E.E.e,!0);b.data={r:E.a.Xq,data:I,name:"assets.zip"};
this.D(b)};function oy(){XA.call(this,[11,5],"gradienteditor");this.mG=null;this.De=null;this.Hu=null;
this.xx=null;this.r_=!1;this.lB=!1;E.Zb(this.body,"form");this.VR=null;this.oS=null;this.bo=-1;this.bf=-1;
this.Ja=0;this.mU=this.AF.bind(this);this.mb=this.kh.bind(this);this.vd=E._("canvas","");this.Vj=this.vd.getContext("2d");
this.vd.setAttribute("style","display:block");this.bL=null;E.lN(this.vd);E.qG(this.vd,this.yP.bind(this));
this.kz=new YN([19,3,3],0,100,"%");this.kz.n(E.E.F,this.ZW,this);this.kz.parent=this;this.body.appendChild(this.kz.M);
E.yn(this.body);this.xr=new C$([12,0]);this.body.appendChild(this.xr.M);this.To=E._("div","bordered padded noalign");
this.body.appendChild(this.To);this.Ar=new YN([12,0],0,100,"%");this.Ar.parent=this;this.Ar.n(E.E.F,this.ZW,this);
this.To.appendChild(this.Ar.M);this.ba=new YN([12,40],0,100,"%");this.ba.parent=this;this.ba.n(E.E.F,this.ZW,this);
this.To.appendChild(this.ba.M);this.rB=new Ys([5,4],!1,null,!0);this.rB.n("click",this.fCo,this);this.To.appendChild(this.rB.M);
this.body.appendChild(this.vd);E.yn(this.body);this.fQb=new C$([13,0]);this.body.appendChild(this.fQb.M);
this.os=E._("div","bordered padded noalign");this.body.appendChild(this.os);this.Ep=new Yh([12,44],[[12,45],[12,46],[12,47]]);
this.Ep.n(E.E.F,this.ZW,this);this.os.appendChild(this.Ep.M);this.pg=new fQ(!0);this.pg.parent=this;
this.pg.n(E.E.F,this.ZW,this);this.os.appendChild(this.pg.M);this.bz=new YN([12,40],0,100,"%");this.bz.parent=this;
this.bz.n(E.E.F,this.ZW,this);this.os.appendChild(this.bz.M);this.rU=new Ys([5,4],!1,null,!0);this.rU.n("click",this.fCu,this);
this.os.appendChild(this.rU.M);this.mf=new Ys("OK",!0,null,!0);this.mf.n("click",this.Jo,this);this.body.appendChild(this.mf.M);
this.n("closebtn",this.HF,this)}oy.prototype=new XA;oy.prototype.HF=function(S){if(this.r_)this.xx(this.mG)};
oy.prototype.$=function(){XA.prototype.$.call(this);this.kz.$();this.xr.$();this.fQb.$();this.rB.$();
this.rU.$();this.Ar.$();this.ba.$();this.Ep.$();this.bz.$()};oy.prototype.uQ=function(S,G){this.Hu=S};
oy.prototype.SL=function(S,G){this.De=JSON.parse(JSON.stringify(G.T));this.mG=JSON.parse(JSON.stringify(G.T));
this.VR=this.oS=null;this.xx=G.xK;this.r_=!1;this.lB=G.iu;this.Ms();this.Za()};oy.prototype.Jo=function(S){var G=this.De;
this.xx(G);this.close()};oy.prototype.DW=function(S){return S==w.mO||S==w.sG};oy.prototype.HE=function(S,G,j,z){if(z.U(w.mO)||z.U(w.sG)){if(this.oS)this.fCo();
if(this.VR)this.fCu()}};oy.prototype.fCo=function(S){var G=this.De.Trns.v;if(this.oS==null||G.length==2)return;
G.splice(G.indexOf(this.oS),1);this.oS=null;this.Ms();this.Za()};oy.prototype.fCu=function(S){var G=this.De.Clrs.v;
if(this.VR==null||G.length==2)return;G.splice(G.indexOf(this.VR),1);this.VR=null;this.Ms();this.Za()};
oy.prototype.Ms=function(){var S=this.vd,G=this.Vj,j=E.V();S.width=Math.floor(410*j);S.height=Math.floor(90*j);
E.bV(S,S.width,S.height);this.bL=new Q(0,0,Math.floor(380*j),Math.floor(32*j));this.bL.x=Math.floor((this.vd.width-this.bL.o)/2);
this.bL.y=Math.floor((this.vd.height-this.bL.i)/2);var z=this.bL,O=z.o,i=z.i,C=z.x,M=z.y,D=new Q(0,0,O,i),X=G.getImageData(0,0,O,i),l=new Uint8Array(X.data.buffer);
x.jg(l,O,i,8,0,0);var f=x.S(O*i*4);x.T.OQ(this.De,f,D,[1/O,0,0,1/ i],O/2,i/2,!1,0,this.Hu.Cj,this.Hu.iw);
x.k.me("norm",f,z,l,z,z,1);G.clearRect(0,0,S.width,S.height);G.putImageData(X,C,M);var F=this.De.Trns.v,$=this.De.Clrs.v,_=x.T.Vm($,this.Hu.Cj,this.Hu.iw),P=Math.round(6*E.V()),k=Math.round(14*E.V()),H=this.oS?this.oS.v:null,q=this.VR?this.VR.v:null;
for(var R=0;R<F.length;R++){var I=F[R].v,b=Math.round(255-255*I.Opct.v.val/100);if((I==H||F[R-1]&&F[R-1].v==H||R==this.bf)&&R!=0){G.fillStyle="#000000";
G.fillRect(C-3+O*(F[R-1].v.Lctn.v+(I.Lctn.v-F[R-1].v.Lctn.v)*I.Mdpn.v/100)/4096,M-6-2,6,6)}if(I==H){G.fillStyle="#ffffff";
G.fillRect(C-P+O*(I.Lctn.v/4096)-2,M-2-k-2,2*P+4,k+4)}G.fillStyle="rgb("+b+","+b+","+b+")";G.fillRect(C-P+O*(I.Lctn.v/4096),M-2-k,2*P,k)}for(var R=0;
R<$.length;R++){var Y=$[R].v,m=_[R];if((Y==q||$[R-1]&&$[R-1].v==q||R==this.bo)&&R!=0){G.fillStyle="#000000";
G.fillRect(C-3+O*($[R-1].v.Lctn.v+(Y.Lctn.v-$[R-1].v.Lctn.v)*Y.Mdpn.v/100)/4096,M+i+2,6,6)}if(Y==q){G.fillStyle="#ffffff";
G.fillRect(C-P+O*(Y.Lctn.v/4096)-2,M+i+2-2,2*P+4,k+4)}G.fillStyle="rgb("+Math.round(m.H)+", "+Math.round(m.X)+","+Math.round(m.C)+")";
G.fillRect(C-P+O*(Y.Lctn.v/4096),M+i+2,2*P,k)}if(this.lB){this.xx(this.De);this.r_=!0}};oy.prototype.Za=function(){this.kz.P(Math.round(100*this.De.Intr.v/4096));
var S=this.De.Trns.v,G=this.De.Clrs.v,j=this.oS!=null,z=this.bf!=-1;this.Ar.eV(j);this.ba.eV(j||z);this.rB.eV(j);
if(j){this.To.setAttribute("style","");var O=this.oS.v;this.ba.P(Math.round(100*O.Lctn.v/4096));this.Ar.P(O.Opct.v.val)}if(z)this.ba.P(S[this.bf].v.Mdpn.v);
var j=this.VR!=null,z=this.bo!=-1;this.Ep.eV(j);this.pg.eV(j);this.bz.eV(j||z);this.rU.eV(j);if(j){this.os.setAttribute("style","");
var i=this.VR.v;this.bz.P(Math.round(100*i.Lctn.v/4096));var C=i.Type.v.Clry;this.Ep.P(["FrgC","BckC","UsrS"].indexOf(C));
if(C=="FrgC")this.pg.dq(this.Hu.Cj);if(C=="BckC")this.pg.dq(this.Hu.iw);if(C=="UsrS")this.pg.P(i.Clr.v)}if(z)this.bz.P(G[this.bo].v.Mdpn.v)};
oy.prototype.ZW=function(S){var G=Math.round(4096*this.kz.j()/100);this.De.Intr.v=G;var j=this.De.Trns.v,z=this.De.Clrs.v;
if(this.oS!=null){var O=this.oS.v;O.Lctn.v=Math.round(4096*(this.ba.j()/100));O.Opct.v.val=this.Ar.j()}if(this.VR!=null){var i=this.VR.v;
i.Lctn.v=Math.round(4096*(this.bz.j()/100));if(S.target==this.pg)this.Ep.P(2);var C=this.Ep.j();i.Type.v.Clry=["FrgC","BckC","UsrS"][C];
if(C==2)i.Clr={t:"Objc",v:this.pg.j()};else if(i.Clr)delete i.Clr}if(this.bf!=-1)j[this.bf].v.Mdpn.v=this.ba.j();
if(this.bo!=-1)z[this.bo].v.Mdpn.v=this.bz.j();this.Ms()};oy.prototype.yP=function(S){var G=E.cV(S,this.vd),j=(G.x*E.V()-this.bL.x)/this.bL.o,z=(G.y*E.V()-this.bL.y)/this.bL.i,O=this.De.Trns.v,i=this.De.Clrs.v,C=null,M=null,D=-1,X=-1;
if(z<1)for(var l=0;l<O.length;l++){var f=O[l].v;if(Math.abs(f.Lctn.v/4096-j)<.02)C=O[l];if(l>0)if(Math.abs((O[l-1].v.Lctn.v+(f.Lctn.v-O[l-1].v.Lctn.v)*f.Mdpn.v/100)/4096-j)<.01)D=l}if(z>0)for(var l=0;
l<i.length;l++){var F=i[l].v;if(Math.abs(F.Lctn.v/4096-j)<.02)M=i[l];if(l>0)if(Math.abs((i[l-1].v.Lctn.v+(F.Lctn.v-i[l-1].v.Lctn.v)*F.Mdpn.v/100)/4096-j)<.01)X=l}if(M==null&&C==null&&D==-1&&X==-1){if(z<0){var f={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
f.v.Lctn.v=Math.round(j*4096);O.push(f);O.sort(this.jo);C=f}if(z>1){var i=this.De.Clrs.v,$=x.T.Vm(i,this.Hu.Cj,this.Hu.iw),_=x.T.oJ(this.De,$,j),F={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:x.T.qL({H:_&255,X:_>>8&255,C:_>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
F.v.Lctn.v=Math.round(j*4096);i.push(F);i.sort(this.jo);M=F}}if(M!=null)X=-1;if(C!=null)D=-1;if(M!=null||C!=null||D>-1||X>-1){this.oS=C;
this.VR=M;this.bf=D;this.bo=X;this.Za();this.Ms();E.hM(window,this.mU);E.hh(window,this.mb)}};oy.prototype.AF=function(S){var G=E.cV(S,this.vd),j=E.V()*(G.x-this.bL.x)/this.bL.o,z=E.V()*(G.y-this.bL.y)/this.bL.i;
j=Math.max(0,Math.min(1,j));var O=this.De.Trns.v,i=this.De.Clrs.v;if(this.oS!=null){var C=this.oS.v;
C.Lctn.v=Math.round(4096*j);var M=O.indexOf(this.oS);if(M!=-1&&z<-1&&O.length>2)O.splice(M,1);if(M==-1&&z>-1)O.push(this.oS);
O.sort(this.jo)}if(this.VR!=null){var D=this.VR.v;D.Lctn.v=Math.round(4096*j);var X=i.indexOf(this.VR);
if(X!=-1&&z>1.5&&i.length>2)i.splice(X,1);if(X==-1&&z<1.5)i.push(this.VR);i.sort(this.jo)}if(this.bf>-1){var C=O[this.bf].v;
C.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(j*4096-O[this.bf-1].v.Lctn.v)/(C.Lctn.v-O[this.bf-1].v.Lctn.v))))}if(this.bo>-1){var D=i[this.bo].v;
D.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(j*4096-i[this.bo-1].v.Lctn.v)/(D.Lctn.v-i[this.bo-1].v.Lctn.v))))}if(this.oS!=null||this.VR!=null||this.bf>-1||this.bo>-1){this.Za();
this.Ms()}};oy.prototype.kh=function(S){E.JR(window,this.mU);E.li(window,this.mb);if(Date.now()-this.Ja<300){if(this.bo!=-1||this.bf!=-1){var G=(this.bo!=-1?this.De.Clrs.v[this.bo]:this.De.Trns.v[this.bf]).v;
G.Mdpn.v=50;this.Za();this.Ms()}else if(this.VR!=null)this.pg.faP()}this.Ja=Date.now()};oy.prototype.jo=function(S,G){return S.v.Lctn.v-G.v.Lctn.v};
function Xm(){XA.call(this,[11,10],"isize");this.mi=E._("div","form");this.mi.setAttribute("style","width:20em");
this.body.appendChild(this.mi);this.Hj=new oD(!0,!0);this.mi.appendChild(this.Hj.M);this.UC=new Yh([12,14,1],[[12,14,2],[12,14,3]]);
this.UC.P(1);this.UC.n(E.E.F,this.fKQ,this);this.mi.appendChild(this.UC.M);this.br=new Ys("OK",!0,null,!0);
this.br.n("click",this.Jo,this);this.body.appendChild(this.br.M)}Xm.prototype=new XA;Xm.prototype.mh=function(S,G){return S!=null};
Xm.prototype.Zx=function(){return!0};Xm.prototype.$=function(){XA.prototype.$.call(this);this.UC.$();
this.Hj.$()};Xm.prototype.Jo=function(S){this.close();var G=this.Hj.j(),j=G.x,z=G.y,O=new L(E.E.Hz,!0);
O.data=t.yc.tN(j,z,this.Hj.fXg(),this.UC.j());this.D(O)};Xm.prototype.SL=function(S,G){this.Hj.P(new A(S.o,S.i),S.bY)};
function Md(S,G,j){YS.call(this);this.M=E._("div","");this.kC=S;this.GU=null;this.TY=G==null?!1:G;this.rG=null;
this.ky=j;this.OJ=[];this.Lo=[];this.TC=[];this.EP=[];this.TZ=0;this.GU=this.fwY(Md.EP[S]);this.Yk()}Md.prototype=new YS;
Md.prototype.fuR=function(){for(var S=0;S<this.EP.length;S++){E.uW(this.EP[S],"selected");if(this.TC[S]instanceof YI)this.TC[S].P(!1)}};
Md.prototype.fuq=function(S){var G=this.fub.bind(this);for(var j=0;j<this.TC.length;j++){var z=E._("div","listitem");
this.EP.push(z);if(j>0)z.textContent="\u2003";z.appendChild(this.TC[j].M);if(n.LJ.indexOf(this.kC)!=-1){var O=new Ys("+");
O.hU();O.M.style.float="right";z.appendChild(O.M);var i=new Ys("\u2B0D");i.hU();i.M.style.float="right";
i.M.style["margin-right"]="2px";z.appendChild(i.M)}z.addEventListener("click",G,!1);S.appendChild(z)}};
Md.Zs=function(S,G){var j=G.getBoundingClientRect();return(S.clientY-j.top)/j.height};Md.prototype.fub=function(S){var G=S.target.tagName.toLowerCase();
if(G=="input"){return}if(G=="button"){var j=new L(E.E.R,!0),z=S.target.textContent=="+",O=z?0:Md.Zs(S,S.target)<.5?-1:1;
if(z)j.data={r:"st_dupsingle",B:this.parent.data.B,tP:this.ky};else j.data={r:"st_movsingle",B:this.parent.data.B,tP:this.ky,flw:O};
j.s=t.AS;j.Kx=!0;this.D(j);j=new L("redrawall",!0);j.data={flw:O};this.D(j);return}S.preventDefault();
S.stopPropagation();this.QF();this.TZ=this.EP.indexOf(S.currentTarget);this.D(new L("showme"))};Md.prototype.QF=function(){if(this.GU.enab&&this.GU.enab.j()==!1)this.pl({hd:"enab",g:!0})};
Md.prototype.fwX=function(){var S=this.EP[this.TZ];if(S)E.Zb(S,"selected");return this.Lo[this.TZ]};
Md.prototype.fwY=function(S){var G={};for(var j=0;j<S.length;j++){var z=S[j],O=null;if(z=="----")O={M:E._("hr")};
if(z=="\n")O={M:E._("br")};if(z=="blOptions")O=new C$([14,10]);if(z=="brst")O=new MultiCheck([12,72],["R","G","B"]);
if(z=="knko")O=new Yh("Knockout",[[13,1,0],"Shallow","Deep"]);if(z=="enab")O=new YI(n.names[n.order.indexOf(this.kC)]);
if(z=="lrMd"||z=="Md")O=new Yh([12,19,0],YR.Cm,!1,YR.hI);if(z=="Opct")O=new ol([12,0],0,100,"%");if(z=="iOpa")O=new ol([12,26],0,100,"%");
if(z=="blIf")O=new SE;if(z=="ShdN")O=new ol([12,68],0,100,"%");if(z=="lagl"||z=="Angl")O=new Xk([12,15]);
if(z=="uglg")O=new YI([12,27]);if(z=="Dstn")O=new ol([12,28],0,200,"px");if(z=="Ckmt")O=new ol([12,29],0,100,"%");
if(z=="blur")O=new ol([12,14,0],0,200,"px");if(z=="TrnS"||z=="MpgS")O=new Mq([12,21]);if(z=="Nose")O=new ol([12,30],0,100,"%");
if(z=="layerConceals")O=new YI([12,31]);if(z=="AntA"||z=="antialiasGloss")O=new YI("Anti-alias");if(z=="GlwT")O=new Yh([12,32],n.Wn.names);
if(z=="glwS")O=new Yh([12,70],n.Wn.fAv);if(z=="Inpr")O=new ol([12,12],1,100,"%");if(z=="bvlS")O=new Yh([12,22],n.Hg.style);
if(z=="bvlT")O=new Yh([12,32],n.Hg.fAa);if(z=="bvlD")O=new Yh(null,n.Hg.dir);if(z=="srgR")O=new ol([12,34],0,1e3,"%");
if(z=="Sftn")O=new ol([12,35],0,20,"px");if(z=="Lald")O=G.lagl;if(z=="hglM"||z=="sdwM")O=new Yh([12,36],YR.Cm,!1,YR.hI);
if(z=="hglC"||z=="sdwC")O=new fQ;if(z=="hglO"||z=="sdwO")O=new ol([12,0],0,100,"%");if(z=="Invr"||z=="InvT")O=new YI([4,11]);
if(z=="Sz")O=new ol([12,14,0],1,200,"px");if(z=="Styl")O=new Yh([12,40],n.stroke.names);if(z=="PntT")O=new Yh([12,66],n.stroke.fAP);
if(z=="Clr")O=new fQ(!0);if(z=="Grad"){O=new PQ(!0,[12,37],!0);O.P(JSON.parse(n.nS.tf).v)}if(z=="Rvrs")O=new YI([12,23,0]);
if(z=="Type")O=new Yh([12,22],n.T.names.slice(0,this.kC=="FrFX"?6:5));if(z=="Ptrn")O=new SS([12,62]);
if(z=="Scl")O=new ol([12,38],10,500,"%",0,!0);if(z=="Algn")O=new YI([12,39]);if(z=="Ofst")O=new SX(!0);
if(z=="phase")O=new SX(!1);if(z=="useShape")O=new YI([12,21]);if(z=="useTexture")O=new YI([12,67]);if(z=="textureDepth")O=new ol([12,34],-300,300,"%");
var i=z=="----"||z=="\n"?z+j:z;if(O!=null)G[i]=O}return G};Md.prototype.fwS=function(S){var G=this.Lo[this.TZ];
for(var j=0;j<S.length;j++){var z=this.GU[S[j]];if(z&&G.contains(z.M))G.removeChild(z.M)}};Md.prototype.fwa=function(S){var G=this.Lo[this.TZ];
for(var j=0;j<S.length;j++){var z=this.GU[S[j]];if(z&&!G.contains(z.M))G.appendChild(z.M)}};Md.prototype.uQ=function(S,G){if(this.GU==null)return;
var j=G==o$.$o;if(this.GU.Grad){this.GU.Grad.mn(S.Cj,S.iw);if(j||G==o$.n$||G==o$.vT)this.GU.Grad.dC(S.Nx)}if(this.GU.Ptrn){if(j||G==o$.lY)this.GU.Ptrn.dC(S.Ax)}if(this.GU.TrnS){if(j||G==o$.rv)this.GU.TrnS.dC(S.Ol)}if(this.GU.MpgS){if(j||G==o$.rv)this.GU.MpgS.dC(S.Ol)}};
Md.prototype.$=function(){for(var S=0;S<this.OJ.length;S++)this.OJ[S].$();for(var G in this.GU)if(this.GU[G]instanceof YS)this.GU[G].$()};
Md.prototype.Yk=function(){for(var S in this.GU){var G=this.GU[S];G.parent=this;if(G instanceof YS)G.n(E.E.F,this.fwZ,this);
if(this.Lo.length==0||S=="useShape"||S=="useTexture"){var j=new C$(G.fvX()),z=E._("div","bordered padded");
if(this.TY==!1){z.appendChild(j.M);z.appendChild(E._("hr",""))}this.OJ.push(j);this.Lo.push(z);this.TC.push(G)}else this.Lo[this.Lo.length-1].appendChild(G.M)}};
Md.prototype.update=function(S,G){if(this.GU==null)return;if(this.TY)this.rG=JSON.parse(JSON.stringify(G));
for(var j in G){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(j)!=-1)this.GU[j].P(G[j].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(j)!=-1){this.GU[j].P(G[j].v,S)}if(["Md","hglM","sdwM"].indexOf(j)!=-1)this.GU[j].P(YR.kC.indexOf(G[j].v.BlnM));
if(j=="lrMd"){var z=(G.$P?[[15,10,27]]:[]).concat(YR.Cm),O=(G.$P?[1]:[]).concat(YR.hI);this.GU[j].el(z,O);
this.GU[j].P(G[j].v)}if(j=="lagl"){var i=G.uglg&&G.uglg.v?S.kl():G.lagl.v.val;this.GU[j].P(i)}if(j=="Lald"){var i=G.uglg&&G.uglg.v?S.fs():G.Lald.v.val;
this.GU[j].P(null,i)}if(j=="Type")this.GU[j].P(n.T.types.indexOf(G.Type.v.GrdT));if(j=="Styl")this.GU[j].P(n.stroke.types.indexOf(G.Styl.v.FStl));
if(j=="PntT"){var C=n.stroke.WQ.indexOf(G.PntT.v.FrFl);this.GU[j].P(C);if(!this.TY){this.fwS(n.W$.concat(n.wU.concat(n.dH)));
this.fwa([n.W$,n.wU,n.dH][C])}}if(j=="GlwT")this.GU[j].P(n.Wn.types.indexOf(G.GlwT.v.BETE));if(j=="glwS")this.GU[j].P(n.Wn.tI.indexOf(G.glwS.v.IGSr));
if(j=="bvlS")this.GU[j].P(n.Hg.types.indexOf(G.bvlS.v.BESl));if(j=="bvlT")this.GU[j].P(n.Hg.fPg.indexOf(G.bvlT.v.bvlT));
if(j=="bvlD")this.GU[j].P(["In","Out"].indexOf(G.bvlD.v.BESs))}};Md.prototype.fwZ=function(S){for(var G in this.GU){if(this.GU[G]!=S.target)continue;
var j=null,z=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(G)!=-1)j={type:"#Prc",val:S.target.j()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(G)!=-1)j={type:"#Pxl",val:S.target.j()};if(["Angl","lagl"].indexOf(G)!=-1)j={type:"#Ang",val:S.target.j().UT};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(G)!=-1)j=S.target.j();
if(["Md","hglM","sdwM"].indexOf(G)!=-1)j={BlnM:YR.kC[S.target.j()]};if(G=="uglg"){j=S.target.j();z=!0}if(G=="PntT"){j={FrFl:n.stroke.WQ[S.target.j()]};
z=!0}if(G=="Lald")j={type:"#Ang",val:S.target.j().alt};if(G=="Type")j={GrdT:n.T.types[S.target.j()]};
if(G=="Styl")j={FStl:n.stroke.types[S.target.j()]};if(G=="GlwT")j={BETE:n.Wn.types[S.target.j()]};if(G=="glwS")j={IGSr:n.Wn.tI[S.target.j()]};
if(G=="bvlS")j={BESl:n.Hg.types[S.target.j()]};if(G=="bvlT")j={bvlT:n.Hg.fPg[S.target.j()]};if(G=="bvlD")j={BESs:["In","Out"][S.target.j()]};
this.pl({hd:G,g:j});if(z){if(this.TY)this.update(null,this.rG);else{var O=this.parent,i=O.lq,C=this.ky,M=i.d[O.data.B].add.lmfx[n.lH[C[0]]].v[C[1]].v;
this.update(i,M)}}}};Md.prototype.pl=function(S){if(this.TY){this.rG[S.hd].v=S.g;this.D(new L(E.E.F))}else{S.r="changeprop";
S.B=this.parent.data.B;S.Qf=this.ky;var G=new L(E.E.R,!0);G.data=S;G.s=t.AS;G.Kx=!0;this.D(G);this.D(new L("afterchange",!0))}};
Md.prototype.j=function(){return JSON.parse(JSON.stringify(this.rG))};Md.EP={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(n.W$),GrFl:["enab","Md","Opct"].concat(n.wU),patternFill:["enab","Md","Opct"].concat(n.dH),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(n.W$.concat(n.wU.concat(n.dH)))};
function MZ(){XA.call(this,[11,6],"layerstyle");this.fdw=-1;this.data={};this.lq=null;this.G$=null;this.hB=[];
this.kH=[];E.Zb(this.body,"flexrow");this.Qo=E._("div","bordered");this.Qo.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Qo);this.JP=E._("div","");this.JP.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.JP);this.DE=E._("div","form");this.DE.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.DE);this.mf=new Ys("OK",!0,null,!0);this.mf.n("click",this.Jo,this);this.DE.appendChild(this.mf.M);
this.Oy=new Ys([12,87],!0,null,!0);this.Oy.n("click",this.fwl,this);this.DE.appendChild(this.Oy.M);this.LW=new oh;
this.LW.parent=this;this.LW.n(E.E.F,this.fww,this);this.DE.appendChild(this.LW.M);this.n("closebtn",this.HF,this);
this.n("redrawall",this.fPX,this)}MZ.prototype=new XA;MZ.prototype.Zx=function(){return!0};MZ.prototype.fww=function(S){var G=this.LW.j();
this.pl({r:"setstl",g:G.qi});this.fPX(null)};MZ.prototype.fwl=function(S){var G=this.lq,j=this.data.B;
if(j==null)j=G.N[0];var z=this.lq.d[j],O=Yv.fgT(z),i=new L(E.E.e,!0);i.data={r:E.a.zv,QD:"add",zC:o$.ql,hr:[JSON.parse(JSON.stringify(O))]};
this.D(i)};MZ.prototype.fwy=function(S){this.data.index=S.currentTarget.ky;this.Tg(S.currentTarget.ky)};
MZ.prototype.fPX=function(S){this.SL(this.lq,this.data)};MZ.prototype.Tg=function(S,G){E.Vk(this.JP);
for(var j=0;j<this.hB.length;j++)this.hB[j].fuR();var z=S==0?this.hB[0]:this.kH[S[0]][S[1]];this.JP.appendChild(z.fwX());
if(G)z.QF();var O=this.lq;if(O){var i=O.d[this.data.B];this.hB[0].update(O,fA.w_.n_(O,i));var C=i.add.lmfx;
if(C==null)return;for(var j=0;j<n.order.length;j++){var M=C[n.lH[j]].v;for(var D=0;D<M.length;D++)this.kH[j][D].update(O,M[D].v)}}if(G)z.QF()};
MZ.prototype.$=function(){XA.prototype.$.call(this);this.Oy.$();this.LW.$();for(var S=0;S<this.hB.length;
S++)this.hB[S].$()};MZ.prototype.SL=function(S,G){var j=G.B==null;this.data.B=G.B;this.data.index=G.index;
G=this.data;this.lq=S;if(j)G.B=S.N.length==0?S.d.length-1:S.N[0];E.Vk(this.Qo);var z=S.d[G.B].add.lmfx;
this.Tf();this.hB=[new Md("bops",!1,0)];this.kH=[];for(var O=0;O<n.order.length;O++){this.kH.push([]);
var i=z==null?[]:z[n.lH[O]].v;for(var C=0;C<i.length;C++){var M=new Md(n.order[O],!1,[O,C]);this.hB.push(M);
this.kH[O].push(M)}if(i.length==0){var M=new Md(n.order[O],!1,[O,0]);this.hB.push(M);this.kH[O].push(M)}}this.$();
this.fvu(this.G$,o$.$o);for(var O=0;O<this.hB.length;O++){this.hB[O].parent=this;this.hB[O].fuq(this.Qo);
this.hB[O].n("showme",this.fwy,this)}if(G.index==null||G.index==0||!j&&z[n.lH[G.index[0]]].v.length==0){this.Tg(0)}else this.Tg(G.index,j);
this.n("afterchange",this.Tf,this)};MZ.prototype.Tf=function(S){var G=this.lq,j=this.data.B;if(j==null)j=G.N[0];
var z=this.lq.d[j],O=Yv.fgT(z);this.LW.P(O,G.add.Patt?G.add.Patt:[],G.kl(),G.fs())};MZ.prototype.uQ=function(S,G){this.G$=S;
this.fvu(S,G);if(G==o$.ql||G==o$.$o){this.LW.dC([S.HK,S.Ax])}if(G==o$.lv){}};MZ.prototype.fvu=function(S,G){for(var j=0;
j<this.hB.length;j++)this.hB[j].uQ(S,G)};MZ.prototype.HF=function(S){this.pl({r:"cancel"})};MZ.prototype.Jo=function(S){this.pl({r:"confirm"});
this.close()};MZ.prototype.pl=function(S){S.B=this.data.B;var G=new L(E.E.R,!0);G.data=S;G.s=t.AS;G.Kx=!0;
this.D(G);this.Tf()};MZ.far=function(){var S=[{name:[14,10],uz:!0}];for(var G=0;G<n.names.length;G++)S.push({name:n.names[G]});
return S};MZ.fcR=function(){var S=[{J:E.E.e,l:{r:E.a.YO,pv:"layerstyle"}}];for(var G=0;G<n.names.length;
G++)S.push({J:E.E.e,l:{r:E.a.YO,pv:"layerstyle",index:[G,0]}});return S};MZ.fYc=function(S){var G=[];
if(S)G.push({name:[6,48,0,0],ym:!0},{name:[6,48,0,1],ym:!0},{name:[6,48,0,2],ym:!0,uz:!0});for(var j in Yd.names)G.push({name:Yd.names[j],uz:Yd.TL.indexOf(j)!=-1,ym:U[j]!=null});
return G};MZ.fCD=function(S){var G=[];if(S)for(var j=0;j<3;j++)G.push({J:E.E.Hz,l:t.qP.Dn(j)});for(var z in Yd.names){G.push({J:E.E.R,s:t.HA,l:{r:g.kM,vu:z}})}return G};
function Po(){XA.call(this,[1,10],"script");var S=E._("div","form");this.body.appendChild(S);var G=new Ys("JS Reference",!1,null,!0);
G.n("click",this.fwO,this);S.appendChild(G.M);S.appendChild(new C$("Demos:").M);this.fus=[];var j=Po.TX;
for(var z=0;z<j.length;z++){var O=new Ys(j[z].ac,!1,null,!0);this.fus.push(O);S.appendChild(O.M);O.n("click",this.fwh,this)}this.bM=E._("textarea");
this.bM.setAttribute("rows",16);this.bM.setAttribute("cols",70);this.bM.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
S.appendChild(this.bM);this.fwc=new Ys("Run",!0,null,!0);this.fwc.n("click",this.Jo,this);S.appendChild(this.fwc.M)}Po.prototype=new XA;
Po.prototype.SL=function(S,G,j){this.bM.value=Po.TX[0].jC};Po.prototype.fwO=function(S){var G=new L(E.E.e,!0);
G.data={r:E.a.mw,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.D(G)};Po.prototype.Jo=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.yf,uF:this.bM.value};this.D(G)};
Po.prototype.fwh=function(S){var G=this.fus.indexOf(S.currentTarget);this.bM.value=Po.TX[G].jC};Po.TX=[{ac:"Hello",jC:"\nalert(\"Hello Photopea!\");\n"},{ac:"Process Layers",jC:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{ac:"Clone Layers",jC:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function CR(){XA.call(this,[11,7],"newproject");this.data=null;var S=E._("div","flexrow");this.ns=S;
this.body.appendChild(S);var G=E._("div","form");this.mi=G;S.appendChild(G);this.WJ=new CY([12,48]);
G.appendChild(this.WJ.M);E.yn(G);this.Hj=new oD(!0);this.Hj.P(new A(1280,720),72);this.Hj.n(E.E.F,this.TM,this);
G.appendChild(this.Hj.M);this.OI=new Yh([12,46],[[13,1,8],[13,1,9],[12,46]]);G.appendChild(this.OI.M);
G.appendChild(E._("hr"));this.br=new Ys([12,49],!0,null,!0);this.br.n("click",this.Jo,this);G.appendChild(this.br.M);
var j=CR.us,z=[];for(var O=0;O<j.length;O++)z.push(j[O].name);this.kB=new Xv(null,z);this.kB.n(E.E.F,this.fas,this);
G.appendChild(this.kB.M);this.kB.M.style["margin-top"]="1em";this.kU=new PT(!0);this.kU.n(E.E.F,this.fwU,this);
G.appendChild(this.kU.M);this.fas();this.LL=new PW;this.LL.parent=this;this.LL.M.setAttribute("style","margin-left:1em")}CR.prototype=new XA;
CR.prototype.uQ=function(S,G){this.LL.uQ(S)};CR.prototype.$x=function(S,G){return new A(Math.max(0,Math.min(70,(S-690)/2)),S>G?Math.max(0,Math.min(50,(G-400)/2)):0)};
CR.prototype.yd=function(S,G){this.mi.setAttribute("style","width:"+Math.min(S,338)+"px");this.kU.M.style.height=G-260+"px";
var j=this.LL.M,z=j.parentNode;if(S<500){if(z!=null)this.ns.removeChild(j)}else{if(z==null)this.ns.appendChild(j)}this.LL.yd(S-360,G-35)};
CR.prototype.TM=function(){this.LL.P(this.Hj.j())};CR.prototype.fwU=function(S){var G=this.kU.j(),j=CR.us[this.kB.j()].nB[G],z=j[4];
if(z==0)z=72;var O=j[1],i=j[2],C=["px","%","mm","in"].indexOf(j[3]),M=[1,1,25.4/z,1/z][C];O/=M;i/=M;
this.Hj.P(new A(Math.round(O),Math.round(i)),z);this.Hj.fKV(C);this.kU.Ba(G);this.TM()};CR.prototype.fas=function(S){var G=CR.us[this.kB.j()].nB,j=[],z=[],O=Math.round(106*E.V()),i=Math.round(106*E.V()),C=0;
for(var M=0;M<G.length;M++)C=Math.max(C,G[M][1],G[M][2]);for(var M=0;M<G.length;M++){var D=G[M],X=D[1]+" x "+D[2]+" "+D[3];
if(D[3]=="in")X=(D[1]*25.4).toFixed(0)+" x "+(D[2]*25.4).toFixed(0)+" mm";if(D[3]=="mm")X=(D[1]/25.4).toFixed(1)+" x "+(D[2]/25.4).toFixed(1)+" in";
if(D[4])X=X+" @ "+D[4]+" ppi";z.push(X);j.push(CR.QE(D,O,i,C))}this.kU.uq(j,z,O,i)};CR.QE=function(S,G,j,z){var O=E._("canvas",""),i=O.getContext("2d");
O.width=G;O.height=j;var C=Math.round(G/8),M=Math.floor(11*E.V()),D=S[1],X=S[2];i.fillStyle="#000000";
i.font=Math.round(M*.9)+"px \"Open Sans\", Sans-Serif";var l=D+" x "+X+" "+S[3],f=i.measureText(l);i.fillText(l,Math.round((G-f.width)/2),j-Math.round(C/2));
if(S[0]!=null){i.font="bold "+M+"px \"Open Sans\", Sans-Serif";var l=S[0],f=i.measureText(l);i.fillText(l,Math.round((G-f.width)/2),j-Math.round(C/2)-Math.round(M*1.3))}j-=Math.round(2.5*M);
var F=Math.min((G-C)/D,(j-C)/X);F*=.5+.5*(Math.max(D,X)/z);var $=(G-D*F)/2,_=(j-X*F)/2;i.strokeRect(Math.round($)+.5,Math.round(_)+.5,Math.round(D*F),Math.round(X*F));
return O.toDataURL()};CR.prototype.$=function(){XA.prototype.$.call(this);this.Hj.$();this.WJ.$();this.OI.$();
this.br.$();this.WJ.P(YP.get([11,7]));this.kB.$();this.LL.$()};CR.prototype.Jo=function(S){var G=this.Hj.j(),j=G.x,z=G.y;
this.close();var O=new L(E.E.Hz,!0);O.data=Yi.rj(j,z,this.Hj.fXg(),this.WJ.j(),["Wht","Trns","BckC"][this.OI.j()]);
this.D(O)};CR.prototype.SL=function(S,G){if(S!=null&&S.f!=null){var j=new Q(0,0,S.o,S.i).tY(S.f.rect);
this.Hj.P(new A(j.o,j.i))}this.data=G;this.TM();this.WJ.MN()};CR.prototype.fll=function(S){if(S=="granted")fm.fPC(this,this.fwr.bind(this))};
CR.prototype.fwr=function(S,G){this.Hj.P(new A(G.o,G.i))};CR.us=[{name:"Social",nB:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],nB:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["A6",105,148,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],nB:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],nB:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],nB:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],nB:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",nB:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function fi(S,G,j){XA.call(this,G,"sel_"+S);this.r=S;var z=E._("div","form");this.body.appendChild(z);
this.WJ=new YN(G,0,255,null,0,!1,!0);z.appendChild(this.WJ.M);this.WJ.P(1);var O=E._("span");O.textContent=j;
z.appendChild(O);E.yn(z);this.fdo=new YI("Apply at canvas bounds");if(S!="border")z.appendChild(this.fdo.M);
this.mf=new Ys("OK",!0,null,!0);this.mf.n("click",this.Jo,this);z.appendChild(this.mf.M)}fi.prototype=new XA;
fi.prototype.mh=function(S,G){if(S==null)return;if(S.f==null)alert("No selection!");return S.f!=null};
fi.prototype.Jo=function(S){var G=new L(E.E.Hz,!0);G.data=t.tC.fsY(this.r,this.WJ.j(),this.fdo.j());
G.Kx=!0;this.D(G);this.close()};fi.prototype.$=function(){XA.prototype.$.call(this);if(this.WJ)this.WJ.$()};
fi.prototype.SL=function(S,G){};function fT(S,G){XA.call(this,G,S);this.us=null;this.mi=E._("div","form");
this.body.appendChild(this.mi);this.WJ=new CY(G);this.mi.appendChild(this.WJ.M);this.mf=new Ys("OK",!0,null,!0);
this.mf.n("click",this.Jo,this);this.mi.appendChild(this.mf.M)}fT.prototype=new XA;fT.prototype.Jo=function(S){var G=this.us.fPU,j=new L(G.J,!0);
j.s=G.s;j.data=G.l;j.data.g=this.WJ.j();j.Kx=!0;this.D(j);this.close()};fT.prototype.$=function(){XA.prototype.$.call(this);
if(this.WJ)this.WJ.$()};fT.prototype.SL=function(S,G){this.us=G;this.WJ.P(G.qd);this.WJ.MN()};function XB(){XA.call(this,[1,5],"open_from_url");
this.KU=null;var S=E._("div","form");this.body.appendChild(S);this.La=new CY("URL",null,22);S.appendChild(this.La.M);
this.La.n(E.E.F,this.Jo,this);E.yn(S);this.ry=new Xv([21,0],[[21,2],[21,1]]);S.appendChild(this.ry.M);
this.br=new Ys("OK",!0,null,!0);this.br.n("click",this.Jo,this);S.appendChild(this.br.M)}XB.prototype=new XA;
XB.prototype.$=function(){XA.prototype.$.call(this);this.ry.$()};XB.prototype.SL=function(S,G,j){this.La.MN();
this.KU=null;if(S&&j.indexOf(S)!=-1)this.KU=j.indexOf(S)};XB.prototype.Jo=function(S){var G=new L(E.E.e,!0),j=this.La.j();
G.data={r:E.a.mH,zC:{url:j,ed:!0,KU:this.ry.j()==1?this.KU:null}};this.D(G);this.close()};function Pf(){XA.call(this,[12,79],"preferences");
this.G$=null;var S=E._("div","form");this.body.appendChild(S);this.EP=[new YI([8,2]),new YI([8,4]),new Yh([12,80,3],[[12,93,3],[12,80,4]]),new ol([12,80,5],1,100,null,2),new Yh(null,x.Sx.q$),new Yh([12,80,6],x.Sx.q$)];
for(var G=0;G<this.EP.length;G++){var j=this.EP[G];S.appendChild(j.M);if(G!=3)E.yn(S);j.n(E.E.F,this.TR,this)}}Pf.prototype=new XA;
Pf.prototype.$=function(){XA.prototype.$.call(this);for(var S=0;S<this.EP.length;S++)this.EP[S].$()};
Pf.prototype.SL=function(S,G,j){};Pf.prototype.uQ=function(S,G){this.G$=S;this.EP[0].P(S.E$.WX);this.EP[1].P(S.E$.jl);
this.EP[2].P(S.E$.jc);this.EP[3].P(S.E$.WP);this.EP[4].P(S.E$.Wv);this.EP[5].P(S.E$.PZ)};Pf.prototype.TR=function(S){var Cf=this.EP,G=JSON.parse(JSON.stringify(this.G$.E$));
G.WX=Cf[0].j();G.jl=Cf[1].j();G.jc=Cf[2].j();G.WP=Cf[3].j();G.Wv=Cf[4].j();G.PZ=Cf[5].j();if(G.Wv!=4)G.WP=Math.round(G.WP);
var j=new L(E.E.e,!0);j.data={r:E.a.zv,zC:o$.rx,Ha:G};this.D(j)};function fH(){XA.call(this,[11,8],"saveforweb");
this.fdC="";this.n("closebtn",function(){this.FR.DG()},this);this.Kb=new A(512,512);this.lq=null;this.Fu=null;
this.fdp=null;this.G$=null;E.Zb(this.body,"flexrow");var S=E._("div"),G=E._("div");this.body.appendChild(S);
this.body.appendChild(G);this.os=E._("div","imgcont");S.appendChild(this.os);this.FR=new CW;this.FR.yd(this.Kb.x,this.Kb.y);
this.dy=E._("span");S.appendChild(this.dy);this.mi=E._("div","form cell");this.mi.setAttribute("style","width:15em; padding-left:1em;");
G.appendChild(this.mi);this.Gl=new Yh([12,50],ot.Wy());this.mi.appendChild(this.Gl.M);this.Gl.n(E.E.F,this.iM,this);
this.Hj=new oD(!1,!0);this.Hj.n(E.E.F,this.iM,this);this.mi.appendChild(this.Hj.M);this.EM=new Pz;this.EM.n(E.E.F,this.iM,this);
this.mi.appendChild(this.EM.M);this.Ok=new Ys([1,2],!0,null,!0);this.Ok.n("click",this.Jo,this);this.mi.appendChild(this.Ok.M)}fH.prototype=new XA;
fH.prototype.mh=function(S,G){return S!=null};fH.prototype.$=function(){XA.prototype.$.call(this);this.Hj.$();
this.Gl.$();this.EM.$();this.Ok.$()};fH.prototype.Jo=function(S){var G=this.lq.name.split(".")[0],j=ot.Wy()[this.Gl.j()],z=this.Fu,O=G+"."+j.toLowerCase(),i=this.lq,C=i.fF;
if(C.length!=0&&(j=="JPG"||j=="PNG"||j=="GIF")&&this.EM.j().pop()){var M="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",D=[],X={},l=new Q(0,0,i.o,i.i),f=i.yA();
for(var F=0;F<C.length;F++)D.push(t.Ga.pa(C,F));D.reverse();D=x.rect.$I([0,0,i.o,i.i],D);for(var F=0;
F<D.length;F++){var $=D[F],_=new Q($[0],$[1],$[2]-$[0],$[3]-$[1]),P=x.S(_.h()*4);x.yF(f,l,P,_);var k="img/img"+(F+1)+"."+j.toLowerCase();
X[k]=new Uint8Array(ot[j].tu([[P.buffer,0]],_.o,_.i,this.EM.j()));M+="<div style=\"background-image:url('"+k+"'); left:"+_.x+"px; top:"+_.y+"px; width:"+_.o+"px; height:"+_.i+"px\"></div>\n"}M+="</body>\n</html>\n";
var H=x.S(Math.round(M.length*1.5)),q=W.CN(M,H,0);X["index.html"]=H.slice(0,q);z=UZIP.encode(X);O=G+".zip"}var R=new L(E.E.e,!0);
R.data={r:E.a.Xq,data:z,name:O};this.D(R);this.FR.DG();this.close()};fH.prototype.SL=function(S,G){if(G.qM!=null)this.Gl.P(G.qM);
this.lq=S;var j=S.o+","+S.i;if(j!=this.fdC){this.fdC=j;this.Hj.P(new A(S.o,S.i))}this.EM.fmK();this.iM()};
fH.prototype.$x=function(S,G){return new A(Math.max(0,Math.min(150,(S-770)/2)),Math.max(0,Math.min(150,(G-590)/2)))};
fH.prototype.yd=function(S,G){this.YC=S;this.QM=G;this.Kb.x=Math.min(512,S-26-214);this.Kb.y=Math.min(512,G-45);
if(this.lq==null)return;var j=this.Hj.j(),S=j.x,G=j.y,z=ot.Wy()[this.Gl.j()],O=ot[z],f="<span style=\"width:",F="display:inline-block; text-align:right;\">";
if(O.CP){var i=S,C=G,M;if(z=="PDF"||O.cw){i=this.Kb.x;C=this.Kb.y}else{i=Math.min(S+20,this.Kb.x);C=Math.min(G+20,this.Kb.y)}this.os.firstChild.setAttribute("style","display:block; width:"+i+"px; height:"+C+"px;")}else{var D=this.fdp,X=D[0].tv,i=X.o,C=X.i;
this.FR.yd(Math.max(50,Math.min(i/E.V(),this.Kb.x)),Math.max(50,Math.min(C/E.V(),this.Kb.y)))}var l=this.Fu.byteLength,$=z+":"+f+64+"px;"+F+fH.TS(l)+"</span>";
if(this.Kb.x>200)$+=f+90+"px; opacity:"+.5+";"+F+l.toLocaleString()+" B</span>";this.dy.innerHTML=$};
fH.TS=function(S){var G=0;while(S>>>G+10!=0)G+=10;var j=(S/(1<<G)).toFixed(1),z=["B","KB","MB","GB"][Math.floor(G/10)];
return j+" "+z};fH.prototype.uQ=function(S,G){this.G$=S};fH.prototype.iM=function(S){var G=this.Hj.j(),j=G.x,z=G.y,O=this.Gl.j(),i=ot.Wy()[O],C=["GIF","PNG","WEBP"].indexOf(i)!=-1&&ot.x$(this.lq)[0].length>1,D="";
this.EM.fgK(i,C,this.lq.fF.length!=0);var M=this.EM.j();this.Fu=ot.D$(this.lq,i,j,z,M,this.G$);if(this.Fu==null){this.lq=null;
return}E.Vk(this.os);this.FR.DG();var X=ot[i];if(X.cw){this.os.innerHTML="<div></div>";D+="width:0px"}else if(X.CP){var l=j,f=z,F;
if(i=="PDF"){F=URL.createObjectURL(new Blob([this.Fu],{type:"application/pdf"}))}else{F=URL.createObjectURL(new Blob([this.Fu],{type:"image/svg+xml"}))}this.os.innerHTML="<iframe src=\""+F+"\"></iframe>"}else{var $=this.fdp=X.Uf(this.Fu),_=$[0].tv,l=_.o,f=_.i;
this.FR.P($,$.length>1?M[M.length-2]:0);this.os.appendChild(this.FR.M);D="background: rgba(0,0,0,0);"}this.os.setAttribute("style","display:block; background-size:"+16/E.V()+"px;"+D);
this.yd(this.YC,this.QM)};function XZ(){XA.call(this,[11,13],"shortcuts");var S=this.ns=E._("div","scrollable");
S.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(S);
this.fZO()}XZ.prototype=new XA;XZ.prototype.$=function(){XA.prototype.$.call(this);this.fZO()};XZ.prototype.fZO=function(){var S="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",G="";
G+="<h2 style=\"margin-top:0;\">Main Menu</h2>";G+=S;G+=this.ob([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
G+="</div>";G+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";G+=S;G+=this.ob("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
G+="</div>";G+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
G+=S;G+=this.ob([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);G+="</div>";G+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
G+=S;G+=this.ob(XZ.cC);G+=this.ob(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
G+="</div>";this.ns.innerHTML=G};XZ.prototype.ob=function(S){var G="",j=!0;for(var z=0;z<S.length;z+=2){var O=S[z],i=S[z+1];
if(i==null){j=!1;continue}var C=E.fsl(YP.get(O));if(i=="---"){if(!j)G+="<br/>";G+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+C+"</div>"}else G+="<div>"+C+" <span style=\"float:right; font-weight:bold;\">"+i+"</span> </div>";
j=!1}return G};XZ.cC=[[10,11],"V",[10,15],"M",[10,4],"M",[10,9],"L",[10,14],"L",[10,10],"L",[10,37],"W",[10,12],"W",[10,2],"C",[10,5],"I",[10,36],"I",[10,24],"J",[10,25],"J",[10,26],"J",[10,0],"B",[10,38],"B",[10,1],"S",[10,3],"E",[10,6],"G",[10,13],"G",[10,18],null,[10,19],null,[10,20],null,[10,21],"O",[10,22],"O",[10,23],"O",[10,8],"T",[10,29],"P",[10,30],"P",[10,27],"A",[10,28],"A",[10,32],"U",[10,33],"U",[10,35],"U",[10,34],"U",[10,31],"U",[10,7],"H",[10,17],"Z"];
function Ps(){XA.call(this,[2,3],"fill");this.G$=null;this.KB=null;var S=E._("div","form padded");S.style.width="22em";
this.body.appendChild(S);this.nb="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");this.E_=new Yh([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);
this.E_.n(E.E.F,this.fdm,this);S.appendChild(this.E_.M);this.os=E._("span");S.appendChild(this.os);this.ER=new fQ;
this.ER.parent=this;this.ER.dq(0);this.OH=new Yh([12,19,0],YR.Cm,!1,YR.hI);S.appendChild(this.OH.M);
this.Lz=new ol([12,0],0,100,"%",0,!1);this.Lz.P(100);S.appendChild(this.Lz.M);this.br=new Ys("OK",!0,null,!0);
this.br.n("click",this.Jo,this);this.body.appendChild(this.br.M)}Ps.prototype=new XA;Ps.prototype.mh=function(S,G){return S!=null};
Ps.prototype.Zx=function(){return!0};Ps.prototype.fdm=function(){var S=this.E_.j()==2,G=this.ER.M,j=this.os;
if(S)j.appendChild(G);else if(j.contains(G))j.removeChild(G)};Ps.prototype.$=function(){XA.prototype.$.call(this);
this.E_.$();this.OH.$();this.Lz.$()};Ps.prototype.Jo=function(S){if(!this.KB.OX())return;var G=new L(E.E.Hz,!0),j=this.E_.j();
G.data=t.ha.Dn(this.nb[j],YR.fh[this.OH.j()],this.Lz.j()/100,this.ER.j());this.close();this.D(G)};Ps.prototype.SL=function(S,G){this.KB=S};
Ps.prototype.uQ=function(S,G){this.G$=S};function PK(){XA.call(this,[14,9],"stroke");this.G$=null;this.mi=E._("div","form");
this.mi.setAttribute("style","width:24em");this.body.appendChild(this.mi);this.EK=new Md("FrFX",!0);
this.EK.parent=this;var S=["Sz","Styl","Md","Opct"].concat(n.W$);for(var G=0;G<S.length;G++){var j=this.EK.GU[S[G]].M;
this.mi.appendChild(j)}this.fde=!1;this.br=new Ys("OK",!0,null,!0);this.br.n("click",this.Jo,this);this.body.appendChild(this.br.M)}PK.prototype=new XA;
PK.prototype.mh=function(S,G){return S!=null};PK.prototype.Zx=function(){return!0};PK.prototype.$=function(){XA.prototype.$.call(this);
this.EK.$()};PK.prototype.Jo=function(S){var G=new L(E.E.R,!0);G.s=t.eS;G.data={r:"stroke",fZM:this.EK.j()};
this.close();this.D(G)};PK.prototype.SL=function(S,G){if(!this.fde){var j=n.s_[n.order.indexOf("FrFX")];
j=JSON.parse(j);this.EK.update(S,j);this.fde=!0}var j=this.EK.j(),z=this.G$.Cj;j.Clr.v=x.T.qL({H:z>>16&255,X:z>>8&255,C:z&255});
this.EK.update(S,j)};PK.prototype.uQ=function(S,G){this.G$=S};function Py(){XA.call(this,[11,9],"textwarp");
this.EP=new Pw;this.EP.n(E.E.F,this.s$,this);this.EP.parent=this;this.mi=E._("div","form");this.mi.setAttribute("style","width:20em");
this.body.appendChild(this.mi);this.mi.appendChild(this.EP.Qr.M);this.mi.appendChild(this.EP.eF.M);this.mi.appendChild(this.EP.QG.M);
this.mi.appendChild(this.EP.ZD.M);this.mi.appendChild(this.EP.Zq.M);this.br=new Ys("OK",!0,null,!0);
this.br.n("click",this.Jo,this);this.mi.appendChild(this.br.M);this.n("closebtn",this.HF,this)}Py.prototype=new XA;
Py.prototype.Zx=function(){return!0};Py.prototype.$=function(){XA.prototype.$.call(this);this.EP.$()};
Py.prototype.s$=function(S){var G=this.EP.j();this.TP({r:"warp",yw:G})};Py.prototype.TP=function(S){var G=new L(E.E.R,!0);
G.s=t.Pg;G.data=S;G.Kx=!0;this.D(G)};Py.prototype.HF=function(S){this.TP({r:"warpCancel"})};Py.prototype.Jo=function(S){this.TP({r:"warpConfirm"});
this.close()};Py.prototype.SL=function(S,G){var j=S.d[S.N[0]];this.EP.P(j.add.TySh.nX)};function Xg(){XA.call(this,"Raw Photopea","rawpea");
this.kD=null;this.bw=null;this.OD=null;this.fd_=0;this.uG=null;this.Zn=null;this.fc$=500;this.fVI=500;
this.n("closebtn",this._n,this);E.Zb(this.body,"flexrow");var S=E._("div"),G=E._("div"),O="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
G.setAttribute("style","padding-left: 1em");this.body.appendChild(S);this.body.appendChild(G);this.Io=E._("canvas");
S.appendChild(this.Io);this.dc=new XX(225);this.dc.Qz(4);G.appendChild(this.dc.M);this.mi=E._("div");
this.mi.setAttribute("style","width:18em;");G.appendChild(this.mi);this.fAp=new C$("Hi",!0);this.mi.appendChild(this.fAp.M);
this.ci=[new fM("Temperature",2e3,13e3),new fM("Tint",-150,150),new fM([4,3],-4,4,null,!0),new fM([12,3,0],-100,100)];
for(var j=0;j<this.ci.length;j++){var z=this.ci[j];z.P(0);z.n(E.E.F,this.iC,this);this.mi.appendChild(z.M);
if(j==1)this.mi.appendChild(E._("hr"))}this.br=new Ys([1,0],!0,null,!0);this.br.n("click",this.Jo,this);
this.mi.appendChild(this.br.M);this.Oj=new Ys(O+" JPG",!0,null,!0);this.Oj.n("click",this.fdu,this);
this.mi.appendChild(this.Oj.M);this.Oj.M.style.marginTop="6px"}Xg.prototype=new XA;Xg.prototype.lg=function(){return!0};
Xg.prototype.$x=function(){return new A(0,0)};Xg.prototype.yd=function(S,G){this.fc$=S-274;this.fVI=G-32;
if(this.kD)this.fMW()};Xg.prototype.$=function(){XA.prototype.$.call(this);this.br.$();for(var S=0;S<this.ci.length;
S++)this.ci[S].$()};Xg.prototype.fdu=function(S){var G=this.kD,j=this.bw,z=x.S(G.width*G.height*4);x.GC(z,4294967295);
x.raw.Cs(j,z,G,this.Ia());var O=ot.JPG.tu([[z.buffer]],j.Bt,j.RP,[85]),i=new L(E.E.e,!0);i.data={r:E.a.Xq,data:O,name:"photo.jpg"};
this.D(i)};Xg.prototype.Jo=function(S){var G=this.kD,j=this.bw,z=x.S(G.width*G.height*4);x.GC(z,4294967295);
x.raw.Cs(j,z,G,this.Ia());var G={tv:new Q(0,0,j.Bt,j.RP),data:z.buffer},O=fm.Op("Raw Photo",[G]),i=new L(E.E.e,!0);
i.data={r:E.a.lt,lq:O};this.D(i);this._n();this.close()};Xg.prototype._n=function(){this.kD=null;this.bw=null;
this.uG=null;this.Zn=null};Xg.prototype.SL=function(S,G,j,z){this.kD=G.Hc;this.bw=x.raw.fWV(this.kD);
var O=this.bw;this.fAp.P(O.Bt+" x "+O.RP+", "+(O.Bt*O.RP/1e6).toFixed(1)+" MPx");var i=x.raw.fmI(G.Hc);
this.OD=Mk._J(i);this.ci[0].P(this.OD.ux);this.ci[1].P(this.OD.qc);for(var C=2;C<this.ci.length;C++)this.ci[C].P(0);
this.fMW()};Xg.prototype.uQ=function(S,G){this.dc.dq(XS.Se[S.EO]["--text-color"])};Xg.prototype.fMW=function(){var S=this.bw,G=S.Bt,j=S.RP,z=1;
while(G/z>this.fc$*E.V()||j/z>this.fVI*E.V())z++;var O=Math.floor(G/z),i=Math.floor(j/z);this.uG={hC:new Float32Array(O*i*3),Bt:O,RP:i};
var C=this.Io.getContext("2d");this.Zn=C.createImageData(O,i);x.GC(this.Zn.data,4294967295);var M=1/(z*z);
for(var D=0;D<i;D++)for(var X=0;X<O;X++){var l=0,f=0,F=0,$=(X+1)*z,_=(D+1)*z;for(var P=D*z;P<_;P++)for(var k=X*z;
k<$;k++){var H=(P*G+k)*3;l+=this.bw.hC[H];f+=this.bw.hC[H+1];F+=this.bw.hC[H+2]}var q=(D*O+X)*3;this.uG.hC[q]=l*M;
this.uG.hC[q+1]=f*M;this.uG.hC[q+2]=F*M}this.iC()};Xg.prototype.iC=function(){var S=this.kD,G=this.uG.Bt,j=this.uG.RP,z=G*j,O=this.Io,i=O.getContext("2d");
O.width=G;O.height=j;E.bV(O,G,j);x.raw.Cs(this.uG,new Uint8Array(this.Zn.data.buffer),S,this.Ia());i.putImageData(this.Zn,0,0);
var C=x.Mu(this.Zn.data);for(var M=0;M<4;M++)for(var D=1;D<256;D++)if(C[M][D]==0)C[M][D]=C[M][D-1];for(var M=0;
M<4;M++)for(var D=1;D<256;D++)if(C[M][D]==0)C[M][D]=C[M][D-1];this.dc.P(C)};Xg.prototype.Ia=function(){var S=[];
for(var G=0;G<this.ci.length;G++)S.push(this.ci[G].j());return S};function oB(){XA.call(this,[11,11],"vbitmap");
this.us=null;this.LV=null;this.Oh=null;this.Ln=null;this.CI=null;this.mi=E._("div","form hbar");this.body.appendChild(this.mi);
this.Tu=new ol([12,82],2,50,null);this.Tu.n(E.E.F,this.Ms,this);this.mi.appendChild(this.Tu.M);this.Tw=new YI([12,81]);
this.Tw.n(E.E.F,this.Ms,this);this.mi.appendChild(this.Tw.M);this.br=new Ys("OK",!1,null,!0);this.br.n("click",this.Jo,this);
this.mi.appendChild(this.br.M);var S=E._("div","flexrow"),G=16;this.body.appendChild(S);this.Gr=new CW;
this.Gr.n("viewchange",this.fYA,this);this.GH=E._("canvas");this.GH.setAttribute("style","margin-left: 1px; cursor:grab;");
this.Vj=this.GH.getContext("2d");var j=x.S(16*16*4);x.jg(j,G,G,8,0,0);this.OE=x.scale.Qd(j,G,G);this.Gr.fgh(this.GH);
S.appendChild(this.Gr.M);S.appendChild(this.GH)}oB.prototype=new XA;oB.prototype.lg=function(){return!0};
oB.prototype.$x=function(){return new A(0,0)};oB.prototype.Zx=function(){return!0};oB.prototype.yd=function(S,G){G=G-26-30;
S=Math.floor((S-28)/2);E.cl(this.GH,S,G);this.Gr.yd(S,G)};oB.prototype.HE=function(S,G,j,z){this.Gr.HE(z)};
oB.prototype.$=function(){XA.prototype.$.call(this);this.Tu.$();this.Tw.$();this.br.$()};oB.prototype.SL=function(S,G){this.CI=S;
var j=S.d[S.N[0]],z=x.tn._R(j.buffer.buffer,j.rect.o,j.rect.i).fsQ,O=z/((j.rect.o-2)*(j.rect.i-2));this.Tw.P(O<.75);
var i=j.rect.clone();i.x=i.y=0;this.us={tv:i,data:j.buffer.buffer.slice(0)};this.LV=null;this.Gr.P([this.us]);
this.Tu.P(20);this.Ms()};oB.prototype.Ms=function(){var S=this.us,G=this.Tw.j();if(G&&this.LV==null){var j=new Uint8Array(S.data.slice(0)),z=15,O=35,i=S.tv.o,C=S.tv.i,M=new x.XL(i*C);
x.fy(j,M);var D=new x.XL(i*C);x.cI.Mi(M.H,M.A,D.H,i,C,z,x.cI.ok,[O]);x.cI.Mi(M.X,M.A,D.X,i,C,z,x.cI.ok,[O]);
x.cI.Mi(M.C,M.A,D.C,i,C,z,x.cI.ok,[O]);x.Fj(M.A,D.A);var X=O/255,l=1-X;for(var f=0;f<i*C;f++)D.A[f]=X*D.A[f]+l*M.A[f];
x.FP(D,j);this.LV={tv:S.tv.clone(),data:j.buffer}}if(G)S=this.LV;var j=new Uint8Array(S.data),i=S.tv.o,C=S.tv.i;
for(var f=0;f<j.length;f+=4){if(j[f+3]<10)j[f]=j[f+1]=j[f+2]=j[f+3]=0}var F=x.tn.fuY(j,i,C,this.Tu.j(),G?.1:2e-4),$=F.pj.slice(0);
for(var f=0;f<$.length;f++)$[f]++;var _=new Uint8Array((i+2)*(C+2));x.zP($,new Q(1,1,i,C),_,new Q(0,0,i+2,C+2));
var P=Math.round((i+2)*(C+2)/1e4),k=fE.fuQ(_,i+2,C+2,Math.min(12,P)),H=fE.ya(k),q=new Ym(1,0,0,1,-1,-1);
for(var f=0;f<H.length;f++)x.Y.GY(H[f].path.v,q,H[f].path.v);this.Ln=H;this.Oh=F;for(var f=0;f<H.length;
f++){var R=H[f];for(var I=f+1;I<H.length;I++){var b=H[I];if(F.Bk[b.color-1].est.q[3]>.05||b.parent!=f)continue;
var Y=b.path.w.slice(1);Y.reverse();Y=["M"].concat(Y);var m=[],k=b.path.v.length;for(var h=0;h<k;h+=2){m[h]=b.path.v[k-2-h];
m[h+1]=b.path.v[k-2-h+1]}x.Y.concat(R.path,{v:m,w:Y})}}for(var f=0;f<H.length;f++){var R=H[f],e=F.Bk[R.color-1].est.q;
if(e[3]<=.05){H.splice(f,1);f--;continue}}for(var f=1;f<H.length;f++){var s=H[f-1],R=H[f];if(s.color==R.color){x.Y.concat(s.path,R.path);
H.splice(f,1);f--;continue}}this.fYA()};oB.prototype.fYA=function(S){if(this.Ln==null)return;var G=this.us.tv.o,j=this.us.tv.i,z=this.Ln,O=this.Oh.Bk,i=this.Vj,C=this.Gr.DF();
i.setTransform(1,0,0,1,0,0);i.clearRect(0,0,i.canvas.width,i.canvas.height);i.translate(i.canvas.width/2,i.canvas.height/2);
i.scale(C.u,C.u);i.translate(C.c.x/C.u-G/2,C.c.y/C.u-j/2);i.scale(1/C.u,1/C.u);i.fillStyle=this.OE;i.fillRect(0,0,G*C.u,j*C.u);
i.scale(C.u,C.u);var M=[];for(var D=0;D<O.length;D++){var X=O[D].est.q;M.push({H:Math.round(255*X[0]),X:Math.round(255*X[1]),C:Math.round(255*X[2]),A:Math.round(255*X[3])})}for(var D=0;
D<z.length;D++){var l=z[D],X=M[l.color-1];if(X.A==0)continue;i.fillStyle="rgba("+X.H+","+X.X+","+X.C+","+X.A/255+")";
i.beginPath();Typr.U.pathToContext({crds:l.path.v,cmds:l.path.w},i);i.fill()}};oB.prototype.Jo=function(S){var G=this.Ln,j=G.length==1,z=this.CI,O=z.N[0],i=z.d[O],C=z.d.slice(0,O);
if(!j)C.push(z.hP());for(var M=0;M<G.length;M++){var D=G[M],X=this.Oh.Bk[D.color-1].est.q;x.Y.GY(D.path.v,new Ym(1,0,0,1,i.rect.x,i.rect.y),D.path.v);
var l=z.YJ();l.lX("Path "+M);C.push(l);l.opacity=Math.round(X[3]*255);l.Ge|=16;l.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.T.qL({H:255*X[0],X:255*X[1],C:255*X[2]})}};
l.add.vmsk=new g.XT;l.add.vstk=JSON.parse(JSON.stringify(n.GN.default));l.add.vmsk.z=x.Y.oe(D.path,!1);
l.add.vogk=[];l.Ko();l.uf(z)}var f=C[C.length-1];if(!j){var l=z.YJ();l.lX(i.getName());l.add.lsct=YF.WY;
l.eD="pass";l.Ge=24;C.push(l);f=l}var F=i.add.lmfx;if(F)f.add.lmfx=JSON.parse(JSON.stringify(F));for(var M=O+1;
M<z.d.length;M++)C.push(z.d[M]);var $=new L(E.E.R,!0);$.Kx=!0;$.s=t.HA;$.data={r:g.Rb,M$:C,i_:[O+G.length+(j?-1:1)],mj:[11,11]};
this.D($);this.close()};function CJ(){XA.call(this,[7,11],"redge");this.us={};this.LM=null;this.Wh=null;
this.CI=null;this.fAz=null;this.ir=null;this.$G=[];this.Uv=-1;this.mi=E._("div","form hbar");this.body.appendChild(this.mi);
this.Hw=new Xr;this.Hw.parent=this;this.Hw.n(E.E.F,this.HT,this);this.mi.appendChild(this.Hw.M);this.OU=new Sb(null,[2,1,0]);
this.mi.appendChild(this.OU.M);this.wQ=new YN([7,9],0,50,null);this.wQ.parent=this;this.wQ.n(E.E.F,this.fCR,this);
this.mi.appendChild(this.wQ.M);var S=new Ys([12,90],!1,null,!0);S.n("click",function(z){alert(YP.get([15,7,1]),5e3)},this);
this.mi.appendChild(S.M);this.fJj=S;var G=E._("span","form");this.mi.appendChild(G);G.setAttribute("style","position:absolute;  right:0px");
this.LA=new Sb([12,46],[3,2,0]);this.LA.n(E.E.F,this.fPo,this);G.appendChild(this.LA.M);this.OL=new Yh(null,[[6,13],[6,2],[17,2]]);
G.appendChild(this.OL.M);this.br=new Ys("OK",!1,null,!0);this.br.n("click",this.Jo,this);G.appendChild(this.br.M);
var j=E._("div","flexrow");this.body.appendChild(j);this.Qp=new CW(!0);this.TV=new CW;this.Qp.ml(this.TV);
this.TV.ml(this.Qp);this.Qp.n("mousedown",this.pc,this);this.Qp.n("mousemove",this.Km,this);this.Qp.n("mouseup",this.iP,this);
this.Qp.n("zoom",this.HT,this);j.appendChild(this.Qp.M);j.appendChild(this.TV.M)}CJ.prototype=new XA;
CJ.prototype.mh=function(S,G){var j=S!=null&&!S.d[S.N[0]].rect.tR();if(!j)alert("The layer is empty.");
return j};CJ.prototype.lg=function(){return!0};CJ.prototype.$x=function(){return new A(0,0)};CJ.prototype.Zx=function(){return!0};
CJ.prototype.yd=function(S,G){G=G-26-30;S=Math.floor((S-28)/2);this.Qp.yd(S,G);this.TV.yd(S,G)};CJ.prototype.$=function(){XA.prototype.$.call(this);
this.Hw.$();this.wQ.$();this.br.$();this.LA.$();this.OL.$();this.fJj.$()};CJ.prototype.uQ=function(S,G){this.Wh=S;
if(G==o$.bk||G==o$.$o){this.Hw.dC(S.fO);this.Hw.P(oH.fR(),S.fO.qH,S.fO.ki)}};CJ.prototype.HE=function(S,G,j,z){this.fAz=z;
var O=t.ha.aP(this.Hw.j(),z);if(O!=null){this.Hw.P(O);this.HT()}else if(z.U(w.kw)&&z.U(w.HL)){var i=this.$G,C=0;
if(z.U(w.H$)){if(this.Uv+1<i.length)C=1}else if(this.Uv>0)C=-1;if(C!=0){this.Uv+=C;var M=this.Uv,D=this.us;
if(C==1)x.yF(i[M][2],i[M][0],D.$A,D.rect);else x.yF(i[M+1][1],i[M+1][0],D.$A,D.rect);D.OF=D.rect;this.Ms()}}else this.Qp.HE(z)};
CJ.prototype.oB=function(S){var G=this.us,j=this.$G,z=x.S(S.h()*4);x.yF(G.fAu,G.rect,z,S);G.fAu=null;
var O=x.S(S.h()*4);x.yF(G.$A,G.rect,O,S);this.Uv++;j[this.Uv]=[S.clone(),z,O];while(j.length>this.Uv+1)j.pop();
while(j.length>50){j=j.slice(1);this.Uv--}};CJ.prototype.HT=function(){var S=this.Wh,G=fs.sY(this.Hw.j(),S.fO.qH,this.Qp.DF().u);
this.Qp.om(G)};CJ.prototype.pc=function(S){var G=this.Wh,j=this.us,z=this.fAz,O=this.Hw.j(),i=this.Qp.oV(),C=[16777215,8355711,0][this.OU.j()];
this.LM=new fs(O,G.fO.list[0].qH,G.fO.list[0].ki,{Ar:1,nC:!0},C,G.iw,j.rect);j.fAu=j.$A.slice(0);if(z!=null&&z.U(w.H$)&&this.ir){this.LM.moveTo(this.ir.x,this.ir.y);
this.LM.lineTo(i.x,i.y)}else this.LM.moveTo(i.x,i.y);this.fCc()};CJ.prototype.Km=function(S){var G=this.us,j=this.Qp.oV();
this.LM.lineTo(j.x,j.y);this.fCc()};CJ.prototype.iP=function(S){this.ir=this.Qp.oV();this.oB(this.LM.sK());
this.Ms()};CJ.prototype.fCc=function(){var S=this.us,G=this.LM,j=G.sX();if(j.tR())return;S.OF=j;x.k.me("norm",G.sZ(),G.to(),S.$A,S.rect,j,1);
this.fSu()};CJ.prototype.SL=function(S,G){this.CI=S;var j=S.d[S.N[0]],z=j.rect.clone();this.wQ.P(3);
this.OU.P(S.f==null?0:1);this.HT();if(S.f==null)this.wQ._S();else this.wQ.UE();var O=x.S(z.h()),i=x.S(z.h());
if(S.f)x.zP(S.f.channel,S.f.rect,O,z);z.x=z.y=0;var C=z.o,M=z.i;for(var D=0;D<M;D++)for(var X=0;X<C;
X++){var l=D*C+X,f=O[l];if(X>0&&O[l-1]!=f||X<C-1&&O[l+1]!=f||D>0&&O[l-C]!=f||D<M-1&&O[l+C]!=f)i[l]=255}var F=new Float32Array(z.h());
x.style.YK(i,F,C,M);this.us={rect:z,hC:j.buffer,Qy:O,nQ:F,JJ:x.S(z.h()*4),Sd:x.S(z.h()*4),$A:x.S(z.h()*4),kF:null,OF:z};
this.fCR();this.$G=[1];this.Uv=0};CJ.prototype.fCR=function(){var S=this.us,G=S.rect.h(),j=this.wQ.j(),z=S.Qy.slice(0);
for(var O=0;O<G;O++)if(S.nQ[O]<j)z[O]=128;x.GC(S.$A,4294967295);x.Cy(z,S.$A,0);x.Cy(z,S.$A,1);x.Cy(z,S.$A,2);
this.Ms()};CJ.prototype.Ms=function(){var S=this.us,G,O,i,C=0,M=0,D=0;this.fSu();if(!0)G=S.rect;else{var j=Math.min(G.o,G.i);
j=Math.max(j,50);G.En(j,j);G=G.tY(S.rect);while((G.o&3)!=0){G.o++;if(G.o+G.x>S.rect.o)G.x--}while((G.i&3)!=0){G.i++;
if(G.i+G.y>S.rect.i)G.y--}console.log(G)}var z=x.S(G.h());if(G.Xs(S.rect)){x.tb(S.$A,z,0);O=S.hC}else{O=x.S(G.h()*4);
x.yF(S.$A,S.rect,O,G);x.tb(O,z,0);x.yF(S.hC,S.rect,O,G)}for(var X=0;X<z.length;X++){var l=z[X];if(l==0)C++;
else if(l==255)M++;else D++}if(C*M*D!=0){i=x.ZI.ZI(G,O,z)}else{i=O.slice(0);x.Cy(z,i,3)}if(G.Xs(S.rect))S.kF=i;
else x.yF(i,G,S.kF,S.rect);this.fPo()};CJ.prototype.fSu=function(S){var G=this.us,j=G.OF;x.yF(G.hC,G.rect,G.JJ,G.rect,j,!0);
x.k.me("norm",G.$A,G.rect,G.JJ,G.rect,j,.3);this.Qp.P([{tv:G.rect,data:G.JJ.buffer}])};CJ.prototype.fPo=function(S){var G=this.us;
x.GC(G.Sd,[0,4294967295,4278190080][this.LA.j()]);x.k.me("norm",G.kF,G.rect,G.Sd,G.rect,G.rect,1);this.TV.P([{tv:G.rect,data:G.Sd.buffer}])};
CJ.prototype.Jo=function(S){var G=this.CI,j=this.us,z=this.OL.j(),O=G.d[G.N[0]],i=new L(E.E.R,!0);i.Kx=!0;
var C=O.rect.clone();if(z==0&&O.Gg()||z!=0&&!O.Gg()){i.s=t.HA;i.data={r:g.Yr,B:G.N[0]};this.D(i)}if(G.f!=null){i.s=t.SN;
i.data={r:"fromAction",cA:t.tC.YF()};this.D(i)}if(z==0){var M=G.d.slice(0),D=G.YJ();D.lX(O.getName());
M.splice(G.N[0]+1,0,D);D.rect=C;D.buffer=j.kF;D.I();i.s=t.HA;i.data={r:g.Rb,M$:M,i_:[G.N[0]+1],mj:[7,11]};
this.D(i)}if(z==1){var X=O.Ew();i.s=t.HA;i.data={r:g.Zj,fdL:!0};this.D(i);var l=O.Ew();l.channel=x.S(C.h());
l.rect=C;l.color=0;l.io=!0;x.tb(j.kF,l.channel,3);if(X){var f=l.FS(X);l.rect=f.rect;l.channel=f.channel;
l.color=f.color}l.Gw();O.uf()}if(z==2){var F={rect:C,channel:x.S(C.h())};x.tb(j.kF,F.channel,3);i.s=t.SN;
i.data={r:"setsel",f:F,mj:this.Nt};this.D(i)}this.close()};function fU(){XA.call(this,[1,13],"locstor");
this.G$=null;this.Ua=[];var S=this.body,G=E._("p");G.textContent="These files are loaded every time you start Photopea.";
S.appendChild(G);this.fJl=0;this.OG=E._("span");S.appendChild(this.OG);this.OG.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.Ot=new Ys([5,4],!1,null,!0);this.Ot.n("click",this.fdI,this);S.appendChild(this.Ot.M);this.Kv=new PT(!0);
this.Kv.parent=this;this.Kv.Qz(1);this.Kv.n(E.E.F,this.fdV,this);S.appendChild(this.Kv.M);this.Kv.M.setAttribute("style","width: 40em; height: 25em")}fU.prototype=new XA;
fU.prototype.$=function(){XA.prototype.$.call(this);this.OG.textContent=YP.get([13,2])+": "+fH.TS(this.fJl);
this.Ot.$()};fU.prototype.uQ=function(S,G){this.G$=S;if(G==o$.Hv)this.SL()};fU.prototype.SL=function(S,G){var j=this.G$.wT.Tx,D=0;
this.Ua=[];for(var z in j)this.Ua.push(z);this.Ua.sort(function(f,F){f=f.split(".");F=F.split(".");return f[1]==F[1]?f[0]<F[0]?-1:1:f[1]<F[1]?-1:1});
var O=Math.floor(100*E.V()),i=Math.floor(16*E.V()),C=[],M=[];for(var X=0;X<this.Ua.length;X++){var z=this.Ua[X],l=fU.QE(z,j[z],O,i);
C.push(l);M.push(z);D+=j[z].byteLength}this.Kv.uq(C,M,O,i);this.fJl=D;this.$()};fU.prototype.fdV=function(S){this.Kv.Ba(this.Kv.j())};
fU.prototype.fdI=function(S){var G=this.Kv.j();if(G==-1){alert("Select a file first.");return}this.Kv.P(-1);
var j=this.G$.wT.Tx;delete j[this.Ua[G]];var z=new L(E.E.e,!0);z.data={r:E.a.zv,zC:o$.Hv};this.D(z)};
fU.QE=function(S,G,j,z){var O=E._("canvas"),M=0;O.width=j;O.height=z;var i=O.getContext("2d"),C=S.split(".").pop().toLowerCase();
for(var D=0;D<C.length;D++)M+=C.charCodeAt(D)*613<<8*D;i.fillStyle="#"+x.zt(M&16777215);i.fillRect(0,0,20,z);
var X=Math.floor(14*E.V());i.fillStyle="#000000";i.font="bold "+X+"px sans-serif";var l=(z-X)/2,f=fH.TS(G.byteLength),F=i.measureText(f);
i.fillText(f,j-12-F.width,z-l);return O.toDataURL()};function Mo(S,G,j){XA.call(this,G,"cwindow");this.fJh=new A(j[0],j[1]-33);
this.mi=E._("div","form");this.mi.setAttribute("style","width:"+(j[2]-j[0])+"px; height:"+(j[3]-j[1])+"px");
this.body.appendChild(this.mi)}Mo.prototype=new XA;Mo.prototype.$x=function(S,G){return this.fJh.clone()};
function Yn(S,G,j,z){YS.call(this);this.name=S;this.fJL=j;this.wj=z;this.bn=E._("div","");this.bn.setAttribute("draggable","true");
this.Un=E._("div","pbody");this.$$=new Ys("",!1,"");this.$$.parent=this;this.fyv=E._("span","cross");
this.lO=E._("span","label");var O=this.fdU.bind(this);this.bn.addEventListener("mousedown",this.fdE.bind(this),!1);
this.bn.addEventListener("contextmenu",O,!1);this.$$.M.addEventListener("contextmenu",O,!1);this.fyv.addEventListener("mousedown",this.oU.bind(this),!1);
this.bn.appendChild(this.lO);if(G)this.bn.appendChild(this.fyv);this.zH=!1;this.qX=new Cq([{name:[1,12]}]);
this.qX.n("select",this.oU,this);this.lO.textContent=S}Yn.prototype=new YS;Yn.prototype.jS=function(){return new A(0,0)};
Yn.prototype.$=function(){var S=YP.get(this.name),G=this.YC==0?22:Math.round(2+this.YC/50),j=S.length>G;
this.lO.textContent=j?S.slice(0,G-2):S;if(j)for(var z=0;z<2;z++){var O=E._("span");O.textContent=S.charAt(G-2+z);
O.setAttribute("style","opacity:"+(.6-z*.4));this.lO.appendChild(O)}var i=S.split(" "),C=i.length==2?i[0].substring(0,2)+i[1][0]:S.substring(0,3);
if(C.charCodeAt(0)>=11776)C=C.substring(0,1);var M=this.fJL;if(M==null)this.$$.B$(C,S);else{if(M.indexOf("\"")==-1)this.$$.B$("<img src=\""+M+"\" alt=\""+S+"\" height=\"20\" />",S)}};
Yn.prototype.enable=function(){this.Un.setAttribute("class","pbody")};Yn.prototype.disable=function(){this.Un.setAttribute("class","pbody disabled")};
Yn.prototype.uQ=function(S,G){};Yn.prototype.SL=function(S,G,j){};Yn.prototype.yd=function(S,G){};Yn.prototype.Yp=function(S){this.name=S;
this.$()};Yn.prototype.fE=function(){};Yn.prototype.fdE=function(S){if(S.button==0)this.D(new L("select",!1))};
Yn.prototype.fdU=function(S){S.stopPropagation();S.preventDefault();if(this.wj!=null&&isNaN(this.wj))return;
var G=E.cV(S,document.body),j=this.qX;j.update(null);j.$();j.parent=this;var z=new L(E.E.e,!0);z.data={r:E.a.Jt,pZ:j,x:G.x+1,y:G.y+1};
this.D(z)};Yn.prototype.Tv=function(){this.oU({})};Yn.prototype.oU=function(S){if(S.stopPropagation)S.stopPropagation();
if(this.wj!=null&&!isNaN(this.wj)){var G=new L(E.E.e,!0);G.data={r:E.a.Xj,pZ:this.qX};this.D(G);G.data={r:E.a.zv,zC:o$.v$,g:parseFloat(this.wj),QD:"del"};
this.D(G)}else if(this.fPW())this.D(new L(E.E.lG,!1))};Yn.prototype.fPW=function(S){return!0};Yn.prototype.ti=function(S,G,j,z,O){};
Yn.prototype.Xt=function(S,G,j,z,O){};Yn.prototype.Va=function(S,G,j,z,O){};Yn.BK=function(S,G){if(S.childElementCount!=0)return;
var j=S.textContent;this.OV=this.fd$.bind(this);this.fgf=this.fdG.bind(this);this.BM=G;this.MD=S;this.fJF=j;
var z=E._("input","");z.setAttribute("type","text");z.setAttribute("size","10");z.setAttribute("value",j);
E.Vk(S);S.appendChild(z);z.select();z.focus();S.addEventListener("keyup",this.OV,!1);document.body.addEventListener("mousedown",this.fgf,!1)};
Yn.BK.prototype.fd$=function(S){var G=w.GD,j=G(S.code,w.A$);if(G(S.code,w.pW)||j)this.fan(j)};Yn.BK.prototype.fdG=function(S){var G=S.target;
if(G.tagName&&G.tagName.toLowerCase()=="input")return;this.fan(!0)};Yn.BK.prototype.fan=function(S){var G=this.MD;
G.removeEventListener("keyup",this.OV);document.body.removeEventListener("mousedown",this.fgf);if(S){var j=G.firstChild.value;
this.BM(j)}else{E.Vk(G);G.textContent=this.fJF}};Yn.qF={YU:"0",fcf:"1",HA:"2",fcC:"3",fcP:"4",jP:"5",CSS:"6",bk:"7",fcz:"8",fcm:"9",fcu:"10",fsr:"11",fcw:"12",n$:"13",ve:"14",fcH:"15",fce:"16",LS:"17"};
function fx(){Yn.call(this,[9,9],!1,null,Yn.qF.fsr);this.G$=null;this.HM=[0,0];this.FO=E._("div","padded scrollable");
this.FO.setAttribute("style","width:260px;  height:260px");this.Un.appendChild(this.FO);this.n(E.E.F,this.QY,this);
this.$e=E._("div","lpfoot");this.Un.appendChild(this.$e);this.XW=[];var S="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",G="</svg>",j=S+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+G,z=S+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+G;
this.fgx=S+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+G;this.flo=S+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+G;
var O=[this.fgx,z,"lrs/folder","lrs/newlayer","lrs/bin",j],i=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var C=0;C<O.length;C++){var M=O[C];if(1<C&&C!=O.length-1)M="<img src=\""+PIMG[O[C]]+"\" class=\"gsicon\" />";
var D=new Ys(M,!1,i[C]);D.n("click",this.fur,this);this.$e.appendChild(D.M);this.XW.push(D)}}fx.prototype=new Yn("");
fx.prototype.$=function(){Yn.prototype.$.call(this);for(var S=0;S<this.XW.length;S++)this.XW[S].$()};
fx.prototype.fur=function(S){var G=this.XW.indexOf(S.currentTarget),j=this.HM,z=this.G$,O=z.qZ;if(G==0){var i,C=z.Lq;
if(O.length==0){alert("Create an Action Set first.");return}if(j.length<2){alert("Select a target action first.");
return}if(C==null){i=this.flo;C=this.HM}else{i=this.fgx;C=null}this.XW[0].B$(i);z.Lq=C}else if(G==1)this.fVz();
else if(G==2||G==3){var M={mj:"Action Set "+O.length,G:[],exp:!0};if(G==2||O.length==0){j=[O.length];
O.push(M)}if(G==3){var D=O[j[0]].G;j=[j[0],D.length];D.push({mj:"Action "+D.length,color:0,G:[],fKd:!1,shift:!1,exp:!0,Qf:D.length})}this.HM=j;
this.iC()}else if(G==4){var X;if(j.length==1)X=O;else if(j.length==2)X=O[j[0]].G;else X=O[j[0]].G[j[1]].G;
var l=j.length-1;X.splice(j[l],1);if(X.length==0)j.pop();else while(j[l]>=X.length)j[l]--;if(j.length==0)j.push(0);
this.iC()}else if(G==5){if(O.length==0){alert("No Actions Present.");return}var f=new L(E.E.e,!0);f.data={r:E.a.sR,faY:o$.R,tP:j[0]};
this.D(f)}};fx.prototype.QY=function(S){var G=this.G$.qZ,j=S.data.r,z=S.data.Kd;if(j=="sel")this.HM=z;
if(j=="fold"){if(z.length==1)G[z[0]].exp=!G[z[0]].exp;else G[z[0]].G[z[1]].exp=!G[z[0]].G[z[1]].exp}if(j=="enab"){var O=G[z[0]].G[z[1]].G[z[2]];
O.b=!O.b}if(j=="nchange"){if(z.length==1)G[z[0]].mj=S.data.kd;else G[z[0]].G[z[1]].mj=S.data.kd}this.iC()};
fx.prototype.uQ=function(S,G){this.G$=S;if(G==o$.R||G==o$.$o)this.iC()};fx.prototype.iC=function(){if(this.G$==null)return;
E.Vk(this.FO);var S=this.G$.qZ;if(S.length==0)return;var G=JSON.stringify(this.HM);for(var j=0;j<S.length;
j++){var z=S[j],O=new fx.ZJ([j],G,z.exp,z.mj.split("=").pop());O.parent=this;this.FO.appendChild(O.M);
if(!z.exp)continue;for(var i=0;i<z.G.length;i++){var C=z.G[i],O=new fx.ZJ([j,i],G,C.exp,C.mj.split("=").pop());
O.parent=this;this.FO.appendChild(O.M);if(!C.exp)continue;for(var M=0;M<C.G.length;M++){var D=C.G[M],O=new fx.ZJ([j,i,M],G,null,YP.get(fZ.fVX(D)),D.b);
O.parent=this;this.FO.appendChild(O.M)}}}};fx.prototype.fVz=function(){var S=this.G$.qZ,G=this.HM;if(S.length==0){alert("No Actions Present");
return}if(G.length==1){alert("Select an Action first");return}if(this.G$.Lq!=null){alert("You can not apply actions while recording actions");
return}if(G.length==1)G.push(0);var j=new L(E.E.Hz,!0),z=S[G[0]].G[G[1]].G;for(var O=0;O<z.length;O++){var i=z[O];
if(!i.b)continue;j.data={mB:i.mB,MZ:i.MZ};this.D(j)}};fx.ZJ=function(S,G,j,z,O){YS.call(this);this.Kd=S;
var i=this.Kd.length-1;this.M=E._("div","layeritem"+(JSON.stringify(S)==G?" selected":""));this.wO=E._("div","head");
this.M.appendChild(this.wO);this.wO.setAttribute("style","height:24px");this.HC=E._("div","headL");this.wO.appendChild(this.HC);
if(i!=0){var C=E._("div");C.style.width=i*20+"px";this.HC.appendChild(C)}if(j!=null){var M=this.flY=E._("div",j?"open":"closed");
this.HC.appendChild(M)}else{var D=this.flC=E._("div","cmark");D.setAttribute("style","background-size:12px 12px; opacity:"+(O?1:.3));
this.HC.appendChild(D)}if(i==0){var X=E._("div","folder");this.HC.appendChild(X)}var l=this.lO=E._("div","label");
l.textContent=z;this.HC.appendChild(l);this.M.addEventListener("mouseup",this.Yf.bind(this),!1)};fx.ZJ.prototype=new YS;
fx.ZJ.prototype.Yf=function(S){if(S.detail==1&&S.target.tagName.toLowerCase()!="input"){var G="sel";
if(S.target==this.flY)G="fold";if(S.target==this.flC)G="enab";var j=new L(E.E.F,!0);j.data={r:G,Kd:this.Kd};
this.D(j)}else if(this.Kd.length<3)var z=new Yn.BK(this.lO,this.BM.bind(this))};fx.ZJ.prototype.BM=function(S){var G=new L(E.E.F,!0);
G.data={r:"nchange",kd:S,Kd:this.Kd};this.D(G)};function Yk(){Yn.call(this,[9,3],!1,null,Yn.qF.bk);this.hY=null;
this.vJ=null;this.G$=null}Yk.prototype=new Yn("");Yk.prototype.BQ=function(){var S=E._("div","");this.Un.appendChild(S);
this.Qo=E._("div","bordered cell");this.Qo.setAttribute("style","width:10em; height:28.5em;");S.appendChild(this.Qo);
this.EP=[];this.qS=null;this.eZ=[];var G=this.fVk.bind(this);this.hB=[new Yk.Jp,new Yk.Qu,new Yk.BP,new Yk.Nb];
for(var j=0;j<this.hB.length;j++){var z=E._("div","listitem"),O=this.hB[j].AX,i=null;if(j==0){this.qS=new C$(O);
z.appendChild(this.qS.M)}else{i=new YI(O,!1);i.n(E.E.F,this.fVZ,this);z.appendChild(i.M)}this.eZ.push(i);
this.Qo.appendChild(z);this.EP.push(z);z.addEventListener("click",G,!1)}this.JP=E._("div","cell padded");
S.appendChild(this.JP);for(var j=0;j<this.hB.length;j++)this.hB[j].n("brushchange",this.fVQ,this);this.setItem(0);
this.vd=E._("canvas","");this.vd.width=Math.floor(380*E.V());this.vd.height=Math.floor(80*E.V());E.bV(this.vd,this.vd.width,this.vd.height);
S.appendChild(this.vd);this.Vj=this.vd.getContext("2d");this.Ms()};Yk.prototype.fE=function(){if(this.Qo){this.Ms();
return}this.BQ();this.$();this.uQ(this.G$,o$.$o)};Yk.prototype.$=function(){Yn.prototype.$.call(this);
if(this.Qo==null)return;this.qS.$();for(var S=1;S<this.eZ.length;S++)this.eZ[S].$();for(var S=0;S<this.hB.length;
S++)this.hB[S].$()};Yk.prototype.fVQ=function(S){var G=this.hB.indexOf(S.currentTarget),j=JSON.parse(JSON.stringify(this.hB[G].vJ)),z=new L(E.E.e,!0);
z.data={r:E.a.zv,zC:o$.Ae,vJ:j};this.D(z)};Yk.prototype.fVZ=function(S){this.ffw(this.eZ.indexOf(S.currentTarget),S.currentTarget.Ev())};
Yk.prototype.fVk=function(S){var G=this.EP.indexOf(S.currentTarget);if(S.target.tagName.toLowerCase()=="input")return;
if(this.eZ[G]&&!this.eZ[G].Ev()){this.eZ[G].hU();this.ffw(G,!0)}this.setItem(G)};Yk.prototype.ffw=function(S,G){this.hB[S].jp(G)};
Yk.prototype.setItem=function(S){for(var G=0;G<this.hB.length;G++)this.EP[G].setAttribute("class","listitem");
if(this.JP.firstChild)this.JP.removeChild(this.JP.firstChild);this.EP[S].setAttribute("class","listitem selected");
this.JP.appendChild(this.hB[S].M)};Yk.prototype.uQ=function(S,G){this.G$=S;if(this.Qo==null)return;if(G==o$.bk||G==o$.$o){this.hY=S.fO;
for(var j=0;j<this.hB.length;j++)this.hB[j].dC(this.hY)}if(G==o$.Ae||G==o$.$o){this.vJ=S.fO.Em;this.Ms()}if(G==o$.n$)this.Ms()};
Yk.prototype.Ms=function(){if(this.vJ)this.enable();else{this.disable();return}if(!E.Qb(this.Un))return;
var S=this.G$;for(var G=0;G<this.hB.length;G++){this.hB[G].P(this.vJ);if(this.eZ[G])this.eZ[G].P(this.hB[G].Ev())}var j=JSON.parse(JSON.stringify(this.vJ));
j.Brsh.v.Dmtr.v.val=Math.min(j.Brsh.v.Dmtr.v.val,50);var z=new Q(0,0,this.vd.width,this.vd.height),O=new fs(j,this.hY?this.hY.qH:null,this.hY?this.hY.ki:null,{Ar:1},S.Cj,S.iw,z),i=40*E.V(),C=300*E.V();
O.moveTo(i,i);for(var G=0;G<=C;G+=10)O.lineTo(i+G,i+20*Math.sin(2*Math.PI*G/C));O.finish();var M=this.Vj.createImageData(z.o,z.i);
x.yF(O.sZ(),O.to(),M.data,z);this.Vj.putImageData(M,0,0)};Yk.kE=function(S){YS.call(this);this.AX=S;
this.M=E._("div","");this.vJ=null};Yk.kE.prototype=new YS;Yk.kE.prototype.dC=function(S){};Yk.kE.prototype.P=function(S){this.vJ=JSON.parse(JSON.stringify(S));
this.M.setAttribute("class",this.Ev()?"":"disabled");this.Ms()};Yk.kE.prototype.jp=function(S){};Yk.kE.prototype.Ev=function(){return!1};
Yk.kE.prototype.$=function(){};Yk.kE.prototype.Ms=function(){};Yk.kE.prototype.wN=function(){this.D(new L("brushchange"))};
Yk.Jp=function(){Yk.kE.call(this,[15,0]);this.hY=null;this.fgb=null;this.Tb=new PT(!0);this.M.appendChild(this.Tb.M);
this.Tb.n(E.E.F,this.fVB,this);this.Tb.M.style.height="10.7em";this.Zp=new fM([12,14,0],1,1e3," px",0,!0);
this.Zp.n(E.E.F,this.fVx,this);this.Zz=new fM([12,15],0,359," \xB0");this.Zz.n(E.E.F,this.fVe,this);
this.ZK=new fM([12,16],0,100," %");this.ZK.n(E.E.F,this.fV_,this);this.ZZ=new fM([12,17],0,100," %");
this.ZZ.n(E.E.F,this.fVr,this);this.Zw=new fM([12,18],1,300," %");this.Zw.n(E.E.F,this.fVL,this);this.EP=[this.Zp,this.Zz,this.ZK,this.ZZ,this.Zw]};
Yk.Jp.prototype=new Yk.kE;Yk.Jp.prototype.$=function(){this.Zp.$();this.Zz.$();this.ZK.$();this.ZZ.$();
this.Zw.$()};Yk.Jp.prototype.Ev=function(){return!0};Yk.Jp.prototype.dC=function(S){this.hY=S;var G=[],j=Math.floor(30*E.V()),z=Math.floor(40*E.V());
for(var O=0;O<S.list.length;O++){var i=S.list[O].v,C=fs.QE(i,S.qH,S.ki,j,z);G.push(C)}this.Tb.uq(G,null,j,z)};
Yk.Jp.prototype.Ms=function(){var S=this.vJ.Brsh.v,G=S.classID!=this.fgb;this.fgb=S.classID;if(G)for(var j=0;
j<this.EP.length;j++)if(this.M.contains(this.EP[j].M))this.M.removeChild(this.EP[j].M);this.Zp.P(S.Dmtr.v.val);
if(G)this.M.appendChild(this.Zp.M);this.Zz.P(S.Angl.v.val);if(G)this.M.appendChild(this.Zz.M);if(S.classID=="computedBrush"||S.classID=="sampledBrush"){this.ZK.P(S.Rndn.v.val);
if(G)this.M.appendChild(this.ZK.M)}if(S.classID=="computedBrush"){this.ZZ.P(S.Hrdn.v.val);if(G)this.M.appendChild(this.ZZ.M)}this.Zw.P(S.Spcn.v.val);
if(G)this.M.appendChild(this.Zw.M)};Yk.Jp.prototype.fVB=function(S){this.vJ=this.hY.list[this.Tb.j()].v;
this.wN()};Yk.Jp.prototype.fVx=function(S){this.vJ.Brsh.v.Dmtr.v.val=S.target.j();this.wN()};Yk.Jp.prototype.fVe=function(S){this.vJ.Brsh.v.Angl.v.val=S.target.j();
this.wN()};Yk.Jp.prototype.fV_=function(S){this.vJ.Brsh.v.Rndn.v.val=S.target.j();this.wN()};Yk.Jp.prototype.fVr=function(S){this.vJ.Brsh.v.Hrdn.v.val=S.target.j();
this.wN()};Yk.Jp.prototype.fVL=function(S){this.vJ.Brsh.v.Spcn.v.val=S.target.j();this.wN()};Yk.Qu=function(){Yk.kE.call(this,[15,1]);
this.Lh=new fM([15,4,0],0,100," %");this.Lh.n(E.E.F,this.fnX,this);this.M.appendChild(this.Lh.M);this.L_=new fM([15,4,1],0,100," %");
this.L_.n(E.E.F,this.fnM,this);this.M.appendChild(this.L_.M);this.Lr=new fM([15,4,2],0,100," %");this.Lr.n(E.E.F,this.fnu,this);
this.M.appendChild(this.Lr.M);this.LG=new fM([15,4,3],0,100," %");this.LG.n(E.E.F,this.fny,this);this.M.appendChild(this.LG.M);
this.Fg=new fM([15,4,4],0,100," %");this.Fg.n(E.E.F,this.fnq,this);this.M.appendChild(this.Fg.M)};Yk.Qu.prototype=new Yk.kE;
Yk.Qu.prototype.$=function(){this.Lh.$();this.L_.$();this.Lr.$();this.LG.$();this.Fg.$()};Yk.Qu.prototype.Ev=function(){return this.vJ.useTipDynamics.v};
Yk.Qu.prototype.jp=function(S){this.vJ.useTipDynamics.v=S;oH.wr.Wj(this.vJ);this.wN()};Yk.Qu.prototype.Ms=function(){var S=this.vJ;
if(S.useTipDynamics.v==!1)return;this.Lh.P(S.szVr.v.jitter.v.val);this.L_.P(S.minimumDiameter.v.val);
this.Lr.P(S.angleDynamics.v.jitter.v.val);this.LG.P(S.roundnessDynamics.v.jitter.v.val);this.Fg.P(S.minimumRoundness.v.val)};
Yk.Qu.prototype.fnX=function(S){this.vJ.szVr.v.jitter.v.val=S.target.j();this.wN()};Yk.Qu.prototype.fnM=function(S){this.vJ.minimumDiameter.v.val=S.target.j();
this.wN()};Yk.Qu.prototype.fnu=function(S){this.vJ.angleDynamics.v.jitter.v.val=S.target.j();this.wN()};
Yk.Qu.prototype.fny=function(S){this.vJ.roundnessDynamics.v.jitter.v.val=S.target.j();this.wN()};Yk.Qu.prototype.fnq=function(S){this.vJ.minimumRoundness.v.val=S.target.j();
this.wN()};Yk.BP=function(){Yk.kE.call(this,[15,2]);this.FX=new fM([15,5,0],0,1e3," %");this.FX.n(E.E.F,this.fAg,this);
this.M.appendChild(this.FX.M);this.Fo=new fM([15,5,1],1,20);this.Fo.n(E.E.F,this.fAM,this);this.M.appendChild(this.Fo.M);
this.FC=new fM([15,5,2],0,100," %");this.FC.n(E.E.F,this.fAo,this);this.M.appendChild(this.FC.M)};Yk.BP.prototype=new Yk.kE;
Yk.BP.prototype.$=function(){this.FX.$();this.Fo.$();this.FC.$()};Yk.BP.prototype.Ev=function(){return this.vJ.useScatter.v};
Yk.BP.prototype.jp=function(S){this.vJ.useScatter.v=S;oH.wr.Wj(this.vJ);this.wN()};Yk.BP.prototype.Ms=function(){var S=this.vJ;
if(S.useScatter.v==!1)return;this.FX.P(S.scatterDynamics.v.jitter.v.val);this.Fo.P(S.Cnt.v);this.FC.P(S.countDynamics.v.jitter.v.val)};
Yk.BP.prototype.fAg=function(S){this.vJ.scatterDynamics.v.jitter.v.val=S.target.j();this.wN()};Yk.BP.prototype.fAM=function(S){this.vJ.Cnt.v=S.target.j();
this.wN()};Yk.BP.prototype.fAo=function(S){this.vJ.countDynamics.v.jitter.v.val=S.target.j();this.wN()};
Yk.Nb=function(){Yk.kE.call(this,[15,3]);this.Fp=new fM([15,6,0],0,100," %");this.Fp.n(E.E.F,this.fAQ,this);
this.M.appendChild(this.Fp.M);this.aq=new fM([15,6,1],0,100," %");this.aq.n(E.E.F,this.fAA,this);this.M.appendChild(this.aq.M);
this.Fz=new fM([15,6,2],0,100," %");this.Fz.n(E.E.F,this.fAi,this);this.M.appendChild(this.Fz.M);this.Fm=new fM([15,6,3],0,100," %");
this.Fm.n(E.E.F,this.fAb,this);this.M.appendChild(this.Fm.M)};Yk.Nb.prototype=new Yk.kE;Yk.Nb.prototype.$=function(){this.Fp.$();
this.aq.$();this.Fz.$();this.Fm.$()};Yk.Nb.prototype.Ev=function(){return this.vJ.useColorDynamics.v};
Yk.Nb.prototype.jp=function(S){this.vJ.useColorDynamics.v=S;oH.wr.Wj(this.vJ);this.wN()};Yk.Nb.prototype.Ms=function(){var S=this.vJ;
if(S.useColorDynamics.v==!1)return;this.Fp.P(S.clVr.v.jitter.v.val);this.aq.P(S.H.v.val);this.Fz.P(S.Strt.v.val);
this.Fm.P(S.Brgh.v.val)};Yk.Nb.prototype.fAQ=function(S){this.vJ.clVr.v.jitter.v.val=S.target.j();this.wN()};
Yk.Nb.prototype.fAA=function(S){this.vJ.H.v.val=S.target.j();this.wN()};Yk.Nb.prototype.fAi=function(S){this.vJ.Strt.v.val=S.target.j();
this.wN()};Yk.Nb.prototype.fAb=function(S){this.vJ.Brgh.v.val=S.target.j();this.wN()};function X$(){Yn.call(this,[9,0],!1,null,Yn.qF.YU);
this.Un.setAttribute("style","min-width:200px;");this.ED=E._("div","hpbody scrollable");this.ED.style.height="160px";
this.Un.appendChild(this.ED);this.flv=-1;this.qv=[]}X$.prototype=new Yn("");X$.prototype.SL=function(S){E.Vk(this.ED);
if(S==null)return;var G=0;for(var j=0;j<S.history.length;j++)if(j<=S.dN&&!S.history[j].IV)G=j;for(var j=0;
j<S.history.length;j++){var z=S.history[j];if(z.IV)continue;var O=new X_(z,j,G);O.parent=this;this.ED.appendChild(O.M);
this.qv.push(O)}if(S.dN==S.history.length-1)this.fE()};X$.prototype.fE=function(){this.ED.scrollTop=this.ED.scrollHeight};
X$.prototype.$=function(){Yn.prototype.$.call(this);for(var S=0;S<this.qv.length;S++)this.qv[S].$()};
function X_(S,G,j){YS.call(this);this.index=G;this.M=E._("div",G==j?"listitem selected":"listitem");
this.SI=S.name;this.$();if(G>j)this.M.style.opacity=.4;this.M.addEventListener("click",this.ti.bind(this),!1)}X_.prototype=new YS;
X_.prototype.$=function(){this.M.textContent=YP.get(this.SI)};X_.prototype.ti=function(S){if(this.index==this.parent.flv)return;
this.pl({r:"h_itemchange",index:this.index})};X_.prototype.pl=function(S){var G=new L(E.E.R,!0);G.data=S;
G.s=t.YU;this.D(G)};function Xw(){Yn.call(this,[9,10],!1,null,Yn.qF.fcP);var S=E._("div","padded");this.Un.appendChild(S);
this.dc=new XX(256);S.appendChild(this.dc.M);this.flc=[];this.ez=[];var G=["Mean:","Pixels:"];for(var j=0;
j<G.length;j++){var z=new C$(G[j]);this.flc.push(z);S.appendChild(z.M);var O=new C$("hi");this.ez.push(O);
S.appendChild(O.M);E.yn(S)}this.KB=null}Xw.prototype=new Yn("");Xw.prototype.SL=function(S){this.KB=S;
this.iC()};Xw.prototype.iC=function(){var S=this.KB,X=0;if(!E.Qb(this.Un))return;if(S==null||S.N.length==0){this.dc.P(x.Mu(x.S(4)));
this.ez[0].P("");this.ez[1].P("");return}var G=S.yA(),j=new Q(0,0,S.o,S.i),z=j.h();if(S.f){var O=S.f.rect,i=x.S(O.h()*4);
x.yF(G,j,i,O);x.bA(S.f.channel,i);G=i;j=O;var C=S.f.channel;z=0;for(var M=0;M<C.length;M++)z+=C[M];z=Math.round(z/255)}var D=x.Mu(G);
this.dc.P(D);for(var M=0;M<256;M++)X+=M*(.333*D[1][M]+.333*D[2][M]+.333*D[3][M]);this.ez[0].P((X/z).toFixed(1)+"");
this.ez[1].P(z+"")};Xw.prototype.uQ=function(S,G){this.dc.dq(XS.Se[S.EO]["--text-color"])};Xw.prototype.$=function(){Yn.prototype.$.call(this);
this.dc.$()};Xw.prototype.fE=function(){this.iC()};function Mp(){Yn.call(this,[9,8],!1,null,Yn.qF.fcf);
this.FO=E._("div","padded");this.Un.appendChild(this.FO);this.Hf=new Sw(10);this.FO.appendChild(this.Hf.M);
this.FO.appendChild(E._("hr"));this.Hp=new oc;this.Hp.parent=this;this.FO.appendChild(this.Hp.Ju);this.Hf.n(E.E.F,this.fMA,this);
this.Hp.n(E.E.F,this.fMA,this)}Mp.prototype=new Yn("");Mp.prototype.fMA=function(S){var G;if(S.target==this.Hf)G=this.Hf.j();
else{var j=this.Hp.j();G=Math.round(j.H)<<16|Math.round(j.X)<<8|Math.round(j.C)}var z=new L(E.E.e,!0);
z.data={r:E.a.zv,zC:o$.n$,zS:0,g:G};this.D(z)};Mp.prototype.uQ=function(S,G){var j=S.Cj,z=G==o$.$o;if(G==o$.n$||z){this.Hf.P(j);
this.Hp.P({H:j>>>16&255,X:j>>>8&255,C:j>>>0&255,iS:"Color #"+x.zt(j)})}if(G==o$.vx||z){var O=S.ffS;this.Hp.dC(O)}};
function SM(){Yn.call(this,[12,72],!1,null,Yn.qF.fce);this.FQ=null;this.Ou=null;this.ED=E._("div","lpbody scrollable");
this.$e=E._("div","lpfoot");this.Un.appendChild(this.ED);this.Un.appendChild(this.$e);this.qa=[];this.n("click",this.TK,this);
this._Q=[];this.YS()}SM.prototype=new Yn("");SM.prototype.YS=function(){var S=["Save Selection as Channel",[5,3],[5,4]];
for(var G=0;G<S.length;G++){var j=new Ys("W",!1,S[G]);this._Q.push(j);E.qG(j.M,this.Tz.bind(this));this.$e.appendChild(j.M)}};
SM.prototype.Tz=function(S){var G=0;for(var j=0;j<this._Q.length;j++)if(this._Q[j].M==S.currentTarget){G=j;
break}var z=new L(E.E.Hz,!0),O={classID:"null"};if(G==0)O.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(G==1)O.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else O.null=fZ.cX("Chnl",!0);z.data={mB:["duplicate","make","delete"][G],MZ:O};this.D(z)};SM.prototype.hH=function(S){var G=this.qa,j=G[S];
if(j==null){var z=E._("canvas");j=z.getContext("2d");G.push(j)}return j};SM.prototype.TK=function(S){var G=this.FQ.slice(0),j=S.data.Qf,z=G[0]+G[1]+G[2],O=this.Ou;
if(-5<j&&j<0){var i=-j-1;if(S.data.qp){if(i==0)G=z==3?[0,0,0]:[1,1,1];else{if(G[i-1]==0)G[i-1]=1;else if(!0)G[i-1]=0}}else{if(i==0)G=[1,1,1];
else{G=[0,0,0];G[i-1]=1}O.wE=[]}var C=new L(E.E.R,!0);C.s=t.Pf;C.data={r:"setcls",qk:G};this.D(C);return}if(-1<j){var M=O.d[j],D=M.hz==1?M.Ew():M.td(O).q;
if(S.data.qp)D.tO=!D.tO;else{for(var X=0;X<O.Ft.length;X++)O.Ft[X].tO=!1;O.wE=[]}}else{var l=-j-5,D=O.Ft[l];
if(S.data.qp)D.tO=!D.tO;else{for(var X=0;X<O.Ft.length;X++)O.Ft[X].tO=!1;D.tO=!0;O.wE=[l]}}O.yK=O.PJ=!0};
SM.prototype.fE=function(){this.iM()};SM.prototype.SL=function(S){this.Ou=S;this.iM()};SM.prototype.iM=function(){var S=this.Ou,G=this.ED,M=34,D=34,_=4;
E.Vk(G);if(S==null||!E.Qb(G))return;var j=S.o,z=S.i,O=new Q(0,0,j,z),i=this.FQ=S.Q.qk.slice(0),C=i[0]+i[1]+i[2];
if(j>z)D=Math.round(D*z/j);else M=Math.round(M*j/z);var X=["RGB"].concat(Yd.zi);for(var l=0;l<4;l++){var f=this.hH(l);
x.w$.Eg(f,M,D,O,S.yA(),O,!1,l==0?null:l-1);var F=l==0?C==3:i[l-1]==1,$=new Xn(-1-l,!0,!0,f,X[l],F,F);
$.parent=this;G.appendChild($.M)}for(var l=0;l<S.N.length;l++){var P=S.d[S.N[l]],k=P.hz;if(k!=1&&k!=3)continue;
var H=k==1?P.Ew():P.td(S).q,f=this.hH(_+l);_++;x.w$.hG(f,M,D,O,H);var $=new Xn(S.N[l],!0,!0,f,P.getName()+(k==1?"":" Filter")+" Mask",!0,H.tO);
$.parent=this;G.appendChild($.M)}for(var l=0;l<S.Ft.length;l++){var H=S.Ft[l],f=this.hH(_+l);x.w$.hG(f,M,D,O,H);
var $=new Xn(-5-l,!0,H.name=="Quick Mask",f,H.name,S.wE.indexOf(l)!=-1,H.tO,t.HA,{r:g.yj,zS:"rnm",Qf:l});
$.parent=this;G.appendChild($.M)}};SM.prototype.yd=function(S,G){this.ED.style.height=G-9-25+"px"};SM.prototype.$=function(){Yn.prototype.$.call(this);
this.iM();var S=["lrs/mask","lrs/newlayer","lrs/bin"];for(var G=0;G<this._Q.length;G++){var j=this._Q[G];
j.B$(E.mu(S[G]))}};function Xn(S,G,j,z,O,i,C,M,D){YS.call(this);this.M=E._("div","layeritem");this.flJ=S;
this.fly=G;this.flH=j;this.um=z;this.flR=M;this.fli=D;this.wO=E._("div",i?"head selected":"head");this.wO.setAttribute("style","height: "+40+"px");
var X=E._("div","headL"),l=E._("div","headR"),f=15;this.M.appendChild(this.wO);this.wO.appendChild(X);
this.wO.appendChild(l);this.wF=E._("div","eye");if(1<E.V()&&E.V()<1.5)f=f/E.V();this.wF.setAttribute("style","background-size: "+f+"px "+f+"px;");
this.wF.style.opacity=C?1:.2;if(G)X.appendChild(this.wF);this.tJ=E._("div","thumb");this.tJ.appendChild(z.canvas);
X.appendChild(this.tJ);this._K=E._("div","label");if(j)this._K.style.fontStyle="italic";this._K.textContent=YP.get(O);
X.appendChild(this._K);this.wO.addEventListener("click",this.fAe.bind(this),!1)}Xn.prototype=new YS;
Xn.prototype.BM=function(S){var G=new L(E.E.R,!0);G.s=this.flR;G.data=this.fli;G.data.name=S;this.D(G)};
Xn.prototype.fAe=function(S){var G=S.ctrlKey||S.metaKey,j=this.flJ;if(!this.flH&&S.detail==2&&S.target==this._K){var z=new Yn.BK(this._K,this.BM.bind(this))}else if(G&&S.target==this.um.canvas){var O=0;
if(S.shiftKey)O++;if(S.altKey)O+=2;var i=new L(E.E.R,!0);i.s=t.SN;if(this.fly)i.data={r:"fromchannel",qh:[j,0,O]};
else i.data={r:"fromlayer",qh:[j,2,O]};this.D(i)}else{var C=new L("click",!0);C.data={Qf:j,qp:S.target==this.wF,flj:G};
this.D(C)}};function SC(){Yn.call(this,[8,9],!1,null,Yn.qF.LS);this.FQ=null;this.Ou=null;this._Q=[];
this.ED=E._("div","lpbody scrollable");this.$e=E._("div","lpfoot");this.Un.appendChild(this.ED);this.Un.appendChild(this.$e);
this.Un.addEventListener("click",this.fAF.bind(this),!1);this.qa=[];this.n("click",this.TK,this);this.YS()}SC.prototype=new Yn("");
SC.prototype.YS=function(){var S=[[5,3],[5,4]];for(var G=0;G<S.length;G++){var j=new Ys("W",!1,S[G]);
this._Q.push(j);E.qG(j.M,this.Tz.bind(this));this.$e.appendChild(j.M)}};SC.prototype.Tz=function(S){var G=0;
for(var j=0;j<this._Q.length;j++)if(this._Q[j].M==S.currentTarget){G=j;break}var z=new L(E.E.R,!0);z.s=t.Ml;
z.data={r:"pathedit",zS:["new","del"][G]};this.D(z)};SC.prototype.hH=function(S){var G=this.qa,j=G[S];
if(j==null){var z=E._("canvas");j=z.getContext("2d");G.push(j)}return j};SC.prototype.fAF=function(S){if(S.target==this.ED){var G=this.Ou;
G.ML=[];G.IN=[];G.PJ=!0;G.yK=!0}};SC.prototype.TK=function(S){var G=S.data.Qf,j=this.Ou,z=S.data.flj,O=0,i,C;
if(G<0){O=-1-G;i=j.ML;C=j.IN}else{var M=j.ya()[0];for(var D=0;D<M.length;D++){var X=M[D].Qf;if(X==G)break;
if(X>=0)O++}i=j.IN;C=j.ML}if(z){var l=i.indexOf(O);if(l==-1)i.push(O);else i.splice(l,1)}else{while(i.length!=0)i.pop();
while(C.length!=0)C.pop();i.push(O)}j.PJ=!0;j.yK=!0};SC.prototype.fE=function(){this.iM()};SC.prototype.SL=function(S){this.Ou=S;
this.iM()};SC.prototype.iM=function(){var S=this.Ou,G=this.ED,M=34,D=34;E.Vk(G);if(S==null||!E.Qb(G))return;
var j=S.o,z=S.i,O=new Q(0,0,j,z),i=this.FQ=S.Q.qk.slice(0),C=i[0]+i[1]+i[2];if(j>z)D=Math.round(D*z/j);
else M=Math.round(M*j/z);var X=S.ya(),l=X[0];for(var f=0;f<l.length;f++){var F=l[f],$=this.hH(f);x.w$.fCH($,M,D,O,F.add.vmsk);
var _=new Xn(F.Qf,!1,F.Qf>=-1,$,F.name,X[1].indexOf(f)!=-1,!1,t.Ml,{r:"pathedit",zS:"rnm",Qf:F.Qf});
_.parent=this;G.appendChild(_.M)}};SC.prototype.yd=function(S,G){this.ED.style.height=G-9-25+"px"};SC.prototype.$=function(){Yn.prototype.$.call(this);
this.iM();var S=["lrs/newlayer","lrs/bin"];for(var G=0;G<this._Q.length;G++){var j=this._Q[G];j.B$(E.mu(S[G]))}};
function Xj(S){Yn.call(this,[9,S?4:5],!1,null,S?Yn.qF.fcm:Yn.qF.fcu);this.Un.setAttribute("style","min-width:240px;");
this.flU=S;this.$S=null;this.G$=null}Xj.prototype=new Yn("");Xj.prototype.BQ=function(){this.$S=new Xy;
var S=this.$S,G=this.Un;S.parent=this;if(this.flU){var j=E._("div","marged");G.appendChild(j);j.appendChild(S.hV.M);
G.appendChild(E._("hr"));var z=E._("div","marged");G.appendChild(z);z.appendChild(S.Ex.M);z.appendChild(S.UM.M);
var O=E._("div","marged");G.appendChild(O);O.appendChild(S.xD.M);G.appendChild(E._("hr"));var i=E._("div","marged");
G.appendChild(i);i.appendChild(S.Jh.M);i.appendChild(S.lp.M);var C=E._("div","marged");G.appendChild(C);
C.appendChild(S.ls.M);C.appendChild(S.xq.M);G.appendChild(E._("hr"));var M=E._("div","marged");G.appendChild(M);
M.appendChild(S.$s.M);M.appendChild(S.$m.M);M.appendChild(S.$Q.M);M.appendChild(S.$n.M);M.appendChild(S.$j.M);
M.appendChild(S.$y.M);M.appendChild(S.$E.M);M.appendChild(S.$L.M)}else{var j=E._("div","marged");G.appendChild(j);
j.appendChild(S.iE.M);j.appendChild(S.iG.M);j.appendChild(S.ib.M);j.appendChild(S.fuZ.M);j.appendChild(S.fcd.M);
j.appendChild(S.fda.M);j.appendChild(S.fcE.M);G.appendChild(E._("hr"));var z=E._("div","marged");G.appendChild(z);
z.appendChild(S.WI.M);z.appendChild(S.WH.M);z.appendChild(S.WB.M);G.appendChild(E._("hr"));var O=E._("div","marged");
G.appendChild(O);O.appendChild(S.WO.M);O.appendChild(S.WE.M);O.appendChild(S.ld.M)}};Xj.prototype.fE=function(){if(!E.Qb(this.Un))return;
if(this.$S==null){this.BQ();if(this.G$)this.$S.mz(this.G$);this.$S.$()}};Xj.prototype.$=function(){Yn.prototype.$.call(this);
if(this.$S)this.$S.$()};Xj.prototype.uQ=function(S,G){this.G$=S;if(G!=o$.$o&&G!=o$.aw&&G!=o$.lQ&&G!=o$.rq)return;
if(this.$S)this.$S.mz(S)};function Xh(){Yn.call(this,[13,0],!1,null,Yn.qF.n$);this.qs=0;this.foX=0;this.G$=null;
var S=E._("div","flexrow padded");this.Un.appendChild(S);var G=E._("div");S.appendChild(G);this.qT=[];
for(var j=0;j<2;j++){var z=new fQ;this.qT.push(z);z.n("click",this.fAt,this);G.appendChild(z.M)}this.lF=new CH(192);
this.lF.n(E.E.F,this.QA,this);S.appendChild(this.lF.M)}Xh.prototype=new Yn("");Xh.prototype.fAt=function(S){this.qs=this.qT.indexOf(S.currentTarget);
this.iC()};Xh.prototype.QA=function(S){var G=this.lF.j();this.lF.P(G);var j=Math.round(G.H*255)<<16|Math.round(G.X*255)<<8|Math.round(G.C*255),z=new L(E.E.e,!0);
z.data={r:E.a.zv,zC:o$.n$,zS:this.qs,g:j};this.D(z);this.foX=Date.now()};Xh.prototype.iC=function(){var S=this.G$,G=this.qs,j=[S.Cj,S.iw];
for(var z=0;z<2;z++){var O=this.qT[z],i=O.M.style;O.dq(j[z]);if(z==G)delete i.borderColor;else i.borderColor="var(--bg-color)"}var C=j[G];
if(Date.now()-this.foX>100)this.lF.P({H:(C>>>16)/255,X:(C>>>8&255)/255,C:(C&255)/255})};Xh.prototype.uQ=function(S,G){this.G$=S;
if(G==o$.$o||G==o$.n$)this.iC()};Xh.prototype.fE=function(){this.iC()};function PC(){Yn.call(this,"CSS",!1,null,Yn.qF.CSS);
this.KB=null;var S=E._("div","padded");this.Un.appendChild(S);this.bM=E._("textarea");this.bM.setAttribute("rows",16);
this.bM.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
S.appendChild(this.bM)}PC.prototype=new Yn("");PC.prototype.SL=function(S){this.KB=S;this.iC()};PC.prototype.uQ=function(S,G){if(G==o$.lQ)this.iC()};
PC.prototype.iC=function(){var S=this.KB;if(S==null||S.N.length==0)return;if(!E.Qb(this.Un))return;var G=S.d[S.N[0]],j=CSS.fCW(G);
if(j.length!=0)this.bM.value=j.join(";\n")+";";else this.bM.value=""};PC.prototype.fE=function(){this.iC()};
function fW(){Yn.call(this,[9,6],!1,null,Yn.qF.fcC);this.Un.setAttribute("style","min-width:240px;");
this.KB=null;this.G$=null;var S=E._("div","marged row");this.Un.appendChild(S);var G=E._("div","cell");
G.setAttribute("style","width:10em");S.appendChild(G);var j=E._("div","cell");j.setAttribute("style","width:10em");
S.appendChild(j);this.flx=new C$("R:");this.flN=new C$("G:");this.flr=new C$("B:");this.Un.appendChild(E._("hr",""));
var z=E._("div","marged row");this.Un.appendChild(z);var G=E._("div","cell");G.setAttribute("style","width:10em");
var j=E._("div","cell");j.setAttribute("style","width:10em");z.appendChild(G);z.appendChild(j);this.yy=new C$("");
G.appendChild(this.yy.M);E.yn(G);this.IP=new C$("");G.appendChild(this.IP.M);this.Q$=new C$("");j.appendChild(this.Q$.M);
E.yn(j);this.bF=new C$("");j.appendChild(this.bF.M);this.yy.P("X: 100 px");this.IP.P("Y: 100 px");this.Q$.P("W: 0");
this.bF.P("H: 0")}fW.prototype=new Yn("");fW.prototype.Xt=function(S,G,j,z,O){var i=S.Q.ie(O.x,O.y),C=new A(Math.floor(i.x),Math.floor(i.y));
if(!1){var M=0,D=0,X=0;if(!O.Uq&&!S.fnB()&&new Q(0,0,S.o,S.i).oO(C)){var l=S.yA(),f=S.o*C.y+C.x<<2;M=l[f+0];
D=l[f+1];X=l[f+2]}this.flx.P("R: "+M);this.flN.P("G: "+D);this.flr.P("B: "+X)}this.yy.P("X: "+x.Sx.sq(C.x,S.bY,j,S.o));
this.IP.P("Y: "+x.Sx.sq(C.y,S.bY,j,S.i));this.TQ()};fW.prototype.TQ=function(){var S=this.KB,G=this.G$,j=0,z=0;
if(S&&G){if(S.Q.Js){j=S.Q.Js.o;z=S.Q.Js.i}else if(S.f){j=S.f.rect.o;z=S.f.rect.i}j=x.Sx.sq(Math.abs(j),S.bY,G,S.o);
z=x.Sx.sq(Math.abs(z),S.bY,G,S.i)}this.Q$.P(YP.get([12,41]).charAt(0)+": "+j);this.bF.P(YP.get([12,42]).charAt(0)+": "+z)};
fW.prototype.$=function(){Yn.prototype.$.call(this);this.TQ()};fW.prototype.SL=function(S,G,j){this.KB=S;
this.G$=j;this.TQ()};function fS(){Yn.call(this,[9,1],!1,null,Yn.qF.HA);this.HB=null;this.lq=null;this.uj=null;
this.wO=E._("div","lphead");this.ED=E._("div","lpbody scrollable");this.$e=E._("div","lpfoot");this.df=new Yh(null,YR.Cm,!1,YR.hI);
this.df.n(E.E.F,this.fJi,this);this.wO.appendChild(this.df.M);this.Ht=new YN([12,0],0,100,"%",0);this.Ht.n(E.E.F,this.fJb,this);
this.Ht.parent=this;this.wO.appendChild(this.Ht.M);this.Zd=new Sd("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.Zd.n(E.E.F,this.fJe,this);this.wO.appendChild(this.Zd.M);this.ZV=new YN([12,26],0,100,"%",0);this.ZV.n(E.E.F,this.fJ$,this);
this.ZV.parent=this;this._Q=[];this.YS();this.Un.appendChild(this.wO);this.Un.appendChild(this.ED);this.Un.appendChild(this.$e);
this.Un.addEventListener("contextmenu",YL.jv,!1);var S=[{name:[14,10]},{name:[14,11],uz:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],uz:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",b:function(i){return{b:i.d[i.N[0]].add.SoLd!=null}},uz:!0},{name:[6,8],b:function(i){var C=i.d[i.N[0]];
if(C.add.TySh||C.add.SoLd||C.add.SoCo||C.add.GdFl||C.add.PtFl)return{b:!0};return{b:!1}}},{name:[6,34],b:function(i){var C=i.d[i.N[0]];
return{b:C.add.lmfx!=null&&!C.$P()}}},{name:[6,40],uz:!0,b:function(i){var C=i.d[i.N[0]];return{b:C.add.TySh!=null}}},{name:"",uz:!0,b:function(i){var C=i.d[i.N[0]],M=C.add.TySh;
return{b:M!=null,Gb:YP.get(M&&o_.QK(M.Nv)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],uz:!0,b:function(i){return{b:i.R_(i.N[0]),qR:i.d[i.N[0]].iH}}},{name:[11,6],uz:!0,sub:[{name:[5,1],b:function(i){var C=i.d[i.N[0]];
return{b:C.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],b:function(i){var C=i.d[i.N[0]];return{b:C.add.lmfx!=null}}}]},{name:[6,10],b:function(i){return{b:i.N.length==1&&i.N[0]!=0&&!i.d[i.N[0]].$P()}}},{name:[6,12,0],b:function(i){return{b:i.N.length>1||i.d[i.N[0]].$P()}}},{name:[6,12,1],uz:!0},{name:[13,0],sub:function(){var i=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],C=[];
for(var M=0;M<i.length;M++)C.push({name:i[M]});return C}()}];this.Vl=[null,{J:E.E.R,s:t.SN,l:{r:"fromlayer",qh:[null,0,0]}},g.Ec,{J:E.E.e,l:{r:E.a.YO,pv:"duplinto"}},g.Yv,{J:E.E.Hz,l:{mB:"newPlacedLayer"}},g.zG,g.RM,g.Kf,g.Ii,{J:E.E.R,s:t.Pg,l:{r:"switchPntPrgr"}},g.JU,null,g.yv,g.FT,g.KS,g.Gt];
this.JP=new Cq(S);this.JP.n("select",this.aV,this);var G=[{name:[6,45],b:function(i){var C=i.d[i.N[0]];
return{b:C.td(i).q==null}}},{name:[6,47]}];this.flG=[g.RD,g.Kn];this.qn=new Cq(G);this.qn.n("select",this.aV,this);
var j=[{name:"enab/disab",b:function(i){return{Gb:YP.get(i.d[i.N[0]].Ew().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],b:function(i){return{b:i.OX(!1,!0)}}}];
this.fyf=[g.yR,g.KA,g.KV];this.qj=new Cq(j);this.qj.n("select",this.aV,this);var z=[{name:"enab/disab",b:function(i){return{Gb:YP.get(i.d[i.N[0]].td(i).q.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.fyX=[g.FA,g.Rj];this.Eo=new Cq(z);this.Eo.n("select",this.aV,this);var O=[{name:"enab/disab",b:function(i){return{Gb:YP.get(i.d[i.N[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.fyP=[g.zU,g.KR];this.Es=new Cq(O);this.Es.n("select",this.aV,this);this.ET=new Cq(MZ.fYc(!0),MZ.fCD(!0));
this.foY=new Cq(MZ.far(),MZ.fcR());this.n("rclick",this.fJB,this)}fS.prototype=new Yn("");fS.prototype.jS=function(){return new A(253,0)};
fS.prototype.aV=function(S){var G=S.target.Bg(),j=G[0],z;if(S.target==this.JP)z=this.Vl;if(S.target==this.qn)z=this.flG;
if(S.target==this.qj)z=this.fyf;if(S.target==this.Es)z=this.fyP;if(S.target==this.Eo)z=this.fyX;if(S.target==this.ET)z=this.fVG;
if(S.target==this.foY)z=this.fVt;if(z[j]==null){if(j==0){var O=new L(E.E.e,!0);O.data={r:E.a.YO,pv:"layerstyle",B:this.lq.N[0]};
this.D(O)}else{var i=new L(E.E.R,!0);i.s=t.AS;i.data={r:["st_copy","st_paste","st_clear"][G[1]],B:this.lq.N[0]};
this.D(i)}return}if(z[j].J!=null){var C=z[j],i=new L(C.J,!0);i.s=C.s;i.data=C.l;S.target.D(i);return}var i=new L(E.E.R,!0);
if(S.target==this.ET)i.data=z[j];else i.data={r:z[j]};if(z[j]==g.Gt)i.data.fcS=G[1];i.s=t.HA;S.target.D(i)};
fS.prototype.fJB=function(S){var G=this.lq,j=S.data,O;if(G.N.indexOf(j.B)==-1){var z={r:g.IQ,B:S.target.MD.index,zl:j.hz};
this.pl(z)}if(G.N.indexOf(j.B)==-1)return;if(j.hz==1){O=this.qj}else if(j.hz==2){O=this.Es}else if(j.hz==3){O=this.Eo}else if(j.fya){O=this.qn}else{O=this.JP}O.$();
O.update(G);O.parent=this;var i=new L(E.E.e,!0);i.data={r:E.a.Jt,pZ:O,x:j.vB.x+1,y:j.vB.y+1};this.D(i)};
fS.prototype.$=function(){Yn.prototype.$.call(this);this.df.$();this.Ht.$();this.Zd.$();this.ZV.$();
if(this.lq)this.SL(this.lq);var S="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var G=0;G<this._Q.length;G++){var j=this._Q[G];j.B$(E.mu(S[G]))}};fS.prototype.SL=function(S,G){if(S==null)E.Zb(this.Un,"disabled");
else E.uW(this.Un,"disabled");this.lq=S;this.uj=G;if(this.HB!=null){this.ED.removeChild(this.HB.ED);
this.HB=null}if(S==null)return;this.HB=new YL(S.root,this,S,{AE:0});this.ED.appendChild(this.HB.ED);
if(S.N.length==0)E.Zb(this.wO,"disabled");else{E.uW(this.wO,"disabled");if(S.N.length==1&&S.nK)this.HB.fSw(S.N);
var j=S.d[S.N[0]];if(j.$P()){this.df.el([[15,10,27]].concat(YR.Cm),[1].concat(YR.hI));var z=YR.fh.indexOf(j.eD);
this.df.P(z+1)}else{this.df.el(YR.Cm,YR.hI);var z=YR.fh.indexOf(j.eD);this.df.P(z)}this.Ht.P(Math.round(100*j.opacity/255));
this.Zd.P([j.Ka(1),j.Ka(2),j.Ka(31)]);this.ZV.P(Math.round(100*(j.add.iOpa!=null?j.add.iOpa/255:1)))}};
fS.prototype.yd=function(S,G){var j=this.wO.getBoundingClientRect().height;j=Math.max(j,52);if(j>68)j=Math.max(j,76);
var z=G-(j+34);this.ED.style.height=z+"px"};fS.prototype.fJi=function(S){this.pl({r:g.Ip,Ha:this.df.j()})};
fS.prototype.fJb=function(S){this.pl({r:g.Is,Ha:Math.round(255*this.Ht.j()/100)})};fS.prototype.fJe=function(S){this.pl({r:g.K$,Ha:[this.Zd.j(),[1,2,31]]})};
fS.prototype.fJ$=function(S){this.pl({r:g.RT,Ha:Math.round(255*this.ZV.j()/100)})};fS.prototype.flT=function(S){this.fYW(S,this.ET)};
fS.prototype.flA=function(S){this.fYW(S,this.foY)};fS.prototype.fYW=function(S,G){var j=S.currentTarget;
if(E.Qb(G.M))return;S.stopPropagation();var z=j.getBoundingClientRect();G.$();G.update(this.lq);G.parent=this;
var O=new L(E.E.e,!0);O.data={r:E.a.Jt,pZ:G,x:z.left,y:z.top,fyp:!0};this.D(O)};fS.prototype.flB=function(S){this.pl({r:g.II})};
fS.prototype.flb=function(S){this.pl({r:g.Rn})};fS.prototype.fyo=function(S){this.pl({r:g.YG})};fS.prototype.fym=function(S){this.pl({r:g.Yv})};
fS.prototype.fyn=function(S){this.pl({r:g.zm})};fS.prototype.pl=function(S){var G=new L(E.E.R,!0);G.data=S;
G.s=t.HA;this.D(G)};fS.prototype.YS=function(){var S=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],G=[this.fyn,this.flA,this.flT,this.flB,this.flb,this.fyo,this.fym],j=this.fgg.bind(this);
for(var z=0;z<S.length;z++){var O=new Ys("W",!1,S[z]);this._Q.push(O);E.qG(O.M,G[z].bind(this));this.$e.appendChild(O.M);
if(z>=S.length-3){var i=O.M;i.addEventListener("drop",j,!1);i.addEventListener("dragover",function(C){C.preventDefault();
O.hU()}.bind(this),!1);i.addEventListener("dragenter",YL.jv,!1);i.addEventListener("dragleave",function(C){O.dp()}.bind(this),!1)}}};
fS.prototype.fgg=function(S){YL.jv(S);var G=0,j=this._Q;while(j[G].M!=S.currentTarget)G++;j[G].dp();
var z=S.dataTransfer.getData("Text");if(z=="")return;var z=JSON.parse(z);if(z.Rp=="l"){var O={r:[g.GI,g.Ec,g.Yv][G-4]};
if(this.lq.N.indexOf(z.tP)==-1)O.B=z.tP;this.pl(O)}if(G!=6)return;if(z.Rp=="sm"||z.Rp=="s"){var i=new L(E.E.R,!0);
i.s=t.AS;i.data={r:z.Rp=="sm"?"st_clear":"st_delsingle",B:z.tP,tP:z.Ei};this.D(i)}if(z.Rp=="fm"||z.Rp=="f"){this.pl({r:z.Rp=="fm"?g.Kn:g.IO,src:z.tP,Ei:z.Ei})}if(z.Rp=="m"||z.Rp=="vm"){this.pl({r:z.Rp=="m"?g.KA:g.KR,B:z.tP})}};
function YL(S,G,j,z){YS.call(this);this.parent=G;this.MD=S;this.Ey=[];this.M=E._("div","layeritem");
var O=S.B,R=15,p=!1;this.wO=E._("div",j.N.indexOf(S.index)!=-1?"head selected":"head");if(S.B.add.artb!=null)E.Zb(this.wO,"artb");
this.wO.setAttribute("style","height: "+(O.fpb+10)+"px");var i=E._("div","headL"),C=E._("div","headR"),M=E._("div","lpineck");
this.ED=E._("div","lpibody");this.M.appendChild(this.wO);this.wO.appendChild(i);this.wO.appendChild(C);
if(O.Rf()||O.AG())if(O.LO())this.M.appendChild(M);var D=this.wO;D.setAttribute("draggable","true");D.addEventListener("dragstart",this.TI.bind(this),!1);
D.addEventListener("drop",this.St.bind(this),!1);D.addEventListener("dragover",this.ZS.bind(this),!1);
D.addEventListener("dragenter",YL.jv,!1);D.addEventListener("dragleave",this.TU.bind(this),!1);var X=[],l=[],f=E._("div");
this.wF=E._("div","eye");f.appendChild(this.wF);var F=E._("div","space");this._K=E._("div","label");
this._K.textContent=O.getName();this.EI=E._("div","lock");this.FZ=E._("div","arfx");var $=this.ffo.bind(this),_=this.ffk.bind(this);
this.wO.addEventListener("click",_,!1);this.wO.addEventListener("contextmenu",$,!1);var P=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],k=O.add.lclr==null?0:P[O.add.lclr];
if(k==0)k=z.AE;var H=[k>>16,k>>8&255,k&255];for(var q=0;q<3;q++){H[q]=Math.round(.5*H[q]+.5*220)}if(1<E.V()&&E.V()<1.5)R=R/E.V();
f.setAttribute("style","background-color:rgba("+H.join(",")+","+(k==0?0:1)+");");this.wF.setAttribute("style","background-size: "+R+"px "+R+"px;");
var I=this.fga.bind(this);f.addEventListener("mousedown",I,!1);f.addEventListener("mouseover",I,!1);
this._K.addEventListener("click",this.fgt.bind(this),!1);this.FZ.addEventListener("click",this.ffX.bind(this),!1);
X[0]=f;X[1]=F;X[10]=this._K;if(O.$P()){var b=E._("div","arrow"),Y=E._("div","folder");b.addEventListener("click",this.fgc.bind(this),!1);
X[2]=b;X[3]=Y;if(O.add.lsct==YF.WY){for(var q=S.children.length-1;q>=0;q--){var m=new YL(S.children[q],G,j,{AE:k});
this.Ey.push(m);this.ED.appendChild(m.M)}this.M.appendChild(this.ED)}b.setAttribute("class",O.add.lsct==YF.WY?"open":"closed")}else{this.tJ=E._("div","thumb");
X[5]=this.tJ;this.tJ.appendChild(O.Rr.canvas)}var h=O.Ew();if(h){this.Fd=E._("div","chain");this.dV=E._("div","thumb");
this.dV.setAttribute("draggable","true");this.dV.appendChild(S.B.fzN.canvas);this.Fd.style.opacity=h.KQ?1:0;
this.Fd.addEventListener("click",this.fgk.bind(this),!1)}var e=O.dr()&&O.add.vmsk;if(O.add.vmsk&&!e){this.FV=E._("div","chain");
this.tl=E._("div","thumb");this.tl.setAttribute("draggable","true");this.tl.appendChild(S.B.fzF.canvas);
this.FV.style.opacity=O.add.vmsk.KQ?1:0;this.FV.addEventListener("click",this.fgH.bind(this),!1)}if(O.AG()&&O.td(j).q){this.Bf=E._("div","thumb");
this.Bf.appendChild(S.B.fKw.canvas);this.Bf.addEventListener("click",_,!1);this.Bf.addEventListener("contextmenu",$,!1)}if(O.Rf()){M.addEventListener("contextmenu",$,!1);
var s=new fS.VG(YP.get([12,1]),"sm","layerstyle",S.depth,0,null);s.parent=this;M.appendChild(s.M);var y=O.add.lmfx,T=y.masterFXSwitch.v;
s.aA(T);for(var q=0;q<n.order.length;q++){var K=y[n.lH[q]].v;if(K.length==0)continue;for(var B=0;B<K.length;
B++){var s=new fS.VG(YP.get(n.names[q]),"s","layerstyle",S.depth,1,[q,B]);s.aA(T&&K[B].v.enab.v);s.parent=this;
M.appendChild(s.M)}}}if(O.AG()){var s=new fS.VG(YP.get([12,55]),"fm",null,S.depth,0,-1,O.td(j).q?this.Bf:null);
s.parent=this;M.appendChild(s.M);this.foC=s.M;this.foC.addEventListener("contextmenu",$,!1);var y=O.add.SoLd.filterFX.v,a=y.filterFXList.v,T=y.enab.v;
s.aA(T);for(var q=a.length-1;q>=0;q--){var u=a[q].v,r=u.filterID.v,v=W.Pd(r);if(Yd.ot[v])v=Yd.ot[v];
var o=u.Nm.v;if(Yy.names[v])o=YP.get(Yy.names[v]);if(Yd.names[v])o=YP.get(Yd.names[v]);var V=U[v]?"afw_"+v:null,s=new fS.VG(o,"f",V,S.depth,1,q);
s.aA(T&&u.enab.v);s.parent=this;M.appendChild(s.M)}}if(j.d.indexOf(O)==j.N[0]){var J=O.hz,d;if(J<=0)d=this.tJ;
else if(J==1)d=this.dV;else if(J==3)d=this.Bf;if(d)d.setAttribute("class","thumb active");if(O.yU&&this.tl)this.tl.setAttribute("class","thumb active")}f.style.opacity=O.Gg()?1:.25;
F.setAttribute("style","width:"+Math.max(0,S.depth-1)*18+"px");var oU=O.add.lspf!=null&&O.add.lspf!=0;
this.EI.style.opacity=O.Ka(31)?1:.5;X[4]=O.iH?E._("div","clipp"):null;X[6]=h?this.Fd:null;X[7]=h?this.dV:null;
X[8]=O.add.vmsk&&!e?this.FV:null;X[9]=O.add.vmsk&&!e?this.tl:null;var N=O.Xk,ob=j.N;if(N!=0)for(var q=0;
q<ob.length;q++)if(j.d[ob[q]].Xk==N){p=!0;break}l[0]=p?E._("div","link"):null;l[1]=oU?this.EI:null;l[2]=O.Rf()?E._("div","lrfx"):null;
l[3]=O.Rf()||O.AG()?this.FZ:null;this.FZ.setAttribute("class",O.LO()?"arfx open  gsicon":"arfx closed  gsicon");
var oe=X;for(var q=0;q<oe.length;q++)if(oe[q])i.appendChild(oe[q]);oe=l;for(var q=0;q<oe.length;q++)if(oe[q])C.appendChild(oe[q])}YL.prototype=new YS;
YL.prototype.fSw=function(S){var G=this.MD.index;if(S.indexOf(G)!=-1){if(this.M.scrollIntoView)this.M.scrollIntoView({block:"nearest"})}for(var j=0;
j<this.Ey.length;j++)this.Ey[j].fSw(S)};YL.jv=function(S){S.stopPropagation();S.preventDefault()};YL.flk=function(S){S.stopPropagation()};
YL.Zs=function(S,G){var j=G.getBoundingClientRect();return(S.clientY-j.top)/j.height};YL.prototype.TI=function(S){S.stopPropagation();
var G=S.target==this.dV?"m":S.target==this.tl?"vm":"l";S.dataTransfer.setData("Text",JSON.stringify({Rp:G,tP:this.MD.index}))};
YL.prototype.TU=function(S){YL.jv(S);this.BZ()};YL.prototype.St=function(S){YL.jv(S);this.BZ();var G=S.dataTransfer.getData("Text"),j=this.parent.lq,z=YL.Zs(S,this.wO),O=this.MD.index;
if(z>.8){var i=!0,C=j.root.cv(O);while(C.parent!=null){var M=C.parent,D=M.children;if(D.indexOf(C)!=0)i=!1;
C=C.parent}if(i){O=0;z=1}}if(G==""){E.fWU(S,this,this.parent.uj.indexOf(j),O+(z>.5?0:1))}else if(G!="--panel"){var G=JSON.parse(G),X=G.Rp;
if(X=="l")this.pl({r:g.K_,source:G.tP,target:O,yE:z});else if(X=="m"||X=="vm")this.pl({r:X=="m"?g.Rz:g.RW,src:G.tP,XP:O,Sw:S.altKey});
else YL.fPm(S,G,this)}};YL.fPm=function(S,G,j,z){var O=G.Rp,i=j.MD.index,C=G.tP;if(O=="s"||O=="sm")j.pl({r:g.Ry,src:C,XP:i,Ei:G.Ei,Sw:S.altKey});
if(O=="f"||O=="fm")j.pl({r:g.Ij,src:C,XP:i,Ei:G.Ei,xh:z==null?0:z,Sw:S.altKey})};YL.prototype.ZS=function(S){YL.jv(S);
var G=YL.Zs(S,this.wO);this.BZ();var j="border-"+(G>.5?"bottom":"top");if(this.MD.B.$P()&&.5<G&&G<.8)j="border";
this.wO.style[j]="0.2em solid rgba(0,0,0,0.5)"};YL.prototype.BZ=function(S){this.wO.style.border="none"};
YL.fPl=-1;YL.Zm=!1;YL.fvV=function(S){YL.Zm=!1;document.body.removeEventListener("mouseup",YL.fvV)};
YL.prototype.fga=function(S){if(S.button!=0)return;if(S.type=="mousedown"){YL.Zm=!0;document.body.addEventListener("mouseup",YL.fvV,!1)}if(S.type=="mouseover"&&(!YL.Zm||YL.fPl==this.MD.index))return;
S.stopPropagation();S.preventDefault();this.pl({r:g.Yr,B:this.MD.index});YL.fPl=this.MD.index};YL.prototype.fgc=function(S){this.pl({r:g.Ik,B:this.MD.index})};
YL.prototype.fgk=function(S){this.pl({r:g.Fi,B:this.MD.index})};YL.prototype.fgH=function(S){this.pl({r:g.Rs,B:this.MD.index})};
YL.prototype.fgt=function(S){if(S.detail==1)return;this.wO.setAttribute("draggable","false");var G=new Yn.BK(this._K,this.BM.bind(this))};
YL.prototype.BM=function(S){this.pl({r:g.KN,B:this.MD.index,name:S})};YL.prototype.ffX=function(S){this.pl({r:g.IH,B:this.MD.index})};
YL.prototype.ffo=function(S){if(this.faF(S,S.target,this.hz(S)))return;if(S.button!=2)return;var G=new L("rclick",!0);
G.data={B:this.MD.index,hz:this.hz(S),vB:E.cV(S,document.body),fya:S.currentTarget==this.foC};this.D(G)};
YL.prototype.hz=function(S){var G=S.target,j=G.parentNode;return j==this.tl?2:j==this.dV?1:j==this.tJ?0:j==this.Bf?3:-1};
YL.prototype.ffk=function(S){var G=S.target,X=0;if(G==this.wF||G==this.FZ||G==this.Fd||G==this.FV||G.tagName&&G.tagName.toLowerCase()=="input")return;
var j=this.hz(S),z=this.parent.lq,O=this.MD.index,i=z.d[O];if(G==this.EI){this.pl({r:g.K$,B:O,Ha:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(S.button==0&&S.detail==2){if(G==this._K)return;var C=new L(E.E.e,!0),M=new L(E.E.Hz,!0);if(j==0&&(Yd.get(i.add)||i.add.SoCo||i.add.GdFl||i.add.PtFl))C.data={r:E.a.mp,pv:Yn.qF.jP};
else if(j!=0&&j!=-1)C.data={r:E.a.mp,pv:Yn.qF.jP};else if(j==0&&i.add.SoLd)M.data={mB:"placedLayerEditContents",MZ:{classID:"placedLayerEditContents"}};
else if(j==0&&i.add.TySh)C.data={r:E.a.AH,s:t.Pg};else C.data={r:E.a.YO,pv:"layerstyle",B:O};this.D(M.data?M:C);
if(j==0&&i.add.TySh){var D=new L(E.E.R,!0);D.s=t.Pg;D.data={r:"editCurr",DR:O};this.D(D)}return}if(this.faF(S,G,j))return;
if(S.button!=0)return;var l={r:g.IQ,B:O,zl:j};this.pl(l);if(S.altKey){if(j==1||j==3){var D=new L(E.E.R,!0);
D.s=t.wb;D.data={r:"mskView",g:X!=0?0:S.shiftKey?1:2};this.D(D)}else{this.pl({r:g.JU,B:O})}return}};
YL.prototype.faF=function(S,G,j){if((S.ctrlKey||S.metaKey)&&(j==0||j==1||j==2)){var z=0;if(S.shiftKey)z++;
if(S.altKey)z+=2;var O=new L(E.E.R,!0);O.s=t.SN;O.data={r:"fromlayer",qh:[this.MD.index,j,z]};this.D(O);
return!0}return!1};YL.prototype.pl=function(S){var G=new L(E.E.R,!0);G.data=S;G.s=t.HA;this.D(G)};fS.VG=function(S,G,j,z,O,i,C){YS.call(this);
this.fCP=G;this.Fn=j;this.index=i;this.M=E._("div","styleitem");this.wO=E._("div","head");this.Zy=E._("div","eye gsicon");
this._K=E._("div","label");this.M.appendChild(this.wO);this.wO.appendChild(this.Zy);if(C){this.dV=C;
this.wO.appendChild(this.dV);this.wO.setAttribute("style","height: "+(C.firstChild.height/E.V()+10)+"px")}this._K.innerHTML=S;
this.M.setAttribute("style","margin-left: "+(24+z*16+O*22)+"px");this.wO.appendChild(this._K);this.Zy.addEventListener("click",this.ffR.bind(this),!1);
var M=this.M;M.setAttribute("draggable","true");M.addEventListener("dragstart",this.TI.bind(this),!1);
if(!0){M.addEventListener("drop",this.St.bind(this),!1);M.addEventListener("dragover",this.ZS.bind(this),!1);
M.addEventListener("dragenter",YL.jv,!1);M.addEventListener("dragleave",this.TU.bind(this),!1)}this.M.addEventListener("click",this.Va.bind(this),!1)};
fS.VG.prototype=new YS;fS.VG.prototype.TI=function(S){S.stopPropagation();S.dataTransfer.setData("Text",JSON.stringify({Rp:this.fCP,tP:this.parent.MD.index,Ei:this.index}))};
fS.VG.prototype.TU=function(S){YL.jv(S);this.BZ()};fS.VG.prototype.St=function(S){YL.jv(S);this.BZ();
var G=S.dataTransfer.getData("Text");if(G=="")return;var G=JSON.parse(G);YL.fPm(S,G,this.parent,this.index+(YL.Zs(S,this.wO)>.5?0:1))};
fS.VG.prototype.ZS=function(S){YL.jv(S);var G=YL.Zs(S,this.wO)>.5;this.BZ();var j="border-"+(G?"bottom":"top");
this.wO.style[j]="0.2em solid rgba(0,0,0,0.5)"};fS.VG.prototype.BZ=function(S){this.wO.style.border="none"};
fS.VG.prototype.aA=function(S){var G=15;if(1<E.V()&&E.V()<1.5)G=G/E.V();this.Zy.setAttribute("style","background-size: "+G+"px "+G+"px;");
this.Zy.style.opacity=S?1:.2};fS.VG.prototype.Va=function(S){if(S.target==this.Zy)return;if(S.detail!=1&&this.Fn!=null){var G=new L(E.E.e,!0);
if(this.Fn.indexOf("afw_")==0)G.data={r:E.a.YO,pv:this.Fn,vQ:{B:this.parent.MD.index,index:this.index}};
else G.data={r:E.a.YO,pv:this.Fn,B:this.parent.MD.index,index:this.index};this.D(G)}};fS.VG.prototype.ffR=function(S){var G={fm:g.tU,f:g.tG,sm:g.Gv,s:g.Gs}[this.fCP];
this.parent.pl({r:G,B:this.parent.MD.index,index:this.index})};function fj(){Yn.call(this,"Guide Guy",!1,null,Yn.qF.fcH);
this.KB=null;this.KX=[];var S=E._("div","form padded");this.Un.appendChild(S);S.setAttribute("style","width:200px");
this.Un.appendChild(S);var G=E._("canvas"),j=G.getContext("2d");G.width=G.height=160;var z=[32,0,16,160,0,32,160,16,0,112,160,16],O="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),i=[0,0,0,0,0,0,0,0,0,0];
for(var C=0;C<10;C++){j.clearRect(0,0,160,160);j.setTransform(1,0,0,1,80,80);j.rotate((C&3)*Math.PI/2);
j.translate(-80,-80);j.fillStyle="rgba(0,0,0,0.3)";if(C<4){for(var M=0;M<12;M+=4){j.fillStyle=M==0?"#000000":"rgba(0,0,0,0.3)";
j.fillRect(z[M],z[M+1],z[M+2],z[M+3])}}else if(C<6){var D=8*6;j.fillRect(0,0,D,160);j.fillRect(8*7,0,D,160);
j.fillStyle="#000000";j.fillRect(8*14,0,D,160)}else if(C<8){j.fillRect(0,0,16,160);j.fillRect(160-16,0,16,160);
j.fillRect(32,0,160-64,160);j.fillStyle="#000000";j.fillRect(32,80-8,160-64,8*1)}else{j.fillRect(0,0,8*7,160);
j.fillRect(8*13,0,160,160);j.fillStyle="#000000";j.fillRect(8*7,80-8,8*6,8*1)}var X="<img src=\""+G.toDataURL()+"\" class=\"autoscale gsicon\" /> ",l=new YN(X,0,200,C==4||C==5?null:"px",null,null,null,4,O[C]);
l.parent=this;l.n(E.E.F,this.ffL,this);l.P(i[C]);l.$();this.KX.push(l);S.appendChild(l.M)}var f=["Add Guides","Clear Guides"];
this.XW=[];for(var C=0;C<f.length;C++){var F=new Ys(f[C],!0,null,!0);this.XW.push(F);F.n("click",this.jK,this);
S.appendChild(F.M)}for(var C=0;C<6;C++){j.setTransform(1,0,0,1,80,80);j.rotate(Math.floor(C/3)*Math.PI/2);
j.translate(-80,-80);j.clearRect(0,0,160,160);j.fillStyle="rgba(0,0,0,0.3)";j.fillRect(0,0,160,160);
j.clearRect(16,16,128,128);j.fillStyle="#000000";var $=C%3;j.fillRect([0,9,18][$]*8,0,16,160);var X="<img src=\""+G.toDataURL()+"\" class=\"autoscale gsicon\" /> ",F=new Ys(X,!1,null,!1);
this.XW.push(F);F.n("click",this.jK,this);S.appendChild(F.M)}}fj.prototype=new Yn("");fj.prototype.ffL=function(S){var G=this.KX,j=G.indexOf(S.target),z=Math.floor(j/2),O=j&1,i=[];
for(var C=0;C<4;C++)i.push(G[2*C+O].j());var M=-1;if(z==2&&i[2]!=0&&i[3]!=0&&i[4]!=0)M=4;if(z==3&&i[3]!=0&&i[2]!=0&&i[4]!=0)M=4;
if(z==4&&i[4]!=0&&i[2]!=0&&i[3]!=0)M=3;if(M!=-1)G[2*M+O].P(0)};fj.prototype.jK=function(S){var G=this.KB,j=this.XW.indexOf(S.target),z=[[],[]];
if(G==null)return;var O=G.f?G.f.rect:new Q(0,0,G.o,G.i),i=O.o,C=O.i;if(j==0){var M=[[],[]];for(var D=0;
D<this.KX.length;D++)M[D&1].push(this.KX[D].j());z=[fj.fWy(M[0],O.x,O.x+i),fj.fWy(M[1],O.y,O.y+C)];t.GE.ak(z,G.WX)}else if(j==1){}else{j-=2;
var X=Math.floor(j/3),z=[[],[]];z[X].push([O.x,O.x+i/2,O.x+i,O.y,O.y+C/2,O.y+C][j]);t.GE.ak(z,G.WX)}var l=function(f,F){return f-F};
z[0].sort(l);z[1].sort(l);this.fXK(z)};fj.prototype.flD=function(S){var G=this.fnW.indexOf(S.target)};
fj.prototype.fXK=function(S){var G=new L(E.E.R,!0);G.s=t.PK;G.data={r:"gids",uo:S};this.D(G)};fj.fWy=function(S,G,j){var z=[],O=S[2],i=S[3],C=S[4],M=0;
if(O==0)M++;if(i==0)M++;if(C==0)M++;if(M>1&&O==0&&i==0){if(S[0]!=0)z.push(G+S[0]);if(S[1]!=0)z.push(j-S[1]);
return z}var D=j-G-S[0]-S[1];if(O==0){if(C==0){O=Math.floor(D/ i);C=(D-O*i)/(O-1)}else{O=1;while(i*O+C*(O-1)+i+C<=D)O++}}else if(O!=0&&i!=0){if(O*i>D)O=Math.floor(D/ i);
C=(D-O*i)/(O-1)}z.push(G+S[0],j-S[1]);var i=(D-C*(O-1))/O;for(var X=1;X<O;X++){if(C==0)z.push(G+S[0]+X*i);
else z.push(G+S[0]+X*i+(X-1)*C,G+S[0]+X*i+X*C)}return z};fj.prototype.SL=function(S){this.KB=S};function fK(){Yn.call(this,[9,2],!1,null,Yn.qF.jP);
this.fCL=null;this.CI=null;this.G$=null;this.fSQ=-1}fK.prototype=new Yn("");fK.prototype.BQ=function(){this.FO=E._("div","padded");
this.FO.style.width="22em";this.Un.appendChild(this.FO);var S=E._("span","fitem");this.FO.appendChild(S);
this.ro=[new Ys([0,3]),new Ys([12,73]),new Ys([12,91,0])];for(var G=0;G<this.ro.length;G++){var j=this.ro[G];
j.n("click",this.fXW,this);S.appendChild(j.M)}this.FO.appendChild(E._("hr"));this.Bo=new fK.QV;this.Bo.parent=this;
this.Zi=new fK.BV;this.Zi.parent=this;this.Ek=new fK.PR;this.Ek.parent=this;this.fSh=[this.Bo,this.Zi,this.Ek];
this.FO.appendChild(this.Bo.M)};fK.prototype.fXW=function(S){var G=this.ro.indexOf(S.currentTarget);
this.jJ(G);this.fTA(G==1?this.Zi.ZU:-1)};fK.prototype.jJ=function(S){for(var G=0;G<3;G++){this.ro[G].dp();
var j=this.fSh[G].M;if(j.parentNode==this.FO&&G!=S)this.FO.removeChild(j);if(j.parentNode!=this.FO&&G==S)this.FO.appendChild(j)}this.ro[S].hU()};
fK.prototype.fTA=function(S){var G=this.CI.N[0],j=this.CI.d[G],z=S+1;if(S==1&&j.yU)return;var O=new L(E.E.R,!0);
O.s=t.HA;if(S!=1&&j.yU){O.data={r:g.IQ,B:G,zl:2};this.D(O)}O.data={r:g.IQ,B:G,zl:z};this.D(O)};fK.prototype.$=function(){Yn.prototype.$.call(this);
if(this.FO==null)return;this.SL(this.CI);for(var S=0;S<3;S++){this.ro[S].$();this.fSh[S].$()}};fK.prototype.fE=function(){if(!E.Qb(this.Un))return;
if(this.FO==null){this.BQ();this.uQ(this.G$,o$.$o);this.SL(this.fCL);this.$()}};fK.prototype.SL=function(S){this.fCL=S;
if(this.FO==null)return;this.Bo.SL(S);this.Zi.SL(S);this.Ek.SL(S);if(S==null||S.N.length==0){E.Zb(this.Un,"disabled");
this.CI=null;return}else E.uW(this.Un,"disabled");var G=S.N[0],j=S.d[G],z=S.ya(),O=z[0],i=z[1];if(i.length!=0){var C=O[i[0]],M=C.add.vogk,D=!1;
if(M)for(var X=0;X<M.length;X++){var l=M[X].v,f=l.keyShapeInvalidated;if(f&&f.v||l.keyOriginType==null)continue;
D=!0;G=C.Qf}}if(S!=this.CI||this.fSQ!=G){this.CI=S;this.fSQ=G;if(D)this.jJ(2);else if(j.hz<1&&!j.yU)this.jJ(0);
else this.jJ(1)}this.ro[1].eV(this.Zi.ZU!=-1);this.ro[2].eV(D)};fK.prototype.uQ=function(S,G){this.G$=S;
if(this.Bo)this.Bo.uQ(S,G)};fK.QV=function(){YS.call(this);this.M=E._("div","form");this.fSL=new C$("Hello");
this.M.appendChild(this.fSL.M);this.FB=null;this.fPN=null;this.CI=null;this.fPr=-1;this.fvC=null;this.Er=new fQ(!0);
this.Er.parent=this;this.Er.n(E.E.F,this.fXs,this);this.qU=E._("div","marged hiline");this.qU.appendChild(this.Er.M);
this.se=new Md("GrFl",!0);this.se.parent=this;this.se.n(E.E.F,this.fXZ,this);this.KF=E._("div","marged hiline");
var S="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var G=0;G<S.length;G++){var j=this.se.GU[S[G]].M;
this.KF.appendChild(j)}this.mc=new Md("patternFill",!0);this.mc.parent=this;this.mc.n(E.E.F,this.fXd,this);
this.WC=E._("div","marged hiline");var S=["Ptrn","Scl","Algn","phase"];for(var G=0;G<S.length;G++){var j=this.mc.GU[S[G]].M;
this.WC.appendChild(j)}this._G={};for(var z in Yd.names){if(U[z]==null)continue;this._G[z]=new U[z];
this._G[z].n(E.E.F,this.fXc,this);this._G[z].parent=this}};fK.QV.prototype=new YS;fK.QV.prototype.$=function(){for(var S in this._G)this._G[S].$();
this.se.$();this.mc.$()};fK.QV.prototype.fXs=function(S){var G=this.CI,j=G.N[0];if(G.d[j].add.SoCo==null)return;
var z=JSON.parse(JSON.stringify(G.d[j].add.SoCo));z.Clr.v=this.Er.j();this.ZQ({Gu:1,tZ:z})};fK.QV.prototype.fXZ=function(S){var G=this.CI,j=G.N[0];
if(G.d[j].add.GdFl==null)return;this.ZQ({Gu:2,tZ:this.se.j()})};fK.QV.prototype.fXd=function(S){this.ZQ({Gu:3,tZ:this.mc.j()})};
fK.QV.prototype.ZQ=function(S){this.fZG(t.HA,{r:g.Kr,th:[this.CI.N[0]],Bw:!0,g:S})};fK.QV.prototype.fXc=function(S){this.fZG(t.PU,{r:"edit_layer",g:this.fPN.j()})};
fK.QV.prototype.fZG=function(S,G){var j=new L(E.E.R,!0);j.s=S;j.data=G;this.D(j)};fK.QV.prototype.SL=function(S){var G=YP.get([0,3]),j=null;
this.CI=S;if(S&&S.d.length>0&&S.N.length!=0){var z=S.d[S.N[0]],O=Yd.get(z.add);if(O!=null&&this._G[O]!=null){j=this._G[O].M;
this.fPN=this._G[O];this._G[O].P(z.add[O]);if(S.N[0]!=this.fPr){var i=S.yA(S.N[0]-1);this.fvC=x.Mu(i)}this._G[O].Qj(this.fvC);
G=YP.get(Yd.names[O])}if(z.add.SoCo){j=this.qU;this.Er.P(z.add.SoCo.Clr.v);G=YP.get([6,48,0,0])}if(z.add.GdFl){j=this.KF;
this.se.update(S,z.add.GdFl);G=YP.get([6,48,0,1])}if(z.add.PtFl){j=this.WC;this.mc.update(S,z.add.PtFl);
G=YP.get([6,48,0,2])}this.fPr=S.N[0]}if(j!=this.FB){if(this.FB)this.M.removeChild(this.FB);if(j!=null)this.M.appendChild(j);
this.FB=j}this.fSL.P(G)};fK.QV.prototype.uQ=function(S,G){this.se.uQ(S,G);this.mc.uQ(S,G);for(var j in this._G)this._G[j].uQ(S,G)};
fK.BV=function(){YS.call(this);this.M=E._("div","form");this.CI=null;this.ZU=0;var S=E._("span","fitem");
this.M.appendChild(S);this.ro=[new Ys([6,2]),new Ys([6,3]),new Ys([6,50])];for(var G=0;G<this.ro.length;
G++){var j=this.ro[G];j.n("click",this.fXV,this);S.appendChild(j.M)}this.Bi=new fM([12,74],0,255);this.Bi.n(E.E.F,this.cr,this);
this.M.appendChild(this.Bi.M);this.RC=new fM([7,6],0,500,"px",2,!0);this.RC.n(E.E.F,this.cr,this);this.M.appendChild(this.RC.M)};
fK.BV.prototype=new YS;fK.BV.prototype.cr=function(S){var G=this.Bi.j(),j=this.RC.j(),z=new L(E.E.R,!0);
z.s=t.HA;z.data={r:g.RE,yr:this.CI.N[0],hX:{AK:this.ZU,Bi:G,RC:j}};this.D(z)};fK.BV.prototype.$=function(){for(var S=0;
S<this.ro.length;S++)this.ro[S].$();this.Bi.$();this.RC.$()};fK.BV.prototype.SL=function(S){this.CI=S;
this.iM()};fK.BV.prototype.fXV=function(S){this.iM(this.ro.indexOf(S.currentTarget));this.parent.fTA(this.ZU)};
fK.BV.prototype.iM=function(S){var G=this.CI,j=this.ro;for(var z=0;z<3;z++){var O=j[z];O.dp();O._S()}if(G==null||G.d.length==0||G.N.length==0)return;
var i=-1,C=G.d[G.N[0]];if(C.AG()&&C.td(G).q!=null){j[2].UE();i=2}if(C.add.vmsk){j[1].UE();i=1}if(C.Ew()){j[0].UE();
i=0}if(S!=null)i=S;else if(C.yU)i=1;else if(C.hz==3)i=2;else if(C.hz==1)i=0;this.ZU=i;if(i==-1){this.Bi._S();
this.RC._S();return}var M=C.wk(i);this.Bi.UE();this.RC.UE();this.Bi.P(M.Bi);this.RC.P(M.RC);j[i].hU()};
fK.PR=function(){YS.call(this);this.M=E._("div","form");this.EH=1;this.Fh=E._("div");this.Hw=this.fuE(["W","H","X","Y"],[12,51],this.Fh);
this.Fx=E._("div");var S=["\u250F","\u2513","\u2517","\u251B"];this.Ze=this.fuE(S,[12,91,2],this.Fx)};
fK.PR.prototype=new YS;fK.PR.prototype.$=function(){E.Dy(this.Hw[0],this.Hw[1]);for(var S=2;S<5;S++){this.Hw[S].$()}this.Ze[4].$()};
fK.PR.prototype.fuE=function(S,G,j){var z=E._("div","numlist");j.appendChild(z);var O=[];for(var i=0;
i<4;i++){var C=new YN(S[i],0,0,null,1,!1,!0);C.n(E.E.F,this.fXn,this);z.appendChild(C.M);O.push(C);if(i==1||i==3)E.yn(z)}O[4]=new YI(G);
O[4].P(!0);j.appendChild(O[4].M);return O};fK.PR.prototype.VY=function(S,G){for(var j=0;j<4;j++)S[j].P(G[j])};
fK.PR.prototype.fnQ=function(S){var G=[];for(var j=0;j<4;j++)G[j]=S[j].j();return G};fK.PR.prototype.fXn=function(S){var G=this.Hw.indexOf(S.currentTarget),j=this.Ze.indexOf(S.currentTarget),z=[null,null,null,null],O=[null,null,null,null];
if(G!=-1){var i=this.fnQ(this.Hw),C=this.Hw[4].j();i[0]=Math.max(1,i[0]);i[1]=Math.max(1,i[1]);if(C&&G==0)i[1]=i[0]/this.EH;
if(C&&G==1)i[0]=i[1]*this.EH;z[0]=i[2];z[1]=i[3];z[2]=z[0]+i[0];z[3]=z[1]+i[1]}if(j!=-1){var i=this.fnQ(this.Ze);
O[j]=Math.max(0,i[j]);if(this.Ze[4].j())for(var M=0;M<4;M++)O[M]=O[j];var D=O[3];O[3]=O[2];O[2]=D}var X=new L(E.E.R,!0);
X.s=t.HA;X.data={r:g.RQ,HQ:z,fdD:O};this.D(X)};fK.PR.prototype.SL=function(S){if(S==null)return;var G=this.Fh.parentNode!=null,j=this.Fx.parentNode!=null,z=x.tS.Ia(S),O=z[0],i=z[1];
if(O){if(!G)this.M.appendChild(this.Fh);this.EH=(O[2]-O[0])/(O[3]-O[1]);this.VY(this.Hw,[O[2]-O[0],O[3]-O[1],O[0],O[1]])}else if(G)this.M.removeChild(this.Fh);
if(i){if(!j)this.M.appendChild(this.Fx);var C=i[2];i[2]=i[3];i[3]=C;this.VY(this.Ze,i)}else if(j)this.M.removeChild(this.Fx)};
function Xo(S){Yn.call(this,S.name,!0);this.lq=S;this.Wh=null;this.KY=!1;this.nN={x:0,y:0,Uq:!1};this.FN=!0;
this.ZN=document.createElement("canvas");this.Zt=this.ZN.getContext("2d");this.GH=document.createElement("canvas");
this.G=this.GH.getContext("2d");var G=16,j=x.S(16*16*4);x.jg(j,G,G,8,0,0);this.OE=x.scale.Qd(j,G,G);
this.fyu=this.pc.bind(this);this.ug=this.Km.bind(this);this.fvv=this.iP.bind(this);this.sm=0;var z=this.Un;
E.qG(z,this.fyu);E.hM(z,this.ug);z.addEventListener("wheel",this.Mw.bind(this),!1);z.addEventListener("contextmenu",this.fXA.bind(this),!1);
this.BC=0;this.EB="";this.hk=4;E.lN(z)}Xo.prototype=new Yn;Xo.prototype.fPW=function(){if(this.lq.iJ())return window.confirm(YP.get([22,6,3])+" "+this.lq.name+". "+YP.get([22,6,4]));
return!0};Xo.prototype.SO=function(S){S.preventDefault()};Xo.prototype.pc=function(S){var G=S.button!=null&&S.button!=0?"rdown":"down";
this.KY=!0;var j=new L("mouse",!0);j.action=G;this.ji(S,j);this.D(j);E.JR(this.Un,this.ug);E.hM(window,this.ug);
E.hh(window,this.fvv)};Xo.prototype.Km=function(S){var G=new L("mouse",!0);G.action="move";this.ji(S,G);
this.D(G)};Xo.prototype.iP=function(S){var G=S.button!=null&&S.button!=0?"rup":"up";this.KY=!1;var j=new L("mouse",!0);
j.action=G;this.ji(S,j);this.D(j);E.JR(window,this.ug);E.li(window,this.fvv);E.hM(this.Un,this.ug)};
Xo.prototype.Mw=function(S){this.SO(S);if(S.deltaX==0&&S.deltaY==0||Date.now()-this.sm<50)return;this.sm=Date.now();
var G=new L("mouse",!0);G.action="scroll";this.ji(S,G);this.D(G)};Xo.prototype.fXA=function(S){S.stopPropagation();
S.preventDefault()};Xo.prototype.ji=function(S,G){if(G.action!="up"){var j=E.V(),z=E.cV(S,this.Un);this.nN=G.IL={x:j*z.x,y:j*z.y,Uq:this.KY};
var O=E.cV(S,document.body);G.IL.B_=O.x;G.IL.cd=O.y}else this.nN=G.IL={x:this.nN.x,y:this.nN.y,Uq:this.KY};
G.IL.vi=1;if(S.pressure!=null&&S.pressure!=0)G.IL.vi=S.pressure*2;if(S.deltaX!=null){G.DC=new A(S.deltaX*.5,S.deltaY*.5)}};
Xo.prototype.uQ=function(S,G){this.Wh=S};Xo.prototype.SL=function(S){this.fE();this.iC()};Xo.prototype.yd=function(S,G){if(S<=0||G<=0)return;
this.YC=S;this.QM=G;var j=this.lq,z=E.V();j.Q.G.o=Math.floor(S*z);j.Q.G.i=Math.floor(G*z);E.cl(this.GH,S,G);
E.cl(this.ZN,S,G);E.cl(Z.EA(),S,G);if(j.Q.u==0)j.Q.u=t.fr.vo(j.o,j.i,S*z,G*z);this.FN=!0;this.iC()};
Xo.prototype.fE=function(){var S=this.Un.firstChild;if(!Z.Gp&&S==Z.EA()||Z.Gp&&S==this.GH)this.Un.removeChild(S);
this.Un.appendChild(Z.Gp?Z.EA():this.GH)};Xo.prototype.iC=function(){if(Z.Gp!=this.hk){this.BC=0;this.EB="";
this.FN=!0}this.hk=Z.Gp;if(this.Wh==null)return;if(Z.Gp)this.fMs();else this.fMy();var S=this.lq;this.BC=S.Q.u;
this.EB=JSON.stringify(S.Q.qk);this.FN=!1};Xo.prototype.fMs=function(){if(Z.Gp&&Xo.faf==null)Xo.faf=new Xo.Wc(!1);
if(Z.Gp&&Xo.fpo==null)Xo.fpo=new Xo.Wc(!0);var S=this.lq,M;if(S.hK==null)return;var G=S.Q,j=G.G.o,z=G.G.i,O=Z.um;
this.G.clearRect(0,0,G.G.o,G.G.i);var i=this.fl_(S);if(G.pk==null)G.pk=new Z.XL(G.G.o,G.G.i);if(i)G.pk.set(this.GH);
else{Z.XD(G.pk);Z.js(0)}var C=new Q(0,0,S.o*G.u,S.i*G.u);C.x=Math.round((j-S.o*G.u)/2+G.c.x);C.y=Math.round((z-S.i*G.u)/2+G.c.y);
var D=[0,0,0,0],X=[];if(S.add.artd){D=Xo.fla(S);var l=S.o,f=S.i;M=Xo.fpo;for(var F=0;F<S.d.length;F++){var $=S.d[F];
if($.add.artb==null||!$.Gg())continue;var _=$.he();X.push(_.x/l,_.y/f,_.o/l,_.i/f)}if(X.length>32*4)X=X.slice(0,32*4);
while(X.length<32*4)X.push(0,0,0,0)}else M=Xo.faf;Z._j(j,z);Z.js(0);Z._j(j,z);M.oX();M.tq(G.pk.Om,S.hK.Om,new Float32Array([C.x/j,C.y/z,C.o/j,C.i/z]),new Float32Array([8/j,8/z]),S.o,S.i,1/S.Q.u,j,z,new Float32Array(X),new Float32Array(D),new Float32Array(x.Mt.jt(x.Mt.oN(G.qk))));
O.drawArrays(O.TRIANGLES,0,6)};Xo.fla=function(S){var G=S.add.artd;if(G.canvasColor==null)return[0,0,0,0];
var j=G.canvasColor.v,z=[j.Rd.v/255,j.Grn.v/255,j.Bl.v/255,1];for(var O=0;O<4;O++)z[O]=Math.min(1,z[O]);
return z};Xo.prototype.fMy=function(){var S=this.lq;if(S.buffer==null)return;var G=S.Q,j=G.G.o,z=G.G.i;
this.Zt.clearRect(0,0,G.G.o,G.G.i);if(S.add.artd==null){this.G.clearRect(0,0,G.G.o,G.G.i)}else{var O=Xo.fla(S);
this.G.fillStyle="#"+x.zt(O[0]*255<<16|O[1]*255<<8|O[2]*255);this.G.fillRect(0,0,G.G.o,G.G.i)}var i=G.Ww(),C=G.G.tY(i);
this.G.save();this.G.translate(i.x,i.y);if(S.add.artd==null){this.G.fillStyle=this.OE;this.G.fillRect(0,0,i.o,i.i)}else{this.G.fillStyle="#ffffff";
this.G.scale(G.u,G.u);for(var M=0;M<S.d.length;M++){var D=S.d[M];if(D.add.artb==null||!D.Gg())continue;
var X=D.he();this.G.fillRect(X.x,X.y,X.o,X.i)}}this.G.restore();var l=S.o!=G.kb.o||S.i!=G.kb.i;if(l)G.kb.cK(0,0,S.o,S.i);
var f=JSON.stringify(G.qk);if(G.u<=1){if(G.u!=this.BC||f!=this.EB||S.lr){if(G.u!=this.BC||G.XR==null||l)G.XR=this.G.createImageData(Math.max(1,i.o),Math.max(1,i.i));
if(G.u<1){var F=x.jT(S.buffer,new Q(0,0,S.o,S.i),G.u,new Uint8Array(G.XR.data.buffer))}else x.Fj(S.buffer,G.XR.data);
x.Mt.o_(G.XR.data,G.XR.data,x.Mt.oN(G.qk))}this.Zt.putImageData(G.XR,i.x,i.y);this.G.drawImage(this.ZN,C.x,C.y,C.o,C.i,C.x,C.y,C.o,C.i)}else{var $=G.iR(),_=new Q(0,0,$.o*G.u,$.i*G.u);
_.x=$.x*G.u+i.x;_.y=$.y*G.u+i.y;if(G.u!=this.BC||this.FN){G.SB=x.S($.h()*4);G.XR=this.G.createImageData(_.o,_.i)}x.set(G.SB,0);
x.yF(this.lq.buffer,new Q(0,0,S.o,S.i),G.SB,$);x.scale.oG(G.SB,$.o,$.i,G.XR.data,_.o,_.i,G.u);x.Mt.o_(G.XR.data,G.XR.data,x.Mt.oN(G.qk));
this.Zt.putImageData(G.XR,_.x,_.y);this.G.drawImage(this.ZN,0,0)}this.fl_(S)};Xo.prototype.fl_=function(S){var G=S.Q,j=G.qk[0]+G.qk[1]+G.qk[2],z=!1,O=[];
for(var i=0;i<S.N.length;i++){var C=S.d[S.N[i]],M=C.hz;if(M!=1&&M!=3)continue;var D=M==1?C.Ew():C.td(S).q;
if(D.tO)O.push(D)}for(var i=0;i<S.Ft.length;i++)if(S.Ft[i].tO)O.push(S.Ft[i]);for(var i=0;i<O.length;
i++){var D=O[i],X=Math.round(D.AE.C)<<16|Math.round(D.AE.X)<<8|Math.round(D.AE.H);this.fgu(D.channel,D.rect,G,O.length==1&&j==0?2:1,D.color,X);
z=!0}var l=this.Wh;z=this.fMr(S,this.G,G)||z;if(S.f&&l.cm&&l.E$.if){this.fgu(S.f.channel,S.f.rect,G,0,0,0);
z=!0}return z};Xo.prototype.fgu=function(S,G,j,z,O,i){var C=j.Ww(),M,D,X;if(j.u<=1){M=G.clone();M.x=Math.round(M.x*j.u);
M.y=Math.round(M.y*j.u);M.o=Math.floor(M.o*j.u);M.i=Math.floor(M.i*j.u);D=S;if(j.u<1){var l=x.S(G.h()*4);
x.Cy(S,l,3);var f=x.jT(l,G,j.u);M.o=f.rect.o;M.i=f.rect.i;if(j.jD==null||j.jD.length<M.h())j.jD=x.S(M.h());
D=j.jD;x.tb(f.hC,D,3)}if(j.RS==null||j.RS.width!=M.o||j.RS.height!=M.i)j.RS=this.G.createImageData(Math.max(1,M.o),Math.max(1,M.i));
else x.GC(j.RS.data,0);var F=j.G.clone();F.offset(-C.x,-C.y);X=M.tY(F)}else{var $=j.iR();M=new Q($.x*j.u,$.y*j.u,$.o*j.u,$.i*j.u);
if(j.u!=this.BC||j.RS==null||j.RS.width!=M.o||j.RS.height!=M.i){j.jD=x.S(M.h());j.RS=this.G.createImageData(M.o,M.i)}var _=x.S($.h());
x.set(_,O);x.zP(S,G,_,$);x.scale.hZ(_,$.o,$.i,j.jD,M.o,M.i,j.u);x.GC(j.RS.data,0);D=j.jD}var P=Z.Gp?65535:16777215;
i=i&P;if(z==0)x.f.fXX(D,j.RS.data,M,P,X);else{var k=C.x,H=C.y,q=C.o,R=C.i;X=M.tY(new Q(0,0,q,R));if(j.u<=1){var I=O<<16|O<<8|O;
if(Z.Gp)I=I&16776960;this.G.fillStyle=z==2?"#"+x.zt(I):"rgba("+(i&255)+","+(i>>>8&255)+","+(i>>>16&255)+","+.5*(1-O/255)+")";
var b=k,Y=b+X.x,m=Y+X.o,h=b+q,e=H,s=e+X.y,y=s+X.i,T=e+R;this.G.fillRect(k,e,q,s-e);this.G.fillRect(k,s,Y-b,y-s);
this.G.fillRect(m,s,h-m,y-s);this.G.fillRect(k,y,q,T-y)}x.f.fXM(D,j.RS.data,M,P,X,z,i)}if(j.u<=1)this.Zt.clearRect(0,0,j.G.o,j.G.i);
this.Zt.putImageData(j.RS,C.x+M.x,C.y+M.y);this.G.drawImage(this.ZN,0,0)};Xo.prototype.fMr=function(S,G,j){var z=S.m.OM||S.m.GR||S.m.BR||S.m.cu.length!=0||S.m.dj.length!=0,O=this.Wh,i=O.E$,C=j.Ww(),M=new Ym(j.u,0,0,j.u,C.x+.5,C.y+.5),D=XS.Se[O.EO],X=Math.round(12*E.V());
G.fillStyle="#333300";G.font=X+"px sans-serif";if(S.add.artd)for(var l=0;l<S.d.length;l++){var f=S.d[l];
if(f.add.artb==null||!f.Gg())continue;var F=f.he(),$=new A(F.x,F.y);$=M.LU($);G.fillText(f.getName(),Math.round($.x),Math.round($.y-6));
z=!0}G.fillStyle=Z.Gp?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)";G.strokeStyle=Z.Gp?"#0000ff":"#000000";if(O.cm&&i.qD){var _=S.ya(),P=_[0],k=_[1];
for(var H=0;H<k.length;H++){var f=P[k[H]],q=f.add.vmsk,R=q.z;G.lineWidth=.5;var I=x.Y.tH(R);this.ZR(I,M,G);
G.stroke();z=!0;if(S.N.length!=1)continue;var b=-1,Y=Math.round(3*E.V());for(var l=0;l<R.length;l++){if(R[l].type>5)continue;
if(R[l].type==0||R[l].type==3){if(R[l].ta!=-1)b++;continue}if(q.N.indexOf(b)!=-1){var m=C.x+R[l].K.x*j.u,h=C.y+R[l].K.y*j.u;
G.fillRect(Math.round(m-Y+.5),Math.round(h-Y+.5),2*Y-1,2*Y-1)}if(q.Am.indexOf(l)!=-1){var e=[R[l].K];
G.beginPath();G.moveTo(C.x+R[l].Cu.x*j.u,C.y+R[l].Cu.y*j.u);G.lineTo(C.x+R[l].K.x*j.u,C.y+R[l].K.y*j.u);
G.lineTo(C.x+R[l].tw.x*j.u,C.y+R[l].tw.y*j.u);G.stroke();if(!R[l].K.Xs(R[l].Cu))e.push(R[l].Cu);if(!R[l].K.Xs(R[l].tw))e.push(R[l].tw);
for(var s=0;s<e.length;s++){var y=e[s],m=C.x+y.x*j.u,h=C.y+y.y*j.u;if(s==0&&(R[l].type==2||R[l].type==5))G.fillRect(Math.round(m-1.2*Y),Math.round(h-1.2*Y),Math.round(2.4*Y),Math.round(2.4*Y));
else{G.beginPath();G.arc(m,h,Y*1.2,0,2*Math.PI);G.fill()}}}z=!0}}}G.lineWidth=1;if(S.m.OM){this.ZR(S.m.OM,M,G);
G.fill()}if(S.m.GR){this.ZR(S.m.GR,M,G);G.stroke()}for(var T in S.m.Ag)if(S.m.Ag[T].GR){this.ZR(S.m.Ag[T].GR,M,G);
G.stroke()}G.beginPath();var Y=4*E.V(),K=S.m.oZ;for(var l=0;l<K.length;l+=2){z=!0;var m=C.x+K[l]*j.u,h=C.y+K[l+1]*j.u;
G.rect(m-Y+.5,h-Y+.5,2*Y-1,2*Y-1)}G.stroke();G.beginPath();var Y=4*E.V(),K=S.m.fna;for(var l=0;l<K.length;
l+=2){z=!0;var m=C.x+K[l]*j.u,h=C.y+K[l+1]*j.u;G.moveTo(m+Y-.5,h);G.arc(m,h,Y-.5,0,2*Math.PI)}G.fill();
if(S.m.cu.length!=0){for(var l=0;l<S.m.cu.length;l++){var B=S.m.cu[l],a=B[1];G.putImageData(new ImageData(new Uint8ClampedArray(B[0].buffer),a.o,a.i),a.x,a.y)}}if(S.m.nQ){z=!0;
var u=S.m.nQ,r=u.Ez,I={w:[],v:[]};for(var l=0;l<u.EC.length;l++)x.Y.concat(I,x.Y.pu(u.EC[l]));I.v=I.v.concat(r);
for(var l=0;l<r.length;l+=4)I.w.push("M","L");G.strokeStyle=Z.Gp?"#dd3300":"#dd3333";this.ZR(I,M,G);
G.stroke();var v=E.V();for(var l=0;l<r.length;l+=4){var m=r[l],h=r[l+1],o=r[l+2],V=r[l+3],J=Math.sqrt((V-h)*(V-h)+(o-m)*(o-m));
J=x.Sx.sq(J,S.bY,O,h==V?S.o:S.i);var d=new A((m+o)/2,(h+V)/2);d=M.LU(d);G.fillStyle=Z.Gp?"#dd3300":"#dd3333";
var oU=G.measureText(J),p=oU.width;G.fillRect(d.x-p/2-2.5*v,d.y-7.5*v,p+5*v,15*v);G.fillStyle=Z.Gp?"#ffff00":"#ffffff";
G.fillText(J,d.x-p/2,d.y+4*v)}}if(O.cm){G.lineWidth=1;if(i.jl){var N=x.Sx.$k(i.WP,S,i.Wv),ob=N;if(i.Wv==4)ob*=S.i/S.o;
this.XK(S,C,G,N,ob,"#808000",i.jc);z=!0}if(i.Bp&&S.Q.u>7){this.XK(S,C,G,1,1,"rgba(128,128,0,0.5)",i.jc);
z=!0}if(i.WX){G.beginPath();G.strokeStyle=Z.Gp?"#00ff00":"#00ffff";for(var l=0;l<S.WX[0].length;l++){var oe=Math.round(S.Q.We(S.WX[0][l],0).x)+.5;
G.moveTo(oe,0);G.lineTo(oe,S.Q.G.i)}for(var l=0;l<S.WX[1].length;l++){var oF=Math.round(S.Q.We(0,S.WX[1][l]).y)+.5;
G.moveTo(0,oF);G.lineTo(S.Q.G.o,oF)}G.closePath();G.stroke()}var oN=S.fF;if(i.fF&&oN.length!=0){var YM=G.font;
G.font=Math.round(X*.8)+"px sans-serif";var oE=[],ox=[];for(var l=0;l<oN.length;l++){var c=t.Ga.pa(oN,l);
oE.push(c);if(S.Eu.indexOf(l)!=-1)ox.push(c)}oE.reverse();var oG=Date.now();oE=x.rect.$I([0,0,S.o,S.i],oE);
G.translate(.5,.5);for(var s=0;s<2;s++)for(var l=0;l<oE.length;l++){var or=oE[l],b=or[4],Yf=b!=null?oN[b]:null;
if(Yf&&s==0||Yf==null&&s==1)continue;var oL=S.Q.We(or[0],or[1]),YX=S.Q.We(or[2],or[3]),m=Math.round(oL.x),h=Math.round(oL.y),o=Math.round(YX.x),V=Math.round(YX.y),YC=Yf?"#008888":"#999999";
if(Z.Gp)YC=YC.slice(0,5)+"00";G.strokeStyle=G.fillStyle=YC;G.beginPath();G.moveTo(m,h);G.lineTo(o,h);
G.lineTo(o,V);G.lineTo(m,V);G.closePath();G.stroke();var Yp=l+1,oU=G.measureText(Yp),p=oU.width;G.fillRect(m-.5,h-.5,Math.round(p+X/2),X);
G.fillStyle=Z.Gp?"#ffff00":"#ffffff";G.fillText(Yp,m+X/4,Math.round(h+X*.8)-.5)}for(var l=0;l<ox.length;
l++){var or=ox[l],oL=S.Q.We(or[0],or[1]),YX=S.Q.We(or[2],or[3]),m=Math.round(oL.x),h=Math.round(oL.y),o=Math.round(YX.x),V=Math.round(YX.y);
G.strokeStyle=G.fillStyle=Z.Gp?"#00aa00":"#00aaaa";G.beginPath();G.moveTo(m,h);G.lineTo(o,h);G.lineTo(o,V);
G.lineTo(m,V);G.closePath();G.stroke();var YZ=[m,h,o,h,o,V,m,V];for(var Yz=0;Yz<YZ.length;Yz+=2){var oe=YZ[Yz],oF=YZ[Yz+1],YT=YZ[Yz+2&7],Yg=YZ[Yz+3&7];
G.fillRect(oe-2.5,oF-2.5,4,4);G.fillRect(Math.round((oe+YT)/2)-2.5,Math.round((oF+Yg)/2)-2.5,4,4)}}G.translate(-.5,-.5);
G.font=YM;z=!0}}G.strokeStyle=Z.Gp?"#ff0000":"#ff00ff";if(S.m.BR){this.ZR(S.m.BR,M,G);G.stroke()}if(O.Bu){if(S.Q.wn==null||S.Q.wn.width!=S.Q.G.o||S.Q.CB.height!=S.Q.G.i){S.Q.wn=G.createImageData(S.Q.G.o,x.Sx.Pu);
S.Q.CB=G.createImageData(x.Sx.Pu,S.Q.G.i)}var D=XS.Se[O.EO],j=S.Q,YY=j.u*S.o/2,Yo=j.u*S.i/2,Ya=[1,S.bY,S.bY/2.54,S.bY/25.4,S.o/100][i.PZ],YQ=j.u,YK=j.c.clone();
j.u*=Ya;j.c.x+=YY*Ya-YY;j.c.y+=Yo*Ya-Yo;x.Sx.fyW(j,D["--text-color"],D["--bg-input"]);j.u=YQ;j.c=YK;
var fa=CW.fWt(j.u,Z.Gp);if(Z.Gp){x.GC(S.Q.CB.data,0,4278255615);x.GC(S.Q.wn.data,0,4278255615)}G.putImageData(S.Q.CB,0,0);
G.putImageData(S.Q.wn,0,0);G.putImageData(fa,0,S.Q.G.i-fa.height);G.fillStyle="#000000"}if(S.m.dj.length!=0){for(var l=0;
l<S.m.dj.length;l++){var B=S.m.dj[l],a=B[1];G.putImageData(new ImageData(new Uint8ClampedArray(B[0].buffer),a.o,a.i),a.x,a.y)}}return z||O.Bu||S.WX[0].length+S.WX[1].length>0};
Xo.prototype.XK=function(S,G,j,z,O,i,C){while(z*S.Q.u<4){z*=2;O*=2}var M=G.x,D=M+G.o,X=G.y,l=X+G.i;j.beginPath();
j.strokeStyle=i;for(var f=0;f<=S.o;f+=z){var F=Math.round(S.Q.We(f,0).x)+.5;j.moveTo(F,X);j.lineTo(F,l)}if(C==0){for(var $=0;
$<=S.i;$+=O){var _=Math.round(S.Q.We(0,$).y)+.5;j.moveTo(M,_);j.lineTo(D,_)}}else{O*=Math.sqrt(4/3);
var P=(D-M)*(O/(2*z)),k=O*Math.floor(S.o/O);for(var $=-k;$<=S.i+k;$+=O){var _=Math.round(S.Q.We(0,$).y)+.5,H=_-P,q=_+P;
this.fXw(j,M,X,D,l,_,H);this.fXw(j,M,X,D,l,_,q)}}j.closePath();j.stroke()};Xo.prototype.fXw=function(S,G,j,z,O,i,C){var M=G,D=z,X=i,l=C,f=0,F=1,$=D-M,_=l-X,P,k,H;
for(var q=0;q<4;q++){if(q==0){P=-$;k=-(G-M)}if(q==1){P=$;k=z-M}if(q==2){P=-_;k=-(j-X)}if(q==3){P=_;k=O-X}H=k/P;
if(P==0&&k<0)return!1;if(P<0){if(H>F)return!1;else if(H>f)f=H}else if(P>0){if(H<f)return!1;else if(H<F)F=H}}var R=M+f*$,I=X+f*_,b=M+F*$,Y=X+F*_;
S.moveTo(R,I);S.lineTo(b,Y)};Xo.prototype.ZR=function(S,G,j){j.beginPath();var z=x.Y.clone(S);x.Y.GY(z.v,G,z.v);
Typr.U.pathToContext({cmds:z.w,crds:z.v},j)};Xo.Wc=function(S){Z.DH.call(this);this.fyw=S;var G="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform vec4 bgClr; \t\t\tuniform mat4 ctrn; \t\t\t"+(S?"uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+Z.oo._E+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(S?"\t\t\t\t\tbool inr = false; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tinr = inr || ( ar.z!=0.0 && in01(nsc/ar.zw) );\t\t\t\t\t}\t\t\t\t\tvec4 BG = inr ? vec4(1.0,1.0,1.0,1.0) : bgClr; \t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}",j="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Yk(G,j)};Xo.Wc.prototype=new Z.DH;Xo.Wc.prototype.tq=function(S,G,j,z,O,i,C,M,D,X,l,f){this.SV("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var F=Z.um,$=this.mQ;F.uniform4fv($.srct,j);F.uniform2fv($.gsize,z);F.uniform3f($.imgSizeZoom,O,i,C);
F.uniform2f($.cnvSize,M,D);F.uniform4fv($.bgClr,l);F.uniformMatrix4fv($.ctrn,!1,f);if(this.fyw)F.uniform4fv($.ars,X);
F.uniform1i($.source,0);F.uniform1i($.target,1);F.activeTexture(F.TEXTURE0);F.bindTexture(F.TEXTURE_2D,S);
F.activeTexture(F.TEXTURE1);F.bindTexture(F.TEXTURE_2D,G);F.activeTexture(F.TEXTURE0)};function XL(){Yn.call(this,[9,7],!1,null,Yn.qF.fcz);
this.Un.setAttribute("style","min-width:240px;");this.CI=null;this.uu=-1;this.fyV=[];this.ED=E._("div","scrollable");
this.ED.style.height="160px";this.Un.appendChild(this.ED);this.$e=E._("div","lpfoot");this.Un.appendChild(this.$e);
this.XW=[];var S=["reload","lrs/newlayer","lrs/bin"],G=[[5,10],[5,3],[5,4]];for(var j=0;j<S.length;j++){var z=new Ys("<img src=\""+PIMG[S[j]]+"\" class=\"gsicon\" />",!1,G[j]);
z.n("click",this.fop,this);this.$e.appendChild(z.M);this.XW.push(z)}}XL.prototype=new Yn("");XL.prototype.pl=function(S){var G=new L(E.E.R,!0);
G.data=S;G.s=t.J$;this.D(G)};XL.prototype.fop=function(S){var G=this.XW.indexOf(S.currentTarget);if(G!=1)if(this.uu==-1)return;
this.pl({r:["updLC","addLC","delLC"][G],Qf:this.uu});if(G==2)this.uu=-1};XL.prototype.$=function(){Yn.prototype.$.call(this);
for(var S=0;S<this.XW.length;S++)this.XW[S].$()};XL.prototype.SL=function(S){if(S==null)E.Zb(this.Un,"disabled");
else E.uW(this.Un,"disabled");this.CI=S;E.Vk(this.ED);if(S==null)return;var G=S.hx.lastAppliedComp?S.hx.lastAppliedComp.v:0,j=S.hx.list.v.slice(0);
j.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var z=0;z<j.length;
z++){var O=j[z].v,i=new Ma(O.Nm.v,O.compID.v,O.capturedInfo.v,G,this.uu);i.n("activate",this.Yf,this);
i.parent=this;this.ED.appendChild(i.M);this.fyV.push(i)}};XL.prototype.Yf=function(S){this.uu=S.currentTarget.Qf;
this.SL(this.CI)};function Ma(S,G,j,z,O){YS.call(this);this.Qf=G;this.M=E._("div","head listitem"+(G==O?" selected":""));
var i=G==z,C=new Ys("<b>"+(i?"\u2713":"\u2014")+"</b>");if(i)C.hU();this.M.appendChild(C.M);C.n("click",this.kk,this);
var M=this.lO=E._("span");M.textContent=S;this.M.appendChild(M);this.XW=[];if(G!=0){this.M.addEventListener("mouseup",this.Yf.bind(this),!1);
this.fKZ=E._("span","headR");this.M.appendChild(this.fKZ);var D=["lrs/eye","pos","lrs/fx"],X=["Visibility","Position","Appearance"];
for(var l=0;l<D.length;l++){var f=new Ys("<img src=\""+PIMG[D[l]]+"\" class=\"autoscale gsicon\" />",!1,X[l]);
if((j>>l&1)==0)f.M.setAttribute("style","opacity:0.3");f.n("click",this.foW,this);this.fKZ.appendChild(f.M);
this.XW.push(f)}}}Ma.prototype=new YS;Ma.prototype.Yf=function(S){if(S.target!=this.lO&&S.target!=this.M)return;
if(S.detail==1)this.D(new L("activate",!1));else{var G=new Yn.BK(this.lO,this.BM.bind(this))}};Ma.prototype.foW=function(S){var G=this.XW.indexOf(S.currentTarget);
this.pl({r:"editLC",fyJ:G,Qf:this.Qf})};Ma.prototype.BM=function(S){this.pl({r:"editLC",kd:S,Qf:this.Qf})};
Ma.prototype.kk=function(S){this.pl({r:"setLC",Qf:this.Qf})};Ma.prototype.pl=function(S){var G=new L(E.E.R,!0);
G.data=S;G.s=t.J$;this.D(G)};function S$(){Yn.call(this,[9,11],!1,null,Yn.qF.fcw);var S=E._("div","padded");
S.setAttribute("style","min-width:15em");this.Un.appendChild(S);var G=E._("div");S.appendChild(G);G.setAttribute("style","cursor:grab;");
this.Io=E._("canvas");this.Io.width=100;G.appendChild(this.Io);E.qG(this.Io,this.YT.bind(this));this.FF=new ol(null,0,t.fr.ne.length-1);
this.FF.n(E.E.F,this.foQ,this);S.appendChild(this.FF.M);this.fsy=this.Bn.bind(this);this.fmS=this.BD.bind(this);
this.KB=null}S$.prototype=new Yn("");S$.prototype.yd=function(S,G){this.iC()};S$.prototype.foQ=function(S){var G=this.FF.j(),j=this.KB,z=t.fr.ne[t.fr.ne.length-1-G],O=new L(E.E.R,!0);
O.s=t.wb;O.data={r:"zoom",u:z};this.D(O)};S$.prototype.YT=function(S){if(this.KB==null)return;E.hM(window,this.fsy);
E.hh(window,this.fmS)};S$.prototype.Bn=function(S){var G=E.cV(S,this.Io),j=this.KB,z=this.Io.width,O=this.Io.height,i=(G.x*E.V()-z/2)/z,C=(G.y*E.V()-O/2)/O,M=E.V()*j.Q.u,D=Math.round(-j.Q.u*j.o*i),X=Math.round(-j.Q.u*j.i*C);
t.CQ.yB(j,D,X)};S$.prototype.BD=function(S){E.JR(window,this.fsy);E.li(window,this.fmS)};S$.prototype.SL=function(S){if(S==null&&this.KB!=null)this.Io.width=100;
this.KB=S;this.iC()};S$.prototype.iC=function(){var S=this.KB,j=0;if(S==null||S.Q.u==0)return;if(!E.Qb(this.Un))return;
this.FF.P(t.fr.ne.length-1-t.fr.ax(S.Q.u));var G=300*E.V(),z=[S.yA(),new Q(0,0,S.o,S.i)];x.XU(z);while(Math.max(z[j+1].o,z[j+1].i)>G){j+=2}var O=z[j],i=z[j+1],C=i.o,M=i.i,D=this.Io;
D.width=C;D.height=M;E.bV(D,C,M);var X=D.getContext("2d"),l=X.createImageData(C,M);x.Fj(O,l.data);X.putImageData(l,0,0);
var f=S.Q.iR(),F=C/S.o;X.scale(F,F);X.lineWidth=4/F;X.strokeStyle="#ff0000";X.strokeRect(f.x,f.y,f.o,f.i)};
S$.prototype.uQ=function(S,G){};S$.prototype.fE=function(){this.iC()};function MJ(S){Yn.call(this,S.name,!1,S.icon,"plg_"+S.name);
if(!S.url.startsWith("http"))return;var G=E._("iframe","padded");G.setAttribute("src",S.url);G.setAttribute("style","width:"+S.width+"px; height:"+S.height+"px");
this.Un.appendChild(G)}MJ.prototype=new Yn("");function fR(){Yn.call(this,[9,12],!1,null,Yn.qF.ve);this.G$=null;
this.Ny=new Xb(t.bk);this.Ny.parent=this;var S=E._("div","padded");S.setAttribute("style","width:20em");
this.Un.appendChild(S);S.appendChild(this.Ny.Ju)}fR.prototype=new Yn("");fR.prototype.fE=function(){this.Ny.dC(this.G$.FG)};
fR.prototype.uQ=function(S,G){this.G$=S;if(G==o$.$o||G==o$.ve)this.Ny.dC(S.FG)};fR.prototype.yd=function(S,G){this.Ny.faz(this.G$.Ru)};
fR.prototype.$=function(){Yn.prototype.$.call(this);this.Ny.$()};function Ca(){YS.call(this);this.s=0;
this.P$=null;this.M=E._("div","toolconf");this.Ny=null;this.Eh=null;this.body=new E._("div","body")}Ca.prototype=new YS;
Ca.prototype.foR=function(S,G){this.s=S;this.P$=G;if(t.VI[S]){var j=this.Ny=new Xb(S);this.M.appendChild(j.M);
j.parent=this}else{this.Eh=E._("div");this.M.appendChild(this.Eh)}this.M.appendChild(this.body);this.$()};
Ca.prototype.fXk=function(S,G){};Ca.prototype.fYE=function(S){};Ca.prototype.uQ=function(S,G){if(G==o$.$o||G==o$.ve)if(this.Ny)this.Ny.dC(S.FG)};
Ca.prototype.rw=function(S){};Ca.prototype.$=function(){if(this.Ny)this.Ny.$();else this.Eh.innerHTML=E.mu(this.P$,null,"toolicon");
this.ic()};Ca.prototype.ic=function(){};function CM(S){Ca.call(this);if(S==null)return;this.G$=null;
this.KX={};for(var G=0;G<S.length;G++){var j=S[G],z=null;if(j=="brush"){z=new Xr}if(j=="bmode"){z=new Yh([12,19,0],YR.Cm,!1,YR.hI)}if(j=="bmode0"){z=new Yh([12,19,0],YR.Cm.slice(23),!1)}if(j=="opacity"){z=new YN([12,0],0,100,"%");
z.P(100)}if(j=="flow"){z=new YN([12,63],0,100,"%");z.P(100)}if(j=="smth"){z=new YN([19,3,0],0,100,"%");
z.P(0)}if(j=="samp"){z=new Yh("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(j=="wconf"){z=new PM;
z.P([40,!0,!0])}if(j=="strn"){z=new YN([12,64],1,100,"%");z.P(50)}if(j=="smode"){z=new Yh([12,36],[[19,7,0],[19,7,1]]);
z.P(1)}if(j=="pdetail"){z=new YI([12,65]);z.hU()}if(j=="rng"){z=new Yh([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
z.P(1)}if(j=="expo"){z=new YN([12,5],0,100,"%");z.P(50)}if(j=="algnd"){z=new YI([12,75]);z.P(!1)}if(j=="sfrom"){z=new Yh([12,70],[[17,1],[17,3],[17,0]])}if(j=="qsmode"){z=new Xv([12,36],[[5,3],[18,1],[18,2]])}if(j=="redge"){z=new Ys([7,11],!1,null,!0)}if(j=="setop"){z=new Pg}if(j=="patch"){z=new Xv(null,[[12,70],[12,71]])}if(j=="prsr"){z=new Sd(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
z.P([!1,!0])}z.parent=this;this.body.appendChild(z.M);this.KX[j]=z;if(j=="brush")z.n(E.E.F,this.fPn,this);
else if(j=="redge")z.n("click",this.ZT,this);else z.n(E.E.F,this.nY,this)}}CM.prototype=new Ca;CM.prototype.fXk=function(S,G){S=S[1];
var j=this.KX;if(S.Md)j.bmode.P(YR.kC.indexOf(S.Md.v.BlnM));if(S.Opct)j.opacity.P(S.Opct.v);if(S.flow)j.flow.P(S.flow.v);
if(S.Brsh)j.brush.P(S,G.fO.qH,G.fO.ki);if(S.FrgC){var z=x.T.cx(S.FrgC.v),O=new L(E.E.e,!0);O.data={r:E.a.zv,zC:o$.n$,zS:0,g:z.H<<16|z.X<<8|z.C};
this.D(O)}this.fPn();this.nY()};CM.prototype.fYE=function(){if(t.VI[this.s]==null)return null;var S=this.KX,G=JSON.parse(JSON.stringify(S.brush.j()));
G.classID=t.VI[this.s][1][0];if(S.bmode)G.Md={t:"enum",v:{BlnM:YR.kC[S.bmode.j()]}};if(S.opacity)G.Opct={t:"long",v:S.opacity.j()};
if(S.flow)G.flow={t:"long",v:S.flow.j()};var j=this.G$.Cj;j={H:j>>>16,X:j>>>8&255,C:j&255};G.FrgC={t:"Objc",v:x.T.qL(j)};
return["Brush Preset "+G.Brsh.v.Dmtr.v.val,G]};CM.prototype.ZT=function(){var S=new L(E.E.e,!0);S.data={r:E.a.YO,pv:"redge"};
this.D(S)};CM.prototype.ic=function(){for(var S in this.KX)this.KX[S].$()};CM.prototype.rw=function(S){if(S.fTx=="showBrushOpts"){this.KX.brush.fCN(S.vB.x,S.vB.y)}for(var G in S.zA){var j=S.zA[G];
if(G!="qsmode")j*=100;if(this.KX[G])this.KX[G].P(j)}};CM.prototype.uQ=function(S,G){Ca.prototype.uQ.call(this,S,G);
this.G$=S;var j=this.KX.brush;if(j==null)return;if(G==o$.$o||G==o$.bk)j.dC(S.fO);if(G==o$.Ae){j.P(S.fO.Em,S.fO.qH,S.fO.ki)}};
CM.prototype.fPn=function(){var S=new L(E.E.e,!0);S.data={r:E.a.zv,zC:o$.Ae,vJ:this.KX.brush.j()};this.D(S)};
CM.prototype.nY=function(){var S=new L(E.E.e,!0);S.data={r:E.a.EN,s:this.s};for(var G in this.KX){if(G=="brush"||G=="redge")continue;
var j=this.KX[G].j();if(["opacity","flow","smth","strn","expo"].indexOf(G)!=-1)S.data[G]=j/100;else if(G=="bmode")S.data.bmode=YR.fh[j];
else if(G=="bmode0")S.data.bmode=YR.fh[23+j];else S.data[G]=j}this.D(S)};function Ci(S){Ca.call(this);
if(S)return;this.data={r:E.a.EN,ho:"front",vU:0,nz:[10,!0,!0],EU:{CM:0,x:1,y:1}};this.uw=new Pg;this.body.appendChild(this.uw.M);
this.uw.n(E.E.F,this.IE,this);this.Rg=new YN([7,6],0,100," px");this.Rg.parent=this;this.Rg.P(0);this.body.appendChild(this.Rg.M);
this.Rg.n(E.E.F,this.IE,this);this.Eb=new Ys([7,11],!1,null,!0);this.body.appendChild(this.Eb.M);this.Eb.n("click",this.ZT,this)}Ci.prototype=new Ca;
Ci.prototype.rw=function(S){if(S.ho!=null)this.uw.P(S.ho);else{var G=Ci.Ug;if(G==null){var j=Cb.fYm(!0);
G=Ci.Ug=new Cq(j.items,j.Vl)}G.$();G.parent=this;G.update(S.HX,S.Wh);var z=new L(E.E.e,!0);z.data={r:E.a.Jt,pZ:G,x:S.VN.B_+2,y:S.VN.cd+1};
this.D(z)}};Ci.prototype.ic=function(){this.Rg.$();this.uw.$();this.Eb.$()};Ci.prototype.ZT=function(){var S=new L(E.E.e,!0);
S.data={r:E.a.YO,pv:"redge"};this.D(S)};Ci.prototype.IE=function(){var S=new L(E.E.e,!0);this.data.s=this.s;
this.data.ho=this.uw.j();this.data.vU=this.Rg.j();S.data=this.data;this.D(S)};function MH(){CM.call(this,["brush","strn"])}MH.prototype=new CM;
function MB(){CM.call(this,"brush bmode opacity flow smth prsr".split(" "))}MB.prototype=new CM;function MR(){CM.call(this,["brush","bmode0","samp","wconf"])}MR.prototype=new CM;
function Mi(){CM.call(this,["brush"])}Mi.prototype=new CM;function MD(){CM.call(this,"brush bmode opacity flow smth prsr".split(" "))}MD.prototype=new CM;
function Mj(){CM.call(this,["brush","rng","expo"])}Mj.prototype=new CM;function MO(){CM.call(this,"brush bmode opacity flow algnd sfrom".split(" "))}MO.prototype=new CM;
function fe(S){Ca.call(this);if(S==null)return;var G=E._("span","fitem");this.body.appendChild(G);var j=[[17,0],[17,1],[11,12],[17,2]];
this.ro=[];for(var z=0;z<j.length;z++){var O=new Ys(j[z],!1,null,!0);this.ro.push(O);O.n("click",this.foU,this);
if(!S||z==1)G.appendChild(O.M)}this.EU=new Ss;this.EU.n(E.E.F,this.foe,this);if(!S)this.body.appendChild(this.EU.M);
this.Qk=new fF;this.Qk.n("click",this.SF,this)}fe.prototype=new Ca;fe.prototype.ic=function(){this.Qk.$();
for(var S=0;S<this.ro.length;S++)this.ro[S].$();this.EU.$()};fe.prototype.rw=function(S){var G=this.Qk.M;
if(S.El)this.body.appendChild(G);else if(this.body.contains(G))this.body.removeChild(G);if(S.EU)this.EU.P(S.EU)};
fe.prototype.SF=function(S){var G={r:E.a.EN,s:this.s,CY:this.Qk.j()?"commit":"cancel"},j=new L(E.E.e,!0);
j.data=G;this.D(j)};fe.prototype.foU=function(S){S.target.M.blur();var G={r:E.a.EN,s:this.s,CY:"cropby",fKv:this.ro.indexOf(S.target)},j=new L(E.E.e,!0);
j.data=G;this.D(j)};fe.prototype.foe=function(S){var G={r:E.a.EN,s:this.s,CY:"config",z$:{Ro:this.EU.j()}},j=new L(E.E.e,!0);
j.data=G;this.D(j)};function Mh(){fe.call(this,!1)}Mh.prototype=new fe;function ME(){fe.call(this,!0)}ME.prototype=new fe;
function MU(){CM.call(this,["brush","rng","expo"])}MU.prototype=new CM;function Mx(){CM.call(this,["brush","opacity","flow","smth","prsr"])}Mx.prototype=new CM;
function Mb(){Ci.call(this);this.EU=new Ss;this.EU.n(E.E.F,this.Zc,this);this.body.appendChild(this.EU.M)}Mb.prototype=new Ci(!0);
Mb.prototype.Zc=function(S){this.data.EU=this.EU.j();this.IE()};Mb.prototype.ic=function(){Ci.prototype.ic.call(this);
this.EU.$()};function Me(){Ca.call(this);this.GZ=new Yh([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.GZ.n(E.E.F,this.nY,this);this.body.appendChild(this.GZ.M)}Me.prototype=new Ca;Me.prototype.nY=function(S){var G=new L(E.E.e,!0);
G.data={r:E.a.EN,s:this.s,UX:[1,3,5,11,31][this.GZ.j()]};this.D(G)};Me.prototype.ic=function(){this.GZ.$()};
function MP(){Ca.call(this);this.fP=new PQ(!1);this.fP.parent=this;this.fP.n(E.E.F,this.cr,this);this.body.appendChild(this.fP.M);
this.fP.P(JSON.parse(n.nS.tX).v);this.GV=new Yh(null,n.T.names.slice(0,5));this.GV.n(E.E.F,this.cr,this);
this.body.appendChild(this.GV.M);this.Gn=new Yh([12,19,0],YR.Cm,null,YR.hI);this.Gn.n(E.E.F,this.cr,this);
this.body.appendChild(this.Gn.M);this.xr=new YN([12,0],0,100,"%");this.xr.parent=this;this.xr.n(E.E.F,this.cr,this);
this.body.appendChild(this.xr.M);this.xr.P(100);this.Gk=new YI([12,23,0]);this.Gk.n(E.E.F,this.cr,this);
this.body.appendChild(this.Gk.M)}MP.prototype=new Ca;MP.prototype.ic=function(){this.GV.$();this.Gn.$();
this.xr.$();this.Gk.$()};MP.prototype.uQ=function(S,G){Ca.prototype.uQ.call(this,S,G);var j=G==o$.n$;
this.fP.mn(S.Cj,S.iw);if(j||G==o$.vT||G==o$.$o)this.fP.dC(S.Nx)};MP.prototype.cr=function(){var S=new L(E.E.e,!0);
S.data={r:E.a.EN,s:this.s};S.data.zC={T:this.fP.j(),style:n.T.types[this.GV.j()],reverse:this.Gk.Ev(),fWI:YR.fh[this.Gn.j()],opacity:this.xr.j()/100};
this.D(S)};function M_(){Ca.call(this)}M_.prototype=new Ca;function MN(){CM.call(this,["brush","algnd","sfrom"])}MN.prototype=new CM;
function MK(){Ca.call(this);this.$b=new Xy;this.$b.parent=this;this.body.appendChild(this.$b.hV.M);this.body.appendChild(this.$b.Ex.M);
this.body.appendChild(this.$b.xq.M);var S=E._("span","fitem");this.body.appendChild(S);S.appendChild(this.$b.iE.M);
S.appendChild(this.$b.iG.M);S.appendChild(this.$b.ib.M);this._V=new Ys([11,9],!1,null,!0);this._V.n("click",this.fo$,this);
this.body.appendChild(this._V.M);this.Qk=new fF;this.Qk.n("click",this.SF,this)}MK.prototype=new Ca;
MK.prototype.ic=function(){this.Qk.$();this.$b.$();this._V.$()};MK.prototype.fo$=function(S){var G={r:E.a.EN,s:this.s,CY:"showwarp"},j=new L(E.E.e,!0);
j.data=G;this.D(j)};MK.prototype.rw=function(S){if(S.CY=="showactive")this.body.appendChild(this.Qk.M);
if(S.CY=="hideactive")this.body.removeChild(this.Qk.M)};MK.prototype.uQ=function(S,G){Ca.prototype.uQ.call(this,S,G);
if(G!=o$.$o&&G!=o$.aw&&G!=o$.lQ&&G!=o$.rq)return;this.$b.mz(S)};MK.prototype.SF=function(S){var G={r:E.a.EN,s:this.s,CY:this.Qk.j()?"commit":"cancel"},j=new L(E.E.e,!0);
j.data=G;this.D(j)};function ML(){Ci.call(this)}ML.prototype=new Ci(!0);function XN(){Ca.call(this);
var S=[],j="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.un=new YI([12,85]);this.un.n(E.E.F,this.nY,this);S.push(this.un.M);this.ub=new YI([20,1]);this.ub.n(E.E.F,this.nY,this);
S.push(this.ub.M);this.ue=new YI([12,83]);this.ue.n(E.E.F,this.nY,this);S.push(this.ue.M);var G=E._("span","fitem");
S.push(G);this.fmP=new Yh("Scale for exported files",["1x","2x","3x","4x"],!0);G.appendChild(this.fmP.M);
this.Uo=new Ys(j+" PNG",!1,null,!0);G.appendChild(this.Uo.M);this.Uo.n("click",this.ZH,this);this.fmh=new Ys(j+" SVG",!1,null,!0);
G.appendChild(this.fmh.M);this.fmh.n("click",this.ZH,this);var z=E._("span","fitem");S.push(z);var O=E._("span","fitem");
S.push(O);this.XW=[];for(var i=0;i<8;i++){var C=i==3||i==7?[20,4,6]:[20,4,i<3?i:i-1],M=new Ys("Hi",!1,C);
(i<4?z:O).appendChild(M.M);M.n("click",this.ZH,this);this.XW.push(M)}for(var i=0;i<S.length;i++)this.body.appendChild(S[i]);
this.fmE=S}XN.prototype=new Ca;XN.prototype.rw=function(S){var G=S.Uc,j=S.fZR;this.un.P(G.nZ);this.ub.P(G.nE);
this.ue.P(G.nQ);if(j){E.Vk(this.body);for(var z=0;z<j.length;z++)if(j[z]==1&&this.fmE[z])this.body.appendChild(this.fmE[z])}};
XN.prototype.ZH=function(S){var G=this.XW.indexOf(S.target),j;if(G==-1)j={r:E.a.EN,s:this.s,zS:S.target==this.Uo?"getPNG":"getSVG",fgR:this.fmP.j()+1};
else j={r:E.a.EN,s:this.s,zS:"algn",g:G};var z=new L(E.E.e,!0);z.data=j;this.D(z)};XN.prototype.nY=function(S){var G=new L(E.E.e,!0);
G.data={r:E.a.EN,s:this.s,zS:"prms",nZ:this.un.Ev(),nE:this.ub.Ev(),nQ:this.ue.Ev()};this.D(G)};XN.prototype.ic=function(){this.un.$();
this.ub.$();this.ue.$();var S="h0 h1 h2 hG v0 v1 v2 vG".split(" ");for(var G=0;G<8;G++){this.XW[G].B$(E.mu("align/"+S[G],null,"autoscale"))}};
function MG(){Ci.call(this);var S=this.NN=new PM;S.parent=this;S.n(E.E.F,this.fCE,this);this.body.appendChild(S.M)}MG.prototype=new Ci(!0);
MG.prototype.fCE=function(S){this.data.nz=this.NN.j();this.IE()};MG.prototype.ic=function(){Ci.prototype.ic.call(this);
this.NN.$()};function Mt(){CM.call(this,["setop","patch"])}Mt.prototype=new CM;function og(){CM.call(this,["bmode","opacity","wconf"])}og.prototype=new CM;
function of(){Ci.call(this)}of.prototype=new Ci(!0);function oX(){Ci.call(this)}oX.prototype=new Ci(!0);
function oM(){Ci.call(this);this.EU=new Ss;this.EU.n(E.E.F,this.Zc,this);this.body.appendChild(this.EU.M)}oM.prototype=new Ci(!0);
oM.prototype.Zc=function(S){this.data.EU=this.EU.j();this.IE()};oM.prototype.ic=function(){Ci.prototype.ic.call(this);
this.EU.$()};function Mv(){Ca.call(this);this.QO=[new CY("X",null,3),new CY("Y",null,3),new CY("W",null,3),new CY("H",null,3),new CY([12,15],null,4),new CY([12,80,0],null,4),new Ys([15,7,6],!1,null,!0)];
for(var S=0;S<this.QO.length;S++){var G=this.QO[S];this.body.appendChild(G.M)}this.QO[6].n("click",this.fCU,this);
this.GB=0}Mv.prototype=new Ca;Mv.prototype.fCU=function(S){if(this.GB==0){return}var G=new L(E.E.R,!0);
G.s=t.Kk;G.data={r:"rot",mj:[2,5],g:-this.GB};this.D(G)};Mv.prototype.rw=function(S){var G=S.fZb,j=S.Ck,z=j.x-G.x,O=j.y-G.y,i=this.QO;
this.GB=-Math.atan2(O,z);i[0].P(G.x);i[1].P(G.y);i[2].P(z);i[3].P(O);i[4].P((this.GB*180/Math.PI).toFixed(2));
i[5].P(Math.sqrt(z*z+O*O).toFixed(2))};Mv.prototype.ic=function(){var S=this.QO;for(var G=0;G<S.length;
G++)S[G].$();E.Dy(S[2],S[3])};function oY(){CM.call(this,["brush","strn","pdetail"])}oY.prototype=new CM;
function oC(){CM.call(this,["brush"]);this.fQO=[];var S=[[7,12]];for(var G=0;G<S.length;G++){var j=new Ys(S[G],!1,null,!0);
this.fQO.push(j);j.parent=this;this.body.appendChild(j.M);j.n("click",this.fCt,this)}}oC.prototype=new CM;
oC.prototype.fCt=function(S){var G=this.fQO.indexOf(S.currentTarget),j=new L(E.E.Hz,!0);j.data=t.ha.Dn("contentAware");
this.D(j)};function oS(){CM.call(this,["brush","strn"])}oS.prototype=new CM;function oP(){CM.call(this,["brush","flow","smode"])}oP.prototype=new CM;
function PZ(){Ca.call(this);this.uT=!1;var S=E._("span","fitem");this.body.appendChild(S);this.fa=new Ys("<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />");
S.appendChild(this.fa.M);this.fa.n("click",this.fvx,this);this.GG=new Ys("<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />");
S.appendChild(this.GG.M);this.GG.n("click",this.faN,this);this.tg=new Ys([20,2]);this.body.appendChild(this.tg.M);
this.tg.n("click",this.fpv,this);this.UK=new Ys([20,3]);this.body.appendChild(this.UK.M);this.UK.n("click",this.fpv,this);
this.fa.hU()}PZ.prototype=new Ca;PZ.prototype.ic=function(){this.tg.$();this.UK.$()};PZ.prototype.fvx=function(S){this.fa.hU();
this.GG.dp();if(S)this.nY()};PZ.prototype.faN=function(S){this.GG.hU();this.fa.dp();if(S)this.nY()};
PZ.prototype.nY=function(){var S={r:E.a.EN,s:this.s,lJ:this.fa.Ev()},G=new L(E.E.e,!0);G.data=S;this.D(G)};
PZ.prototype.rw=function(S){if(this.uT!=S.uT){if(this.fa.Ev())this.faN();else this.fvx()}this.uT=S.uT};
PZ.prototype.fpv=function(S){var G=new L(E.E.R,!0);G.s=t.wb;G.data={r:"adapt",g:S.target==this.tg?"pixel":"fitscr"};
this.D(G)};function fB(S,G){Ca.call(this);if(S==null)return;this.KX={};var j=[[12,76,0],[12,76,1]];if(G==null)j.push([12,76,2]);
for(var z=0;z<S.length;z++){var O=S[z],i=null;if(O=="tmode"){i=new Yh(null,j);i.P(1)}if(O=="binop"){i=new Yh(null,[[18,1],[18,2],[18,3],[18,4]]);
i._S()}if(O=="pshape")i=new Yh(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(O=="shape")i=new CV([12,76,1]);
if(O=="crad"){i=new YN([12,94,0],0,50,"px");i.P(0)}if(O=="cstr"){i=new Ss}if(O=="irad"){i=new YN([12,94,1],0,100,"%");
i.P(40)}if(O=="length"){i=new YN([12,80,0],4,40);i.P(4)}if(O=="sides"){i=new YN([12,78],3,30);i.P(5)}if(O=="width"){i=new YN([12,41],1,100,"px");
i.P(5)}if(O=="tsiz"){i=new YN("Tip Size",100,500,"%");i.P(300)}if(O=="tolr"){i=new YN([12,24],0,100);
i.P(5)}if(O=="fstyle"){i=new XI([12,26])}if(O=="sstyle"){i=new SN}if(O=="psnap"){i=new YI([8,10])}i.parent=this;
this.body.appendChild(i.M);this.KX[O]=i;i.n(E.E.F,this.nY,this)}}fB.prototype=new Ca;fB.prototype.fpa=function(S){return null};
fB.prototype.fpW=function(){if(this.KX.pshape==null)return;var S=this.fpa(this.KX.pshape.j());if(S==null)return;
E.Vk(this.body);for(var G=0;G<S.length;G++){var j=S[G];this.body.appendChild(this.KX[j].M)}};fB.prototype.ic=function(){for(var S in this.KX){this.KX[S].$()}};
fB.prototype.nY=function(S){var G=new L(E.E.e,!0);if(S.target==this.KX.fstyle){G.data={r:E.a.zv,zC:o$.ad,g:this.KX.fstyle.j()};
this.D(G);return}if(S.target==this.KX.sstyle){G.data={r:E.a.zv,zC:o$.rO,g:this.KX.sstyle.j()};this.D(G);
return}if(this.KX.tmode&&this.KX.binop){if(this.KX.tmode.j()==0)this.KX.binop.UE();else this.KX.binop._S()}G.data={r:E.a.EN,s:this.s};
for(var j in this.KX)if(j!="sstyle")G.data[j]=this.KX[j].j();this.D(G);if(S.target==this.KX.pshape)this.fpW()};
fB.prototype.uQ=function(S,G){Ca.prototype.uQ.call(this,S,G);var j=this.KX.fstyle,z=this.KX.sstyle;if(j)j.uQ(S,G);
if(z)z.uQ(S,G);if(G==o$.$o||G==o$.lv)if(S.pm.length!=0&&this.KX.shape){this.KX.shape.dC(S.pm)}if(G==o$.$o||G==o$.ad)if(j)j.P(null,S.pX,S.fTz);
if(G==o$.$o||G==o$.rO)if(z)z.P(null,S.aL,S.fTi)};function op(){fB.call(this,["tmode","fstyle","sstyle","binop"],!0)}op.prototype=new fB;
function oz(){fB.call(this,["tmode","fstyle","sstyle","binop","tolr"])}oz.prototype=new fB;function M$(){fB.call(this,["fstyle","sstyle"]);
this.fAy=null;this.fTr=null;this.fTF=null;this.dA=new Yh("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.Wg=new Ys("\u25BC");this.Wg.hU();this.dh=new Ys("\u25B2");this.dh.hU();this.UZ=[this.dA,this.Wg,this.dh];
for(var S=0;S<this.UZ.length;S++){var G=this.UZ[S];this.body.appendChild(G.M);G.parent=this;G.n(S==0?E.E.F:"click",this.SE,this)}}M$.prototype=new fB;
M$.prototype.rw=function(S){if(S.CY=="main"){var G=this.UZ,j=S.je;if(j&&j.N.length==1){this.fTr=j.clone();
this.fTF=JSON.stringify(S.tS);var z=j.N[0],O=x.p.Bv(j.z);this.dA.UE();if(z>0)this.Wg.UE();else this.Wg._S();
if(z<O-1)this.dh.UE();else this.dh._S();var i=x.p.VV(j.z,z),C=j.z[i];this.dA.B$("Path "+(z+1));this.dA.P([3,0,1,2][C.ta])}else{for(var M=0;
M<G.length;M++)G[M]._S()}}};M$.prototype.ic=function(){fB.prototype.ic.call(this);this.dA.$()};M$.prototype.SE=function(S){if(S.target==this.dA||S.target==this.Wg||S.target==this.dh){var G={},j=this.fTr,z=j.z,O=JSON.parse(this.fTF),i=j.N[0],C=x.p.VV(z,i),M=z[C];
if(S.target==this.dA){var D=this.dA.j();if(D<4)M.ta=[1,2,3,0][D];else{if(x.p.Bv(z)<=1)return;j.z=x.p.Ye(z);
j.N=[0];j.Am=[];O=[x.tS.Xh()]}}else{var X=S.target==this.Wg?-1:1,l=Math.min(i,i+X),f=Math.max(i,i+X),F=x.p.VV(z,l),$=x.p.VV(z,f);
if(F==-1||$==-1)return;var _=$+x.p._o(z,f),P=O[l];O[l]=O[f];O[f]=P;var k=z.slice(0,F),H=z.slice(F,$),q=z.slice($,_),R=z.slice(_);
j.z=k.concat(q.concat(H.concat(R)));j.N[0]+=X}G.je=j;G.tS=O;var I=new L(E.E.e,!0);I.data={r:E.a.EN,s:this.s,qh:G};
this.D(I)}};function oW(){fB.call(this,["fstyle","sstyle","psnap"])}oW.prototype=new fB;function os(){fB.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}os.prototype=new fB;
function om(){fB.call(this,["tmode","fstyle","sstyle","binop","cstr"])}om.prototype=new fB;function oQ(){fB.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.fgE=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.fpW()}oQ.prototype=new fB;
oQ.prototype.fpa=function(S){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.fgE[S])};
function oT(){fB.call(this,["tmode","fstyle","sstyle","binop","width"])}oT.prototype=new fB;function oZ(){fB.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}oZ.prototype=new fB;
function ou(){CM.call(this,["brush","qsmode","redge"])}ou.prototype=new CM;function ow(){Ca.call(this)}ow.prototype=new Ca;
function od(){Ca.call(this);this.Wg=new Ys("\u25BC");this.Wg.hU();this.dh=new Ys("\u25B2");this.dh.hU();
var Cf=[this.Wg,this.dh];for(var S=0;S<2;S++){var G=Cf[S];this.body.appendChild(G.M);G.n("click",this.SE,this)}}od.prototype=new Ca;
od.prototype.SE=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.EN,s:this.s,zS:"reorder",dir:S.target==this.Wg?-1:1};
this.D(G)};function XR(S){Ca.call(this);if(window.Typr==null||S)return;this.nH=null;this.fTG=E._("span","");
this.fTt=E._("span","");var G=1;this.hg={Bs:new MA(null,24),yy:new YN("X",0,0,"px",0,!1,!0,4),IP:new YN("Y",0,0,"px",0,!1,!0,4),Q$:new YN("W",0,0,["%","px"],0,!1,!0,4),br:new Ys("\u2261",null,[12,51],null),bF:new YN("H",0,0,["%","px"],0,!1,!0,4),ffP:new YN("\u2221",0,0,"\xB0",G,!1,!0),ffv:new YN("\u25B1 X",-85,85,"\xB0",G,!1,!0),ffa:new YN("\u25B1 Y",-85,85,"\xB0",G,!1,!0),UC:new Yh(null,[[12,14,2],[12,14,3]])};
this.hg.UC.P(1);for(var j in this.hg){this.fTG.appendChild(this.hg[j].M);var z=this.hg[j]==this.hg.br?"click":E.E.F;
this.hg[j].n(z,this.fKQ,this)}this.NN=new Pw(!0,!0,!0);this.NN.n(E.E.F,this.fSM,this);this.NN.parent=this;
var O=this.fTt,i=this.NN;O.appendChild(i.Qr.M);O.appendChild(i.eF.M);O.appendChild(i.QG.M);O.appendChild(i.ZD.M);
O.appendChild(i.Zq.M);this._V=new Ys([11,9]);this._V.n("click",this.fSv,this);this.Qk=new fF;this.Qk.n("click",this.SF,this)}XR.prototype=new Ca;
XR.prototype.rw=function(S){if(S.VN){var G=XR,j=G.Ug;if(j==null)j=G.Ug=new Cq(G.fKq(),G.fnG());j.$();
j.parent=this;j.update(S.HX,S.Wh);var z=new L(E.E.e,!0);z.data={r:E.a.Jt,pZ:j,x:S.VN.B_+2,y:S.VN.cd+1};
this.D(z);return}E.Vk(this.body);this.nH=S;if(S.hg){var O=S.hg.L,i=S.hg.Mt.clone(),C=Math.atan2(-i.C,i.A),M=new Ym;
M.rotate(-C);i.concat(M);var D=this.hg;D.Bs.P(S.hg.yT);D.yy.P(S.hg.Bm.x);D.IP.P(S.hg.Bm.y);D.Q$.P(i.A*(D.Q$.QC()=="%"?100:O.o));
D.bF.P(i.JE*(D.bF.QC()=="%"?100:O.i));D.ffP.P(-C*180/Math.PI);D.ffv.P(0*180/Math.PI);D.ffa.P(Math.atan(i.vK)*180/Math.PI);
this.body.appendChild(this.fTG);this._V.dp()}if(S.xJ){this.NN.P(S.xJ);this.body.appendChild(this.fTt);
this._V.hU()}this.body.appendChild(this.Qk.M);if(S.fux)this.body.appendChild(this._V.M)};XR.prototype.fKQ=function(S){var G=this.hg,j=this.nH.hg.L;
if(S.target==G.br)G.br.P(!G.br.j());if(G.br.Ev()){var z=G.bF,O=G.Q$,i=j.i,C=j.o;if(S.target==G.Q$){z=G.Q$;
O=G.bF;i=j.o;C=j.i}var M=z.j()/(z.QC()=="%"?100:i);M*=O.QC()=="%"?100:C;O.P(M)}var D=[];for(var X in G)if(G[X]!=G.br&&G[X]!=G.Bs){var M=G[X].j();
if((G[X]==G.Q$||G[X]==G.bF)&&M==0){M=.1;G[X].P(M)}if(G[X]==G.Q$&&G[X].QC()=="px")M/=j.o/100;if(G[X]==G.bF&&G[X].QC()=="px")M/=j.i/100;
D.push(M)}var l=new A(D[0],D[1]);if(S.target==G.Bs){this.ZO({CY:"ctyp",yT:G.Bs.j()})}else if(S.target==G.yy||S.target==G.IP){this.ZO({CY:"cen",Bm:l})}else{var f=this.nH.hg.Mt.clone(),F=f.clone(),$=Math.atan2(-f.C,f.A);
F.translate(-l.x,-l.y);F.rotate(-$);var _=new Ym(F.A,F.C,F.vK,F.JE,0,0);_.uT();F.concat(_);F.concat(new Ym(D[2]/100,Math.tan(D[5]*Math.PI/180),Math.tan(D[6]*Math.PI/180),D[3]/100,0,0));
F.rotate(-D[4]*Math.PI/180);F.translate(l.x,l.y);this.nH.hg.Mt=F;this.ZO({CY:"trn",hg:F,Vr:this.hg.UC.j()})}};
XR.prototype.fSM=function(S){this.ZO({CY:"wrp",xJ:this.NN.j()})};XR.prototype.fSv=function(S){this.ZO({CY:"switchWarp"})};
XR.prototype.SF=function(S){this.ZO({CY:this.Qk.j()?"commit":"cancel"})};XR.prototype.ZO=function(S){S.r=E.a.EN;
S.s=this.s;var G=new L(E.E.e,!0);G.data=S;this.D(G)};XR.prototype.ic=function(){var S=this.hg;for(var G in S)S[G].$();
E.Dy(S.Q$,S.bF);this.Qk.$();this.NN.$();this._V.$()};XR.fKq=function(){return[{name:[5,9],G_:"Shift+Alt+Ctrl + T",uz:!0},{name:[2,9]},{name:[11,9],b:function(S){if(S==null||S.N.length!=1)return{b:!1};
var G=S.d[S.N[0]];return{b:G.add.TySh==null&&!G.$P()}},uz:!0},{name:"90\xB0 \u21BB",b:function(S){return{Gb:YP.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",b:function(S){return{Gb:YP.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",b:function(S){return{Gb:YP.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
XR.fnG=function(){return[{J:E.E.R,s:t.Kk,l:{r:"again"}},{J:E.E.e,l:{r:E.a.AH,s:t.Kk,Uc:{Cg:1}}},{J:E.E.e,l:{r:E.a.AH,s:t.Kk,Uc:{Cg:2}}},{J:E.E.R,s:t.Kk,l:{r:"rot",mj:[2,5],g:-Math.PI/2}},{J:E.E.R,s:t.Kk,l:{r:"rot",mj:[2,5],g:-3*Math.PI/2}},{J:E.E.R,s:t.Kk,l:{r:"rot",mj:[2,5],g:Math.PI}},{J:E.E.R,s:t.Kk,l:{r:"scl",mj:[2,6,[22,4,2]],g:new A(-1,1)}},{J:E.E.R,s:t.Kk,l:{r:"scl",mj:[2,6,[22,4,3]],g:new A(1,-1)}}]};
function oV(){XR.call(this)}oV.prototype=new XR(!0);function on(){XR.call(this)}on.prototype=new XR(!0);
function oR(){YS.call(this);this.M=E._("div","cmanager");this.YC=0;this.QM=0;this.fp=[];this.u$=E._("div","droparea");
var S=E._("div","dropbox");S.innerHTML="Insert into current project";var G=E._("div","dropbox");G.innerHTML="Open as new projects";
this.u$.appendChild(S);this.u$.appendChild(G);this.Uu={};this.UA=E._("div","alertcont");this.M.appendChild(this.UA);
this.fZZ=E._("div","alertcont");this.M.appendChild(this.fZZ);this.fZD=0;E.qG(document.body,this.fSH.bind(this))}oR.prototype=new YS;
oR.prototype.flE=function(){this.M.appendChild(this.u$)};oR.prototype.fyg=function(){this.M.removeChild(this.u$)};
oR.prototype.yd=function(S,G){this.YC=S;this.QM=G;var j=this.u$;j.setAttribute("style","left:"+(S-600)/2+"px; top:"+(G-300)/2+"px;")};
oR.prototype.fSZ=function(S){var G=E._("div","alertpanel");G.textContent=YP.get(S);this.UA.appendChild(G);
this.Uu[JSON.stringify(S)]=G};oR.prototype.fSy=function(S){var G=this.Uu[JSON.stringify(S)];this.UA.removeChild(G);
delete this.Uu[JSON.stringify(S)]};oR.prototype.alert=function(S,G){var j=this.fZZ;for(var z=0;z<j.children.length;
z++)if(j.children[z].textContent==S)return;var O=E._("div","alertpanel tpanel");O.textContent=S;O.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");
j.appendChild(O);if(G==null)G=1500;var i=G,C=Math.max(Date.now()+i,this.fZD+i);setTimeout(function(){O.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){j.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},C-Date.now()-30);
setTimeout(function(){j.removeChild(j.firstChild);j.setAttribute("style","transition: transform 0.7s;  margin-top: 0em;  transform: translateY(0em);")},C-Date.now());
this.fZD=C};oR.prototype.fSH=function(S){var G=this.fp;for(var j=G.length-1;j>=0;j--){var z=G[j],O=S.target;
while(O!=null){if(O==z.M){this.j_(z);return}O=O.parentNode}}this.j_()};oR.prototype.j_=function(S){var G=this.fp;
for(var j=0;j<G.length;j++){if(S&&S.fvg(G[j]))continue;var z=G[j].M;z.style.height="auto";E.uW(z,"scrollable");
this.M.removeChild(z);G.splice(j,1);j--}};oR.prototype.fSO=function(S){this.j_(S.pZ);var G=S.pZ,j=G.M;
if(this.fp.indexOf(G)!=-1)return;this.fp.push(G);this.M.appendChild(G.M);var z=this.YC,O=this.QM,i=S.x,C=S.y,M=this.M.getBoundingClientRect(),D=G instanceof Cq;
if(D||S.fav){var X=G.si(),l=G.fvm();if(D)X=Math.min(X,200);if(C+l<O){i=Math.min(i,z-X-5)}else{if(i+X<z){C=Math.min(C,O-l-5)}else if(l<C){C=C-l-2;
i=Math.min(i,z-X-5)}else{i=i-X;C=Math.min(C,O-l-5)}}if(S.fyp)C=Math.max(2,S.y-l-2);if(S.ffp)C=S.y}C=Math.max(2,C);
var top=Math.round(C-M.y+this.M.offsetTop);j.style.position="absolute";j.style["z-index"]=10;j.style.left=Math.round(i)+"px";
j.style.top=top+"px";if(C+G.fvm()>O-3){j.style.height=O-3-C+"px";E.Zb(j,"scrollable")}};oR.prototype.fXL=function(S){var G=S.pZ,j=this.fp.indexOf(G);
if(j==-1)return;this.fp.splice(j,1);var z=G.M;this.M.removeChild(G.M)};oR.prototype.Gy=function(){var S=this.fp;
return S.length==0?null:S[S.length-1]};oR.prototype.fSK=function(){this.fXL({pZ:this.Gy()})};function oJ(){YS.call(this);
this.M=E._("div","confbar")}oJ.prototype=new YS;oJ.prototype.fSx=function(S){S.parent=this;E.Vk(this.M);
this.M.appendChild(S.M)};function fm(){YS.call(this);this.G$=null;this.fW=E._("input","");this.fW.setAttribute("type","file");
this.fW.setAttribute("multiple","");this.fW.addEventListener("change",function(S){this.ZG(S.target.files,null,this.Ul,null);
this.Ul=null}.bind(this),!1);document.body.appendChild(this.fW);this.fW.setAttribute("style","display:none");
this.fwx=[];this.UJ=!1;this.fdl={};this.Ul=null}fm.prototype=new YS;fm.fSF=function(S){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},S.type,{value:S,enumerable:!0}))])}catch(fI){console.error(fI,fI.message)}};
fm.fPC=function(S,G){try{navigator.clipboard.read().then(function(j){for(var z=0;z<j.length;z++){try{var O=j[z];
for(var i=0;i<O.types.length;i++){var C=O.types[i];if(C!="image/png")continue;O.getType(C).then(function(M){new Response(M).arrayBuffer().then(function(D){fm.BO({name:"image.png"},D,S,G)})})}}catch(fI){console.error(fI,fI.message)}}})}catch(fI){console.error(fI,fI.message)}};
fm.fyY=function(S){navigator.permissions.query({name:"clipboard-read"}).then(function(G){S(G.state)})};
fm.prototype.ZL=function(S){if(S==null)S=[23,5];var G=JSON.stringify(S),j=this.fdl;if(j[G]==null)j[G]=0;
if(j[G]==0){var z=new L(E.E.e,!0);z.data={r:E.a.fgn,ka:S};this.D(z)}j[G]++};fm.prototype.ZF=function(S){if(S==null)S=[23,5];
var G=JSON.stringify(S),j=this.fdl;if(j[G]==null)j[G]=0;j[G]--;if(j[G]==0){var z=new L(E.E.e,!0);z.data={r:E.a.fsZ,ka:S};
this.D(z)}};fm.prototype.fPP=function(S,G){var j=this.fW;if(G)j.setAttribute("accept",G);else j.removeAttribute("accept");
var z=document.createEvent("MouseEvents");z.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
j.dispatchEvent(z);if(S!=null)this.Ul=S};fm.prototype.Yc=function(S){this.fwx.push(S);this.fvc()};fm.prototype.fvc=function(){var S=this.fwx;
if(S.length==0||this.UJ)return;this.UJ=!0;var G=S.shift();this.ZL();if(G.QD==null)G.QD={};var j=new XMLHttpRequest;
j.ts=G;var z=G.url;if(G.ed)z="mirror.php?url="+encodeURIComponent(z);j.open("GET",z);j.responseType="arraybuffer";
j.onload=this.fao.bind(this);j.send()};fm.prototype.ZG=function(S,G,j,z){for(var O=0;O<S.length;O++){this.ZL();
var i=S[O],C=new FileReader;C.ts=i;C.ts.KU=j;C.ts.KK=z;C.fdN=G;C.onload=this.fao.bind(this);C.onerror=function(M){this.ZF()}.bind(this);
C.readAsArrayBuffer(i)}this.fW.value=null};fm.prototype.fPA=function(S){var G=S.lV.fcv,j=fm.OY(S,G);
Xd.di(function(){var z=new XMLHttpRequest,O="https://www.googleapis.com/upload/drive/v3/files/"+S.lV.file.id+"?uploadType=media"+"&"+Xd.xi();
z.open("PATCH",O,!0);z.addEventListener("load",function(i){var C=JSON.parse(i.target.response);alert(C.name+" updated")});
z.send(j);alert("Saving \""+S.lV.file.name+"\" to Google Drive ...")})};fm.prototype.fPk=function(S,G){var j=S.yA(),z=G[0],i=fm.OY(S,z);
if(window.parent!=window)window.parent.postMessage(i,"*")};fm.prototype.fPH=function(S,G){this.ZL("Saving ...");
this.G$=G;setTimeout(fm.fPB.bind({Bj:S,caller:this}),50)};fm.OY=function(S,G,j){var z=G.split(":"),O=z[0],i=null;
if(z.length==2){if(O=="jpg"||O=="webp")i=[Math.round(100*parseFloat(z[1]))];if(O=="psd")i=[!0,!0]}var C=ot.D$(S,O.toUpperCase(),null,null,i,j);
return C};fm.fPB=function(){var S=this.Bj,G=this.caller,j=S.QD.uN,z=j.formats,O,i;S.yA();var C=Date.now();
if(j.version==1){var M=[],D=0,f=0;for(var X=0;X<z.length;X++){var l=fm.OY(S,z[X],G.G$);M.push(l);D+=l.byteLength}O=new Uint8Array(2e3+D);
var F="{ \"source\": "+JSON.stringify(S.sD)+", \"versions\": [\n";for(var X=0;X<z.length;X++){var $=new Uint8Array(M[X]);
F+="\t{\"format\": \""+z[X].split(":")[0]+"\", \"start\": "+f+", \"size\": "+$.length+" }"+(X+1<z.length?", ":"")+"\n";
O.set($,2e3+f);f+=M[X].byteLength}F+="] }";var _=W.CN(F,O,0);for(var X=_;X<2e3;X++)O[X]=32;i="application/octet-stream"}else{var P=new Ck,k=0,H="",q=encodeURIComponent;
H="p="+q("{ \"source\": "+JSON.stringify(S.sD)+", \"versions\": [");W.cZ(P,k,H);k+=H.length;for(var X=0;
X<z.length;X++){H=q(" {\"format\": \""+z[X].split(":")[0]+"\", \"data\": \"");W.cZ(P,k,H);k+=H.length;
var l=fm.OY(S,z[X],G.G$),R=fm.fvQ(l,l.byteLength),_=R.length;P.nv(k,_);for(var I=0;I<_;I++){P.nv(k,3);
var b=R[I];if(b==43){P.data[k]=37;P.data[k+1]=50;P.data[k+2]=66;k+=3}else if(b==47){P.data[k]=37;P.data[k+1]=50;
P.data[k+2]=70;k+=3}else if(b==61){P.data[k]=37;P.data[k+1]=51;P.data[k+2]=68;k+=3}else{P.data[k]=b;
k++}}H=q("\" }"+(X+1<z.length?", ":""));W.cZ(P,k,H);k+=H.length}H=q("] }");W.cZ(P,k,H);k+=H.length;O=P.data.slice(0,k);
i="application/x-www-form-urlencoded"}var Y=new XMLHttpRequest;Y.open("POST",j.url,!0);if(i)Y.setRequestHeader("Content-Type",i);
Y.addEventListener("load",fm.fvf.bind(this));Y.send(new Blob([O.buffer]))};fm.fvf=function(S){this.caller.ZF("Saving ...");
var G=S.target.response;if(G.charAt(0)=="{"){G=JSON.parse(G);if(G.newSource)this.Bj.sD=G.newSource;if(G.message)alert(G.message,2e3);
if(G.script){var j=new L(E.E.e,!0);j.data={r:E.a.yf,uF:G.script};this.caller.D(j)}}else alert("Saved. Response: "+G,1500)};
fm.uX=function(S){var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=new Uint8Array(S),z=j.length,O=z%3,i=z-O,C=[],M=0,D=0,X=0;
for(var l=0;l<i;l+=3){M=j[l];D=j[l+1];X=j[l+2];C.push(G[M>>2]+G[(M&3)<<4|D>>4]+G[(D&15)<<2|X>>6]+G[X&63])}if(O==1){M=j[i];
C.push(G[M>>2]+G[(M&3)<<4]+"==")}if(O==2){M=j[i];D=j[i+1];C.push(G[M>>2]+G[(M&3)<<4|D>>4]+G[(D&15)<<2]+"=")}var f=C.join("");
return f};fm.fvQ=function(S,G){var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=new Uint8Array(64),D=0,X=0,l=0,F=0;
for(var O=0;O<64;O++)z[O]=j.charCodeAt(O);var i=new Uint8Array(S),C=G%3,M=G-C,f=new Uint8Array(Math.floor(G/3)*4+(C==0?0:4));
for(var O=0;O<M;O+=3){D=i[O];X=i[O+1];l=i[O+2];f[F]=z[D>>>2];f[F+1]=z[(D&3)<<4|X>>>4];f[F+2]=z[(X&15)<<2|l>>>6];
f[F+3]=z[l&63];F+=4}if(C==1){D=i[M];f[F]=z[D>>2];f[F+1]=z[(D&3)<<4];f[F+2]=61;f[F+3]=61}if(C==2){D=i[M];
X=i[M+1];f[F]=z[D>>2];f[F+1]=z[(D&3)<<4|X>>4];f[F+2]=z[(X&15)<<2];f[F+3]=61}return f};fm.prototype.fao=function(S){var G,j=S.target.ts;
if(S.target instanceof XMLHttpRequest)G=S.target.response;else G=S.target.result;if(window.location.href.indexOf("photopea.com")==-1)fm.BO(j,G,this,S.target.fdN);
else{try{fm.BO(j,G,this,S.target.fdN)}catch(S){if(S=="low_ram"){}else{var z="Unexpected file structure. Please, send your file to support@photopea.com and we will solve it.";
if(ot.AM(G)=="eps")z="We support only basic EPS files. Convert your file into PDF (with any online converter) and open the PDF in Photopea.";
window.fAB(z,1e4)}}}this.ZF();if(S.target instanceof XMLHttpRequest){this.UJ=!1;this.fvc()}};fm.BO=function(S,G,j,z){var O;
if(S.name)O=S.name.split(".")[0];else{if(S.url.substring(0,5)=="data:"||S.url.indexOf("googleapis")!=-1)O="image";
else O=S.url.substring(S.url.lastIndexOf("/")+1).split(".")[0];O=O.slice(0,50)}var i=new Uint8Array(G),C=ot.AM(G),M=window.ga;
if(M&&C!=null&&ot.Lc(C))M("send","event","Formats",C);if(C==null)C=W.PP(i,0,4);if(C=="json"){var D="";
for(var X=0;X<i.length;X++)D+=String.fromCharCode(i[X]);D=decodeURIComponent(escape(D));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(D));return}if(C=="html"){var D=W.X_(i,0,i.length),l=new DOMParser,f=l.parseFromString(D,"text/html"),F=f.getElementsByTagName("meta");
for(var X=0;X<F.length;X++){var $=F[X],_=$.getAttribute("property"),P=$.getAttribute("content"),k=null;
if(_=="og:image")k=P;if(_==null&&P&&P.startsWith("0;url=/imgres?")){var H=P.slice(14).split("&");for(var q=0;
q<H.length;q++)if(H[q].startsWith("imgurl"))k=decodeURIComponent(H[q].slice(7))}if(k==null)continue;
var R=new L(E.E.e,!0);R.data={r:E.a.mH,zC:{url:k,ed:!0,KU:S.KU}};j.D(R)}return}if(ot.Lc(C)){var I,b=ot.Lc(C);
if(S.KU!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(C)!=-1){var R=new L(E.E.e,!0);R.data={r:E.a.sH,target:S.KU,DR:S.KK,lq:G,AX:O};
j.D(R);return}if(b.CP){I=new Yi(O+(C=="psd"?"":"-"+C)+".psd");b.Uf(G,I,!0)}else{var Y=b.Uf(G);if(Y[0].t33421||Y[0].t50706){x.raw.normalize(Y[0],G);
console.log(Y[0]);var R=new L(E.E.e,!0);R.data={r:E.a.fvl,Hc:Y[0]};j.D(R);return}if(z){z(new Uint8Array(Y[0].data),Y[0].tv);
return}I=fm.Op(O,Y)}I.QD=S.QD;I.sD=S.url;I.iU=S.iU;I.lV=S.lV;if(I.lV)I.lV.fcv=C;if(I.d.length!=0){var R=new L(E.E.e,!0);
R.data={r:S.KU==null?E.a.lt:E.a.sH,target:S.KU,DR:S.KK,lq:I};j.D(R)}return}var m=new L(E.E.e,!0);m.data={r:E.a.fTQ,ffV:G,zs:S.name};
var h=S instanceof File&&S.fcV!=!0,R=new L(E.E.e,!0);R.data={r:E.a.zv,QD:"add",zC:null,hr:null,fcJ:S.fcV};
if(C=="zip"){var e=Date.now(),s=UZIP.parse(G),y="xml rels plist iwa db ds_store txt".split(" ");for(var T in s){var K=!1;
for(var X=0;X<y.length;X++)if(T.toLowerCase().endsWith("."+y[X]))K=!0;if(T.startsWith("__MACOSX/")||s[T].length==0)K=!0;
if(K)continue;var B=T.split("/").pop();fm.BO({name:B},s[T].buffer,j,z)}}else if(C=="jsx"){var D=W.X_(new Uint8Array(G));
R.data={r:E.a.yf,uF:D};j.D(R)}else if(C=="otf"){if(h)j.D(m);var a=Typr.parse(G);R.data.zC=o$.lQ;for(var X=0;
X<a.length;X++){R.data.hr=a[X];j.D(R)}}else if(C=="asl"){if(h)j.D(m);var a=PY.wD(G);R.data.zC=o$.lY;
R.data.hr=a.hJ;j.D(R);R.data.zC=o$.ql;R.data.hr=a.fN;j.D(R)}else if(C=="tpl"){var a=Pm.wD(G);R.data.zC=o$.bk;
R.data.hr={qH:a.qH,ki:a.ki,list:[]};j.D(R);R.data.zC=o$.ve;R.data.hr=a.list;j.D(R)}else{var u="";for(var r in o$.jF)if(o$.jF[r][0]==C)u=r;
if(u!=""){if(h)j.D(m);R.data.hr=o$.jF[u][2].wD(G,S.name?S.name:S.url);R.data.zC=u;j.D(R)}else alert("Unknown file format: "+JSON.stringify(C))}};
fm.prototype.fvH=function(S){var G=new XMLHttpRequest;G.open("POST","https://api.imgur.com/3/image",!0);
G.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");G.setRequestHeader("Content-type","application/x-www-form-urlencoded");
G.setRequestHeader("Accept","application/json");G.addEventListener("load",this.fvB);G.send("type=base64&image="+encodeURIComponent(fm.uX(S)));
alert("Saving to Imgur ...",4e3)};fm.prototype.fvB=function(S){var G=JSON.parse(S.target.response);if(G.success)window.open(G.data.link,"Imgur")};
fm.Op=function(S,G){var j=G[0].QH&&G[0].QH.startsWith("_a_"),z,O=new Yi(S+".psd"),i=new Q(0,0,1,1);if(j){z=O.YJ();
z.add.lsct=YF.WY;z.lX(S);z.eD="pass";z.Ge=24;z.aA(!0);O.d.push(O.hP())}for(var C=0;C<G.length;C++){var M=G[C];
i=i.wB(M.tv);var D=O.YJ();D.aA(C==0);D.lX(G.length==1?"Background":"Layer "+C);if(M.bY)O.bY=M.bY;if(M.QH)D.lX(M.QH);
D.rect=M.tv.clone();D.buffer=new Uint8Array(M.data);x.cU(D);O.d.push(D)}if(j)O.d.push(z);O.N=[j?O.d.length-1:0];
O.o=i.o;O.i=i.i;O.buffer=x.S(i.h()*4);O.I();return O};fm.save=function(S,G){var j=new Uint8Array(S),z=document.createElement("a");
if(typeof z.download=="string"){var O=new Blob([j]),i=window.URL.createObjectURL(O);z.href=i;z.download=G;
document.body.appendChild(z);z.click();document.body.removeChild(z)}else{var C="data:application/octet-stream;base64,"+fm.uX(S);
window.open(C)}};function Ck(){this.size=16;this.data=x.S(16)}Ck.prototype.nv=function(S,G){if(S+G<=this.size)return;
var j=this.size;while(S+G>this.size)this.size*=2;var z=x.S(this.size);for(var O=0;O<j;O++)z[O]=this.data[O];
this.data=z};function Yt(S){YS.call(this);this.OK=Yt.OK++;this.t$=S;this.ffA=this.fve.bind(this);this.fVn=this.fv$.bind(this);
this.ffi=this.YV.bind(this);this.ffD=this.faw.bind(this);this.fVO=this.faB.bind(this);this.ffj=this.faR.bind(this);
this.ut=0;this.fnC=0;this.M=E._("div","panelblock");this.Rv=E._("div","block");this.t_=E._("div","collapsed");
this.M.appendChild(this.Rv);this.zH=-1;this.wg=!0;this.HP=E._("div","panelhead");this.Rv.appendChild(this.HP);
this.uM(this.HP);this.ED=E._("div","");this.Rv.appendChild(this.ED);this.EP=[];this.tt=null;this.wX=null}Yt.OK=0;
Yt.prototype=new YS;Yt.jv=function(S){S.stopPropagation();S.preventDefault()};Yt.prototype.fve=function(S){var G=S.dataTransfer.types;
if(G[1]!=null&&G[1]!=this.OK+"")return;Yt.jv(S);var j=S.currentTarget;if(S.target==j)E.Zb(j,"highlight")};
Yt.prototype.fv$=function(S){Yt.jv(S);var G=S.currentTarget;if(S.target==G)E.uW(G,"highlight")};Yt.prototype.uM=function(S){S.addEventListener("dragenter",this.ffA,!1);
S.addEventListener("dragleave",this.fVn,!1);S.addEventListener("dragover",Yt.jv,!1);S.addEventListener("drop",this.ffi,!1);
S.addEventListener("dragstart",function(G){G.dataTransfer.setData("Text","--panel");G.dataTransfer.setData(this.OK+"","")}.bind(this),!1)};
Yt.prototype.YV=function(S){this.fVn(S);var G=null,j=S.currentTarget,z=this.fpT(j);if(j==this.ED&&this.zH!=-1)G=this.zH;
else if(j==this.HP)G=null;else if(z!=-1)G=z;var O=S.dataTransfer.getData("Text");if(O==""||O.startsWith("http"))E.fWU(S,this,G);
else if(O=="--panel"){var i=E.cV(S,j),Cf=this.EP,C=Cf.slice(0),M=this.zH,D=z==-1?Cf.length:i.x<j.getBoundingClientRect().width/2?z:z+1;
if(M==D||M+1==D||j==this.ED)return;var X=M<D?D-1:D,l=Cf[M];Cf.splice(M,1);Cf.splice(X,0,l);E.Vk(this.HP);
this.zH=X;for(var f=0;f<Cf.length;f++)this.HP.appendChild(Cf[f].bn);var F=[];for(var M=0;M<Cf.length;
M++)F[M]=C.indexOf(Cf[M]);var $=new L("shuffleItems",!1);$.data={ffN:F};this.D($)}else if(G!=null&&this instanceof CB){var $=new L(E.E.e,!0);
$.data={r:E.a.fsL,ffr:G};this.D($)}};Yt.prototype.uY=function(){return null};Yt.prototype.fae=function(){if(this.uY()){this.wX=this.uY();
this.ED.appendChild(this.wX)}};Yt.prototype.faM=function(){if(this.wX){this.ED.removeChild(this.wX);
this.wX=null}};Yt.prototype.fpT=function(S){var G=this.EP;for(var j=0;j<G.length;j++)if(G[j].bn==S)return j;
return-1};Yt.prototype.uC=function(){for(var S=0;S<this.EP.length;S++)this.EP[S].$$.dp()};Yt.prototype.jS=function(){var S=new A(0,0);
for(var G=0;G<this.EP.length;G++){var j=this.EP[G].jS();S.x=Math.max(S.x,j.x);S.y=Math.max(S.y,j.y)}return S};
Yt.prototype.OZ=function(){return this.zH};Yt.prototype.Wl=function(){if(this.wg)return;this.wg=!0;this.M.removeChild(this.t_);
this.M.appendChild(this.Rv)};Yt.prototype.collapse=function(){if(!this.wg)return;this.wg=!1;this.M.appendChild(this.t_);
this.M.removeChild(this.Rv)};Yt.prototype.faS=function(){return 26+this.ED.getBoundingClientRect().height};
Yt.prototype.yd=function(S,G){this.HP.setAttribute("style","max-width: "+S+"px");var j=this.HP.getBoundingClientRect().height;
j=Math.max(j,26);if(this.zH!=-1)this.EP[this.zH].yd(S,G-j);return G-j};Yt.prototype.uQ=function(S,G){this.EP[this.zH].uQ(S,G)};
Yt.prototype.SL=function(S,G){this.EP[this.zH].SL(S)};Yt.prototype.YA=function(S){this.faM();if(this.EP.indexOf(S)!=-1){this.Gz(this.EP.indexOf(S));
return}S.parent=this;this.EP.push(S);this.HP.appendChild(S.bn);S.bn.addEventListener("mouseover",this.ffD,!1);
this.uM(S.bn);this.t_.appendChild(S.$$.M);S.$$.n("click",this.fuP,this);S.n("select",this.fsT,this);
S.n(E.E.lG,this.fmL,this);this.Gz(this.EP.length-1)};Yt.prototype.faw=function(S){if(S.buttons==0)return;
var G=S.currentTarget,j=G,z=0;while((j=j.previousSibling)!=null)z++;this.fnC=z;G.addEventListener("mouseout",this.fVO,!1);
this.ut=setTimeout(this.ffj,700)};Yt.prototype.faB=function(S){var G=S.currentTarget,j=G,z=0;while((j=j.previousSibling)!=null)z++;
G.removeEventListener("mouseout",this.fVO);clearTimeout(this.ut)};Yt.prototype.faR=function(S){this.D(new L(E.E.fYj,!1))};
Yt.prototype.fai=function(S){return this.fnC};Yt.prototype.YH=function(S){var G=new L(E.E.lG,!1);G.data={Or:S};
this.D(G);var j=this.EP[S];this.EP.splice(S,1);this.HP.removeChild(j.bn);this.t_.removeChild(j.$$.M);
j.bn.setAttribute("class","");j.$$.removeEventListener("click",this.fuP,this);j.$$.dp();j.removeEventListener("activate",this.fsT);
j.removeEventListener(E.E.lG,this.fmL);var z=this.zH;if(S<z)z--;else if(S==z&&S==this.EP.length)z--;
this.Gz(z);if(this.EP.length==0)this.fae()};Yt.prototype.faq=function(){return this.EP.length};Yt.prototype.Tv=function(){if(this.EP.length!=0)this.EP[this.zH].Tv()};
Yt.prototype.Gz=function(S,G){if(G==null)G=!0;for(var j=0;j<this.EP.length;j++)this.EP[j].bn.setAttribute("class","");
if(this.tt)this.ED.removeChild(this.tt);this.tt=null;this.zH=S;if(S==-1)return;var z=this.EP[this.zH];
this.tt=z.Un;this.ED.appendChild(z.Un);z.bn.setAttribute("class","active");if(!this.wg){this.D(new L("showFloat"));
this.EP[S].$$.hU()}if(G)this.D(new L(E.E.F,!1));z.fE();var O=new L(E.E.e,!0);O.data={r:E.a.XQ};this.D(O)};
Yt.prototype.fsT=function(S){if(this.t$&&!this.t$.fYD())return;var G=this.EP.indexOf(S.currentTarget);
this.Gz(G)};Yt.prototype.fmL=function(S){if(this.t$&&!this.t$.fYD())return;var G=this.EP.indexOf(S.currentTarget);
this.YH(G)};Yt.prototype.fuP=function(S){var G=this.EP.indexOf(S.currentTarget.parent);if(this.EP[G].$$.Ev())this.D(new L("hideFloat"));
else this.Gz(G)};Yt.prototype.fyC=function(S){this.D(S)};function CB(S){Yt.call(this,S);this.YC=0;this.QM=0;
this.wM=null;this.wY=E._("div");this.wY[E.l$("$y+[145/+AC7")](E.l$("$(0&\""),E.l$("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
E.hh(this.HP,this.faE.bind(this));this.fg=0;this.fAH=this.fpp.bind(this);this.uM(this.ED);this.rE=E._("div","intro");
this.fu=["default;"];this.NT=new E.DV(this.ED);var G=E._("ul");G.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.rE.appendChild(G);this.XW=[];var j=[[11,7],[1,6],"pea.psd","milk.sketch"],z=E._("li");for(var O=0;
O<j.length;O++){if(O==2){var i=new Ys("Demo: ");z.appendChild(i.M)}var C=j[O],M=new Ys(C);M.n("click",this.fa_,this);
z.appendChild(M.M);this.XW.push(M);if(O==0||O==1||O==3||O==j.length-1){G.appendChild(z);z=E._("li")}}var D=E._("div");
D.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");this.rE.appendChild(D);
this.fJI={};var X=["en"],l=navigator.languages;if(l)for(var O=0;O<l.length;O++){var f=l[O].split("-")[0].toLowerCase();
if(X.indexOf(f)==-1)X.push(f)}}CB.prototype=new Yt;CB.prototype.faE=function(S){if(S.target!=this.HP)return;
var G=this.fg;this.fg=Date.now();if(Date.now()-G>300)return;var j=new L(E.E.e,!0);j.data={r:E.a.YO,pv:"newproject"};
this.D(j)};CB.prototype.fur=function(S){var G=S.currentTarget,j;if(G.fAR!=null){var z=YP.xI(G.fAR);if(z!=-1)j={r:E.a.zv,zC:o$.HY,lang:z};
else j={r:E.a.mw,link:"https://www.photopea.com/translate?lang="+G.fAR}}else j={r:E.a.zv,zC:o$.LK,EO:G.fJH};
var O=new L(E.E.e,!0);O.data=j;this.D(O)};CB.prototype.om=function(S,G){if(G)this.fu.push(S);else{var j=this.fu.length-1;
if(this.fu[j]==S)return;this.fu[j]=S}this.sw()};CB.prototype.fab=function(){this.fu.pop();this.sw()};
CB.prototype.sw=function(){var S=this.fu[this.fu.length-1];this.NT.SL(S,this.qA)};CB.prototype.fa_=function(S){var G=this.XW.indexOf(S.target),j=new L(E.E.e,!0);
if(G==0)j.data={r:E.a.YO,pv:"newproject"};if(G==1)j.data={r:E.a.HZ};if(G>1)j.data={r:E.a.mH,zC:{url:["images/pea.psd","images/milk.sketch"][G-2]}};
this.D(j)};CB.prototype.$=function(){for(var S=0;S<this.XW.length;S++)this.XW[S].$()};CB.prototype.SL=function(S,G){for(var j=0;
j<G.length;j++){var z=G[j];this.EP[j].Yp(z.name+(z.iJ()?" *":""))}Yt.prototype.SL.call(this,S,G)};CB.prototype.faG=function(S){this.M.appendChild(this.wY);
var G=S[0],j=S[1],z=S[2];this.wM=G;this.wY[z](G);G[z](j);this.yd(this.YC,this.QM)};CB.prototype.fat=function(){if(this.wM){this.M.removeChild(this.wY);
this.wY.removeChild(this.wM);this.wM=null;this.yd(this.YC,this.QM)}};CB.prototype.uY=function(){return this.rE};
CB.prototype.yd=function(S,G){this.YC=S;this.QM=G;if(this.wM!=null)G-=100;G=Yt.prototype.yd.call(this,S,G);
this.qA="height:"+G+"px; width:"+S+"px; overflow:hidden; position:relative;";this.sw();var j=512,z=410,O=1,i="";
if(S<j||G<z){if(S/j<G/z)O=S/j;else O=G/z}i+="background-image:url("+PIMG.intro+"); background-size: "+j+"px "+z+"px;";
i+="position:relative; top:"+Math.round((G-z)/2)+"px;  left: "+Math.round((S-j)/2)+"px; width:"+j+"px; height:"+z+"px;";
if(O!=1)i+="transform: scale("+O+","+O+");";if(this.rE)this.rE.setAttribute("style",i)};CB.prototype.YA=function(S){Yt.prototype.YA.call(this,S);
E.hh(S.bn,this.fAH)};CB.prototype.YH=function(S){var G=this.EP[S];E.li(G.bn,this.fAH);Yt.prototype.YH.call(this,S)};
CB.prototype.fpp=function(S){var G=this.fg;this.fg=Date.now();if(Date.now()-G>300)return;var j=this.fpT(S.currentTarget),z=this.EP[j].lq.name,O=new L(E.E.e,!0),i={J:E.E.R,s:t.HA,l:{r:g.Gi}};
O.data={r:E.a.YO,pv:"namewindow",qd:z.slice(0,z.length-4),fPU:i};this.D(O)};function Yx(){YS.call(this);
XS.fSX(1);this.M=E._("div","flexrow photopea");this.Uy=E._("div");this.M.appendChild(this.Uy);this.nN={x:0,y:0,Uq:!1};
this.Di=!1;this.fX=!1;this.Uk=null;this.flm=0;this.fys=0;this.fY=0;this.fMv=!1;if(E.uc(27))E.JO=window;
else E.JO=this.M;window.fAB=window.alert;window.alert=function(R,I){this.Nr.alert(R,I);console.log("Alert: "+R)}.bind(this);
window.onmessage=function(R){if(R.data instanceof ArrayBuffer){var I=ot.AM(R.data),b=ot.Lc(I);fm.BO({url:"file"},R.data,this);
if(b==null)this.Y_()}else if(R.data instanceof Object||R.data.startsWith("{")||R.data.startsWith("amp-")||R.data.startsWith("0=goog")||R.data.startsWith("3PCoo")){}else{var Y=new L(E.E.e,!0);
Y.data={r:E.a.yf,uF:R.data};this.D(Y);this.Y_()}}.bind(this);window.onbeforeunload=function(R){for(var O=0;
O<this.CH.length;O++)if(this.CH[O].iJ())return this.CH[O].name}.bind(this);window.onblur=function(R){var I=this.Nr;
while(I.Gy())I.fSK()}.bind(this);var S=this,D="",X="";if(window.indexedDB&&(!oq.dB()||document.hasStorageAccess==null)){var G={nv:window.indexedDB.open("pp",1)};
G.nv.onupgradeneeded=function(R){var I=R.target.result,b=I.createObjectStore("rsrc",{keyPath:"k"})};
G.nv.onsuccess=function(R){var I=S.Qx.wT.XV=R.target.result,b=I.transaction(["rsrc"],"readwrite").objectStore("rsrc"),Y=b.get("fs0");
Y.onsuccess=function(R){if(R.target.result){var m=S.Qx.wT.Tx=R.target.result.fset;for(var h in m){fm.BO({url:h,fcV:!0},m[h],S)}}}}}var j=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],z=E.JO[E.sE("YcVg^U]b",11)][E.sE("oaa_kj\\h",3)];
for(var O=0;O<j.length;O++){var i=E.Ai(j[O],2);if(z.indexOf(i)!=-1){var C=E.JO[E.Ai("hti|unx\x7F",4)][E.Ai("esi\x7F",3)],M=E.fXi("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
E.Vk(C);C[E.Ai("lrskyP]WW",3)]=M;return}}this.cC={fgX:[{s:t.wb,fk:!1,G_:[w.fuO,w.aO]},{s:t.Pf,fk:!1,G_:[w.aO]},{s:t.v_,fk:!0,G_:[w.kw],wC:[t.vN]},{s:t.vN,fk:!0,G_:[w.kw],wC:[t.v_]},{s:t.Jk,fk:!0,G_:[w.kw],wC:[t.Ml,t.vF,t.Sq]},{s:t.Ml,fk:!0,G_:[w.kw],wC:[t.Jk,t.JD,t.aX,t.Jx,t.Jj,t.aM]},{s:t.PK,fk:!0,G_:[w.kw]}],IU:[[{s:new t.GE,GK:XN}],[{s:new t.eU,GK:oM},{s:new t.Mx,GK:Mb}],[{s:new t.Dj,GK:ML},{s:new t.PT,GK:of},{s:new t.dY,GK:oX}],[{s:new t.Ie,GK:ou},{s:new t.Ke,GK:MG}],[{s:new t.Mg,GK:Mh},{s:new t.Mf,GK:ME},{s:new t.Ga,GK:ow},{s:new t.or,GK:od}],[{s:new t.ty,GK:Me},{s:new t.Pz,GK:Mv}],"---",[{s:new t._A,GK:oC},{s:new t.aJ,GK:MN},{s:new t.nA,GK:Mt},{s:new t.ln,GK:Mi}],[{s:new t.lu,GK:MB},{s:new t.lA,GK:MD},{s:new t.lw,GK:MR}],[{s:new t.nV,GK:MO}],[{s:new t.yV,GK:Mx}],[{s:new t.cE,GK:MP},{s:new t.$V,GK:og}],[{s:new t.lz,GK:MH},{s:new t.IW,GK:oY},{s:new t.IT,GK:oS}],[{s:new t.yQ,GK:MU},{s:new t.yY,GK:Mj},{s:new t.IZ,GK:oP}],"---",[{s:new t.tD,GK:MK}],[{s:new t.JQ,GK:op},{s:new t.pf,GK:oz}],[{s:new t.oa,GK:M$},{s:new t.jZ,GK:oW}],[{s:new t.Rect,GK:os},{s:new t.Bz,GK:om},{s:new t.Yn,GK:oT},{s:new t.pC,GK:oQ},{s:new t.pP,GK:oZ}],"---",[{s:new t.CQ,GK:M_}],[{s:new t.fr,GK:PZ}]],UH:[],keys:[w.Th,w.hs,w.Fa,w.TE,w.PF,w.zM,null,w.Tj,w.TB,w.Hk,w.E,w.Ti,null,w.Tq,null,w.t,w.aE,w.a,w.mQ,null,w.TD,w.HL],fb:[{s:new t.zN,GK:oV},{s:new t.Kg,GK:on}],UB:[{s:new fA.vg},{s:new fA.History},{s:new fA.Gx},{s:new fA.w_},{s:new fA.MG},{s:new fA.AC}],map:{},Uj:null,wP:null,fC:null};
for(var O=0;O<this.cC.IU.length;O++){var l=this.cC.IU[O];if(l=="---")continue;var f=this.cC.keys[O];
for(var F=0;F<l.length;F++){this.cC.map[l[F].s.id]=l[F];l[F].fU=O;l[F].fgO=F;var $=YP.get(l[F].s.name);
X+="<li>"+l[F].s.id+": "+$+"</li>";D+="\t"+JSON.stringify(l[F].s.name)+", "+(f?"\""+f.ac+"\"":"null")+", // "+$+"\n"}this.cC.UH[O]=0}for(var O=0;
O<this.cC.fb.length;O++)this.cC.map[this.cC.fb[O].s.id]=this.cC.fb[O];for(var O=0;O<this.cC.UB.length;
O++)this.cC.map[this.cC.UB[O].s.id]=this.cC.UB[O];this.Qx={fge:!1,Ru:null,fO:{ki:[],qH:[],list:[],Em:null},FG:[],fpc:[],Nx:[],Ol:[],Ax:[],ffS:[],fJG:[],fJt:[],pm:[CO.Cr()],HK:[],qZ:[],Lq:null,pX:{Gu:1,tZ:JSON.parse(JSON.stringify(n.JL[0]))},aL:JSON.parse(JSON.stringify(n.GN.default)),fTz:[null].concat(n.JL),fTi:[null].concat(n.JL),UW:new YH,cT:{GQ:[],Ed:null,HJ:null},_c:[],Cj:16711680,iw:0,Bu:!1,cm:!0,E$:{WX:!0,jl:!1,if:!0,qD:!0,Bp:!0,fF:!0,WP:20,Wv:0,jc:0,PZ:0},Ur:!0,DL:[!0,!0,!0,!0,!0],hB:[0,1,2,3,5,6,7,9,10,16,17],EO:1,wv:!0,Rm:{},Rd:!0,compact:!1,rE:!0,wI:null,wT:{fg$:!1,ffT:!1,Tx:{},XV:null},fXb:0,d_:null,flS:null,fS:null};
this.fMP={L:new Q,jG:new A};this.Qx.cT=o_.fXE();this.Qx.UW.n(E.E.e,this.fKy,this);var _=navigator.languages;
if(_&&_.length!=0){var P=_[0];YP.XC(P)}this.Gd=new w;this.wi=new Cb;this.RJ=new oJ;this.RH=new XP(!0);
this.Mk=new Xq(this.cC,!0);this.GO=new ok;this.qB=new CB(this);this.dE=E._("div");this.fT=!1;E.Zb(this.qB.M,"mainblock");
var k=this.Uy;k.addEventListener("drop",this.qB.St,!1);k.addEventListener("dragover",CB.jv,!1);k.addEventListener("dragenter",CB.jv,!1);
k.addEventListener("dragleave",CB.jv,!1);this.RH.parent=this.wi.parent=this.RJ.parent=this.Mk.parent=this.GO.parent=this.qB.parent=this;
this.qB.n(E.E.F,this.fCh,this);this.qB.n(E.E.lG,this.fzd,this);this.qB.n("shuffleItems",this.fzc,this);
this.qB.n(E.E.fYj,this.fzA,this);this.n("mouse",this.fPS,this);this.n(E.E.R,this.Wq,this);this.n(E.E.Hz,this.fzf,this);
this.n(E.E.e,this.fKy,this);document.body.addEventListener("keydown",this.sb.bind(this),!1);window.addEventListener("keyup",this.OV.bind(this),!1);
window.addEventListener("resize",this.il.bind(this),!1);window.addEventListener("paste",this.fpN.bind(this),!1);
window.addEventListener("copy",this.fpE.bind(this),!1);window.addEventListener("blur",function(R){this.Gd.reset()}.bind(this),!1);
window.addEventListener("beforeinstallprompt",function(R){R.preventDefault();this.Qx.wI=R}.bind(this));
if(this.Qx.Rd&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(R){if(R.fln){console.log("Service worker installing")}else if(R.flV){console.log("Service worker installed")}else if(R.active){console.log("Service worker active")}}).catch(function(R){console.log("Registration failed with "+R)})}this.Uh=0;
this.CH=[];this._r=new fm;this._r.parent=this;this.mx=new SL;this.mx.parent=this;k.appendChild(this.mx.M);
this.Nr=new oR;this.Nr.parent=this;k.appendChild(this.Nr.M);k.appendChild(this.RH.M);var H=this.kf=E._("div");
H.appendChild(this.wi.M);H.appendChild(this.RJ.M);this.RH.fzO(H);var q=this.fMH=E._("div","flexrow");
k.appendChild(q);q.appendChild(this.Mk.M);q.appendChild(this.qB.M);q.appendChild(this.GO.M);this._r.Yc({url:"rsrc/basic/basic.zip"});
this.Gc(t.PK);YW.Yk(this.fps.bind(this));this.fMh=this.oD.bind(this);window.requestAnimationFrame(this.fMh)}Yx.prototype=new YS;
Yx.prototype.Y_=function(){if(window.parent!=window)window.parent.postMessage("done","*")};Yx.prototype.fps=function(){var S=YW.X$();
if(S!=null&&S.globals!=null)this.ua(S.globals);else this.fMv=!0;if(!oq.dB()||!this.Qx.Rd){this.fwG();
this.uv()}else{var G=E.Ai("SIIFs",-5)+E.Ai("qnQerwhwy",-3),j=E.HS(E.JO[G]),z=E.Ai(E.uc(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
j[z](E.sE("vxik",-10),this.fpk.bind(this));j[E.Ai("|~t~",13)](E.Ai("ML\\",6),E.sE("o_me*^hej$_gb`",1));
j[E.Ai("wjtk",4)]()}this.Di=!0;this.Y_()};Yx.prototype.fpk=function(S){var G=JSON.parse(S.target[E.sE("|n{wuswh",-10)]),j=E.JO[E.Ai("Lj~p",8)][E.sE("ddk",10)]()/1e3,z=E.JO[E.sE("YcVg^U]b",11)][E.sE("oaa_kj\\h",3)],O=!1;
for(var i in G)if(i.indexOf(".")!=-1&&z.indexOf(i)!=-1&&parseInt(G[i])>j)O=!0;if(O)this.Qx.Rd=!1;this.fwG();
this.uv()};Yx.prototype.uv=function(S){this.fX=!0;if(!this.Qx.rE)this.qB.rE=null;else this.qB.fae();
this.ud(o$.$o);this.$();this.il();this.GO.SL(this.k$(),this.CH,this.Qx)};Yx.prototype.ua=function(S){var G=this.Qx;
if(S.fcolor!=null)G.Cj=S.fcolor;if(S.bcolor!=null)G.iw=S.bcolor;if(S.rulers!=null)G.Bu=S.rulers;if(S.extras!=null)G.cm=S.extras;
if(S.favFam!=null)G._c=S.favFam;if(S.panels!=null)G.hB=S.panels;if(S.eparams){var j=S.eparams,z=G.E$;
if(j.guides!=null)z.WX=j.guides;if(j.grid!=null)z.jl=j.grid;if(j.gsize!=null)z.WP=j.gsize;if(j.gunits!=null)z.Wv=j.gunits;
if(j.gtype!=null)z.jc=j.gtype;if(j.runits!=null)z.PZ=j.runits;if(j.sels!=null)z.if=j.sels;if(j.paths!=null)z.qD=j.paths;
if(j.pgrid!=null)z.Bp=j.pgrid;if(j.slices!=null)z.fF=j.slices}if(S.lang!=null)YP.XC(S.lang);if(S.theme!=null)G.EO=S.theme;
if(S.topt||G.UU){var O=S.topt?S.topt:{},i=G.UU?G.UU:{};for(var C in this.cC.map){if(C>=100)continue;
var M="t"+C;this.cC.map[C].s.LN(O[M],i[M],this)}}};Yx.prototype.fwG=function(){if(this.Qx.fge)return;
this.Qx.fge=!0;var S=null,G=window.location.href,j=G.indexOf("="),z=G.indexOf("#");if(j!=-1)S=G.substring(G.indexOf("?")+1,j);
if(z!=-1){S="p";j=z}if(S=="p"||S=="state"){var O=G.substring(j+1,G.length);O=JSON.parse(decodeURI(O));
if(S=="p"){if(O.server)this.Uk=O.server;if(O.resources)for(var i=0;i<O.resources.length;i++)this._r.Yc({url:O.resources[i]});
if(O.files)for(var i=0;i<O.files.length;i++)this._r.Yc({url:O.files[i],QD:{uN:O.server,foo:O.script}});
if(O.environment==null)O.environment={};var C=O.environment;if(C.plugins!=null)this.GO.fzE(C.plugins);
if(C.localsave!=null)this.Qx.wv=C.localsave;if(C.customIO!=null)this.Qx.Rm=C.customIO;if(C.vmode!=null){var M=C.vmode;
if(M==1)this.Qx.compact=!0;if(M==2)this.fvI()}if(C.intro!=null)this.Qx.rE=C.intro;if(C.menus!=null)this.Qx.fMB=C.menus;
if(C.tmnu!=null)this.Qx.UU=C.tmnu;if(C.panels!=null)this.Qx.hB=C.panels;if(C.showtools!=null)this.Qx.fov=C.showtools;
if(C.phrases!=null)YP.fwb(C.phrases);if(C.autosave!=null){window.setInterval(function(){var l=new L(E.E.e);
l.data={r:E.a.Hn};this.D(l)}.bind(this),C.autosave*1e3)}if(C.icons!=null){for(var D in C.icons)if(C.icons[D].indexOf("\"")==-1){PIMG[D]=C.icons[D];
PIMG["__"+D]=!0}}this.ua(C);if(O.files==null&&O.script){Yl.sA(O.script,this);this.Y_()}}else if(S=="state"){var X=this._r;
if(O.action=="create"){var l=new L(E.E.e);l.data={r:E.a.YO,pv:"newproject",flI:O.folderId};this.D(l)}if(O.action=="open"){for(var i=0;
i<O.ids.length;i++)Xd.di(function(){var _="https://www.googleapis.com/drive/v3/files/"+this.fMO+"?"+Xd.xi(),P=new XMLHttpRequest;
P.open("GET",_);P.send();P.onload=function(k){var H=JSON.parse(k.target.response);X.Yc({url:_+"&alt=media",name:H.name,lV:{file:H,fcv:""}})}}.bind({fMO:O.ids[i]}));
alert("Loading files from Google Drive ...")}}}else{var f=G.split("/"),F=f.pop(),$=f.pop();if($!=null&&F!=null&&$.endsWith("photopea.com")&&F.length==2){YP.XC(F);
this.$();this.il()}}};Yx.prototype.$=function(){var S=document.getElementById("cap");if(S){var G=S.getElementsByTagName("h1")[0],O=0,M=0,D=0;
G.textContent=YP.get([0,17,0]);var j=S.getElementsByTagName("p"),z=E.fsl(YP.get([0,17,1])),i=["PSD","XCF","Sketch","XD","CDR"];
for(var C=0;C<i.length;C++)z=z.replace(i[C],"<b>"+i[C]+"</b>");z+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
j[0].innerHTML=z;z=YP.get([0,17,2])+" "+YP.get([0,17,3]);for(var C=0;C<z.length;C++){var X=z[C];if(X=="<")M++;
if(X==">")D++}if(M*D==9){var l=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var C=0;C<3;C++){var f=z.indexOf("<",O),F=z.indexOf(">",O),$=z.slice(0,f)+"<a href=\""+l[C]+"\" target=\"_blank\">"+z.slice(f+1,F)+"</a>";
O=$.length;z=$+z.slice(F+1)}j[1].innerHTML=z}}var _=document.getElementById("sponsors");if(_)_.textContent=YP.get([0,17,4]);
this.RH.$();this.wi.$();this.GO.$();this.Mk.$();this.mx.$();this.qB.$();for(var P in this.cC.map)if(this.cC.map[P].Hu)this.cC.map[P].Hu.$()};
Yx.prototype.fdy=function(){return E.JO[E.Ai("ptih|ryy",4)][E.Ai("q|pr",9)].indexOf("full")!=-1};Yx.prototype.yd=function(S,G){S=Math.floor(S);
G=Math.floor(G);var j=E.DO,z=j("WUMK&AM"),O=j("b`bRH"),i=E.JO[j("S[L[PEKN")],C=!this.fX||this.fdy()||!this.Qx.Rd||YW.de();
if(!C&&oq.dB()){if(this.fCi==null)this.fCi=Math.random()<.3;C=this.fCi}if(this.Ux==null)this.Ux=S<500?0:S<1600?1:2;
var M=this.Ux;if(C){if(E.JO[z]&&this.fX)E.JO[z]()}else{if(M==0)G-=60;else S-=M==1?175:315}this.RH.fCj=this.Qx.Rd&&this.fX;
if(C&&this.fT){this.M[j("aQVUYE B@@5")](this.dE);E.Vk(this.dE);this.qB.fat();this.fT=!1}if(!C&&!this.fT){var D=oq.xk();
this.fpH(S,G);var X=M==0?i[j("Q[M_")]:this.M;X.appendChild(this.dE);this.dE[j("bQ]'WTOC9IE3")](O,j("_MMJLNDgKCAh")+(M==0?10:2)+j("_d$fcOS?I:==Bb-+# ~$N"));
this.dE[O][j("_MMJLND&<:E")]=(M==0?0:15)+j("_d");this.fT=!0}this.RH.yd(S,E.Qb(this.RJ.M)?63:31);var l=this.fY==0?34:0,f=G-31-Math.max(l-1,0),F=j("fUMZK"),$=j("WQRMKT"),_=j("_d");
this.dE[O][$]=(M==0?100>>>1:G-3)+_;this.dE[O][F]=(M==0?S:6*Math.pow(10,2))+_;this.qB.yd(S-this.Mk.si()-this.GO.si(),f);
this.Mk.yd(S,f);this.GO.yd(S,f);this.Nr.yd(S,G);this.mx.yd(S,G)};Yx.prototype.fpH=function(S,G){var j=function(){var O=new L(E.E.e);
O.data={r:E.a.YO,pv:"account"};this.D(O)}.bind(this),z=oq.fdn(S,G,this.dE,j,this.Ux);if(z)this.qB.faG(z)};
Yx.prototype.il=function(S){var G=window.innerWidth,j=window.innerHeight;this.yd(G,j)};Yx.prototype.fpE=function(S){console.log("systemCopy")};
Yx.prototype.fpN=function(S){console.log("systemPaste");if(!S.clipboardData)return;var G=S.target.tagName.toLowerCase();
if(this.uJ.indexOf(G)!=-1)return;var j=S.clipboardData.items;if(j==null)return;var z=this.fpL.bind(this);
for(var O=0;O<j.length;O++){var i=j[O],C=i.getAsFile();if(i.type.indexOf("text")!=-1){i.getAsString(this.fpr.bind(this))}if(i.type.indexOf("image")!=-1){if(C.size==this.Qx.fXb)return;
this.Qx.fXb=C.size;if(C){C.name="image.png";this._r.ZG([C],z)}}}};Yx.prototype.fpr=function(S){if(S.startsWith("http")){if(S==this.Qx.fCO)return;
this.Qx.fCO=S;var G=new L(E.E.e,!0);G.data={r:E.a.mH,zC:{url:S,ed:!0}};this.D(G)}};Yx.prototype.fpL=function(S,G){var j={buffer:S,rect:G},z=this.Qx;
if(window.ClipboardItem&&!1){var O=this.fMP,i=O.L;if(i.o==G.o&&i.i==G.i){j.rect=i;j.jG=O.jG}}else{if(z.d_){var C=new L(E.E.R,!0);
C.s=t.YU;C.data={r:"h_stepbck"};this.D(C)}}z.d_=j;var C=new L(E.E.e,!0);C.data={r:E.a.XO,foM:!0};this.D(C)};
Yx.jv=function(S){S.stopPropagation();S.preventDefault()};Yx.prototype.fvs=function(){if(Date.now()-this.fys>1e3){if(this.mx.Gy()!=null)alert(YP.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.fys=Date.now()}};Yx.prototype.Wq=function(S){var G=this.k$();
if(G==null){alert(YP.get([15,7,7]));return}if(this.mx.Zx()&&S.Kx!=!0){this.fvs();return}var j=this.cC,z=this.Qx.Ru;
if(z!=S.s&&j.map[z].s.Zx()&&S.s!=t.Pf&&S.s!=t.wb){console.log("disabling",z);j.map[z].s.disable(G,this,this.Qx,this.Gd)}var O=this.cC.map[S.s].s;
O.Wq(S.data,this,G,this.Gd,this.Qx);G.PJ=!0};Yx.prototype.fzf=function(S){var G=this.Qx;if(S.data.Pe!=!0)fZ.fVM({mB:S.data.mB,MZ:S.data.MZ},this,G,this.k$());
var j=G.Lq,z=G.qZ;if(j==null)return;var O={fWZ:!1,hl:"Step",fWE:0,b:!0,exp:!1,mB:S.data.mB};if(j[2]==null)j[2]=z[j[0]].G[j[1]].G.length-1;
if(S.data.MZ)O.MZ=JSON.parse(JSON.stringify(S.data.MZ));z[j[0]].G[j[1]].G.splice(j[2]+1,0,O);j[2]++;
this.ud(o$.R)};Yx.prototype.fKy=function(S){var G=S.data.r;if(G==E.a.fsL){this.fSN(S.data.ffr)}if(G==E.a.fwf){this.$();
this.il()}if(G==E.a.XQ)this.il();if(G==E.a.fZh)if(this.Qx.wI){this.Qx.wI.prompt();this.Qx.wI=null}if(G==E.a.Jt)this.Nr.fSO(S.data);
if(G==E.a.Xj)this.Nr.fXL(S.data);if(G==E.a.fgn)this.Nr.fSZ(S.data.ka);if(G==E.a.fsZ)this.Nr.fSy(S.data.ka);
if(G==E.a.sy)this.Nr.j_();if(G==E.a.IY)this.qB.om(S.data.vM,S.data.push);if(G==E.a.fMS)this.qB.fab();
if(G==E.a.sB)this.qB.YH(this.CH.indexOf(S.data.Bj));if(G==E.a.Mm){var j=this.k$(),z=x.clone(j.yA()),O=j.d[j.N[0]],i=new Q(0,0,j.o,j.i),C=Yi.KP()+"-d71c-11e5-b1ae-a548a96e5f9f",M=new L(E.E.e,!0);
if(S.data.zC==0){var D={L:i,name:j.name.split(".")[0],hC:z,id:C};M.data={r:E.a.zv,QD:"add",zC:o$.lY,hr:[D]};
this.D(M)}if(S.data.zC==1){var X=x.S(i.h()*4);x.GC(X,4294967295);x.k.me("norm",z,i,X,i,i,1);var l=x.S(i.h());
x.Lw(X,l);x.uT(l);var f=x.Fw(l,i);if(f.tR())f=i;var F=x.S(f.h());x.zP(l,i,F,f);var $={L:f,id:C,channel:F},_=oH.fR(C),P=_.Brsh.v;
P.Dmtr.v.val=f.o;P.Spcn.v.val=10;M.data={r:E.a.zv,QD:"add",zC:o$.bk,hr:{list:[{t:"Objc",v:_}],qH:[$],ki:[]}};
this.D(M);M.data={r:E.a.zv,zC:o$.Ae,vJ:_};this.D(M)}if(S.data.zC==2){var k={Xx:O.getName(),kT:C,HQ:new Q(0,0,j.o,j.i),z:O.add.vmsk.clone().z};
x.p.hu(k.z,new Ym(1/j.o,0,0,1/j.i,0,0));M.data={r:E.a.zv,QD:"add",zC:o$.lv,hr:[k]};this.D(M)}}if(G==E.a.mH)this._r.Yc(S.data.zC);
if(G==E.a.HZ){var H=this.Qx.Rm.open,q=S.data.fWC;if(H&&q!=!0){var M=new L(E.E.e,!0);M.data={r:E.a.yf,uF:H};
this.D(M)}else this._r.fPP(q?this.qB.OZ():null,S.data.fAl)}if(G==E.a.sR){var R=S.data.faY,I=this.Od(R);
if(R==o$.ql){var i=new Yi;for(var b=0;b<I.length;b++){var Y=I[b].qi.Lefx;if(Y)Yv.fYZ(Y,i,this.Qx.Ax)}I={hJ:i.add.Patt?i.add.Patt:[],fN:I}}if(R==o$.ve){var m=this.Qx.fO;
I={qH:[],ki:[],list:I};console.log(I)}if(R==o$.R)I=I[S.data.tP];var h=o$.jF[R],z=h[2].CS(I);fm.save(z,h[1]+"."+h[0])}if(G==E.a.fTQ){var e=this.Qx.wT;
if(e.XV&&!e.fg$){e.ffT=window.confirm("Load \""+S.data.zs+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
e.fg$=!0}if(e.ffT){e.Tx[S.data.zs]=S.data.ffV;var M=new L(E.E.e);M.data={r:E.a.zv,zC:o$.Hv};this.D(M)}}if(G==E.a.fsE){var j=this.k$(),T="<!DOCTYPE HTML>";
if(j==null)return;var s=ot.Db(j.yA().buffer,j.o,j.i),y=window.open();T+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";
T+="<body><img src=\""+s+"\" /></body>";T+="</html>";y.document.write(T)}if(G==E.a.fgj){var j=this.k$();
if(j==null)return;if(j.lr){j.qE()}var K=this.Qx.Rm.publish;if(K){var M=new L(E.E.e,!0);M.data={r:E.a.yf,uF:K};
this.D(M);return}var B=ot.D$(j,"png");if(confirm("Your picture will be published at Imgur.com under a public URL (known only to you). Proceed?"))this._r.fvH(B)}if(G==E.a.Hn){var a=this.Qx.Rm.save,j=this.k$(),u=!1;
if(j==null)return;if(j.lr){j.qE()}if(j.iU){if(this.CH.indexOf(j.iU.qY)!=-1){var z=new Uint8Array(ot.PSD.tu(j)),M=new L(E.E.R,!0);
M.data={r:g.FY,lq:j.iU.qY,data:z,id:j.iU.fCr};M.s=t.HA;this.D(M);alert("Smart Object updated")}u=!0}else if(j.lV){this._r.fPA(j);
u=!0}else if(j.QD&&j.QD.uN){this._r.fPH(j,this.Qx);u=!0}else if(S.data.fXz){this._r.fPk(j,S.data.fXz);
u=!0}else if(a){var M=new L(E.E.e,!0);M.data={r:E.a.yf,uF:a};this.D(M);u=!0}if(u){j.pI=j.dN;j.yK=!0}else{var M=new L(E.E.e,!0);
M.data={r:E.a.Dq};this.D(M)}}if(G==E.a.Dq){if(!this.Qx.wv){alert("function is disabled");return}var a=this.Qx.Rm.saveAs;
if(a){var M=new L(E.E.e,!0);M.data={r:E.a.yf,uF:a};this.D(M);return}var M=new L(E.E.R,!0);M.data={r:g.Kl};
M.s=t.HA;this.D(M);var j=this.k$();if(j.lr){j.qE()}if(j.d.length>8e3&&!confirm("Your document has "+j.d.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var r=j.qb()||j.iU&&j.iU.qY.qb();if(this.fdy())r=!1;var v=new E.JO[(E.sE("Gc"+(E.uc(31)?"ue":"ve"),-3))]()[E.Ai("edtNkqyykz",-2)]();
if(r&&!YW.de()&&v>2*15){E.JO[E.sl("clh]]c[",3)](E.sl("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-v+4*15)+E.sl(" rs}\x89\x8D\x83\x96V",-5));
return}var z=ot.PSD.tu(j);fm.save(z,j.name);j.pI=j.dN;j.yK=!0}if(G==E.a.mw)window.open(S.data.link,"_blank");
if(G==E.a.fmz){if(this.mx.Zx()){this.fvs();return}var j=this.k$(),O=j.d[j.N[0]],o=j.CD(O.add.SoLd.Idnt.v);
for(var b=0;b<this.CH.length;b++){var V=this.CH[b].iU;if(V!=null&&V.fCr==o.Pq&&V.qY==j){this.qB.Gz(b);
return}}fm.BO({name:o.HU,iU:{fCr:O.add.SoLd.Idnt.v,qY:j}},o.raw.buffer,this)}if(G==E.a.sk){this.fzo()}if(G==E.a.mo){this.fZr(S.data.uI,S.data.O$)}if(G==E.a.XO){this.fzY(S.data.foM)}if(G==E.a.yf){Yl.sA(S.data.uF,this)}if(G==E.a.mp){var J=parseFloat(S.data.pv);
if(this.Qx.hB.indexOf(J)==-1){var M=new L(E.E.e,!0);M.data={r:E.a.zv,zC:o$.v$,g:J,QD:"add"};this.D(M)}this.GO.fzx(S.data.pv)}if(G==E.a.YO){if(!this.Qx.wv&&S.data.window=="saveforweb"){alert("function is disabled");
return}this.mx.fCZ(S.data.pv,this.k$(),S.data,this.CH,this.Gd)}if(G==E.a.Xq)fm.save(S.data.data,S.data.name);
if(G==E.a.lt){if(!this.mx.Zx()||S.Kx)this.fzw(S.data.lq)}if(G==E.a.fvl){this.mx.fCZ("rawpea",null,S.data,this.CH,this.Gd)}if(G==E.a.sH){this.qB.Gz(S.data.target);
var M=new L(E.E.R,!0);M.data={r:g.Iv,lq:S.data.lq,AX:S.data.AX,DR:S.data.DR};M.s=t.HA;this.D(M);this.Gc(t.Kk)}if(G==E.a.fsN){Z.Gp=!Z.Gp;
if(this.CH.length>0)this.k$().I()}if(G==E.a.fJJ){var d=YW.X$();if(d!=null&&d.globals!=null)this.ua(d.globals);
this.uv()}if(G==E.a.fXU){this._r.ZG(S.data.data,null,S.data.KU,S.data.KK)}if(G==E.a.AH){if(!this.mx.Gy()!=null)this.Gc(S.data.s,S.data.Uc)}if(G==E.a.fod){if(this.cC.Uj)this.Gc(this.cC.Uj)}if(G==E.a.EN){var oU=this.cC.map[S.data.s].s,j=this.k$();
oU.Sr(S.data,this,j,this.Gd,this.Qx);if(j)j.PJ=!0;this.fdv()}if(G==E.a.Qe){var p=this.cC.map[S.data.s];
this.fXq(p);p.Hu.rw(S.data)}if(G==E.a.zv){var j=this.k$(),N=S.data.zC,ob=S.data.hr,oe=this.Qx;if(S.data.QD=="set"){var oF=t.FH(ob);
if(oe.Ru!=oF)this.Gc(oF);this.cC.map[oF].Hu.fXk(ob,oe)}if(S.data.QD=="add"){var h=o$.jF[N];if(N==o$.v$){oe.hB.push(S.data.g);
oe.hB.sort(function(YT,Yg){return YT-Yg})}else if(h==null){if(ob)oe.UW.fQY(ob,S.data.fcJ)}else{var oN=this.Od(N);
if(N==o$.bk){oN.qH=oN.qH.concat(ob.qH);oN.ki=oN.ki.concat(ob.ki);oN=oN.list;ob=ob.list}if(N==o$.ql&&j){for(var b=0;
b<ob.length;b++){var Y=ob[b].qi.Lefx;if(Y)Yv.fJS(Y,j,oe.Ax)}}if(N==o$.ve&&ob==null){var i=this.cC.map[oe.Ru].Hu.fYE();
if(i==null)return;ob=[i]}for(var b=0;b<ob.length;b++)oN.push(ob[b]);if(S.data.fcJ!=!0)if(oN.length!=ob.length||N==o$.vx||N==o$.ql||N==o$.R)alert(YP.get(h[3])+" "+YP.get([23,1])+".")}}if(S.data.QD=="del"){if(N==o$.v$){oe.hB.splice(oe.hB.indexOf(S.data.g),1)}else{var h=o$.jF[N],YM=S.data.pj,oN=this.Od(N);
if(N==o$.bk)oN=oN.list;for(var b=0;b<YM.length;b++)oN[YM[b]]=null;for(var b=0;b<oN.length;b++)if(oN[b]==null){oN.splice(b,1);
b--}alert(YP.get(h[3])+" deleted.")}}if(S.data.QD=="rnm"){var h=o$.jF[N],oN=this.Od(N);if(N==o$.bk)oN=oN.list;
if(oN[S.data.pj[0]]==null)return;h[2].Yp(oN[S.data.pj[0]],S.data.g)}if(N==o$.ad){var oE=S.data.g;oe.pX=oE;
oe.fTz[oE.Gu]=oE.tZ}if(N==o$.rO){var oE=S.data.g;oe.aL=oE;var ox=oE.strokeEnabled.v,c=oE.strokeStyleContent.v,oG=ox?{Gu:1+n.GN.iX.indexOf(c.classID),tZ:c}:{Gu:0};
oe.fTi[oG.Gu]=oG.tZ}if(N==o$.aw){oe.cT=S.data.cT}if(N==o$.Ae){oe.fO.Em=S.data.vJ}if(N==o$.rq){oe._c=S.data.Ha}if(N==o$.n$){var or,Yf="Clrs";
if(S.data.zS<2){var oL=S.data.g,YX=S.data.zS==0,YC=x.T.qL({H:oL>>>16,X:oL>>>8&255,C:oL&255});if(YX)oe.Cj=oL;
else oe.iw=oL;Yf=YX?"FrgC":"BckC";or={mB:"set",MZ:{__name:"Set",classID:"setd",T:{t:"Objc",v:YC}}}}if(S.data.zS==2){var Yp=oe.Cj;
oe.Cj=oe.iw;oe.iw=Yp;or={mB:"exchange",MZ:{__name:"Exchange",classID:"Exch"}}}if(S.data.zS==3){oe.Cj=0;
oe.iw=16777215;if(j!=null&&j.N.length!=0&&j.d[j.N[0]].hz==1){var Yp=oe.Cj;oe.Cj=oe.iw;oe.iw=Yp}or={mB:"reset",MZ:{__name:"Reset",classID:"Rset"}}}if(or){or.MZ.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:Yf}}]};
var p=this.Pj();p.Og=this;p.track(or)}}if(N==o$.k_){oe.Bu=!oe.Bu;this.il()}if(N==o$.an){oe.cm=!oe.cm;
this.il()}var YZ=oe.E$;if(N==o$.Ho){YZ.if=!YZ.if;this.il()}if(N==o$.LS){YZ.qD=!YZ.qD;this.il()}if(N==o$.rL){YZ.WX=!YZ.WX;
this.il()}if(N==o$.kN){YZ.jl=!YZ.jl;this.il()}if(N==o$.pN){YZ.Bp=!YZ.Bp;this.il()}if(N==o$.kr){YZ.fF=!YZ.fF;
this.il()}if(N==o$.rx){oe.E$=S.data.Ha;this.il()}if(N==o$.Tn){oe.Ur=!oe.Ur;this.il()}if(N==o$.Lv){oe.DL[S.data.AR]=!oe.DL[S.data.AR];
this.il()}if(N==o$.HY){YP.fwV(S.data.lang);this.$();this.il()}if(N==o$.LK){oe.EO=S.data.EO;this.$()}if(N==o$.Hv&&oe.wT.XV){var Yz=oe.wT.XV.transaction(["rsrc"],"readwrite").objectStore("rsrc");
Yz.put({k:"fs0",fset:oe.wT.Tx})}this.ud(N)}};Yx.prototype.Od=function(S){var G=this.Qx,j=[o$.bk,o$.vT,o$.rv,o$.lY,o$.lv,o$.ql,o$.vx,o$.R,o$.ve,o$.lW],z=[G.fO,G.Nx,G.Ol,G.Ax,G.pm,G.HK,G.ffS,G.qZ,G.FG,G.fpc];
return z[j.indexOf(S)]};Yx.prototype.fzo=function(){this.fZr();var S=this.k$();if(S==null||S.N.length==0)return;
var G=S.d[S.N[0]],j=new L(E.E.R);if(G.yU){j.s=t.Ml;j.data={r:"remove",mj:"Cut Paths"}}else{j=new L(E.E.Hz);
j.data={mB:"delete"}}this.D(j)};Yx.prototype.fZr=function(S,G){if(S==null)S=!1;var j=this.Qx;console.log("doCopy",S,G);
var z=this.k$();if(z==null||z.N.length==0)return;var O=z.d[G==null?z.N[0]:G],i=O.add.vmsk,C=O.add.vogk;
if(!S&&i&&(O.yU||O.dr())&&i.N.length!=0){j.fS=t.mE.vk(i,C)}else{if(z.f==null)return;var M,D;if(S){var X=new Q(0,0,z.o,z.i);
D=X.tY(z.f.rect);M=x.S(D.h()*4);x.yF(z.yA(),X,M,D);x.HD(z.f.channel,z.f.rect,M,D)}else{var l=O.ZC(z,z.f);
if(l==null){alert("Copied area is empty");return}M=l.Pt;D=l.rect}var f=new A(z.o,z.i);if(window.ClipboardItem&&!1){var F=Date.now(),$=ot.PNG.fVA(M.buffer,D.o,D.i);
fm.fSF(new Blob([new Uint8Array($)],{type:"image/png"}));console.log(Date.now()-F,$.byteLength);this.fMP={L:D,jG:f}}else j.d_={buffer:M,rect:D,jG:f}}};
Yx.prototype.fzY=function(S){console.log("doPaste");var G=this.Qx,j=G.d_;if(this.CH.length==0){if(j){var z=fm.Op("image.psd",[{data:j.buffer.buffer,tv:j.rect}]),O=new L(E.E.e);
O.data={r:E.a.lt,lq:z};this.D(O)}return}var z=this.k$(),i=z.d[z.N.length==0?z.d.length-1:z.N[0]],C=i.add.vmsk,O=new L(E.E.R,!0);
if(G.fS!=null&&C&&(i.yU||i.dr())){O.s=t.Ml;O.data={r:"append",mj:"Paste Paths",fuT:G.fS}}else{if(j==null)return;
if(z.OX(!1)&&(i.hz>0||i.rect.tR())){O.s=t.bk;O.data={r:"draw",fZa:!0,mj:[5,2]}}else{O.s=t.HA;O.data={r:g.RA}}O.data.d_=j}this.D(O)};
Yx.prototype.fwt=function(){for(var S=0;S<this.CH.length;S++){var G=this.CH[S],j=!0;for(var z=0;z<G.d.length;
z++){var O=G.d[z],i=O.add.TySh;if(i!=null&&!Cw.fi(i,this.Qx.UW))j=!1}if(!j)continue;if(G.dD)for(var z=0;
z<G.d.length;z++){var O=G.d[z],i=O.add.TySh;if(i!=null&&Cw.fi(i,this.Qx.UW)){var C=new fv(i.Nv,this.Qx.UW),M=Cw.Dm(C,i);
O.rect=M.L;O.buffer=M.hC;O.I();G.I()}}if(G.fmd)continue;G.fmd=!0;if(G.QD&&G.QD.foo)Yl.sA(G.QD.foo,this);
this.Y_();var D=new L(E.E.R);D.s=t.DT;D.data={r:"start",vu:"dDFT"};D.data={r:"start",vu:"iDFT"};var X=new L(E.E.e);
X.data={r:E.a.mp,pv:Yn.qF.fsr}}};Yx.prototype.ud=function(S){var G=this.Qx.Ru;if(S==o$.Ae){if(this.cC.map[G].Hu)this.cC.map[G].Hu.uQ(this.Qx,S)}else for(var j in this.cC.map)if(this.cC.map[j].Hu)this.cC.map[j].Hu.uQ(this.Qx,S);
if(S==o$.lQ)this.fwt();this.Mk.uQ(this.Qx,S);this.mx.uQ(this.Qx,S);this.Pj().uQ(this.Qx,S);this.GO.uQ(this.Qx,S);
this.wi.uQ(this.Qx,S);if(S==o$.LK||S==o$.$o){XS.fSX(this.Qx.EO);this.update(!0)}if([o$.v$,o$.rq,o$.n$,o$.k_,o$.an,o$.rx,o$.rL,o$.kN,o$.Ho,o$.LS,o$.pN,o$.kr,o$.HY,o$.LK].indexOf(S)!=-1)this.fdv()};
Yx.prototype.fdv=function(){if(!this.Di)return;var S={},G=this.cC.map;for(var j in G){var z=G[j].s;if(z.JW&&z.JW()!=null)S["t"+j]=z.JW()}var O=this.Qx,i=O.E$,C={fcolor:O.Cj,bcolor:O.iw,rulers:O.Bu,extras:O.cm,favFam:O._c,panels:O.hB,eparams:{guides:i.WX,grid:i.jl,sels:i.if,paths:i.qD,pgrid:i.Bp,slices:i.fF,gsize:i.WP,gunits:i.Wv,gtype:i.jc,runits:i.PZ},lang:YP.xl(),theme:O.EO,topt:S},M=YW.X$();
if(M==null)M={};M.globals=C;YW.XX(M)};Yx.prototype.ffK=function(){var S=this.Gd,G=this.nN,j=this.Qx.Ru,z=this.cC.map[j].s,O=null;
for(var i=0;i<this.cC.fgX.length;i++){var C=this.cC.fgX[i],M=!0;for(var D=0;D<C.G_.length;D++){var X=C.G_[D];
if(!S.U(X))M=!1}if(M&&(!C.fk||!z.Zx())&&(C.wC==null||C.wC.indexOf(j)!=-1)){O=C.s;break}}if(!G.Uq&&this.cC.wP!=O&&O!=j){this.cC.wP=O;
var l=this.k$();this.Pj().enable(l,this,this.Qx,this.Gd,O!=null&&O!=j)}};Yx.prototype.uA=function(S){var G=this.Qx.Ru,j=this.k$();
if(G!=null){this.cC.map[G].s.disable(j,this,this.Qx,this.Gd)}};Yx.prototype.fXq=function(S){if(S.Hu==null){S.Hu=new S.GK;
S.Hu.foR(S.s.id,S.s.P$);S.Hu.uQ(this.Qx,o$.$o);S.Hu.$()}};Yx.prototype.Gc=function(S,G){if(S==t.Kk&&this.mx.Gy())return;
var j=this.k$(),z=this.Qx;if(this.cC.map[S].s.vR(j,z)){this.uA();var O=[t.vF,t.Sq,t.JD,t.aX,t.Jj,t.Jx,t.aM,t.Ml,t.Jk].indexOf(z.Ru)!=-1;
this.cC.Uj=z.Ru;z.Ru=S;this.Mk.SL(this.cC,this.Qx);var i=this.cC.map[S];this.cC.UH[i.fU]=i.fgO;this.fXq(i);
this.RJ.fSx(i.Hu);var C=i.s;C.enable(j,this,this.Qx,this.Gd,!1,G,O);if(j)j.PJ=!0;this.il()}};Yx.prototype.Pj=function(S){var G=this.cC,j=G.fC,z=G.wP,O=this.Qx.Ru;
if(j)O=j;else if(z&&S==null)O=z;return G.map[O].s};Yx.prototype.fzw=function(S){var G=this.CH.indexOf(S);
if(G!=-1){this.qB.Gz(G);return}if(this.Uk&&(S.QD==null||S.QD.uN==null)){S.QD={uN:this.Uk}}if(S.sD==null){S.sD="local,"+this.flm+","+S.name;
this.flm++}for(var j=0;j<S.d.length;j++){var z=S.d[j];if(z.add.TySh!=null)Cw.fi(S.d[j].add.TySh,this.Qx.UW)}var O=E.JO[E.sE("Hd"+(E.uc(26)?"vf":"uf"),-4)];
O=O[E.sE("uu"+(!E.uc(28)?"-":"|"),-7)];var i=Math.floor(O()/1e3),C=Math.PI*(831<<16)+(E.uc(31)?20:10)*7e7;
if(i>C){var M=S.d.length;S.d=[];return M}if(Z.Gp)Z.fud(Math.max(S.o,S.i));S.C$();S.iB();S.I();this.CH.push(S);
this.qB.YA(new Xo(S));S.PJ=!0;S.yK=!0;this.fwt();var D=new L(E.E.R);D.s=t.PU;D.data={r:"auto",Zh:2}};
Yx.prototype.k$=function(){return this.CH[this.Uh]};Yx.prototype.fYD=function(){return this.mx.Gy()==null};
Yx.prototype.fCh=function(S){this.uA();this.Uh=this.qB.OZ();var G=this.k$();this.wi.fWY(G,this.Qx);this.GO.SL(G,this.CH,this.Qx);
this.il();if(G)G.PJ=!0};Yx.prototype.fzd=function(S){this.uA();this.CH.splice(S.data.Or,1);if(this.CH.length==0){this.fCh(S);
if(Z.Gp)Z.EA().parentNode.removeChild(Z.EA())}};Yx.prototype.fzc=function(S){var G=[],j=S.data.ffN;for(var z=0;
z<j.length;z++)G[z]=this.CH[j[z]];this.CH=G;this.Uh=this.qB.OZ()};Yx.prototype.fzA=function(S){var G=this.qB,j=G.fai(),z=this.Pj(),O=this.k$();
if(j==G.OZ()||!z.LF())return;this.fSN(j,z)};Yx.prototype.fSN=function(S,G){var j=this.Qx,z=this.qB,O=this.k$(),i=this.CH[S],C=new L(E.E.R,!0);
C.s=t.HA;C.data={r:g.GA,d:O.fQ(null,!0),qY:O,xU:i};this.D(C);var M=this.nN,D=j.Bu;j.Bu=!1;M=O.Q.ie(M.x,M.y);
if(G)G.Lt(O,this,j,this.Gd);z.Gz(S);M=i.Q.We(M.x,M.y);M.x+=49;M.y+=112;if(G)G.ti(i,this,j,this.Gd,M);
j.Bu=D};Yx.prototype.fPS=function(S){var G=this.Gd,j=this.Qx,z=S.IL;this.nN=S.IL;var O=this.k$(),i=this.cC.map[t.PK].s;
if((S.action=="down"||S.action=="rdown")&&j.Ru!=t.PK&&this.cC.wP!=t.PK&&i.L$(O,this,j,G,z)){this.cC.fC=t.PK;
i.enable(O,this,j,G,!0)}var C=this.mx.Gy(),M=C!=null&&C.He()?C:this.Pj();if(C!=null&&M!=C&&this.mx.Zx()&&M.id!=t.Pf&&M.id!=t.wb)return;
if(S.action=="down")M.ti(O,this,j,G,z);if(S.action=="rdown")M.JK(O,this,j,G,z);if(S.action=="move")M.Xt(O,this,j,G,z);
if(S.action=="up")M.Va(O,this,j,G,z);if(S.action=="rup")M.nr(O,this,j,G,z);var D=this.GO;if(S.action=="down")D.ti(O,this,j,G,z);
if(S.action=="move")D.Xt(O,this,j,G,z);if(S.action=="up")D.Va(O,this,j,G,z);if(S.action=="down"||S.action=="up"){this.ffK()}if(S.action=="down"||S.action=="up"||S.action=="ctx"){O.PJ=!0}if((S.action=="up"||S.action=="rup")&&this.cC.fC){this.cC.fC=null;
i.disable(O,this,j,G)}if(S.action=="scroll"){var X=new L(E.E.R,!0),l=S.DC.clone();if(Math.abs(l.x)+Math.abs(l.y)<=2){l.x*=40;
l.y*=40}X.data={r:"scroll",DC:l,IL:z};X.s=G.U(w.Ki)?t.wb:t.Pf;this.D(X)}};Yx.prototype.oD=function(S){var G=this.k$(),j=this.nN;
if(G&&this.Pj().tV(j,this.Gd)){var z=G.Q,O=z.G.o,i=z.G.i,C=0,M=0,D=16;if(j.x<D)C=D-j.x;if(j.x>O-D)C=j.x-(O-D);
if(j.y<D)M=D-j.y;if(j.y>i-D)M=j.y-(i-D);if((C!=0||M!=0)&&(G.o*z.u>O||G.i*z.u>i)){C=Math.min(5,C*.5);
M=Math.min(5,M*.5);if(!(j.x<D||j.y<D)){C=-C;M=-M}z.c.x+=C;z.c.y+=M;this.fPS({IL:this.nN,action:"move"});
G.Kh=!0}}this.update();window.requestAnimationFrame(this.fMh)};Yx.prototype.update=function(S){var G=this.k$();
if(G==null)return;if(G.PJ)this.Pj(!0).nF(G,this,this.Qx,this.Gd);if(G.lr){G.qE()}if(G.lr||G.az||G.yK||G.Kh||S){this.qB.uQ(this.Qx,null);
this.qB.SL(G,this.CH)}if((G.lr||G.Kh||G.PJ)&&(!this.nN.Uq||G.UI)){G.iB();this.GO.SL(G,this.CH,this.Qx);
this.Mk.fKc(G);G.nK=!1}G.UI=!1;G.PJ=!1;G.lr=null;G.az=G.yK=G.Kh=!1};Yx.prototype.uJ=["input","textarea","select"];
Yx.prototype.fPs=function(S){var G=S.code,j=w.GD;return!j(G,w.pW)&&!j(G,w.kw)&&!j(G,w.Ki)};Yx.prototype.sb=function(S){var G=S.target.tagName.toLowerCase(),j=w.GD(S.code,w.A$);
if(this.uJ.indexOf(G)!=-1&&this.fPs(S)&&!(j&&G=="input"&&S.target.getAttribute("type")=="range")||G=="button"&&(j||w.GD(S.code,w.pG)))return;
if(w.TA(S)){S.preventDefault()}this.Gd.fuo(S.code);this.HE("down")};Yx.prototype.OV=function(S){if(w.GD(S.code,w.TJ))this.Gd.reset();
this.Gd.fuW(S.code);var G=S.target.tagName.toLowerCase();if(this.uJ.indexOf(G)!=-1&&this.fPs(S))return;
if(w.TA(S)){S.preventDefault()}this.HE("up")};Yx.prototype.HE=function(S){var G=this.Gd,j=this.k$(),z=j!=null&&j.N.length!=0;
if(this.Nr.Gy()!=null){if(G.U(w.pW)){this.Nr.fSK()}return}this.ffK();var O=this.Cf(w.kw);if(O&&G.U(w.HL)&&S=="down"){var i=new L(E.E.R),C=new L(E.E.e);
i.s=t.YU;if(G.U(w.H$)){i.data={r:"h_stepfwd"}}else{i.data={r:"h_stepbck"}}if(this.mx.Gy()!=null&&this.mx.Gy().Zx()){}else this.D(i)}if(O){var i=new L(E.E.R),M=new L(E.E.Hz),C=new L(E.E.e);
if(G.U(w.fwH)){i.s=t.PY;i.data={r:"trim",uH:0}}if(G.U(w.a)){M.data=t.tC.YF(!0)}if(G.U(w.HO)){M.data=t.tC.YF()}if(G.U(w.mV)){if(G.U(w.H$)&&this.Qx.Ru!=t.Kk)C.data={r:E.a.YO,pv:"afw_fade"};
else{i.s=t.DT;i.data={r:"applylast"}}}if(G.U(w.Tj)){i.s=t.HA;i.data={r:g.Cl}}for(var D in Yd.keys){var X=Yd.keys[D],l=!0;
for(var f=0;f<X.length;f++)if(!G.U(X[f]))l=!1;if(l){i.s=t.PU;if(D=="hue2"&&G.U(w.H$))i.data={r:"auto",Zh:3};
else i.data={r:"start",HH:D}}}if(G.U(w.zM)&&G.U(w.H$)){i.data=null;M.data={mB:"inverse"}}if(G.U(w.JZ)){if(G.U(w.H$)){i.s=t.HA;
i.data={r:g.YG}}else C.data={r:E.a.YO,pv:"newproject"}}if(G.U(w.Tq)){C.data={r:E.a.HZ};G.reset()}if(G.U(w.aE)){C.data={r:E.a.fsE};
G.reset()}if(G.U(w.Hk)&&S=="down"){if(G.U(w.H$)){if(G.U(w.Ki))C.data={r:E.a.YO,pv:"saveforweb"};else C.data={r:E.a.Dq}}else C.data={r:E.a.Hn}}if(G.U(w.zf)||G.U(w.TH)){i.s=t.HA;
i.data={r:g.kQ,zS:0};var F=G.U(w.H$);if(G.U(w.zf))i.data.zS=F?3:2;else i.data.zS=F?0:1}if(G.U(w.t)){if(G.U(w.H$)){i.s=t.Kk;
i.data={r:"again"}}else C.data={r:E.a.AH,s:t.Kk}}if(G.U(w.TE)){this.qB.Tv()}if(G.U(w.TO)){C.data={r:E.a.YO,pv:"preferences"}}if(G.U(w.Hq)){C.data={r:E.a.sk}}if(G.U(w.PF)){C.data={r:E.a.mo,uI:G.U(w.H$)}}if(G.U(w.Th)){C.data={r:E.a.XO}}if(G.U(w.qF)){C.data={r:E.a.zv,zC:o$.k_}}if(G.U(w.TD)){C.data={r:E.a.zv,zC:o$.an}}if(G.U(w.Ti)){if(G.U(w.Ki)&&j.R_(j.N[0])){i.s=t.HA;
i.data={r:g.JU}}else{i.s=t.HA;i.data={r:g.GI}}}if(S=="down"&&G.U(w.E)){i.s=t.HA;if(j.N.length==1&&j.N[0]!=0&&!j.d[j.N[0]].$P())i.data={r:g.yv};
else if(j.N.length>1)i.data={r:g.FT}}if(G.U(w.fuF)){C.data={r:E.a.zv,zC:o$.rL}}if(G.U(w.fwN)){C.data={r:E.a.zv,zC:o$.kN}}if(G.U(w.HI)||G.U(w.fuG)){i.s=t.wb;
i.data={r:"zoom",lJ:!0}}if(G.U(w.zg)){i.s=t.wb;i.data={r:"zoom",lJ:!1}}if(G.U(w.Te)){i.s=t.wb;i.data={r:"adapt",g:"fitscr"}}if(G.U(w.T$)){i.s=t.wb;
i.data={r:"adapt",g:"pixel"}}if(this.mx.Gy()!=null&&this.mx.Gy().Zx()){}else{if(i.data)this.D(i);if(M.data)this.D(M);
if(C.data)this.D(C)}}if(!G.U(w.kw)&&!G.U(w.Ki)&&!G.U(w.H$)&&S=="down"){var i=new L(E.E.R),C=new L(E.E.e),$=this.cC.map[this.Qx.Ru],_=-1;
for(var f=0;f<this.cC.keys.length;f++)if(this.cC.keys[f]&&this.Cf(this.cC.keys[f]))_=f;if(_!=-1){var P;
if($.fU!=_)P=this.cC.UH[_];if($.fU==_)P=($.fgO+1)%this.cC.IU[_].length;var k=this.cC.IU[_][P].s.id,H=this.Qx.fov;
if((H==null||H.indexOf(parseInt(k))!=-1)&&!this.nN.Uq)C.data={r:E.a.AH,s:k}}if(G.U(w.Hq))C.data={r:E.a.zv,zC:o$.n$,zS:2};
if(G.U(w.HO))C.data={r:E.a.zv,zC:o$.n$,zS:3};if(C.data)this.D(C);if(j&&j.N.length!=0){var q=j.d[j.N[0]],R=q.hz;
if(R==1||R==3){var I=R==3?q.td(j).q:q.Ew(),b=I.tO?j.Q.qk.join("")=="111"?1:2:0;i.s=t.wb;if(I&&G.U(w.pW)&&b!=0){i.data={r:"mskView",g:0}}if(I&&G.U(w.fwm)){i.data={r:"mskView",g:b==1?0:1}}if(I&&G.U(w.fwQ)){i.data={r:"mskView",g:b==2?0:2}}if(i.data)this.D(i)}}var Y=G.pF();
if(z&&Y!=-1&&this.Cf(w.zo[Y])){var m=j.N[0],q=j.d[m],h=E.fCT(Math.round(100*q.opacity/255),Y);i.s=t.HA;
i.data={r:g.Is,B:m,Ha:Math.round(255*h/100)};this.D(i)}}if(!G.U(w.kw)&&!G.U(w.Ki)&&G.U(w.H$)){var i=new L(E.E.R),C=new L(E.E.e);
if(G.U(w.fw_))C.data={r:E.a.YO,pv:"shortcuts"};if(G.U(w.fVg))C.data={r:E.a.YO,pv:"fill"};if(G.U(w.fVf))C.data={r:E.a.YO,pv:"sel_feather"};
if(z&&(G.U(w.HI)||G.U(w.zg))){var m=j.N[0],q=j.d[m],e=YR.fh,s=e.length,y=e.indexOf(q.eD);i.s=t.HA;i.data={r:g.Ip,Ha:(y+s+(G.U(w.HI)?1:-1))%s};
this.D(i)}if(C.data)this.D(C)}if(G.U(w.pG))this.fvI();var i=new L(E.E.R),T=S=="down"&&(this.Cf(w.mO)||this.Cf(w.sG));
if((O||G.U(w.Ki))&&T){i=new L(E.E.Hz);i.data=t.ha.Dn(O?"BckC":"FrgC");this.D(i)}else if(j&&T&&!this.nN.Uq){if(j.f!=null){i=new L(E.E.Hz);
i.data={mB:"delete"}}else{i.s=t.HA;i.data={r:g.Yv}}this.D(i)}if(this.mx.Gy()!=null){if(G.U(w.pW)){this.mx.Gy().fXt()}else{this.mx.Gy().HE(j,this,this.Qx,G)}}if(this.Qx.Ru==null)return;
var $=this.Pj();if(this.mx.Gy()==null||this.cC.wP)$.HE(j,this,this.Qx,G)};Yx.prototype.Cf=function(S){var G=this.Gd,j=this.cC.map[this.Qx.Ru].s,top=this.mx.Gy(),z=this.k$();
return G.U(S)&&!j.DW(S,z)&&(top==null||!top.DW(S,z))};Yx.prototype.fvI=function(){var S=this.fMH,G=this.Uy;
if(this.fY==0){this.kf.removeChild(this.RJ.M);S.removeChild(this.Mk.M);S.removeChild(this.GO.M)}else{this.kf.appendChild(this.RJ.M);
G.appendChild(S);S.appendChild(this.Mk.M);S.appendChild(this.qB.M);S.appendChild(this.GO.M)}this.fY=!this.fY;
this.il()};function Xc(S){YS.call(this);if(S==null)return;this.YC=null;this.QM=null;this.M=E._("div","sbar"+" "+S);
this.fZ=new E._("div","top");this.fZ.innerHTML="> <";this.M.appendChild(this.fZ);this.wG=1;this.fZ.addEventListener("click",this.fzJ.bind(this),!1)}Xc.prototype=new YS;
Xc.prototype.fzJ=function(S){if(this.YC!=null&&this.YC<500&&this.wG==0)return;if(this.wG==0)this.Wl(!0);
else this.collapse(!0)};Xc.prototype.fvr=function(S){this.wG=S;this.fZ.innerHTML=this.wG==0?"< >":"> <"};
Xc.prototype.fal=function(){var S=new L(E.E.e,!0);S.data={r:E.a.XQ};this.D(S)};Xc.prototype.Wl=function(S){this.fvr(1);
if(S)this.fal()};Xc.prototype.collapse=function(S){this.fvr(0);if(S)this.fal()};Xc.prototype.ul=function(){return this.wG==1};
function SY(S){Xc.call(this,"vcolumn");this.fd=S;this.uy();this.ns=E._("div");this.ns.setAttribute("style","cursor:default;");
this.foA=this.fzl.bind(this);this.fSa=this.fzy.bind(this);this.fSn=this.fzI.bind(this);E.qG(this.M,this.foA);
this.M.appendChild(this.ns);this.Ub=E._("div","");this.ns.appendChild(this.Ub);this.wt=null;this.dg=E._("div","float");
this.XI=[];this.fSq=null;this.fSr=0}SY.prototype=new Xc;SY.prototype.fzl=function(S){if(S.target!=this.M)return;
if(!this.ul())return;this.fSq=E.cV(S,document.body);this.fSr=this.fd;E.hM(document,this.fSa);E.hh(document,this.fSn)};
SY.prototype.fzy=function(S){var G=E.cV(S,document.body);this.fd=this.fSr+this.fSq.x-G.x;this.uy();var j=new L(E.E.e,!0);
j.data={r:E.a.XQ};this.D(j)};SY.prototype.fzI=function(S){E.JR(document,this.fSa);E.li(document,this.fSn)};
SY.prototype.fzR=function(S){S.n("showFloat",this.fWl,this);S.n("hideFloat",this.OB,this);this.XI.push(S);
S.parent=this;this.ns.appendChild(S.M)};SY.prototype.fzD=function(S){var G=this.XI[S];G.removeEventListener("showFloat",this.fWl,this);
G.removeEventListener("hideFloat",this.OB,this);this.XI.splice(S,1);G.parent=null;this.ns.removeChild(G.M)};
SY.prototype.fzj=function(){return this.XI.length};SY.prototype.uC=function(){for(var S=0;S<this.XI.length;
S++)this.XI[S].uC()};SY.prototype.fWl=function(S){this.OB(S);this.Ub.appendChild(this.dg);this.wt=S.currentTarget.Rv;
this.dg.appendChild(this.wt);var G=S.currentTarget.jS(),j="";if(G.x!=0)j+="width : "+G.x+"px;";if(G.y!=0)j+="height: "+G.y+"px;";
this.dg.setAttribute("style",j);this.yd(this.YC,this.QM)};SY.prototype.OB=function(S){this.uC();if(this.wt){this.Ub.removeChild(this.dg);
this.dg.removeChild(this.wt);this.wt=null}};SY.prototype.uy=function(){this.M.setAttribute("style","width: "+this.fd+"px; padding-left:3px; cursor:ew-resize;")};
SY.prototype.Wl=function(S){this.uy();this.OB();for(var G=0;G<this.XI.length;G++)this.XI[G].Wl();Xc.prototype.Wl.call(this,S)};
SY.prototype.collapse=function(S){this.M.removeAttribute("style");for(var G=0;G<this.XI.length;G++)this.XI[G].collapse();
Xc.prototype.collapse.call(this,S)};SY.prototype.yd=function(S,G){this.YC=S;this.QM=G;var j=this.XI.length,z=this.ul();
G-=6;if(j==0)return;S=this.fd;var O=G;for(var i=0;i<j-1;i++){var C=this.XI[i],M=C.faS();C.yd(S,z?M:G);
O-=M}this.XI[j-1].yd(S,z?O:G)};function XP(S){YS.call(this);this.M=E._("div");this.ns=null;this.fG=0;
this.Xm=0;this.fPE=S;this.foy=this.pc.bind(this);this.fP_=this.Km.bind(this);this.fPL=this.iP.bind(this);
this.CO=null;this.dX=null;this.Ue=null;E.qG(this.M,this.foy);var G=this.M,z="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
G.addEventListener("touchmove",E.SO,!1);this.fCj=!0;this.XW=[];var j=this.foI=E._("div");j.setAttribute("style","float:right; padding:4px;display:none;");
this.M.appendChild(j);var O=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",z+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",z+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var i=0;i<O.length;i++){var C=new Ys(O[i]);this.XW.push(C);C.M.setAttribute("style","margin-left:4px;cursor:pointer;");
C.n("click",this.jK,this);j.appendChild(C.M)}}XP.prototype=new YS;XP.prototype.$=function(){for(var S=0;
S<this.XW.length;S++)this.XW[S].$()};XP.prototype.jK=function(S){var G=this.XW.indexOf(S.currentTarget);
if(G==0){if(window.showCap)window.showCap();return}var j="issues learn blog api twitter facebook".split(" "),z="//github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),O=window.ga;
if(O)O("send","event","Links",j[G-1]);var i=new L(E.E.e,!0);i.data={r:E.a.mw,link:z[G-1]};this.D(i)};
XP.prototype.pc=function(S){if(S.fok){S.preventDefault();S.stopPropagation()}var G=window;E.hM(G,this.fP_);
E.hh(G,this.fPL);G=this.ns;this.CO=new A(parseInt(G.style.left),parseInt(G.style.top));this.dX=E.cV(S,this.M);
this.Ue=G.getBoundingClientRect()};XP.prototype.Km=function(S){var G=E.cV(S,this.M),j=this.CO.x+G.x-this.dX.x,z=this.CO.y+G.y-this.dX.y,O=this.fG-this.Ue.width,i=this.Xm-this.Ue.height;
if(this.fPE)this.ns.style.left=Math.min(0,Math.max(O,j))+"px";else this.ns.style.top=Math.min(0,Math.max(i,z))+"px";
if(j-10>0){this.dX.x=G.x-10;this.CO.x=0}if(j+10<O){this.dX.x=G.x+10;this.CO.x=O}};XP.prototype.iP=function(S){var G=window;
E.JR(G,this.fP_);E.li(G,this.fPL)};XP.prototype.fzO=function(S){if(this.ns){this.M.removeChild(this.ns)}this.ns=S;
this.M.appendChild(S);S.style.position="absolute";if(this.fPE)S.style.left=0;else S.style.top=0};XP.prototype.yd=function(S,G){this.fG=S;
this.Xm=G;this.M.setAttribute("style","width: "+S+"px; height: "+G+"px; overflow:hidden; white-space: nowrap;");
var j=this.foI,z=this.ns.firstChild.firstChild.getBoundingClientRect().width+80,O=370,i=this.fCj&&S>z+O,C=E.DO,M=C("b`bRH"),D=C("SU\\VOAV");
j[M][D]=i?"":C("][WK")};function ok(){YS.call(this);this.G$=null;this.Wa=ok.aE;this.fvD="";this.M=E._("div","rightbar");
this.LP=[new SY(380),new SY(265)];this.XI=[new Yt,new Yt,new Yt,new Yt,new Yt];this.fzL=[]}ok.prototype=new YS;
ok.prototype.$=function(){var S=this.Wa;for(var G=0;G<S.length;G++)S[G].pZ.$()};ok.aE=[{pZ:new fx,cL:2},{pZ:new Yk,cL:3},{pZ:new SM,cL:1},{pZ:new Xj(!0),cL:4},{pZ:new Xh,cL:0},{pZ:new PC,cL:2},{pZ:new fj,cL:4},{pZ:new Xw,cL:2},{pZ:new X$,cL:0},{pZ:new fW,cL:2},{pZ:new fS,cL:1},{pZ:new XL,cL:3},{pZ:new S$,cL:2},{pZ:new Xj(!1),cL:4},{pZ:new SC,cL:1},{pZ:new fR,cL:4},{pZ:new fK,cL:2},{pZ:new Mp,cL:0}];
ok.prototype.fzE=function(S){for(var G=0;G<S.length;G++){var j=S[G],z=new MJ(j);this.Wa.push({pZ:z,cL:2});
this.fzL.push(z.wj)}this.iC()};ok.prototype.uQ=function(S,G){this.G$=S;var j=this.Wa;for(var z=0;z<j.length;
z++)j[z].pZ.uQ(S,G);if(G==o$.v$||G==o$.$o)this.iC()};ok.prototype.yd=function(S,G){this.YC=S;this.QM=G;
this.LP[0].yd(S,G);this.LP[1].yd(S,G)};ok.prototype.iC=function(){var S=this.G$,G=this.YC;if(S==null||G==0)return;
var j=S.hB.concat(this.fzL);if(JSON.stringify(j)!=this.fvD){this.fvD=JSON.stringify(j);E.Vk(this.M);
var z=[];for(var O=0;O<this.LP.length;O++){var i=this.LP[O];z[O]=i.ul();while(i.fzj()!=0)i.fzD(0);i.Wl()}var C=[];
for(var O=0;O<this.XI.length;O++){var M=this.XI[O];M.Wl();while(M.faq()!=0)M.YH(0);C.push(0)}for(var O=0;
O<j.length;O++){var D=this.fcl(j[O].toString());this.XI[D.cL].YA(D.pZ);this.XI[D.cL].Gz(0);C[D.cL]++}var X=[];
for(var O=0;O<C.length;O++){if(C[O]==0)continue;var l=O<2||G<500?1:0,i=this.LP[l];i.parent=this;i.fzR(this.XI[O]);
X[l]=!0}for(var O=0;O<this.LP.length;O++)if(X[O])this.M.appendChild(this.LP[O].M);this.LP[0].collapse();
if(G<500||this.G$.compact||!z[1]){this.LP[1].collapse()}var f=new L(E.E.e,!0);f.data={r:E.a.XQ};this.D(f)}};
ok.prototype.fcl=function(S){for(var G=0;G<this.Wa.length;G++)if(this.Wa[G].pZ.wj==S)return this.Wa[G]};
ok.prototype.fzx=function(S){var G=this.fcl(S);this.XI[G.cL].YA(G.pZ)};ok.prototype.SL=function(S,G,j){var z=this.Wa;
for(var O=0;O<z.length;O++)z[O].pZ.SL(S,G,j)};ok.prototype.ti=function(S,G,j,z,O){var i=this.Wa;for(var C=0;
C<i.length;C++)i[C].pZ.ti(S,G,j,z,O)};ok.prototype.Xt=function(S,G,j,z,O){var i=this.Wa;for(var C=0;
C<i.length;C++)i[C].pZ.Xt(S,G,j,z,O)};ok.prototype.Va=function(S,G,j,z,O){var i=this.Wa;for(var C=0;
C<i.length;C++)i[C].pZ.Va(S,G,j,z,O)};function Xq(S,G){Xc.call(this,"toolbar");this.fKk=null;this.WT=E._("div","tools");
this.M.appendChild(this.WT);this.MP=null;this.foH=G;this.cC=null;this.EP=null;this.iT=null;this.dx=null;
this.fVT(S);this.Cj=new fQ;this.Cj.n(E.E.F,this.Dr,this);this.Cj.parent=this;this.iw=new fQ;this.iw.n(E.E.F,this.Dr,this);
this.iw.parent=this;this.wh=new Ys(E.mu("lrs/mask"),!1,[6,6,1]);this.wh.M.style.marginTop="6px";this.wh.n("click",function(z){var O=new L(E.E.R,!0);
O.s=t.SN;O.data={r:"qmask"};this.D(O)},this);this.U$=E._("span","scont");this.dM=E._("button","switch");
this.dM.textContent="\u21F5";this.fJ=E._("button","switch");this.fJ.textContent="D";var j=this.fKN.bind(this);
this.dM.addEventListener("click",j,!1);this.fJ.addEventListener("click",j,!1);this.U$.appendChild(this.dM);
this.U$.appendChild(this.fJ)}Xq.prototype=new Xc;Xq.prototype.fKc=function(S){if(S==null||S.N.length==0)return;
var G=S.wh()!=null,j=S.Q.qk,z=S.d[S.N[0]].hz,O=z==1||z==3||G||j[0]+j[1]+j[2]==1;this.Cj.fXy(O);this.iw.fXy(O);
this.wh.P(G)};Xq.prototype.fVT=function(S){this.fKk=S;this.EP=[];this.iT=[];this.dx=[];this.cC=[];var G=S.IU;
if(this.MP){var j=[],z=this.MP.fov;for(var O=0;O<G.length;O++){if(G[O]=="---"){j.push("---");continue}var i=[];
for(var C=0;C<G[O].length;C++){var M=G[O][C];if(z==null||z.indexOf(parseInt(M.s.id))!=-1)i.push(M)}if(i.length>0)j.push(i)}G=j}for(var O=0;
O<G.length;O++){if(G[O]=="---"){this.dx.push(null);this.iT.push("---");continue}var D=[],X=this.EP.length;
for(var C=0;C<G[O].length;C++){var M=G[O][C].s;this.cC.push(M);var l=new Xu(M.name,S.keys[O],M.P$,this.EP.length,O,G[O].length>1);
this.EP.push(l);if(C==0)this.iT.push(l);l.n(E.E.F,this.IE,this);l.n("mover",this.sh,this);D.push({name:M.name,w$:M.P$,G_:S.keys[O]?S.keys[O].ac:""})}if(D.length==1)this.dx.push(null);
else{var f=new Cq(D);f.foB=X;f.fU=O;this.dx.push(f);f.n("select",this.fKU,this);f.parent=this}}};Xq.prototype.yd=function(S,G){var j=G-11,z=32;
if(1<E.V()&&E.V()<1.5)z=18+14*(1/E.V());var O=(this.iT.length-3)*z+3*5+61+18,i=Math.min(1,j/O);if(.75<=i){this.WT.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+i+","+i+");");
this.M.setAttribute("style","height:"+(G-2)+"px; overflow:hidden")}else{j-=4;this.WT.setAttribute("style","height: "+j+"px;  width:"+Math.ceil(O/j)*34+"px");
this.M.setAttribute("style","")}};Xq.prototype.$=function(){for(var S=0;S<this.EP.length;S++)this.EP[S].$();
for(var S=0;S<this.dx.length;S++)if(this.dx[S])this.dx[S].$();this.dM.setAttribute("title",YP.get([22,7,0])+" (X)");
this.fJ.setAttribute("title",YP.get([22,7,1])+" (D)")};Xq.prototype.IE=function(S){var G=new L(E.E.e,!0);
G.data={r:E.a.AH,s:this.cC[S.id].id};this.D(G)};Xq.prototype.fKU=function(S){var G=S.target.foB+S.target.Bg()[0];
this.EP[G].iP(null)};Xq.prototype.sh=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.sy};this.D(G);var j=S.target,z=this.dx[j.fU];
if(z==null)return;var O=j.M.getBoundingClientRect(),G=new L(E.E.e,!0);G.data={r:E.a.Jt,pZ:z,x:O.left+O.width+8,y:O.top};
this.D(G)};Xq.prototype.Dr=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.zv,zC:o$.n$,zS:S.target==this.Cj?0:1,g:S.target.mY()};
this.D(G)};Xq.prototype.fKN=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.zv,zC:o$.n$,zS:S.currentTarget==this.dM?2:3};
this.D(G)};Xq.prototype.Gc=function(S){var G=-1;for(var j=0;j<this.cC.length;j++)if(this.cC[j].id==S)G=j;
for(var j=0;j<this.EP.length;j++){var z=this.EP[j];z.fKF(G==j)}if(G==-1)return;this.iT[this.EP[G].fU]=this.EP[G];
E.Vk(this.WT);var O=this.iT;for(var j=0;j<O.length;j++){if(O[j]=="---")this.WT.appendChild(E._("hr"));
else this.WT.appendChild(O[j].M)}if(!this.foH)return;this.WT.appendChild(this.Cj.M);this.WT.appendChild(this.U$);
this.WT.appendChild(this.iw.M);this.WT.appendChild(this.wh.M)};Xq.prototype.SL=function(S,G){this.Gc(G.Ru)};
Xq.prototype.uQ=function(S,G){this.MP=S;if(G==o$.$o){this.fVT(this.fKk);this.Gc(S.Ru)}this.Cj.dq(S.Cj);
this.iw.dq(S.iw)};function Xu(S,G,j,z,O,i){YS.call(this);this.ut=0;this.fWb=this.fKr.bind(this);this.fU=O;
this.Kd=z;this.SI=S;this.fWN=G;this.foi=i;this.P$=j;this.M=E._("button","");this.M.innerHTML=E.mu(this.P$);
if(this.foi){var C=E._("img","gsicon");C.setAttribute("src",PIMG["tools/corner"]);C.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.M.appendChild(C)}this.$();this.M.addEventListener("mousedown",this.pc.bind(this),!1);this.M.addEventListener("click",this.iP.bind(this),!1);
this.M.addEventListener("mouseover",this.fWb,!1);this.M.addEventListener("contextmenu",Xu.jv,!1)}Xu.prototype=new YS;
Xu.jv=function(S){S.stopPropagation();S.preventDefault();return!1};Xu.prototype.$=function(){var S=this.fWN?" ("+this.fWN.ac+")":"";
this.M.setAttribute("title",YP.get(this.SI)+S)};Xu.prototype.pc=function(S){this.ut=setTimeout(this.fWb,600)};
Xu.prototype.iP=function(S){clearTimeout(this.ut);var G=new L(E.E.F,!1);G.target=this;G.id=this.Kd;this.D(G)};
Xu.prototype.fKr=function(S){var G=new L("mover",!1);G.target=this;G.id=this.Kd;this.D(G)};Xu.prototype.fKF=function(S){this.M.setAttribute("class",S?"toolbtn active":"toolbtn")};
function Cb(){YS.call(this);this.M=E._("div","topbar");this.fl=E._("span","");this.fsg=0;this.M.appendChild(this.fl);
this.Ou=null;this.U_=null;this.Ks=[];this.hB=[];var S=this.pc.bind(this);for(var G=0;G<Cb.data.length;
G++){var j=E._("button");this.Ks.push(j);this.fl.appendChild(j);j.addEventListener("mouseover",S,!1);
E.qG(j,S)}this.ij=new Ys([0,13,0],!1,null,!0);this.ij.n("click",this.fKG,this);this.M.appendChild(this.ij.M)}Cb.prototype=new YS;
Cb.prototype.fgV=function(){if(this.hB.length!=0)return;for(var S=0;S<Cb.data.length;S++){var G=Cb.data[S],j=new Cq(G.items,G.Vl);
j.parent=this;this.hB.push(j)}this.$()};Cb.prototype.$=function(){this.ij.$();for(var S=0;S<this.Ks.length;
S++)this.Ks[S].textContent=YP.get(Cb.data[S].name);this.fYs();for(var S=0;S<this.hB.length;S++)this.hB[S].$()};
Cb.prototype.fKG=function(S){var G=new L(E.E.e,!0);G.data={r:E.a.YO,pv:"account"};this.D(G)};Cb.prototype.fWY=function(S,G){this.Ou=S;
this.U_=G};Cb.prototype.uQ=function(S,G){this.U_=S;if(G==o$.$o){var j=S.fMB;E.Vk(this.fl);for(var z=0;
z<this.Ks.length;z++){if(j==null||j[z]==1||j[z]instanceof Array)this.fl.appendChild(this.Ks[z]);if(j!=null&&j[z]instanceof Array){this.fgV();
this.hB[z].fzK(j[z])}}this.M.removeChild(this.ij.M);if(S.Rd)this.M.appendChild(this.ij.M)}this.fYs()};
Cb.prototype.fYs=function(S,G){var j=this.ij,z=12255232;if(YW.dL())z=YW.de()?43520:16755200;j.M.setAttribute("style","color:#ffffff; background-color:#"+x.zt(z))};
Cb.prototype.pc=function(S){this.fgV();var G=this.Ks.indexOf(S.currentTarget),j=this.hB[G];if(S.type=="mouseover"&&!E.Qb(this.hB[this.fsg].M))return;
if(E.Qb(j.M))return;S.fok=!0;this.fsg=G;for(var G=0;G<Cb.data.length;G++)this.hB[G].update(this.Ou,this.U_);
var z=S.target.getBoundingClientRect(),O=new L(E.E.e,!0);O.data={r:E.a.Jt,pZ:j,x:z.left,y:z.top+z.height+2,ffp:!0};
this.D(O)};Cb.fYm=function(S){var G={name:[0,5],items:[{name:[7,0],G_:"Ctrl+A"},{name:[7,1],G_:"Ctrl+D",b:function(z){return{b:z!=null&&z.f!=null}}},{name:[7,2],G_:"Shift+Ctrl+I",b:function(z){return{b:z!=null&&z.f!=null}},uz:!0},{name:[7,8],ym:!0},{name:[7,11],ym:!0,b:function(z){return{b:z!=null&&z.N.length!=0&&!z.d[z.N[0]].rect.tR()}}},{name:[7,3],uz:!0,sub:[{name:[7,9],ym:!0,b:function(z){return{b:z!=null&&z.f!=null}}},{name:[19,3,0],ym:!0,b:function(z){return{b:z!=null&&z.f!=null}}},{name:[7,4],ym:!0,b:function(z){return{b:z!=null&&z.f!=null}}},{name:[7,5],ym:!0,b:function(z){return{b:z!=null&&z.f!=null}}},{name:[7,6],ym:!0,b:function(z){return{b:z!=null&&z.f!=null}},G_:"Shift+F6"}]},{name:[7,10],b:function(z){return{b:z!=null&&z.f!=null}}}],Vl:[{J:E.E.Hz,l:t.tC.YF(!0)},{J:E.E.Hz,l:t.tC.YF()},{J:E.E.Hz,l:{mB:"inverse"}},{J:E.E.e,l:{r:E.a.YO,pv:"crange"}},{J:E.E.e,l:{r:E.a.YO,pv:"redge"}},{sub:[{J:E.E.e,l:{r:E.a.YO,pv:"sel_border"}},{J:E.E.e,l:{r:E.a.YO,pv:"sel_smoothness"}},{J:E.E.e,l:{r:E.a.YO,pv:"sel_expand"}},{J:E.E.e,l:{r:E.a.YO,pv:"sel_contract"}},{J:E.E.e,l:{r:E.a.YO,pv:"sel_feather"}}]},{J:E.E.e,l:{r:E.a.AH,s:t.Jb}}]};
if(S){var j=G.items.length-1;G.items.splice(j,0,{name:[10,16],G_:"Alt+Ctrl + T"});G.Vl.splice(j,0,{J:E.E.e,l:{r:E.a.AH,s:t.Kk}})}return G};
Cb.data=[{name:[0,0],items:[{name:[5,3],G_:"Alt+Ctrl+N",title:[11,7],ym:!0},{name:[1,0],G_:"Ctrl+O",ym:!0},{name:[1,11],ym:!0},{name:[1,5],ym:!0,uz:!0},{name:[11,0]},{name:[1,1],uz:!0,b:function(S,G){return{b:S!=null&&G.wv}}},{name:"Save ...",G_:"Ctrl+S",b:function(S,G){var j=YP.get([1,2])+(S==null?"":S.iU?" (Smart Object)":S.lV?" (Google Drive)":"");
return{b:S!=null&&(S.iU!=null||S.QD!=null&&S.QD.uN!=null||S.lV!=null||G.Rm.save!=null),Gb:j}}},{name:[1,3],b:function(S,G){return{b:S!=null&&G.wv}}},{name:[1,8],sub:function(){var S=ot.Wy(0),G=[];
for(var j=0;j<S.length;j++)G.push({name:S[j],G_:"."+S[j].toLowerCase()});G.push({name:[0,14],sub:function(){var S=ot.Wy(1),G=[];
for(var j=0;j<S.length;j++)G.push({name:S[j],G_:"."+S[j].toLowerCase()});return G}()});return G}()},{name:[1,9],ym:!0,b:function(S,G){return{b:S!=null}},uz:!0},{name:[1,10]}],Vl:[{J:E.E.e,l:{r:E.a.YO,pv:"newproject"}},{J:E.E.e,l:{r:E.a.HZ}},{J:E.E.e,l:{r:E.a.HZ,fWC:!0}},{J:E.E.e,l:{r:E.a.YO,pv:"open_from_url"}},{J:E.E.e,l:{r:E.a.YO,pv:"camera"}},{J:E.E.e,l:{r:E.a.fgj}},{J:E.E.e,l:{r:E.a.Hn}},{J:E.E.e,l:{r:E.a.Dq}},{sub:function(){var S=ot.Wy(0),G=[];
for(var j=0;j<S.length;j++)G.push({J:E.E.e,l:{r:E.a.YO,pv:"saveforweb",qM:j}});G.push({sub:function(){var z=ot.Wy(0).length,S=ot.Wy(1),G=[];
for(var j=0;j<S.length;j++)G.push({J:E.E.e,l:{r:E.a.YO,pv:"saveforweb",qM:z+j}});return G}()});return G}()},{J:E.E.e,l:{r:E.a.YO,pv:"eassets"}},{J:E.E.e,l:{r:E.a.YO,pv:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],G_:"Shift+Ctrl + Z"},{name:[2,1],G_:"Ctrl + Z",uz:!0},{name:[2,11],G_:"Shift+Ctrl + F",uz:!0,ym:!0,b:function(S,G){return{b:CQ.fMC(S)&&G.Ru!=t.Kk}}},{name:[5,0],G_:"Ctrl + X"},{name:[5,1],G_:"Ctrl + C"},{name:[5,7],G_:"Shift + Ctrl + C"},{name:[5,2],G_:"Ctrl + V",b:function(S,G){return{b:window.ClipboardItem||G.d_!=null||G.fS!=null||G.fCO!=null}}},{name:[2,2],b:function(S){return{b:S!=null&&S.f!=null}},G_:"Delete",uz:!0},{name:[2,3],b:function(S){return{b:S!=null}},ym:!0,G_:"Shift + F5"},{name:[14,9],b:function(S){return{b:S!=null}},ym:!0,uz:!0},{name:[10,16],G_:"Alt+Ctrl + T"},{name:[2,4],sub:XR.fKq()},{name:[2,10],uz:!0},{name:[12,87],sub:[{name:[12,62],b:function(S){return{b:S!=null}}},{name:[9,3],b:function(S){return{b:S!=null}}},{name:[10,31],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].add.vmsk!=null}}}]},{name:[12,79],ym:!0,G_:"Ctrl + K"},{name:[1,13],ym:!0}],Vl:[{J:E.E.R,s:t.YU,l:{r:"h_undoredo"}},{J:E.E.R,s:t.YU,l:{r:"h_stepfwd"}},{J:E.E.R,s:t.YU,l:{r:"h_stepbck"}},{J:E.E.e,l:{r:E.a.YO,pv:"afw_fade"}},{J:E.E.e,l:{r:E.a.sk}},{J:E.E.e,l:{r:E.a.mo}},{J:E.E.e,l:{r:E.a.mo,uI:!0}},{J:E.E.e,l:{r:E.a.XO}},{J:E.E.Hz,l:{mB:"delete"}},{J:E.E.e,l:{r:E.a.YO,pv:"fill"}},{J:E.E.e,l:{r:E.a.YO,pv:"stroke"}},{J:E.E.e,l:{r:E.a.AH,s:t.Kk}},{sub:XR.fnG()},{J:E.E.R,s:t.HA,l:{r:g.ID}},{sub:[{J:E.E.e,l:{r:E.a.Mm,zC:0}},{J:E.E.e,l:{r:E.a.Mm,zC:1}},{J:E.E.e,l:{r:E.a.Mm,zC:2}}]},{J:E.E.e,l:{r:E.a.YO,pv:"preferences"}},{J:E.E.e,l:{r:E.a.YO,pv:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var S=[];
for(var G in Yd.names){S.push({name:Yd.names[G],ym:U[G]!=null,G_:w.fuJ(Yd.keys[G]),uz:Yd.TL.indexOf(G)!=-1});
if(G=="selc")S.push({name:[19,7,0],G_:"Ctrl+Shift + U"})}return S}()},{name:[4,16,0],b:function(S){return{b:S!=null&&S.OX(!1)}}},{name:[4,16,1],b:function(S){return{b:S!=null&&S.OX(!1)}}},{name:[4,16,2],b:function(S){return{b:S!=null&&S.OX(!1)}},uz:!0},{name:[11,11],b:function(S){return{b:S!=null&&S.OX(!1)}},uz:!0},{name:[11,3],ym:!0},{name:[11,10],ym:!0},{name:[2,4],sub:[{name:"90\xB0 \u21BB",b:function(S){return{Gb:YP.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",b:function(S){return{Gb:YP.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",b:function(S){return{Gb:YP.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12],b:function(S){return{b:S!=null}},G_:"Ctrl + ."}],Vl:[{sub:function(){var S=[];
for(var G in Yd.names){S.push({J:E.E.R,s:t.PU,l:{r:"start",HH:G}});if(G=="selc")S.push({J:E.E.R,s:t.PU,l:{r:"auto",Zh:3}})}return S}()},{J:E.E.R,s:t.PU,l:{r:"auto",Zh:0}},{J:E.E.R,s:t.PU,l:{r:"auto",Zh:1}},{J:E.E.R,s:t.PU,l:{r:"auto",Zh:2}},{J:E.E.e,l:{r:E.a.YO,pv:"vbitmap"}},{J:E.E.e,l:{r:E.a.YO,pv:"csize"}},{J:E.E.e,l:{r:E.a.YO,pv:"isize"}},{sub:[{J:E.E.R,s:t.PY,l:{r:"rot",mj:[2,5],g:-Math.PI/2}},{J:E.E.R,s:t.PY,l:{r:"rot",mj:[2,5],g:-3*Math.PI/2}},{J:E.E.R,s:t.PY,l:{r:"rot",mj:[2,5],g:Math.PI}},{J:E.E.R,s:t.PY,l:{r:"scl",mj:[2,6,[22,4,2]],g:new A(-1,1)}},{J:E.E.R,s:t.PY,l:{r:"scl",mj:[2,6,[22,4,3]],g:new A(1,-1)}}]},{J:E.E.R,s:t.PY,l:{r:"trim",uH:0}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],G_:"Ctrl + J"}]},{name:[6,0],G_:"Ctrl + J"},{name:[11,4],b:function(S){return{b:S!=null}}},{name:[5,4],uz:!0},{name:[11,6],uz:!0,b:function(S){return{b:S!=null&&S.N.length!=0}},sub:MZ.far()},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],uz:!0,sub:MZ.fYc()},{name:[6,2],sub:[{name:[6,4],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].Ew()==null}}},{name:[6,5,0],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].Ew()==null}}},{name:[6,5,1],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].Ew()==null&&S.f!=null}}},{name:[6,5,2],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].Ew()==null&&S.f!=null}}},{name:[6,5,3],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].Ew()==null}},uz:!0},{name:[5,4],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].Ew()!=null}}},{name:[5,8],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].Ew()!=null&&S.OX(!1,!0)}}},{name:"Enable/Disable",b:function(S){return{Gb:YP.get([5,5])+"/"+YP.get([5,6]),b:S!=null&&S.N.length!=0&&S.d[S.N[0]].Ew()!=null}}}]},{name:[6,3],sub:[{name:[6,4],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].add.vmsk==null}}},{name:[6,5,0],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].add.vmsk==null}}},{name:[5,4],b:function(S){return{b:S!=null&&S.N.length!=0&&S.d[S.N[0]].add.vmsk!=null}}},{name:"Enable/Disable",b:function(S){return{Gb:YP.get([5,5])+"/"+YP.get([5,6]),b:S!=null&&S.N.length!=0&&S.d[S.N[0]].add.vmsk!=null}}}]},{name:[6,6,0],G_:"Alt+Ctrl+G",uz:!0,b:function(S){return{qR:S!=null&&S.N.length!=0&&S.d[S.N[0]].iH,b:S!=null&&S.R_(S.N[0])}}},{name:[6,7]},{name:[6,8],b:function(S){if(S==null||S.N.length==0)return{b:!1};
var G=S.d[S.N[0]];if(G.add.TySh||G.add.SoLd||G.add.SoCo||G.add.GdFl||G.add.PtFl)return{b:!0};return{b:!1}}},{name:[6,34],uz:!0,b:function(S){if(S==null||S.N.length==0)return{b:!1};
var G=S.d[S.N[0]];return{b:G.add.lmfx!=null&&!G.$P()}}},{name:[6,9],uz:!0,G_:"Ctrl+G"},{name:[6,55],uz:!0,sub:[{name:[6,56,0],G_:"Shift+Ctrl+]"},{name:[6,56,1],G_:"Ctrl+]"},{name:[6,56,2],G_:"Ctrl+["},{name:[6,56,3],G_:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],b:function(S){return{b:S!=null&&S.N.length==1&&S.N[0]!=0&&!S.d[S.N[0]].$P()}},G_:"Ctrl+E"},{name:[6,12,0],b:function(S){return{b:S!=null&&S.N.length!=0&&(S.N.length>1||S.d[S.N[0]].$P())}}},{name:[6,12,1]}],Vl:[{sub:[{J:E.E.R,s:t.HA,l:{r:g.YG}},{J:E.E.R,s:t.HA,l:{r:g.Rn}},{J:E.E.R,s:t.HA,l:{r:g.Cl}}]},{J:E.E.R,s:t.HA,l:{r:g.Ec}},{J:E.E.e,l:{r:E.a.YO,pv:"duplinto"}},{J:E.E.R,s:t.HA,l:{r:g.Yv}},{sub:MZ.fcR()},{sub:[{J:E.E.R,s:t.JD,l:{r:"newfill",Rp:0}},{J:E.E.Hz,l:t.qP.Dn(1)},{J:E.E.Hz,l:t.qP.Dn(2)}]},{sub:MZ.fCD()},{sub:[{J:E.E.R,s:t.HA,l:{r:g.Zj,Cg:"RvlA"}},{J:E.E.R,s:t.HA,l:{r:g.Zj,Cg:"HdAl"}},{J:E.E.R,s:t.HA,l:{r:g.Zj,Cg:"RvlS"}},{J:E.E.R,s:t.HA,l:{r:g.Zj,Cg:"HdSl"}},{J:E.E.R,s:t.HA,l:{r:g.Zj,Cg:"Trns"}},{J:E.E.R,s:t.HA,l:{r:g.KA}},{J:E.E.R,s:t.HA,l:{r:g.KV}},{J:E.E.R,s:t.HA,l:{r:g.yR}}]},{sub:[{J:E.E.R,s:t.HA,l:{r:g.yD,fYI:!1}},{J:E.E.R,s:t.HA,l:{r:g.yD,fYI:!0}},{J:E.E.R,s:t.HA,l:{r:g.KR}},{J:E.E.R,s:t.HA,l:{r:g.zU}}]},{J:E.E.R,s:t.HA,l:{r:g.JU}},{J:E.E.Hz,l:{mB:"newPlacedLayer"}},{J:E.E.R,s:t.HA,l:{r:g.RM}},{J:E.E.R,s:t.HA,l:{r:g.Kf}},{J:E.E.R,s:t.HA,l:{r:g.GI}},{sub:[{J:E.E.R,s:t.HA,l:{r:g.kQ,zS:0}},{J:E.E.R,s:t.HA,l:{r:g.kQ,zS:1}},{J:E.E.R,s:t.HA,l:{r:g.kQ,zS:2}},{J:E.E.R,s:t.HA,l:{r:g.kQ,zS:3}}]},{sub:[{J:E.E.R,s:t.HA,l:{r:g.Iy}}]},{J:E.E.R,s:t.HA,l:{r:g.yv}},{J:E.E.R,s:t.HA,l:{r:g.FT}},{J:E.E.R,s:t.HA,l:{r:g.KS}}]},Cb.fYm(!1),function(){var S={name:[0,6],items:[{name:[24,18,4],G_:"Ctrl + F",uz:!0}],Vl:[{J:E.E.R,s:t.DT,l:{r:"applylast"}}]};
for(var G=0;G<Yy.yM.length;G++){var j=Yy.yM[G];if(j.tZ!=null){S.items.push({name:Yy.names[j.tZ],ym:!0,uz:j.uz});
S.Vl.push({J:E.E.R,s:t.DT,l:{r:"start",vu:j.tZ}});continue}var z={name:j.iS,sub:[]};S.items.push(z);
var O={sub:[]};S.Vl.push(O);for(var i=0;i<j.Qa.length;i++){var C={name:Yy.names[j.Qa[i]],ym:Yy.Cr(j.Qa[i])!=null};
z.sub.push(C);var M={J:E.E.R,s:t.DT,l:{r:"start",vu:j.Qa[i]}};O.sub.push(M)}}return S}(),{name:[0,7],items:[{name:[8,0],G_:"Ctrl + +"},{name:[8,1],G_:"Ctrl + -"},{name:[20,3],G_:"Ctrl + 0"},{name:[20,2],G_:"Ctrl + 1",uz:!0},{name:"Extras",G_:"Ctrl + H",b:function(S,G){return{qR:G.cm}}},{name:[8,12],uz:!0,sub:[{name:[17,2],b:function(S,G){return{b:G.cm,qR:G.E$.if}}},{name:[8,9],b:function(S,G){return{b:G.cm,qR:G.E$.qD}}},{name:[8,2],b:function(S,G){return{b:G.cm,qR:G.E$.WX}},G_:"Ctrl + ;"},{name:[8,4],b:function(S,G){return{b:G.cm,qR:G.E$.jl}},G_:"Ctrl + '"},{name:[8,8],b:function(S,G){return{b:G.cm,qR:G.E$.Bp}}},{name:[8,11],b:function(S,G){return{b:G.cm,qR:G.E$.fF}}}]},{name:[8,3],b:function(S,G){return{qR:G.Bu}},G_:"Ctrl + R",uz:!0},{name:[8,5],b:function(S,G){return{qR:G.Ur}}},{name:[8,6],uz:!0,sub:[{name:[8,2],b:function(S,G){return{qR:G.DL[0]}}},{name:[8,4],b:function(S,G){return{qR:G.DL[1]}}},{name:[8,11],b:function(S,G){return{qR:G.DL[3]}}},{name:[8,7],b:function(S,G){return{qR:G.DL[4]}}}]},{name:[11,15,0],b:function(S,G){return{b:S!=null}}},{name:[11,14],b:function(S,G){return{b:S!=null}},ym:!0},{name:[11,15,1],b:function(S,G){return{b:S!=null&&S.N.length!=0}}}],Vl:[{J:E.E.R,s:t.wb,l:{r:"zoom",lJ:!0}},{J:E.E.R,s:t.wb,l:{r:"zoom",lJ:!1}},{J:E.E.R,s:t.wb,l:{r:"adapt",g:"fitscr"}},{J:E.E.R,s:t.wb,l:{r:"adapt",g:"pixel"}},{J:E.E.e,l:{r:E.a.zv,zC:o$.an}},{sub:[{J:E.E.e,l:{r:E.a.zv,zC:o$.Ho}},{J:E.E.e,l:{r:E.a.zv,zC:o$.LS}},{J:E.E.e,l:{r:E.a.zv,zC:o$.rL}},{J:E.E.e,l:{r:E.a.zv,zC:o$.kN}},{J:E.E.e,l:{r:E.a.zv,zC:o$.pN}},{J:E.E.e,l:{r:E.a.zv,zC:o$.kr}}]},{J:E.E.e,l:{r:E.a.zv,zC:o$.k_}},{J:E.E.e,l:{r:E.a.zv,zC:o$.Tn}},{sub:[{J:E.E.e,l:{r:E.a.zv,zC:o$.Lv,AR:0}},{J:E.E.e,l:{r:E.a.zv,zC:o$.Lv,AR:1}},{J:E.E.e,l:{r:E.a.zv,zC:o$.Lv,AR:3}},{J:E.E.e,l:{r:E.a.zv,zC:o$.Lv,AR:4}}]},{J:E.E.R,s:t.PK,l:{r:"gids",uo:[[],[]]}},{J:E.E.e,l:{r:E.a.YO,pv:"addguides"}},{J:E.E.R,s:t.PK,l:{r:"gidsFromLayer"}}]},function(){var S={name:[0,8],items:[],Vl:[]};
for(var G=0;G<ok.aE.length;G++){var j=ok.aE[G];S.items.push({name:j.pZ.name});S.Vl.push({J:E.E.e,l:{r:E.a.mp,pv:j.pZ.wj}})}return S}(),function(){var S={name:[0,14],items:[],Vl:[]},G={name:[0,9],sub:[]};
S.items.push(G);var j={sub:[]};S.Vl.push(j);var z=YP.fwv();for(var O=0;O<z.length;O++){var i=z[O],C=i.code,M=YP.xI(C);
G.sub.push({name:i.name,G_:C,b:function(D,X){return{qR:this.G_==YP.xl()}}});j.sub.push({J:E.E.e,l:{r:E.a.zv,zC:o$.HY,lang:M}})}G.sub.push({name:[0,12]});
j.sub.push({J:E.E.e,l:{r:E.a.mw,link:"https://www.photopea.com/translate/"}});var G={name:[0,15],sub:[]};
S.items.push(G);var j={sub:[]};S.Vl.push(j);for(var O=0;O<XS.Se.length;O++){G.sub.push({name:XS.Se[O].name,b:function(D,X){return{qR:this.name==XS.Se[X.EO].name}}});
j.sub.push({J:E.E.e,l:{r:E.a.zv,zC:o$.LK,EO:O}})}S.items.push({name:"Install Photopea",b:function(D,X){return{b:X.wI!=null}}});
S.Vl.push({J:E.E.e,l:{r:E.a.fZh}});S.items.push({name:[11,13]});S.Vl.push({J:E.E.e,l:{r:E.a.YO,pv:"shortcuts"}});
S.items.push({name:[0,16],b:function(D){return{qR:Z.Gp,b:Z._D}}});S.Vl.push({J:E.E.e,l:{r:E.a.fsN}});
return S}()];function SL(){YS.call(this);this.M=E._("div","");this.fG=0;this.Xm=0;this.G$=null;this.cL=E._("div","");
this.cL.setAttribute("style","width:200em; height:100em; position:absolute;");this.NL=[];this.XB=[]}SL.prototype=new YS;
SL.prototype.BQ=function(){this.XB=[new fc,new Pu,new fH,new CR,new XB,new Po,new Pl,new Pf,new XZ,new CF,new oy,new Sy,new MZ,new SI,new Xm,new Xs,new Py,new MW,new Xg,new Ps,new PK,new oB,new CJ,new Sx,new PR,new fU,new fi("border",[7,9],"px"),new fi("smoothness",[19,3,0],"px"),new fi("expand",[7,4],"px"),new fi("contract",[7,5],"px"),new fi("feather",[7,6],"px"),new fT("namewindow",[12,48])];
for(var S in U)this.XB.push(new CQ(S));for(var G=0;G<this.XB.length;G++){var j=this.XB[G];j.n(E.E.lG,this.uB,this);
j.parent=this}};SL.prototype.yd=function(S,G){this.fG=S;this.Xm=G;for(var j=0;j<this.XB.length;j++)this.fSA(this.XB[j])};
SL.prototype.$=function(){for(var S=0;S<this.XB.length;S++)this.XB[S].$()};SL.prototype.Gy=function(){return this.NL.length==0?null:this.NL[this.NL.length-1]};
SL.prototype.Zx=function(){for(var S=0;S<this.NL.length;S++)if(this.NL[S].Zx())return!0;return!1};SL.prototype.fCZ=function(S,G,j,z,O){if(this.XB.length==0){this.BQ();
this.yd(this.fG,this.Xm);this.$();this.uQ(this.G$,o$.$o)}var i=null;if(typeof S=="object"){i=S;if(!i.UF(E.E.lG,this.uB))i.n(E.E.lG,this.uB,this);
i.parent=this}else for(var C=0;C<this.XB.length;C++)if(this.XB[C].id==S)i=this.XB[C];if(this.Zx()&&i.Zx()){alert("Finish the current action first");
return}if(!i.mh(G))return;if(this.NL.indexOf(i)!=-1){if(S=="colorpicker")i.SL(G,j,z,O);return}this.fSA(i);
var M=this.NL.length-1;if(M>=0)E.Zb(this.NL[M].M,"wdisabled");this.M.appendChild(i.M);this.NL.push(i);
i.SL(G,j,z,O)};SL.prototype.fSA=function(S){var G=this.fG,j=this.Xm,z=S.$x(G,j);S.M.style.left=z.x+"px";
S.M.style.top=this.M.offsetTop+z.y+"px";S.yd(this.fG-z.x*2,this.Xm-z.y*2-34)};SL.prototype.uQ=function(S,G){this.G$=S;
for(var j=0;j<this.XB.length;j++)this.XB[j].uQ(S,G)};SL.prototype.uB=function(S){var G=this.NL.pop();
this.M.removeChild(G.M);var j=this.NL.length-1;if(j>=0)E.uW(this.NL[j].M,"wdisabled");if(this.cL.parentNode==this.M)this.M.removeChild(this.cL)};
window.onload=function(){var S=new Yx;document.body.appendChild(S.M)}}())